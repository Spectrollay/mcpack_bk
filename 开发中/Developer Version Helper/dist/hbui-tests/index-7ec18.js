/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 3820:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Map = void 0;
const react_1 = __importDefault(__webpack_require__(7294));
const useFacetMemo_1 = __webpack_require__(4833);
const useFacetUnwrap_1 = __webpack_require__(8684);
const useFacetMap_1 = __webpack_require__(4283);
const types_1 = __webpack_require__(4093);
const Map = ({ array, children, equalityCheck }) => {
    var _a;
    const countValue = (_a = (0, useFacetUnwrap_1.useFacetUnwrap)((0, useFacetMap_1.useFacetMap)((array) => array.length, [], [array]))) !== null && _a !== void 0 ? _a : 0;
    return (react_1.default.createElement(react_1.default.Fragment, null, times((index) => equalityCheck != null ? (react_1.default.createElement(MapChildMemo, { key: index, arrayFacet: array, index: index, equalityCheck: equalityCheck, children: children })) : (react_1.default.createElement(MapChild, { key: index, arrayFacet: array, index: index, children: children })), countValue !== types_1.NO_VALUE ? countValue : 0)));
};
exports.Map = Map;
const MapChildMemo = ({ arrayFacet, index, children, equalityCheck }) => {
    const childFacet = (0, useFacetMemo_1.useFacetMemo)((array) => {
        if (index < array.length)
            return array[index];
        return types_1.NO_VALUE;
    }, [index], [arrayFacet], equalityCheck);
    return children(childFacet, index);
};
const MapChild = ({ arrayFacet, index, children }) => {
    const childFacet = (0, useFacetMap_1.useFacetMap)((array) => {
        if (index < array.length)
            return array[index];
        return types_1.NO_VALUE;
    }, [index], [arrayFacet]);
    return children(childFacet, index);
};
const times = (fn, n) => {
    const result = [];
    for (let index = 0; index < n; index++) {
        result.push(fn(index));
    }
    return result;
};
//# sourceMappingURL=Map.js.map

/***/ }),

/***/ 2885:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Mount = void 0;
const useFacetUnwrap_1 = __webpack_require__(8684);
const Mount = ({ when, children, condition = true }) => {
    const whenValue = (0, useFacetUnwrap_1.useFacetUnwrap)(when);
    return whenValue === condition ? children : null;
};
exports.Mount = Mount;
//# sourceMappingURL=Mount.js.map

/***/ }),

/***/ 725:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.With = void 0;
const useFacetUnwrap_1 = __webpack_require__(8684);
const useFacetMap_1 = __webpack_require__(4283);
const hasData = (_, shouldRender) => {
    return shouldRender === true;
};
const With = ({ data, children }) => {
    const shouldRenderFacet = (0, useFacetMap_1.useFacetMap)((data) => data != null, [], [data]);
    const shouldRender = (0, useFacetUnwrap_1.useFacetUnwrap)(shouldRenderFacet);
    return hasData(data, shouldRender) ? children(data) : null;
};
exports.With = With;
//# sourceMappingURL=With.js.map

/***/ }),

/***/ 2493:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(3820), exports);
__exportStar(__webpack_require__(2885), exports);
__exportStar(__webpack_require__(725), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 1024:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createOptionalValueEqualityCheck = exports.createObjectWithKeySpecificEqualityCheck = exports.createUniformArrayEqualityCheck = exports.createUniformObjectEqualityCheck = exports.createNullableEqualityCheck = void 0;
const types_1 = __webpack_require__(4093);
/**
 * Creates an equality check that accepts null and undefined values
 *
 * @param comparator comparator to be wrapped with the null check
 */
const createNullableEqualityCheck = (comparator) => {
    const check = comparator();
    let previous = types_1.NO_VALUE;
    return (value) => {
        if (value == null || previous == null) {
            if (value != previous) {
                previous = value;
                return false;
            }
            else {
                return true;
            }
        }
        previous = value;
        return check(value);
    };
};
exports.createNullableEqualityCheck = createNullableEqualityCheck;
/**
 * Creates an equality check that tests that the values of all the properties in an object
 * haven't changed.
 *
 * The comparison used for the value of the properties is passed to it as an argument.
 *
 * @param comparator the equality check to be run for each property
 */
const createUniformObjectEqualityCheck = (comparator) => () => {
    const previous = {};
    let previousKeys = new Set();
    let initialized = false;
    return (current) => {
        var _a;
        let isEquals = true;
        for (const key in current) {
            if (!(key in previous)) {
                previous[key] = comparator();
            }
            if (!((_a = previous[key]) === null || _a === void 0 ? void 0 : _a.call(previous, current[key]))) {
                isEquals = false;
            }
            previousKeys.delete(key);
        }
        if (previousKeys.size > 0) {
            for (const key of previousKeys) {
                delete previous[key];
            }
            isEquals = false;
        }
        previousKeys = new Set();
        for (const key in current) {
            previousKeys.add(key);
        }
        if (!initialized) {
            initialized = true;
            return false;
        }
        return isEquals;
    };
};
exports.createUniformObjectEqualityCheck = createUniformObjectEqualityCheck;
/**
 * Creates an equality check that tests that the items in an array
 * haven't changed.
 *
 * The comparison used for the individual items is passed to it as an argument.
 *
 * @param comparator the equality check to be run for each item
 */
const createUniformArrayEqualityCheck = (comparator) => () => {
    const previous = [];
    let initialized = false;
    return (current) => {
        var _a, _b;
        const longestLength = Math.max((_a = previous === null || previous === void 0 ? void 0 : previous.length) !== null && _a !== void 0 ? _a : 0, (_b = current === null || current === void 0 ? void 0 : current.length) !== null && _b !== void 0 ? _b : 0);
        let isEquals = true;
        for (let i = 0; i < longestLength; i++) {
            if (previous[i] == null) {
                previous[i] = comparator();
            }
            if (!previous[i](current[i])) {
                isEquals = false;
            }
        }
        if (!initialized) {
            initialized = true;
            return false;
        }
        return isEquals;
    };
};
exports.createUniformArrayEqualityCheck = createUniformArrayEqualityCheck;
/**
 * Creates an equality check that tests whether each property of the target object has changed.
 * Each property is tested with a different comparator, so that they can be of different types.
 *
 * The comparator are passed down to it as an object with the same keys as the target object, but
 * comparators for each property as values.
 *
 * @param comparators the object containing the equality checks to be run for each property
 */
const createObjectWithKeySpecificEqualityCheck = (comparators) => () => {
    const initializingComparators = {};
    for (const key in comparators) {
        initializingComparators[key] = comparators[key]();
    }
    const initializedComparators = initializingComparators;
    return (current) => {
        let isEqual = true;
        for (const key in current) {
            if (!initializedComparators[key](current[key])) {
                // We don't break or skip the next comparators because we need all comparators
                // to run for their internal values to update, so we complete the for loop
                // even if one of the comparators reports false early on
                isEqual = false;
            }
        }
        return isEqual;
    };
};
exports.createObjectWithKeySpecificEqualityCheck = createObjectWithKeySpecificEqualityCheck;
/**
 * Creates an equality check that tests whether the value changed from null to defined or stayed the same
 *
 * If the value was not null before and it is not null currently, the comparison is done by the equality check
 * provided as an argument to this creator.
 *
 * This creator is useful to be able to make equality checkers for optional properties when you already have
 * an equality check for the underlying type.
 *
 * @param comparator the equality check to be run in case the value was defined before and now
 */
const createOptionalValueEqualityCheck = (comparator) => () => {
    let previousWasNullish = true;
    let initializedComparator = comparator();
    return (current) => {
        if (current == null) {
            if (previousWasNullish) {
                return true;
            }
            // If the next value is nullish, the current comparator will be outdated.
            // We cannot simply pass a nullish value to it, since it doesn't accept nullish.
            // Instead, we need to initialize a new comparator to reset it
            initializedComparator = comparator();
            previousWasNullish = true;
            return false;
        }
        previousWasNullish = false;
        return initializedComparator(current);
    };
};
exports.createOptionalValueEqualityCheck = createOptionalValueEqualityCheck;
//# sourceMappingURL=createEqualityChecks.js.map

/***/ }),

/***/ 7755:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createFacetContext = void 0;
const react_1 = __webpack_require__(7294);
function createFacetContext(initialValue) {
    let warnedAboutInvalidAccess = false;
    const facet = {
        get: () => initialValue,
        observe: (listener) => {
            if (false) {}
            listener(initialValue);
            return () => { };
        },
    };
    const context = (0, react_1.createContext)(facet);
    return context;
}
exports.createFacetContext = createFacetContext;
function parseInitialValue(initialValue) {
    try {
        return JSON.stringify(initialValue, null, 2);
    }
    catch (e) {
        return initialValue;
    }
}
//# sourceMappingURL=createFacetContext.js.map

/***/ }),

/***/ 2868:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultEqualityCheck = exports.nullableShallowArrayEqualityCheck = exports.nullableShallowObjectArrayEqualityCheck = exports.nullableShallowObjectEqualityCheck = exports.shallowArrayEqualityCheck = exports.shallowObjectArrayEqualityCheck = exports.shallowObjectEqualityCheck = exports.strictEqualityCheck = void 0;
const createEqualityChecks_1 = __webpack_require__(1024);
const types_1 = __webpack_require__(4093);
/**
 * Checks that the current value is exactly the same as the other previous one. Accepts value of type
 * function, number, boolean, string, undefined or null
 */
// eslint-disable-next-line @typescript-eslint/ban-types
const strictEqualityCheck = () => {
    let previous = types_1.NO_VALUE;
    return (current) => {
        if (previous !== current) {
            previous = current;
            return false;
        }
        return true;
    };
};
exports.strictEqualityCheck = strictEqualityCheck;
/**
 * Equality check that verifies the values of each key of an object.
 * Each value must be a primitive (boolean, number or string)
 *
 * For null or undefined values see nullableShallowObjectEqualityCheck
 */
exports.shallowObjectEqualityCheck = (0, createEqualityChecks_1.createUniformObjectEqualityCheck)(exports.strictEqualityCheck);
/**
 * Does a shallow object equality check for each element in an array
 *
 * For null or undefined values see nullableShallowObjectArrayEqualityCheck
 */
exports.shallowObjectArrayEqualityCheck = (0, createEqualityChecks_1.createUniformArrayEqualityCheck)(exports.shallowObjectEqualityCheck);
/**
 * Shallow equality check of primitives in an array
 *
 * For null or undefined values see nullableShallowArrayEqualityCheck
 */
exports.shallowArrayEqualityCheck = (0, createEqualityChecks_1.createUniformArrayEqualityCheck)(exports.strictEqualityCheck);
/**
 * Equality check that verifies the values of each key of an object.
 * Each value must be a primitive (boolean, number or string)
 *
 * Supports nullable values
 */
const nullableShallowObjectEqualityCheck = () => (0, createEqualityChecks_1.createNullableEqualityCheck)((0, createEqualityChecks_1.createUniformObjectEqualityCheck)(exports.strictEqualityCheck));
exports.nullableShallowObjectEqualityCheck = nullableShallowObjectEqualityCheck;
/**
 * Does a shallow object equality check for each element in an array
 *
 * Supports nullable values
 */
exports.nullableShallowObjectArrayEqualityCheck = (0, createEqualityChecks_1.createNullableEqualityCheck)((0, createEqualityChecks_1.createUniformArrayEqualityCheck)(exports.shallowObjectEqualityCheck));
/**
 * Shallow equality check of primitives in an array
 *
 * Supports nullable values
 */
exports.nullableShallowArrayEqualityCheck = (0, createEqualityChecks_1.createNullableEqualityCheck)((0, createEqualityChecks_1.createUniformArrayEqualityCheck)(exports.strictEqualityCheck));
/**
 * The default equality check that assumes data can be mutated.
 * It is used internally by default, so there is no need to provide it.
 */
const defaultEqualityCheck = () => {
    let previous = types_1.NO_VALUE;
    return (current) => {
        const typeofValue = typeof current;
        if (!(typeofValue === 'number' ||
            typeofValue === 'string' ||
            typeofValue === 'boolean' ||
            current === null ||
            current === undefined)) {
            return false;
        }
        if (current !== previous) {
            previous = current;
            return false;
        }
        return true;
    };
};
exports.defaultEqualityCheck = defaultEqualityCheck;
//# sourceMappingURL=equalityChecks.js.map

/***/ }),

/***/ 486:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createFacet = void 0;
const equalityChecks_1 = __webpack_require__(2868);
const types_1 = __webpack_require__(4093);
/**
 * The low level function to create a Facet, not recommended to be used if you can use any of the react facet hooks to create facets instead (Ex: useFacetState, useFacetWrap)
 */
function createFacet({ initialValue, startSubscription, equalityCheck = equalityChecks_1.defaultEqualityCheck, }) {
    const listeners = new Set();
    let currentValue = initialValue;
    let cleanupSubscription;
    const checker = equalityCheck === null || equalityCheck === void 0 ? void 0 : equalityCheck();
    const update = (newValue) => {
        if (equalityCheck != null) {
            // we optimize for the most common scenario of using the defaultEqualityCheck (by inline its implementation)
            if (equalityCheck === equalityChecks_1.defaultEqualityCheck) {
                const typeofValue = typeof newValue;
                if ((typeofValue === 'number' ||
                    typeofValue === 'string' ||
                    typeofValue === 'boolean' ||
                    newValue === null ||
                    newValue === undefined) &&
                    currentValue === newValue) {
                    return;
                }
            }
            else {
                if (checker != null && checker(newValue)) {
                    return;
                }
            }
        }
        currentValue = newValue;
        for (const listener of listeners) {
            listener(currentValue);
        }
    };
    /**
     * Simpler update implementation that only resets the value and runs all cleanup functions.
     * Done as a separated function to not interfere with the usual "hot-path" of the update function.
     */
    const updateToNoValue = () => {
        currentValue = types_1.NO_VALUE;
    };
    return {
        set: update,
        setWithCallback: (setter) => {
            const value = setter(currentValue);
            if (value === types_1.NO_VALUE) {
                updateToNoValue();
            }
            else {
                update(value);
            }
        },
        get: () => currentValue,
        observe: (listener) => {
            listeners.add(listener);
            if (currentValue !== types_1.NO_VALUE) {
                listener(currentValue);
            }
            // This is the first subscription, so we start subscribing to dependencies
            if (listeners.size === 1 && startSubscription) {
                cleanupSubscription = startSubscription(update);
            }
            return () => {
                listeners.delete(listener);
                // if this was the last to unsubscribe, we unsubscribe from our dependencies
                if (listeners.size === 0 && cleanupSubscription) {
                    currentValue = initialValue;
                    cleanupSubscription();
                }
            };
        },
    };
}
exports.createFacet = createFacet;
//# sourceMappingURL=createFacet.js.map

/***/ }),

/***/ 7200:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createReadOnlyFacet = void 0;
const createFacet_1 = __webpack_require__(486);
function createReadOnlyFacet(options) {
    return (0, createFacet_1.createFacet)(options);
}
exports.createReadOnlyFacet = createReadOnlyFacet;
//# sourceMappingURL=createReadOnlyFacet.js.map

/***/ }),

/***/ 9095:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createStaticFacet = void 0;
/**
 * Creates a nonwritable barebones static facet to be used when you need an initial facet value outside the react context
 * that's meant to be replaced later by a real facet. Ex: with `createContext()`
 */
function createStaticFacet(value) {
    const facet = {
        get: () => value,
        observe: (listener) => {
            listener(value);
            return () => { };
        },
    };
    return facet;
}
exports.createStaticFacet = createStaticFacet;
//# sourceMappingURL=createStaticFacet.js.map

/***/ }),

/***/ 6103:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(486), exports);
__exportStar(__webpack_require__(7200), exports);
__exportStar(__webpack_require__(9095), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 7190:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.areAllDefinedValues = void 0;
const hasDefinedValue_1 = __webpack_require__(3127);
const areAllDefinedValues = (facetValues) => {
    for (let i = 0; i < facetValues.length; i++) {
        if (!(0, hasDefinedValue_1.hasDefinedValue)(facetValues[i])) {
            return false;
        }
    }
    return true;
};
exports.areAllDefinedValues = areAllDefinedValues;
//# sourceMappingURL=areAllDefinedValues.js.map

/***/ }),

/***/ 3127:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.hasDefinedValue = void 0;
const types_1 = __webpack_require__(4093);
const hasDefinedValue = (value) => value != null && value !== types_1.NO_VALUE;
exports.hasDefinedValue = hasDefinedValue;
//# sourceMappingURL=hasDefinedValue.js.map

/***/ }),

/***/ 5900:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(7190), exports);
__exportStar(__webpack_require__(3127), exports);
__exportStar(__webpack_require__(6191), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 6191:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.multiObserve = void 0;
const types_1 = __webpack_require__(4093);
/**
 * Allows running an effect based on facet updates. Similar to React's useEffect.
 *
 * @param effect function that will do the side-effect (ex: update the DOM)
 * @param dependencies variable used by the map that are available in scope (similar as dependencies of useEffect)
 * @param facets facets that the effect listens to
 *
 * We pass the dependencies of the callback as the second argument so we can leverage the eslint-plugin-react-hooks option for additionalHooks.
 * Having this as the second argument allows the linter to work.
 */
function multiObserve(effect, facets) {
    if (facets.length === 1) {
        return facets[0].observe(effect);
    }
    let cleanup;
    let hasAllDependencies = false;
    const unsubscribes = [];
    const values = facets.map(() => types_1.NO_VALUE);
    for (let i = 0; i < facets.length; i++) {
        unsubscribes[i] = facets[i].observe((value) => {
            values[i] = value;
            hasAllDependencies = hasAllDependencies || values.every((value) => value != types_1.NO_VALUE);
            if (hasAllDependencies) {
                if (cleanup != null) {
                    cleanup();
                }
                cleanup = effect(...values);
            }
        });
    }
    return () => {
        for (let index = 0; index < unsubscribes.length; index++) {
            unsubscribes[index]();
        }
        if (cleanup != null) {
            cleanup();
        }
    };
}
exports.multiObserve = multiObserve;
//# sourceMappingURL=multiObserve.js.map

/***/ }),

/***/ 7923:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(2367), exports);
__exportStar(__webpack_require__(6955), exports);
__exportStar(__webpack_require__(8488), exports);
__exportStar(__webpack_require__(4283), exports);
__exportStar(__webpack_require__(4833), exports);
__exportStar(__webpack_require__(813), exports);
__exportStar(__webpack_require__(551), exports);
__exportStar(__webpack_require__(6280), exports);
__exportStar(__webpack_require__(5174), exports);
__exportStar(__webpack_require__(8684), exports);
__exportStar(__webpack_require__(9751), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 2367:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetCallback = void 0;
const react_1 = __webpack_require__(7294);
const types_1 = __webpack_require__(4093);
function useFacetCallback(callback, dependencies, facets, defaultReturnValue) {
    (0, react_1.useLayoutEffect)(() => {
        // Make sure to start subscriptions, even though we are getting the values directly from them
        // We read the values using `.get` to make sure they are always up-to-date
        const unsubscribes = facets.map((facet) => facet.observe(() => { }));
        return () => {
            unsubscribes.forEach((unsubscribe) => unsubscribe());
        };
        // We care about each individual facet and if any is a different reference
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, facets);
    // We care about each individual dependency and if any is a different reference
    // eslint-disable-next-line react-hooks/exhaustive-deps
    const callbackMemoized = (0, react_1.useCallback)(callback, dependencies);
    // Setup a ref so that the callback instance below can be kept the same
    // when Facet instances change across re-renders
    const facetsRef = (0, react_1.useRef)(facets);
    facetsRef.current = facets;
    return (0, react_1.useCallback)((...args) => {
        const facets = facetsRef.current;
        const values = facets.map((facet) => facet.get());
        for (const value of values) {
            if (value === types_1.NO_VALUE)
                return defaultReturnValue != null ? defaultReturnValue : types_1.NO_VALUE;
        }
        return callbackMemoized(...values)(...args);
    }, [callbackMemoized, defaultReturnValue]);
}
exports.useFacetCallback = useFacetCallback;
//# sourceMappingURL=useFacetCallback.js.map

/***/ }),

/***/ 6955:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetEffect = exports.createUseFacetEffect = void 0;
const react_1 = __webpack_require__(7294);
const types_1 = __webpack_require__(4093);
const createUseFacetEffect = (useHook) => {
    return function (effect, dependencies, facets) {
        // eslint-disable-next-line react-hooks/exhaustive-deps
        const effectMemoized = (0, react_1.useCallback)(effect, dependencies);
        useHook(() => {
            let cleanup;
            if (facets.length === 1) {
                const unsubscribe = facets[0].observe((value) => {
                    if (cleanup != null) {
                        cleanup();
                    }
                    cleanup = effectMemoized(value);
                });
                return () => {
                    unsubscribe();
                    if (cleanup != null) {
                        cleanup();
                    }
                };
            }
            let hasAllDependencies = false;
            const unsubscribes = [];
            const values = facets.map(() => types_1.NO_VALUE);
            facets.forEach((facet, index) => {
                unsubscribes[index] = facet.observe((value) => {
                    values[index] = value;
                    hasAllDependencies = hasAllDependencies || values.every((value) => value != types_1.NO_VALUE);
                    if (hasAllDependencies) {
                        if (cleanup != null) {
                            cleanup();
                        }
                        cleanup = effectMemoized(...values);
                    }
                });
            });
            return () => {
                unsubscribes.forEach((unsubscribe) => unsubscribe());
                if (cleanup != null) {
                    cleanup();
                }
            };
            // We care about each individual facet and if any is a different reference
            // eslint-disable-next-line react-hooks/exhaustive-deps
        }, [effectMemoized, ...facets]);
    };
};
exports.createUseFacetEffect = createUseFacetEffect;
/**
 * Allows running an effect based on facet updates. Similar to React's useEffect.
 *
 * @param effect function that will do the side-effect (ex: update the DOM)
 * @param dependencies variable used by the map that are available in scope (similar as dependencies of useEffect)
 * @param facets facets that the effect listens to
 *
 * We pass the dependencies of the callback as the second argument so we can leverage the eslint-plugin-react-hooks option for additionalHooks.
 * Having this as the second argument allows the linter to work.
 */
exports.useFacetEffect = (0, exports.createUseFacetEffect)(react_1.useEffect);
//# sourceMappingURL=useFacetEffect.js.map

/***/ }),

/***/ 8488:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetLayoutEffect = void 0;
const react_1 = __webpack_require__(7294);
const useFacetEffect_1 = __webpack_require__(6955);
/**
 * Allows running an effect based on facet updates. Similar to React's useLayoutEffect.
 *
 * @param effect function that will do the side-effect (ex: update the DOM)
 * @param dependencies variable used by the map that are available in scope (similar as dependencies of useEffect)
 * @param facets facets that the effect listens to
 *
 * We pass the dependencies of the callback as the second argument so we can leverage the eslint-plugin-react-hooks option for additionalHooks.
 * Having this as the second argument allows the linter to work.
 */
exports.useFacetLayoutEffect = (0, useFacetEffect_1.createUseFacetEffect)(react_1.useLayoutEffect);
//# sourceMappingURL=useFacetLayoutEffect.js.map

/***/ }),

/***/ 4283:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetMap = void 0;
const react_1 = __webpack_require__(7294);
const equalityChecks_1 = __webpack_require__(2868);
const mapFacets_1 = __webpack_require__(2914);
/**
 * Helper hook that allows mapping a value from a facet with local variables/props in a React component
 *
 * @param selector function that takes value from provided facets and maps them to a new value
 * @param dependencies variable used by the selector that are available in scope (similar as dependencies of useEffect)
 * @param facets facets that we will listen for its values to be mapped
 * @param equalityCheck optional, has a default for immutable values
 *
 * We pass the dependencies of the callback as the second argument so we can leverage the eslint-plugin-react-hooks option for additionalHooks.
 * Having this as the second argument allows the linter to work.
 *
 * @returns a new facet definition that can be consumed as a regular facet
 */
function useFacetMap(selector, dependencies, facets, equalityCheck = equalityChecks_1.defaultEqualityCheck) {
    // eslint-disable-next-line react-hooks/exhaustive-deps
    const selectorMemoized = (0, react_1.useCallback)(selector, dependencies);
    const facetComposition = (0, react_1.useMemo)(() => {
        return (0, mapFacets_1.mapFacetsLightweight)(facets, selectorMemoized, equalityCheck);
        // We need to disable the linter on the next line given we are spreading the facets as individual dependencies
        // of the effect. We do this to avoid re-running this effect when passing a new array with the same facets.
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [selectorMemoized, equalityCheck, ...facets]);
    return facetComposition;
}
exports.useFacetMap = useFacetMap;
//# sourceMappingURL=useFacetMap.js.map

/***/ }),

/***/ 4833:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetMemo = void 0;
const react_1 = __webpack_require__(7294);
const equalityChecks_1 = __webpack_require__(2868);
const mapFacets_1 = __webpack_require__(2914);
/**
 * Helper hook that allows mapping a value from a facet with local variables/props in a React component
 *
 * @param selector function that takes value from provided facets and maps them to a new value
 * @param dependencies variable used by the selector that are available in scope (similar as dependencies of useEffect)
 * @param facets facets that we will listen for its values to be mapped
 * @param equalityCheck optional, has a default for immutable values
 *
 * We pass the dependencies of the callback as the second argument so we can leverage the eslint-plugin-react-hooks option for additionalHooks.
 * Having this as the second argument allows the linter to work.
 *
 * @returns a new facet definition that can be consumed as a regular facet
 */
function useFacetMemo(selector, dependencies, facets, equalityCheck = equalityChecks_1.defaultEqualityCheck) {
    // eslint-disable-next-line react-hooks/exhaustive-deps
    const selectorMemoized = (0, react_1.useCallback)(selector, dependencies);
    const facetComposition = (0, react_1.useMemo)(() => {
        return (0, mapFacets_1.mapFacetsCached)(facets, selectorMemoized, equalityCheck);
        // We need to disable the linter on the next line given we are spreading the facets as individual dependencies
        // of the effect. We do this to avoid re-running this effect when passing a new array with the same facets.
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [selectorMemoized, equalityCheck, ...facets]);
    return facetComposition;
}
exports.useFacetMemo = useFacetMemo;
//# sourceMappingURL=useFacetMemo.js.map

/***/ }),

/***/ 813:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetPropSetter = void 0;
const react_1 = __webpack_require__(7294);
const types_1 = __webpack_require__(4093);
/**
 * Hook that returns a setter function to a specific property of a given a localFacet
 * Ex:
 * 	- Given a local facet { foo: 'bar' }
 *  - Could be used as useFacetSetter(facet, 'foo')
 *  - And the setter would set the foo property
 *
 * @param facet
 * @param prop the name of the prop to set
 */
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function useFacetPropSetter(facet, prop) {
    return (0, react_1.useMemo)(() => (value) => {
        facet.setWithCallback((prev) => (Object.assign(Object.assign({}, (prev != types_1.NO_VALUE ? prev : {})), { [prop]: value })));
    }, [facet, prop]);
}
exports.useFacetPropSetter = useFacetPropSetter;
//# sourceMappingURL=useFacetPropSetter.js.map

/***/ }),

/***/ 6280:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetReducer = void 0;
const react_1 = __webpack_require__(7294);
const equalityChecks_1 = __webpack_require__(2868);
const useFacetState_1 = __webpack_require__(5174);
/**
 * Provides a parallel to React's useReducer, but instead returns a facet as the value
 *
 * @param reducer function that will take the previous state and an action to return a new state
 * @param initialState mandatory initial state for the reducer's facet
 * @param equalityCheck optional equality check (has a default checker)
 * @returns
 */
const useFacetReducer = (reducer, initialState, equalityCheck = equalityChecks_1.defaultEqualityCheck) => {
    const [state, setState] = (0, useFacetState_1.useFacetState)(initialState, equalityCheck);
    const dispatch = (0, react_1.useCallback)((action) => {
        setState((previousState) => reducer(previousState, action));
    }, [reducer, setState]);
    return [state, dispatch];
};
exports.useFacetReducer = useFacetReducer;
//# sourceMappingURL=useFacetReducer.js.map

/***/ }),

/***/ 551:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetRef = void 0;
const react_1 = __webpack_require__(7294);
const useFacetEffect_1 = __webpack_require__(6955);
const types_1 = __webpack_require__(4093);
function useFacetRef(facet, defaultValue) {
    let value = facet.get();
    if (value === types_1.NO_VALUE && defaultValue != undefined) {
        value = defaultValue;
    }
    const ref = (0, react_1.useRef)(value);
    (0, useFacetEffect_1.useFacetEffect)((value) => {
        ref.current = value;
    }, [], [facet]);
    return ref;
}
exports.useFacetRef = useFacetRef;
//# sourceMappingURL=useFacetRef.js.map

/***/ }),

/***/ 5174:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetState = void 0;
const react_1 = __webpack_require__(7294);
const equalityChecks_1 = __webpack_require__(2868);
const facet_1 = __webpack_require__(6103);
/**
 * Provides a parallel to React's useState, but instead returns a facet as the value
 *
 * @param initialValue mandatory initial value (pass NO_VALUE to force it to be uninitialized)
 * @param equalityCheck optional (has a default checker)
 */
const useFacetState = (initialValue, equalityCheck = equalityChecks_1.defaultEqualityCheck) => {
    return (0, react_1.useMemo)(() => {
        const inlineFacet = (0, facet_1.createFacet)({ initialValue, equalityCheck });
        const setter = (setter) => {
            if (isSetterCallback(setter)) {
                inlineFacet.setWithCallback(setter);
            }
            else {
                inlineFacet.set(setter);
            }
        };
        return [inlineFacet, setter];
        /**
         * We ignore the changes to the initialValue since changes to the facet
         * done after creation must only be done through the setter, and we want
         * to ensure not to accidentally put more values in memory.
         */
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
};
exports.useFacetState = useFacetState;
const isSetterCallback = (setter) => {
    return typeof setter === 'function';
};
//# sourceMappingURL=useFacetState.js.map

/***/ }),

/***/ 8684:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetUnwrap = void 0;
const react_1 = __webpack_require__(7294);
const types_1 = __webpack_require__(4093);
/**
 * Hook that allows consuming values from a Facet
 * It acts as a regular react state, triggering a re-render of the component
 *
 * @param facet
 */
function useFacetUnwrap(prop) {
    const [state, setState] = (0, react_1.useState)(() => {
        if (!(0, types_1.isFacet)(prop))
            return { value: prop };
        return {
            value: prop.get(),
        };
    });
    (0, react_1.useLayoutEffect)(() => {
        if ((0, types_1.isFacet)(prop)) {
            return prop.observe((value) => {
                setState((previousState) => {
                    const { value: previousValue } = previousState;
                    const typeofValue = typeof previousValue;
                    /**
                     * Performs this equality check locally to prevent triggering two consecutive renderings
                     * for facets that have immutable values (unfortunately we can't handle mutable values).
                     *
                     * The two renderings might happen for the same state value if the Facet has a value on mount.
                     *
                     * The unwrap will get the value:
                     * - Once on initialization of the useState above
                     * - And another time on this observe initialization
                     */
                    if ((typeofValue === 'number' ||
                        typeofValue === 'string' ||
                        typeofValue === 'boolean' ||
                        value === undefined ||
                        value === null) &&
                        value === previousValue) {
                        return previousState;
                    }
                    return { value };
                });
            });
        }
    }, [prop]);
    return (0, types_1.isFacet)(prop) ? state.value : prop;
}
exports.useFacetUnwrap = useFacetUnwrap;
//# sourceMappingURL=useFacetUnwrap.js.map

/***/ }),

/***/ 9751:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useFacetWrap = void 0;
const react_1 = __webpack_require__(7294);
const equalityChecks_1 = __webpack_require__(2868);
const facet_1 = __webpack_require__(6103);
const types_1 = __webpack_require__(4093);
/**
 * Wraps a FacetProp as a Facet
 * @param value
 */
function useFacetWrap(prop, equalityCheck = equalityChecks_1.defaultEqualityCheck) {
    const is = (0, types_1.isFacet)(prop);
    /**
     * Inline facet that only created if the provided prop is not a facet.
     *
     * We ignore the dependency change of `prop` since we want to update the inline
     * facet value via the setter below.
     */
    const inlineFacet = (0, react_1.useMemo)(() => (is ? undefined : (0, facet_1.createFacet)({ initialValue: prop, equalityCheck })), 
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [is]);
    if (inlineFacet == null) {
        return prop;
    }
    else {
        inlineFacet.set(prop);
        return inlineFacet;
    }
}
exports.useFacetWrap = useFacetWrap;
//# sourceMappingURL=useFacetWrap.js.map

/***/ }),

/***/ 8572:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(2493), exports);
__exportStar(__webpack_require__(1024), exports);
__exportStar(__webpack_require__(7755), exports);
__exportStar(__webpack_require__(2868), exports);
__exportStar(__webpack_require__(6103), exports);
__exportStar(__webpack_require__(5900), exports);
__exportStar(__webpack_require__(7923), exports);
__exportStar(__webpack_require__(2914), exports);
__exportStar(__webpack_require__(4093), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 2914:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(3118), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 8273:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mapFacetArrayCached = void 0;
const types_1 = __webpack_require__(4093);
const mapIntoObserveArray_1 = __webpack_require__(1794);
const facet_1 = __webpack_require__(6103);
function mapFacetArrayCached(facets, fn, equalityCheck) {
    return (0, facet_1.createFacet)({
        // pass the equalityCheck to the mapIntoObserveArray to prevent even triggering the observable
        startSubscription: (0, mapIntoObserveArray_1.mapIntoObserveArray)(facets, fn, equalityCheck),
        initialValue: types_1.NO_VALUE,
    });
}
exports.mapFacetArrayCached = mapFacetArrayCached;
//# sourceMappingURL=mapFacetArrayCached.js.map

/***/ }),

/***/ 9160:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mapFacetArrayLightweight = void 0;
const mapIntoObserveArray_1 = __webpack_require__(1794);
const types_1 = __webpack_require__(4093);
function mapFacetArrayLightweight(facets, fn, equalityCheck) {
    return {
        get: () => {
            const values = facets.map((facet) => facet.get());
            const hasAllValues = values.reduce((acc, value) => acc && value !== types_1.NO_VALUE, true);
            if (!hasAllValues)
                return types_1.NO_VALUE;
            return fn(...values);
        },
        observe: (0, mapIntoObserveArray_1.mapIntoObserveArray)(facets, fn, equalityCheck),
    };
}
exports.mapFacetArrayLightweight = mapFacetArrayLightweight;
//# sourceMappingURL=mapFacetArrayLightweight.js.map

/***/ }),

/***/ 6741:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mapFacetSingleCached = void 0;
const types_1 = __webpack_require__(4093);
const mapIntoObserveSingle_1 = __webpack_require__(8781);
const facet_1 = __webpack_require__(6103);
function mapFacetSingleCached(facets, fn, equalityCheck) {
    return (0, facet_1.createFacet)({
        // pass the equalityCheck to the mapIntoObserveSingle to prevent even triggering the observable
        startSubscription: (0, mapIntoObserveSingle_1.mapIntoObserveSingle)(facets, fn, equalityCheck),
        initialValue: types_1.NO_VALUE,
    });
}
exports.mapFacetSingleCached = mapFacetSingleCached;
//# sourceMappingURL=mapFacetSingleCached.js.map

/***/ }),

/***/ 4714:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mapFacetSingleLightweight = void 0;
const types_1 = __webpack_require__(4093);
const mapIntoObserveSingle_1 = __webpack_require__(8781);
function mapFacetSingleLightweight(facet, fn, equalityCheck) {
    return {
        get: () => {
            const value = facet.get();
            if (value === types_1.NO_VALUE)
                return types_1.NO_VALUE;
            return fn(value);
        },
        observe: (0, mapIntoObserveSingle_1.mapIntoObserveSingle)(facet, fn, equalityCheck),
    };
}
exports.mapFacetSingleLightweight = mapFacetSingleLightweight;
//# sourceMappingURL=mapFacetSingleLightweight.js.map

/***/ }),

/***/ 3118:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mapFacetsCached = exports.mapFacetsLightweight = void 0;
const mapFacetArrayCached_1 = __webpack_require__(8273);
const mapFacetArrayLightweight_1 = __webpack_require__(9160);
const mapFacetSingleCached_1 = __webpack_require__(6741);
const mapFacetSingleLightweight_1 = __webpack_require__(4714);
function mapFacetsLightweight(facets, fn, equalityCheck) {
    if (facets.length === 1) {
        return (0, mapFacetSingleLightweight_1.mapFacetSingleLightweight)(facets[0], fn, equalityCheck);
    }
    else {
        return (0, mapFacetArrayLightweight_1.mapFacetArrayLightweight)(facets, fn, equalityCheck);
    }
}
exports.mapFacetsLightweight = mapFacetsLightweight;
function mapFacetsCached(facets, fn, equalityCheck) {
    if (facets.length === 1) {
        return (0, mapFacetSingleCached_1.mapFacetSingleCached)(facets[0], fn, equalityCheck);
    }
    else {
        return (0, mapFacetArrayCached_1.mapFacetArrayCached)(facets, fn, equalityCheck);
    }
}
exports.mapFacetsCached = mapFacetsCached;
//# sourceMappingURL=mapFacets.js.map

/***/ }),

/***/ 1794:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mapIntoObserveArray = void 0;
const equalityChecks_1 = __webpack_require__(2868);
const types_1 = __webpack_require__(4093);
function mapIntoObserveArray(facets, 
// eslint-disable-next-line @typescript-eslint/no-explicit-any
fn, equalityCheck) {
    return (listener) => {
        let currentValue = types_1.NO_VALUE;
        const checker = equalityCheck === null || equalityCheck === void 0 ? void 0 : equalityCheck();
        const dependencyValues = facets.map(() => types_1.NO_VALUE);
        let hasAllDependencies = false;
        const subscriptions = facets.map((facet, index) => {
            // Most common scenario is not having any equality check
            if (equalityCheck == null) {
                return facet.observe((value) => {
                    dependencyValues[index] = value;
                    hasAllDependencies = hasAllDependencies || dependencyValues.every((value) => value != types_1.NO_VALUE);
                    if (hasAllDependencies) {
                        const result = fn(...dependencyValues);
                        if (result === types_1.NO_VALUE)
                            return;
                        listener(result);
                    }
                });
            }
            // Then we optimize for the second most common scenario of using the defaultEqualityCheck (by inline its implementation)
            if (equalityCheck === equalityChecks_1.defaultEqualityCheck) {
                return facet.observe((value) => {
                    dependencyValues[index] = value;
                    hasAllDependencies = hasAllDependencies || dependencyValues.every((value) => value != types_1.NO_VALUE);
                    if (hasAllDependencies) {
                        const result = fn(...dependencyValues);
                        if (result === types_1.NO_VALUE)
                            return;
                        const typeofValue = typeof currentValue;
                        if ((typeofValue === 'number' ||
                            typeofValue === 'string' ||
                            typeofValue === 'boolean' ||
                            currentValue === null ||
                            currentValue === undefined) &&
                            currentValue === result) {
                            return;
                        }
                        currentValue = result;
                        listener(result);
                    }
                });
            }
            // Just a type-check guard, it will never happen
            if (checker == null)
                return () => { };
            // Finally we use the custom equality check
            return facet.observe((value) => {
                dependencyValues[index] = value;
                hasAllDependencies = hasAllDependencies || dependencyValues.every((value) => value != types_1.NO_VALUE);
                if (hasAllDependencies) {
                    const result = fn(...dependencyValues);
                    if (result === types_1.NO_VALUE)
                        return;
                    if (checker(result))
                        return;
                    listener(result);
                }
            });
        });
        return () => {
            subscriptions.forEach((unsubscribe) => unsubscribe());
        };
    };
}
exports.mapIntoObserveArray = mapIntoObserveArray;
//# sourceMappingURL=mapIntoObserveArray.js.map

/***/ }),

/***/ 8781:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mapIntoObserveSingle = void 0;
const equalityChecks_1 = __webpack_require__(2868);
const types_1 = __webpack_require__(4093);
function mapIntoObserveSingle(facet, fn, equalityCheck) {
    // Most common scenario is not having any equality check
    if (equalityCheck == null) {
        return (listener) => {
            return facet.observe((value) => {
                const result = fn(value);
                if (result === types_1.NO_VALUE)
                    return;
                listener(result);
            });
        };
    }
    // Then we optimize for the second most common scenario of using the defaultEqualityCheck (by inline its implementation)
    if (equalityCheck === equalityChecks_1.defaultEqualityCheck) {
        return (listener) => {
            let currentValue = types_1.NO_VALUE;
            return facet.observe((value) => {
                const result = fn(value);
                if (result === types_1.NO_VALUE)
                    return;
                const typeofValue = typeof currentValue;
                if ((typeofValue === 'number' ||
                    typeofValue === 'string' ||
                    typeofValue === 'boolean' ||
                    currentValue === null ||
                    currentValue === undefined) &&
                    currentValue === result) {
                    return;
                }
                currentValue = result;
                listener(result);
            });
        };
    }
    // Finally we use the custom equality check
    return (listener) => {
        const checker = equalityCheck();
        return facet.observe((value) => {
            const result = fn(value);
            if (result === types_1.NO_VALUE)
                return;
            if (checker(result))
                return;
            listener(result);
        });
    };
}
exports.mapIntoObserveSingle = mapIntoObserveSingle;
//# sourceMappingURL=mapIntoObserveSingle.js.map

/***/ }),

/***/ 4093:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NO_VALUE = exports.isFacet = exports.FACET_FACTORY = void 0;
exports.FACET_FACTORY = Symbol('facet-factory');
const isFacet = (value) => {
    return value != null && value.observe != null && value.get != null;
};
exports.isFacet = isFacet;
exports.NO_VALUE = Symbol.for('NoValue');
//# sourceMappingURL=types.js.map

/***/ }),

/***/ 1170:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PauseMountProvider = exports.ImmediateMount = exports.useIsPaused = exports.useIsDeferring = exports.DeferredMountWithCallback = exports.useNotifyMountComplete = exports.DeferredMount = exports.DeferredMountProvider = exports.InnerDeferredMountProvider = exports.DeferredMountConfigProvider = void 0;
const react_1 = __importStar(__webpack_require__(7294));
const core_1 = __webpack_require__(8572);
const DeferredMountConfig = (0, react_1.createContext)({ forceImmediateMount: false });
function DeferredMountConfigProvider({ config, children }) {
    return react_1.default.createElement(DeferredMountConfig.Provider, { value: config }, children);
}
exports.DeferredMountConfigProvider = DeferredMountConfigProvider;
function useConfig() {
    return (0, react_1.useContext)(DeferredMountConfig);
}
/**
 * Targeting around 60fps
 */
const DEFAULT_FRAME_TIME_BUDGET = 16;
function InnerDeferredMountProvider({ children, frameTimeBudget = DEFAULT_FRAME_TIME_BUDGET, }) {
    const [isDeferring, setIsDeferring] = (0, core_1.useFacetState)(true);
    const [requestingToRun, setRequestingToRun] = (0, core_1.useFacetState)(false);
    const waitingForMountCallback = (0, react_1.useRef)(false);
    const deferredMountsRef = (0, react_1.useRef)([]);
    const pushDeferUpdateFunction = (0, react_1.useCallback)((updateFn) => {
        // Causes a re-render of this component that will kick-off the effect below
        setRequestingToRun(true);
        deferredMountsRef.current.push(updateFn);
        /**
         * Cleanup function that makes sure that we don't try to "mount" a deferred component
         * if it has already been unmounted.
         */
        return () => {
            // It is most common that we will be cleaning up after all deferred mounting has been run
            if (deferredMountsRef.current.length === 0 && !waitingForMountCallback.current)
                return;
            const index = deferredMountsRef.current.indexOf(updateFn);
            if (index !== -1) {
                deferredMountsRef.current.splice(index, 1);
            }
        };
    }, [setRequestingToRun]);
    (0, core_1.useFacetEffect)((requestingToRun) => {
        // Even if we are not considered to be running, we need to check if there is still
        // work pending to be done. If there is... we still need to run this effect.
        if (!requestingToRun && deferredMountsRef.current.length === 0 && !waitingForMountCallback.current)
            return;
        const work = (startTimestamp) => {
            const deferredMounts = deferredMountsRef.current;
            // We need to request the new frame at the top
            // otherwise, the state change at the bottom will trigger a new render
            // before we have a chance to cancel
            // Its not possible to detect this with unit testing, so verify on the browser
            // after a change here that this function is not executing every frame unnecessarily
            if (deferredMounts.length > 0 || waitingForMountCallback.current) {
                frameId = window.requestAnimationFrame(work);
            }
            else {
                // Used to check if the requestAnimationFrame has stopped running
                frameId = -1;
            }
            let lastUpdateCost = 0;
            let now = startTimestamp;
            while (deferredMounts.length > 0 &&
                now - startTimestamp + lastUpdateCost < frameTimeBudget &&
                !waitingForMountCallback.current) {
                const before = now;
                const updateFn = deferredMounts.shift();
                const result = updateFn(false);
                const after = performance.now();
                lastUpdateCost = after - before;
                now = after;
                // Can be a function that takes a callback if using DeferredMountWithCallback
                const resultTakesCallback = typeof result === 'function';
                if (resultTakesCallback) {
                    waitingForMountCallback.current = true;
                    result(() => {
                        waitingForMountCallback.current = false;
                        // If the requestAnimationFrame stops running while waiting for the
                        // callback we need to restart it to process the rest of the queue.
                        if (frameId === -1) {
                            frameId = window.requestAnimationFrame(work);
                        }
                    });
                }
            }
            if (deferredMounts.length === 0 && !waitingForMountCallback.current) {
                setIsDeferring(false);
                setRequestingToRun(false);
            }
        };
        let frameId = window.requestAnimationFrame(work);
        return () => {
            window.cancelAnimationFrame(frameId);
        };
    }, [frameTimeBudget, setIsDeferring, setRequestingToRun], [requestingToRun]);
    return (react_1.default.createElement(isDeferringContext.Provider, { value: isDeferring },
        react_1.default.createElement(pushDeferUpdateContext.Provider, { value: pushDeferUpdateFunction }, children)));
}
exports.InnerDeferredMountProvider = InnerDeferredMountProvider;
/**
 * Provider that must wrap a tree with nodes being deferred
 */
function DeferredMountProvider(props) {
    const config = useConfig();
    if (config.forceImmediateMount) {
        return react_1.default.createElement(react_1.default.Fragment, null, props.children);
    }
    return react_1.default.createElement(InnerDeferredMountProvider, Object.assign({}, props));
}
exports.DeferredMountProvider = DeferredMountProvider;
/**
 * Component that should wrap some mounting that must be deferred to a later frame
 * @param children component to be mounted deferred
 */
function DeferredMount({ children }) {
    const pushDeferUpdateFunction = (0, react_1.useContext)(pushDeferUpdateContext);
    const [deferred, setDeferred] = (0, react_1.useState)(pushDeferUpdateFunction != null);
    (0, react_1.useEffect)(() => {
        if (pushDeferUpdateFunction)
            pushDeferUpdateFunction(setDeferred);
    }, [pushDeferUpdateFunction]);
    if (deferred)
        return null;
    return children;
}
exports.DeferredMount = DeferredMount;
const NotifyMountComplete = (0, react_1.createContext)(() => { });
const useNotifyMountComplete = () => (0, react_1.useContext)(NotifyMountComplete);
exports.useNotifyMountComplete = useNotifyMountComplete;
/**
 * Component that should wrap some mounting that must be deferred to a later frame.
 * This will wait for a callback from the child component before marking itself as rendered.
 * @param children component to be mounted deferred
 */
function DeferredMountWithCallback({ children }) {
    const pushDeferUpdateFunction = (0, react_1.useContext)(pushDeferUpdateContext);
    const [deferred, setDeferred] = (0, react_1.useState)(pushDeferUpdateFunction != null);
    const resolveMountComplete = (0, react_1.useRef)();
    const mountCompleteBeforeInitialization = (0, react_1.useRef)(false);
    const onMountComplete = (0, react_1.useCallback)(() => {
        if (resolveMountComplete.current != null) {
            resolveMountComplete.current();
        }
        else {
            mountCompleteBeforeInitialization.current = true;
        }
    }, []);
    (0, react_1.useEffect)(() => {
        if (pushDeferUpdateFunction)
            pushDeferUpdateFunction((isDeferred) => {
                return (resolve) => {
                    setDeferred(isDeferred);
                    if (mountCompleteBeforeInitialization.current) {
                        resolve();
                    }
                    else {
                        resolveMountComplete.current = resolve;
                    }
                };
            });
    }, [pushDeferUpdateFunction, onMountComplete]);
    if (deferred)
        return null;
    return react_1.default.createElement(NotifyMountComplete.Provider, { value: onMountComplete }, children);
}
exports.DeferredMountWithCallback = DeferredMountWithCallback;
/**
 * Hook that informs if any mounting is currently being deferred
 * Can be used to show some loading indicator
 */
function useIsDeferring() {
    return (0, react_1.useContext)(isDeferringContext);
}
exports.useIsDeferring = useIsDeferring;
/**
 * Allow us to pause costly mounting (mounting) of components
 * So that transitions can occur
 */
function useIsPaused() {
    return (0, react_1.useContext)(isPausedContext);
}
exports.useIsPaused = useIsPaused;
/**
 * API compatible component with DeferredMount, but renders immediately
 */
function ImmediateMount({ children }) {
    return children;
}
exports.ImmediateMount = ImmediateMount;
const pushDeferUpdateContext = (0, react_1.createContext)(undefined);
const isDeferringContext = (0, react_1.createContext)((0, core_1.createFacet)({ initialValue: false }));
const isPausedContext = (0, react_1.createContext)(false);
/**
 * This pauses the mounting of children components.
 * Given it affects mounting, it should only happen the first time! Asking to pause again in the future is not possible
 */
function PauseMountProvider({ paused, children }) {
    const wasEverResumed = (0, react_1.useRef)(!paused);
    (0, react_1.useEffect)(() => {
        if (!paused) {
            wasEverResumed.current = true;
        }
    }, [paused]);
    return react_1.default.createElement(isPausedContext.Provider, { value: wasEverResumed.current ? false : paused }, children);
}
exports.PauseMountProvider = PauseMountProvider;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 6982:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createFiberRoot = void 0;
/**
 * @private consider using render instead
 */
const createFiberRoot = (reconciler) => (container) => reconciler.createContainer({
    children: new Set(),
    element: container,
    styleUnsubscribers: new Map(),
    style: container.style,
}, false, false);
exports.createFiberRoot = createFiberRoot;
//# sourceMappingURL=createFiberRoot.js.map

/***/ }),

/***/ 24:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createPortal = void 0;
// Extracted from React's codebase
const REACT_PORTAL_TYPE = Symbol.for('react.portal');
/**
 * Creates a React Portal.
 * More info: https://reactjs.org/docs/portals.html
 */
function createPortal(children, container, key) {
    return {
        $$typeof: REACT_PORTAL_TYPE,
        key,
        children,
        containerInfo: {
            children: new Set(),
            element: container,
            styleUnsubscribers: new Map(),
            style: container.style,
        },
    };
}
exports.createPortal = createPortal;
//# sourceMappingURL=createPortal.js.map

/***/ }),

/***/ 376:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createReconciler = void 0;
const react_reconciler_1 = __importDefault(__webpack_require__(6525));
const setupHostConfig_1 = __webpack_require__(8446);
/**
 * @private consider using render instead
 */
const createReconciler = () => (0, react_reconciler_1.default)((0, setupHostConfig_1.setupHostConfig)());
exports.createReconciler = createReconciler;
//# sourceMappingURL=createReconciler.js.map

/***/ }),

/***/ 7154:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.render = void 0;
const createFiberRoot_1 = __webpack_require__(6982);
const createReconciler_1 = __webpack_require__(376);
__exportStar(__webpack_require__(7358), exports);
__exportStar(__webpack_require__(24), exports);
__exportStar(__webpack_require__(6982), exports);
__exportStar(__webpack_require__(376), exports);
/**
 * Render the Facets as the root renderer
 */
function render(element, container) {
    if (container == null)
        return () => { };
    const reconcilerInstance = (0, createReconciler_1.createReconciler)();
    const fiberRoot = (0, createFiberRoot_1.createFiberRoot)(reconcilerInstance)(container);
    reconcilerInstance.updateContainer(element, fiberRoot, null, () => { });
    if (false) {}
    return () => {
        reconcilerInstance.updateContainer(null, fiberRoot, null, () => { });
    };
}
exports.render = render;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 2786:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setupAttributeUpdate = exports.setupViewBoxUpdate = exports.setupTextUpdate = exports.setupSrcUpdate = exports.setupValueUpdate = exports.setupRowsUpdate = exports.setupMaxLengthUpdate = exports.setupIdUpdate = exports.setupClassUpdate = void 0;
const core_1 = __webpack_require__(8572);
const setupClassUpdate = (className, element) => {
    const htmlElement = element;
    if ((0, core_1.isFacet)(className)) {
        return className.observe((className) => {
            htmlElement.className = className != null ? className : '';
        });
    }
    else {
        htmlElement.className = className != null ? className : '';
    }
};
exports.setupClassUpdate = setupClassUpdate;
const setupIdUpdate = (id, element) => {
    if ((0, core_1.isFacet)(id)) {
        return id.observe((id) => {
            element.id = id != null ? id : '';
        });
    }
    else {
        element.id = id != null ? id : '';
    }
};
exports.setupIdUpdate = setupIdUpdate;
const setupMaxLengthUpdate = (maxLength, element) => {
    if ((0, core_1.isFacet)(maxLength)) {
        return maxLength.observe((maxLength) => {
            const textElement = element;
            textElement.maxLength = maxLength != null ? maxLength : Number.MAX_SAFE_INTEGER;
        });
    }
    else {
        const textElement = element;
        textElement.maxLength = maxLength != null ? maxLength : Number.MAX_SAFE_INTEGER;
    }
};
exports.setupMaxLengthUpdate = setupMaxLengthUpdate;
const setupRowsUpdate = (rows, element) => {
    if ((0, core_1.isFacet)(rows)) {
        return rows.observe((rows) => {
            const textElement = element;
            textElement.rows = rows != null ? rows : Number.MAX_SAFE_INTEGER;
        });
    }
    else {
        const textElement = element;
        textElement.rows = rows != null ? rows : Number.MAX_SAFE_INTEGER;
    }
};
exports.setupRowsUpdate = setupRowsUpdate;
/**
 * The value attribute seems to behave differently to other
 * attributes. When using `setAttribute`, browsers and gameface
 * don't always update the element to have what's in the value,
 * so we need to set the `value` attribute directly to solve this.
 * ref: https://github.com/facebook/react/blob/master/packages/react-dom/src/client/ReactDOMInput.js
 */
const updateValue = (element, value) => {
    const inputElement = element;
    // Only accept numerical characters if the input type is number
    if (inputElement.type === 'number' && isNaN(Number(value)))
        return;
    if (value != null) {
        inputElement.value = value;
        inputElement.setAttribute('value', value);
    }
    else {
        inputElement.value = '';
        inputElement.removeAttribute('value');
    }
};
const setupValueUpdate = (value, element) => {
    if ((0, core_1.isFacet)(value)) {
        return value.observe((value) => updateValue(element, value));
    }
    else {
        updateValue(element, value);
    }
};
exports.setupValueUpdate = setupValueUpdate;
const setupSrcUpdate = (src, element) => {
    if ((0, core_1.isFacet)(src)) {
        return src.observe((src) => {
            const textElement = element;
            textElement.src = src != null ? src : '';
        });
    }
    else {
        const textElement = element;
        textElement.src = src != null ? src : '';
    }
};
exports.setupSrcUpdate = setupSrcUpdate;
const setupTextUpdate = (text, element) => {
    if ((0, core_1.isFacet)(text)) {
        return text.observe((text) => {
            const textElement = element;
            textElement.nodeValue = (text != null ? text : '');
        });
    }
    else {
        const textElement = element;
        textElement.nodeValue = (text != null ? text : '');
    }
};
exports.setupTextUpdate = setupTextUpdate;
/**
 * removeAttribute and setAttribute automatically convert the attribute name to lower case.
 * The DOM attribute viewBox is camel cased so setAttributeNS and removeAttributeNS are used
 */
const setupViewBoxUpdate = (viewBox, element) => {
    if ((0, core_1.isFacet)(viewBox)) {
        return viewBox.observe((value) => {
            if (value != null) {
                element.setAttributeNS(null, 'viewBox', value);
            }
            else {
                element.removeAttributeNS(null, 'viewBox');
            }
        });
    }
    else {
        if (viewBox != null) {
            element.setAttributeNS(null, 'viewBox', viewBox);
        }
        else {
            element.removeAttributeNS(null, 'viewBox');
        }
    }
};
exports.setupViewBoxUpdate = setupViewBoxUpdate;
const setupAttributeUpdate = (attribute, value, element) => {
    if ((0, core_1.isFacet)(value)) {
        return value.observe((value) => {
            if (value === true) {
                element.setAttribute(attribute, '');
            }
            else if (value === false) {
                element.removeAttribute(attribute);
            }
            else if (value != null) {
                element.setAttribute(attribute, value);
            }
            else {
                element.removeAttribute(attribute);
            }
        });
    }
    else {
        if (value === true) {
            element.setAttribute(attribute, '');
        }
        else if (value === false) {
            element.removeAttribute(attribute);
        }
        else if (value != null) {
            element.setAttribute(attribute, value);
        }
        else {
            element.removeAttribute(attribute);
        }
    }
};
exports.setupAttributeUpdate = setupAttributeUpdate;
//# sourceMappingURL=setupAttributes.js.map

/***/ }),

/***/ 8446:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setupHostConfig = void 0;
const types_1 = __webpack_require__(7358);
const core_1 = __webpack_require__(8572);
const setupAttributes_1 = __webpack_require__(2786);
/**
 * Custom React Renderer with support for Facets
 *
 * Based on https://blog.atulr.com/react-custom-renderer-1/
 * For more information check the official docs: https://github.com/facebook/react/tree/main/packages/react-reconciler
 */
const setupHostConfig = () => ({
    isPrimaryRenderer: true,
    supportsMutation: true,
    supportsPersistence: false,
    supportsHydration: false,
    now: Date.now,
    /**
     * We need to support setting up the host config in an environment where window is not available globally yet
     * Ex: screenshot testing
     */
    setTimeout: typeof window !== 'undefined'
        ? window.setTimeout
        : (handler, timeout) => window.setTimeout(handler, timeout),
    /**
     * We need to support setting up the host config in an environment where window is not available globally yet
     * Ex: screenshot testing
     */
    clearTimeout: typeof window !== 'undefined' ? window.clearTimeout : (id) => window.clearTimeout(id),
    noTimeout: noop,
    scheduleDeferredCallback: function (callback, options) {
        return window.setTimeout(callback, options ? options.timeout : 0);
    },
    cancelDeferredCallback: function (id) {
        return window.clearTimeout(id);
    },
    getRootHostContext: function () {
        return EMPTY;
    },
    getChildHostContext: function () {
        return EMPTY;
    },
    shouldSetTextContent: function () {
        return false;
    },
    createTextInstance: function (newText) {
        return {
            element: document.createTextNode(newText),
        };
    },
    createInstance: function (externalType, newProps) {
        var _a;
        if (externalType === 'fast-text') {
            const element = document.createTextNode('');
            return {
                children: new Set(),
                element,
                text: (0, setupAttributes_1.setupTextUpdate)(newProps.text, element),
            };
        }
        const typeHTML = (_a = fastTypeMapHTML[externalType]) !== null && _a !== void 0 ? _a : externalType;
        const typeSVG = fastTypeMapSVG[externalType];
        const element = typeSVG != null
            ? document.createElementNS('http://www.w3.org/2000/svg', typeSVG)
            : document.createElement(typeHTML);
        let style;
        let styleUnsubscribers;
        if (newProps.style != null) {
            style = element.style;
            styleUnsubscribers = new Map();
            // We know for sure here that style will never be null (we created it above)
            const notNullStyle = style;
            const notNullStyleUnsubscribers = styleUnsubscribers;
            const styleProp = newProps.style;
            for (const key in styleProp) {
                const value = styleProp[key];
                if (value != null) {
                    if ((0, core_1.isFacet)(value)) {
                        notNullStyleUnsubscribers.set(key, value.observe((value) => {
                            notNullStyle[key] = value;
                        }));
                    }
                    else {
                        notNullStyle[key] = value;
                    }
                }
            }
        }
        if (newProps.dangerouslySetInnerHTML != null) {
            element.innerHTML = newProps.dangerouslySetInnerHTML.__html;
        }
        if (newProps.onClick) {
            element.addEventListener('click', newProps.onClick);
        }
        if (newProps.onFocus) {
            element.addEventListener('focus', newProps.onFocus);
        }
        if (newProps.onBlur) {
            element.addEventListener('blur', newProps.onBlur);
        }
        if (newProps.onMouseDown) {
            element.addEventListener('mousedown', newProps.onMouseDown);
        }
        if (newProps.onMouseMove) {
            element.addEventListener('mousemove', newProps.onMouseMove);
        }
        if (newProps.onMouseUp) {
            element.addEventListener('mouseup', newProps.onMouseUp);
        }
        if (newProps.onTouchStart) {
            element.addEventListener('touchstart', newProps.onTouchStart);
        }
        if (newProps.onTouchMove) {
            element.addEventListener('touchmove', newProps.onTouchMove);
        }
        if (newProps.onTouchEnd) {
            element.addEventListener('touchend', newProps.onTouchEnd);
        }
        if (newProps.onMouseEnter) {
            element.addEventListener('mouseenter', newProps.onMouseEnter);
        }
        if (newProps.onMouseLeave) {
            element.addEventListener('mouseleave', newProps.onMouseLeave);
        }
        if (newProps.onKeyPress) {
            element.addEventListener('keypress', newProps.onKeyPress);
        }
        if (newProps.onKeyDown) {
            element.addEventListener('keydown', newProps.onKeyDown);
        }
        if (newProps.onKeyUp) {
            element.addEventListener('keyup', newProps.onKeyUp);
        }
        return {
            element,
            styleUnsubscribers,
            style,
            children: new Set(),
            className: newProps.className != null ? (0, setupAttributes_1.setupClassUpdate)(newProps.className, element) : undefined,
            id: newProps.id != null ? (0, setupAttributes_1.setupIdUpdate)(newProps.id, element) : undefined,
            autoPlay: newProps.autoPlay != null ? (0, setupAttributes_1.setupAttributeUpdate)('autoplay', newProps.autoPlay, element) : undefined,
            loop: newProps.loop != null ? (0, setupAttributes_1.setupAttributeUpdate)('loop', newProps.loop, element) : undefined,
            href: newProps.href != null ? (0, setupAttributes_1.setupAttributeUpdate)('href', newProps.href, element) : undefined,
            target: newProps.target != null ? (0, setupAttributes_1.setupAttributeUpdate)('target', newProps.target, element) : undefined,
            disabled: newProps.disabled != null ? (0, setupAttributes_1.setupAttributeUpdate)('disabled', newProps.disabled, element) : undefined,
            maxLength: newProps.maxLength != null ? (0, setupAttributes_1.setupMaxLengthUpdate)(newProps.maxLength, element) : undefined,
            rows: newProps.rows != null ? (0, setupAttributes_1.setupRowsUpdate)(newProps.rows, element) : undefined,
            type: newProps.type != null ? (0, setupAttributes_1.setupAttributeUpdate)('type', newProps.type, element) : undefined,
            value: newProps.value != null ? (0, setupAttributes_1.setupValueUpdate)(newProps.value, element) : undefined,
            src: newProps.src != null ? (0, setupAttributes_1.setupSrcUpdate)(newProps.src, element) : undefined,
            d: newProps.d != null ? (0, setupAttributes_1.setupAttributeUpdate)('d', newProps.d, element) : undefined,
            fill: newProps.fill != null ? (0, setupAttributes_1.setupAttributeUpdate)('fill', newProps.fill, element) : undefined,
            height: newProps.height != null ? (0, setupAttributes_1.setupAttributeUpdate)('height', newProps.height, element) : undefined,
            stroke: newProps.stroke != null ? (0, setupAttributes_1.setupAttributeUpdate)('stroke', newProps.stroke, element) : undefined,
            x: newProps.x != null ? (0, setupAttributes_1.setupAttributeUpdate)('x', newProps.x, element) : undefined,
            width: newProps.width != null ? (0, setupAttributes_1.setupAttributeUpdate)('width', newProps.width, element) : undefined,
            y: newProps.y != null ? (0, setupAttributes_1.setupAttributeUpdate)('y', newProps.y, element) : undefined,
            cx: newProps.cx != null ? (0, setupAttributes_1.setupAttributeUpdate)('cx', newProps.cx, element) : undefined,
            cy: newProps.cy != null ? (0, setupAttributes_1.setupAttributeUpdate)('cy', newProps.cy, element) : undefined,
            r: newProps.r != null ? (0, setupAttributes_1.setupAttributeUpdate)('r', newProps.r, element) : undefined,
            rx: newProps.rx != null ? (0, setupAttributes_1.setupAttributeUpdate)('rx', newProps.rx, element) : undefined,
            ry: newProps.ry != null ? (0, setupAttributes_1.setupAttributeUpdate)('ry', newProps.ry, element) : undefined,
            x1: newProps.x1 != null ? (0, setupAttributes_1.setupAttributeUpdate)('x1', newProps.x1, element) : undefined,
            x2: newProps.x2 != null ? (0, setupAttributes_1.setupAttributeUpdate)('x2', newProps.x2, element) : undefined,
            y1: newProps.y1 != null ? (0, setupAttributes_1.setupAttributeUpdate)('y1', newProps.y1, element) : undefined,
            y2: newProps.y2 != null ? (0, setupAttributes_1.setupAttributeUpdate)('y2', newProps.y2, element) : undefined,
            strokeWidth: newProps.strokeWidth != null ? (0, setupAttributes_1.setupAttributeUpdate)('stroke-width', newProps.strokeWidth, element) : undefined,
            viewBox: newProps.viewBox != null ? (0, setupAttributes_1.setupViewBoxUpdate)(newProps.viewBox, element) : undefined,
            xLinkHref: newProps.xLinkHref != null ? (0, setupAttributes_1.setupAttributeUpdate)('xlink:href', newProps.xLinkHref, element) : undefined,
            fillOpacity: newProps.fillOpacity != null ? (0, setupAttributes_1.setupAttributeUpdate)('fill-opacity', newProps.fillOpacity, element) : undefined,
            strokeOpacity: newProps.strokeOpacity != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('stroke-opacity', newProps.strokeOpacity, element)
                : undefined,
            strokeLinecap: newProps.strokeLinecap != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('stroke-linecap', newProps.strokeLinecap, element)
                : undefined,
            strokeLinejoin: newProps.strokeLinejoin != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('stroke-linejoin', newProps.strokeLinejoin, element)
                : undefined,
            points: newProps.points != null ? (0, setupAttributes_1.setupAttributeUpdate)('points', newProps.points, element) : undefined,
            offset: newProps.offset != null ? (0, setupAttributes_1.setupAttributeUpdate)('offset', newProps.offset, element) : undefined,
            stopColor: newProps.stopColor != null ? (0, setupAttributes_1.setupAttributeUpdate)('stop-color', newProps.stopColor, element) : undefined,
            stopOpacity: newProps.stopOpacity != null ? (0, setupAttributes_1.setupAttributeUpdate)('stop-opacity', newProps.stopOpacity, element) : undefined,
            fontFamily: newProps.fontFamily != null ? (0, setupAttributes_1.setupAttributeUpdate)('font-family', newProps.fontFamily, element) : undefined,
            fontSize: newProps.fontSize != null ? (0, setupAttributes_1.setupAttributeUpdate)('font-size', newProps.fontSize, element) : undefined,
            ['data-droppable']: newProps['data-droppable'] != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('data-droppable', newProps['data-droppable'], element)
                : undefined,
            ['data-narrate']: newProps['data-narrate'] != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('data-narrate', newProps['data-narrate'], element)
                : undefined,
            ['data-narrate-as']: newProps['data-narrate-as'] != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('data-narrate-as', newProps['data-narrate-as'], element)
                : undefined,
            ['data-narrate-before']: newProps['data-narrate-before'] != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('data-narrate-before', newProps['data-narrate-before'], element)
                : undefined,
            ['data-narrate-after']: newProps['data-narrate-after'] != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('data-narrate-after', newProps['data-narrate-after'], element)
                : undefined,
            ['data-testid']: newProps['data-testid'] != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('data-testid', newProps['data-testid'], element)
                : undefined,
            ['data-x-ray']: newProps['data-x-ray'] != null
                ? (0, setupAttributes_1.setupAttributeUpdate)('data-x-ray', newProps['data-x-ray'], element)
                : undefined,
        };
    },
    finalizeInitialChildren: function () {
        return false;
    },
    prepareForCommit: function () { },
    resetAfterCommit: function () { },
    commitMount: function () { },
    prepareUpdate: function () {
        return true;
    },
    commitUpdate: function (instance, updatePayload, type, oldProps, newProps) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25;
        const { element: uncastElement } = instance;
        if (type === 'fast-text') {
            const textElement = uncastElement;
            if (newProps.text !== oldProps.text) {
                (_a = instance.text) === null || _a === void 0 ? void 0 : _a.call(instance);
                instance.text = (0, setupAttributes_1.setupTextUpdate)(newProps.text, textElement);
            }
            return;
        }
        const element = uncastElement;
        if (newProps.style !== oldProps.style) {
            const style = instance.style || element.style;
            const styleUnsubscribers = instance.styleUnsubscribers || new Map();
            instance.style = style;
            instance.styleUnsubscribers = styleUnsubscribers;
            const notNullStyle = style;
            const oldStyleProp = oldProps.style;
            const newStyleProp = newProps.style;
            if (oldStyleProp != null) {
                for (const key in oldStyleProp) {
                    const oldValue = oldStyleProp[key];
                    const newValue = newStyleProp === null || newStyleProp === void 0 ? void 0 : newStyleProp[key];
                    if (oldValue !== newValue || newStyleProp == null) {
                        if ((0, core_1.isFacet)(oldValue)) {
                            (_b = styleUnsubscribers.get(key)) === null || _b === void 0 ? void 0 : _b();
                        }
                    }
                }
            }
            if (newStyleProp != null) {
                for (const key in newStyleProp) {
                    const oldValue = oldStyleProp === null || oldStyleProp === void 0 ? void 0 : oldStyleProp[key];
                    const newValue = newStyleProp[key];
                    if (oldValue !== newValue || oldStyleProp == null) {
                        if ((0, core_1.isFacet)(newValue)) {
                            styleUnsubscribers.set(key, newValue.observe((value) => {
                                notNullStyle[key] = value;
                            }));
                        }
                        else {
                            notNullStyle[key] = newValue;
                        }
                    }
                }
            }
        }
        if (newProps.dangerouslySetInnerHTML != oldProps.dangerouslySetInnerHTML) {
            if (newProps.dangerouslySetInnerHTML != null) {
                element.innerHTML = newProps.dangerouslySetInnerHTML.__html;
            }
            else {
                element.innerHTML = '';
            }
        }
        if (newProps.autoPlay !== oldProps.autoPlay) {
            (_c = instance.autoPlay) === null || _c === void 0 ? void 0 : _c.call(instance);
            if (newProps.autoPlay == null) {
                element.removeAttribute('autoplay');
            }
            else {
                instance.autoPlay = (0, setupAttributes_1.setupAttributeUpdate)('autoplay', newProps.autoPlay, element);
            }
        }
        if (newProps.className !== oldProps.className) {
            (_d = instance.className) === null || _d === void 0 ? void 0 : _d.call(instance);
            if (newProps.className == null) {
                element.className = '';
            }
            else {
                instance.className = (0, setupAttributes_1.setupClassUpdate)(newProps.className, element);
            }
        }
        if (newProps.d !== oldProps.d) {
            (_e = instance.d) === null || _e === void 0 ? void 0 : _e.call(instance);
            if (newProps.d == null) {
                element.removeAttribute('d');
            }
            else {
                instance.d = (0, setupAttributes_1.setupAttributeUpdate)('d', newProps.d, element);
            }
        }
        if (newProps['data-droppable'] !== oldProps['data-droppable']) {
            (_f = instance['data-droppable']) === null || _f === void 0 ? void 0 : _f.call(instance);
            if (newProps['data-droppable'] == null) {
                element.removeAttribute('data-droppable');
            }
            else {
                instance['data-droppable'] = (0, setupAttributes_1.setupAttributeUpdate)('data-droppable', newProps['data-droppable'], element);
            }
        }
        if (newProps['data-narrate'] !== oldProps['data-narrate']) {
            (_g = instance['data-narrate']) === null || _g === void 0 ? void 0 : _g.call(instance);
            if (newProps['data-narrate'] == null) {
                element.removeAttribute('data-narrate');
            }
            else {
                instance['data-narrate'] = (0, setupAttributes_1.setupAttributeUpdate)('data-narrate', newProps['data-narrate'], element);
            }
        }
        if (newProps['data-narrate-as'] !== oldProps['data-narrate-as']) {
            (_h = instance['data-narrate-as']) === null || _h === void 0 ? void 0 : _h.call(instance);
            if (newProps['data-narrate-as'] == null) {
                element.removeAttribute('data-narrate-as');
            }
            else {
                instance['data-narrate-as'] = (0, setupAttributes_1.setupAttributeUpdate)('data-narrate-as', newProps['data-narrate-as'], element);
            }
        }
        if (newProps['data-narrate-after'] !== oldProps['data-narrate-after']) {
            (_j = instance['data-narrate-after']) === null || _j === void 0 ? void 0 : _j.call(instance);
            if (newProps['data-narrate-after'] == null) {
                element.removeAttribute('data-narrate-after');
            }
            else {
                instance['data-narrate-after'] = (0, setupAttributes_1.setupAttributeUpdate)('data-narrate-after', newProps['data-narrate-after'], element);
            }
        }
        if (newProps['data-narrate-before'] !== oldProps['data-narrate-before']) {
            (_k = instance['data-narrate-before']) === null || _k === void 0 ? void 0 : _k.call(instance);
            if (newProps['data-narrate-before'] == null) {
                element.removeAttribute('data-narrate-before');
            }
            else {
                instance['data-narrate-before'] = (0, setupAttributes_1.setupAttributeUpdate)('data-narrate-before', newProps['data-narrate-before'], element);
            }
        }
        if (newProps['data-testid'] !== oldProps['data-testid']) {
            (_l = instance['data-testid']) === null || _l === void 0 ? void 0 : _l.call(instance);
            if (newProps['data-testid'] == null) {
                element.removeAttribute('data-testid');
            }
            else {
                instance['data-testid'] = (0, setupAttributes_1.setupAttributeUpdate)('data-testid', newProps['data-testid'], element);
            }
        }
        if (newProps['data-x-ray'] !== oldProps['data-x-ray']) {
            (_m = instance['data-x-ray']) === null || _m === void 0 ? void 0 : _m.call(instance);
            if (newProps['data-x-ray'] == null) {
                element.removeAttribute('data-x-ray');
            }
            else {
                instance['data-x-ray'] = (0, setupAttributes_1.setupAttributeUpdate)('data-x-ray', newProps['data-x-ray'], element);
            }
        }
        if (newProps.fill !== oldProps.fill) {
            (_o = instance.fill) === null || _o === void 0 ? void 0 : _o.call(instance);
            if (newProps.fill == null) {
                element.removeAttribute('fill');
            }
            else {
                instance.fill = (0, setupAttributes_1.setupAttributeUpdate)('fill', newProps.fill, element);
            }
        }
        if (newProps.id !== oldProps.id) {
            (_p = instance.id) === null || _p === void 0 ? void 0 : _p.call(instance);
            if (newProps.id == null) {
                element.id = '';
            }
            else {
                instance.id = (0, setupAttributes_1.setupIdUpdate)(newProps.id, element);
            }
        }
        if (newProps.loop !== oldProps.loop) {
            (_q = instance.loop) === null || _q === void 0 ? void 0 : _q.call(instance);
            if (newProps.loop == null) {
                element.removeAttribute('loop');
            }
            else {
                instance.loop = (0, setupAttributes_1.setupAttributeUpdate)('loop', newProps.loop, element);
            }
        }
        if (newProps.href !== oldProps.href) {
            (_r = instance.href) === null || _r === void 0 ? void 0 : _r.call(instance);
            if (newProps.href == null) {
                element.removeAttribute('href');
            }
            else {
                instance.href = (0, setupAttributes_1.setupAttributeUpdate)('href', newProps.href, element);
            }
        }
        if (newProps.target !== oldProps.target) {
            (_s = instance.target) === null || _s === void 0 ? void 0 : _s.call(instance);
            if (newProps.target == null) {
                element.removeAttribute('target');
            }
            else {
                instance.target = (0, setupAttributes_1.setupAttributeUpdate)('target', newProps.target, element);
            }
        }
        if (newProps.disabled !== oldProps.disabled) {
            (_t = instance.disabled) === null || _t === void 0 ? void 0 : _t.call(instance);
            if (newProps.disabled == null) {
                element.removeAttribute('disabled');
            }
            else {
                instance.disabled = (0, setupAttributes_1.setupAttributeUpdate)('disabled', newProps.disabled, element);
            }
        }
        if (newProps.height !== oldProps.height) {
            (_u = instance.height) === null || _u === void 0 ? void 0 : _u.call(instance);
            if (newProps.height == null) {
                element.removeAttribute('height');
            }
            else {
                instance.height = (0, setupAttributes_1.setupAttributeUpdate)('height', newProps.height, element);
            }
        }
        if (newProps.maxLength !== oldProps.maxLength) {
            (_v = instance.maxLength) === null || _v === void 0 ? void 0 : _v.call(instance);
            if (newProps.maxLength == null) {
                const textElement = element;
                textElement.removeAttribute('maxlength');
            }
            else {
                instance.maxLength = (0, setupAttributes_1.setupMaxLengthUpdate)(newProps.maxLength, element);
            }
        }
        if (newProps.rows !== oldProps.rows) {
            (_w = instance.rows) === null || _w === void 0 ? void 0 : _w.call(instance);
            if (newProps.rows == null) {
                const textElement = element;
                textElement.removeAttribute('rows');
            }
            else {
                instance.rows = (0, setupAttributes_1.setupRowsUpdate)(newProps.rows, element);
            }
        }
        if (newProps.stroke !== oldProps.stroke) {
            (_x = instance.stroke) === null || _x === void 0 ? void 0 : _x.call(instance);
            if (newProps.stroke == null) {
                element.removeAttribute('stroke');
            }
            else {
                instance.stroke = (0, setupAttributes_1.setupAttributeUpdate)('stroke', newProps.stroke, element);
            }
        }
        if (newProps.type !== oldProps.type) {
            (_y = instance.type) === null || _y === void 0 ? void 0 : _y.call(instance);
            if (newProps.type == null) {
                const textElement = element;
                textElement.removeAttribute('type');
            }
            else {
                instance.type = (0, setupAttributes_1.setupAttributeUpdate)('type', newProps.type, element);
            }
        }
        if (newProps.value !== oldProps.value) {
            (_z = instance.value) === null || _z === void 0 ? void 0 : _z.call(instance);
            if (newProps.value == null) {
                const textElement = element;
                textElement.removeAttribute('value');
            }
            else {
                instance.value = (0, setupAttributes_1.setupValueUpdate)(newProps.value, element);
            }
        }
        if (newProps.x !== oldProps.x) {
            (_0 = instance.x) === null || _0 === void 0 ? void 0 : _0.call(instance);
            if (newProps.x == null) {
                element.removeAttribute('x');
            }
            else {
                instance.x = (0, setupAttributes_1.setupAttributeUpdate)('x', newProps.x, element);
            }
        }
        if (newProps.width !== oldProps.width) {
            (_1 = instance.width) === null || _1 === void 0 ? void 0 : _1.call(instance);
            if (newProps.width == null) {
                element.removeAttribute('width');
            }
            else {
                instance.width = (0, setupAttributes_1.setupAttributeUpdate)('width', newProps.width, element);
            }
        }
        if (newProps.y !== oldProps.y) {
            (_2 = instance.y) === null || _2 === void 0 ? void 0 : _2.call(instance);
            if (newProps.y == null) {
                element.removeAttribute('y');
            }
            else {
                instance.y = (0, setupAttributes_1.setupAttributeUpdate)('y', newProps.y, element);
            }
        }
        if (newProps.cx !== oldProps.cx) {
            (_3 = instance.cx) === null || _3 === void 0 ? void 0 : _3.call(instance);
            if (newProps.cx == null) {
                element.removeAttribute('cx');
            }
            else {
                instance.cx = (0, setupAttributes_1.setupAttributeUpdate)('cx', newProps.cx, element);
            }
        }
        if (newProps.r !== oldProps.r) {
            (_4 = instance.r) === null || _4 === void 0 ? void 0 : _4.call(instance);
            if (newProps.r == null) {
                element.removeAttribute('r');
            }
            else {
                instance.r = (0, setupAttributes_1.setupAttributeUpdate)('r', newProps.r, element);
            }
        }
        if (newProps.cy !== oldProps.cy) {
            (_5 = instance.cy) === null || _5 === void 0 ? void 0 : _5.call(instance);
            if (newProps.cy == null) {
                element.removeAttribute('cy');
            }
            else {
                instance.cy = (0, setupAttributes_1.setupAttributeUpdate)('cy', newProps.cy, element);
            }
        }
        if (newProps.rx !== oldProps.rx) {
            (_6 = instance.rx) === null || _6 === void 0 ? void 0 : _6.call(instance);
            if (newProps.rx == null) {
                element.removeAttribute('rx');
            }
            else {
                instance.rx = (0, setupAttributes_1.setupAttributeUpdate)('rx', newProps.rx, element);
            }
        }
        if (newProps.ry !== oldProps.ry) {
            (_7 = instance.ry) === null || _7 === void 0 ? void 0 : _7.call(instance);
            if (newProps.ry == null) {
                element.removeAttribute('ry');
            }
            else {
                instance.ry = (0, setupAttributes_1.setupAttributeUpdate)('ry', newProps.ry, element);
            }
        }
        if (newProps.x1 !== oldProps.x1) {
            (_8 = instance.x1) === null || _8 === void 0 ? void 0 : _8.call(instance);
            if (newProps.x1 == null) {
                element.removeAttribute('x1');
            }
            else {
                instance.x1 = (0, setupAttributes_1.setupAttributeUpdate)('x1', newProps.x1, element);
            }
        }
        if (newProps.x2 !== oldProps.x2) {
            (_9 = instance.x2) === null || _9 === void 0 ? void 0 : _9.call(instance);
            if (newProps.x2 == null) {
                element.removeAttribute('x2');
            }
            else {
                instance.x2 = (0, setupAttributes_1.setupAttributeUpdate)('x2', newProps.x2, element);
            }
        }
        if (newProps.y1 !== oldProps.y1) {
            (_10 = instance.y1) === null || _10 === void 0 ? void 0 : _10.call(instance);
            if (newProps.y1 == null) {
                element.removeAttribute('y1');
            }
            else {
                instance.y1 = (0, setupAttributes_1.setupAttributeUpdate)('y1', newProps.y1, element);
            }
        }
        if (newProps.y2 !== oldProps.y2) {
            (_11 = instance.y2) === null || _11 === void 0 ? void 0 : _11.call(instance);
            if (newProps.y2 == null) {
                element.removeAttribute('y2');
            }
            else {
                instance.y2 = (0, setupAttributes_1.setupAttributeUpdate)('y2', newProps.y2, element);
            }
        }
        if (newProps.strokeWidth !== oldProps.strokeWidth) {
            (_12 = instance.strokeWidth) === null || _12 === void 0 ? void 0 : _12.call(instance);
            if (newProps.strokeWidth == null) {
                element.removeAttribute('strokeWidth');
            }
            else {
                instance.strokeWidth = (0, setupAttributes_1.setupAttributeUpdate)('stroke-width', newProps.strokeWidth, element);
            }
        }
        if (newProps.viewBox !== oldProps.viewBox) {
            (_13 = instance.viewBox) === null || _13 === void 0 ? void 0 : _13.call(instance);
            if (newProps.viewBox == null) {
                element.removeAttribute('viewBox');
            }
            else {
                instance.viewBox = (0, setupAttributes_1.setupViewBoxUpdate)(newProps.viewBox, element);
            }
        }
        if (newProps.xLinkHref !== oldProps.xLinkHref) {
            (_14 = instance.xLinkHref) === null || _14 === void 0 ? void 0 : _14.call(instance);
            if (newProps.xLinkHref == null) {
                element.removeAttribute('xlink:href');
            }
            else {
                instance.xLinkHref = (0, setupAttributes_1.setupAttributeUpdate)('xlink:href', newProps.xLinkHref, element);
            }
        }
        if (newProps.fillOpacity !== oldProps.fillOpacity) {
            (_15 = instance.fillOpacity) === null || _15 === void 0 ? void 0 : _15.call(instance);
            if (newProps.fillOpacity == null) {
                element.removeAttribute('fill-opacity');
            }
            else {
                instance.fillOpacity = (0, setupAttributes_1.setupAttributeUpdate)('fill-opacity', newProps.fillOpacity, element);
            }
        }
        if (newProps.strokeOpacity !== oldProps.strokeOpacity) {
            (_16 = instance.strokeOpacity) === null || _16 === void 0 ? void 0 : _16.call(instance);
            if (newProps.strokeOpacity == null) {
                element.removeAttribute('stroke-opacity');
            }
            else {
                instance.strokeOpacity = (0, setupAttributes_1.setupAttributeUpdate)('stroke-opacity', newProps.strokeOpacity, element);
            }
        }
        if (newProps.strokeLinecap !== oldProps.strokeLinecap) {
            (_17 = instance.strokeLinecap) === null || _17 === void 0 ? void 0 : _17.call(instance);
            if (newProps.strokeLinecap == null) {
                element.removeAttribute('stroke-linecap');
            }
            else {
                instance.strokeLinecap = (0, setupAttributes_1.setupAttributeUpdate)('stroke-linecap', newProps.strokeLinecap, element);
            }
        }
        if (newProps.strokeLinejoin !== oldProps.strokeLinejoin) {
            (_18 = instance.strokeLinejoin) === null || _18 === void 0 ? void 0 : _18.call(instance);
            if (newProps.strokeLinejoin == null) {
                element.removeAttribute('stroke-linejoin');
            }
            else {
                instance.strokeLinejoin = (0, setupAttributes_1.setupAttributeUpdate)('stroke-linejoin', newProps.strokeLinejoin, element);
            }
        }
        if (newProps.points !== oldProps.points) {
            (_19 = instance.points) === null || _19 === void 0 ? void 0 : _19.call(instance);
            if (newProps.points == null) {
                element.removeAttribute('points');
            }
            else {
                instance.points = (0, setupAttributes_1.setupAttributeUpdate)('points', newProps.points, element);
            }
        }
        if (newProps.offset !== oldProps.offset) {
            (_20 = instance.offset) === null || _20 === void 0 ? void 0 : _20.call(instance);
            if (newProps.offset == null) {
                element.removeAttribute('offset');
            }
            else {
                instance.offset = (0, setupAttributes_1.setupAttributeUpdate)('offset', newProps.offset, element);
            }
        }
        if (newProps.stopColor !== oldProps.stopColor) {
            (_21 = instance.stopColor) === null || _21 === void 0 ? void 0 : _21.call(instance);
            if (newProps.stopColor == null) {
                element.removeAttribute('stop-color');
            }
            else {
                instance.stopColor = (0, setupAttributes_1.setupAttributeUpdate)('stop-color', newProps.stopColor, element);
            }
        }
        if (newProps.stopOpacity !== oldProps.stopOpacity) {
            (_22 = instance.stopOpacity) === null || _22 === void 0 ? void 0 : _22.call(instance);
            if (newProps.stopOpacity == null) {
                element.removeAttribute('stop-opacity');
            }
            else {
                instance.stopOpacity = (0, setupAttributes_1.setupAttributeUpdate)('stop-opacity', newProps.stopOpacity, element);
            }
        }
        if (newProps.fontFamily !== oldProps.fontFamily) {
            (_23 = instance.fontFamily) === null || _23 === void 0 ? void 0 : _23.call(instance);
            if (newProps.fontFamily == null) {
                element.removeAttribute('font-family');
            }
            else {
                instance.fontFamily = (0, setupAttributes_1.setupAttributeUpdate)('font-family', newProps.fontFamily, element);
            }
        }
        if (newProps.fontSize !== oldProps.fontSize) {
            (_24 = instance.fontSize) === null || _24 === void 0 ? void 0 : _24.call(instance);
            if (newProps.fontSize == null) {
                element.removeAttribute('font-size');
            }
            else {
                instance.fontSize = (0, setupAttributes_1.setupAttributeUpdate)('font-size', newProps.fontSize, element);
            }
        }
        if (newProps.src !== oldProps.src) {
            (_25 = instance.src) === null || _25 === void 0 ? void 0 : _25.call(instance);
            if (newProps.src == null) {
                const textElement = element;
                textElement.removeAttribute('src');
            }
            else {
                instance.src = (0, setupAttributes_1.setupSrcUpdate)(newProps.src, element);
            }
        }
        if (newProps.onClick !== oldProps.onClick) {
            if (oldProps.onClick)
                element.removeEventListener('click', oldProps.onClick);
            if (newProps.onClick)
                element.addEventListener('click', newProps.onClick);
        }
        if (newProps.onFocus !== oldProps.onFocus) {
            if (oldProps.onFocus)
                element.removeEventListener('focus', oldProps.onFocus);
            if (newProps.onFocus)
                element.addEventListener('focus', newProps.onFocus);
        }
        if (newProps.onBlur !== oldProps.onBlur) {
            if (oldProps.onBlur)
                element.removeEventListener('blur', oldProps.onBlur);
            if (newProps.onBlur)
                element.addEventListener('blur', newProps.onBlur);
        }
        if (newProps.onMouseDown !== oldProps.onMouseDown) {
            if (oldProps.onMouseDown)
                element.removeEventListener('mousedown', oldProps.onMouseDown);
            if (newProps.onMouseDown)
                element.addEventListener('mousedown', newProps.onMouseDown);
        }
        if (newProps.onMouseMove !== oldProps.onMouseMove) {
            if (oldProps.onMouseMove)
                element.removeEventListener('mousemove', oldProps.onMouseMove);
            if (newProps.onMouseMove)
                element.addEventListener('mousemove', newProps.onMouseMove);
        }
        if (newProps.onMouseEnter !== oldProps.onMouseEnter) {
            if (oldProps.onMouseEnter)
                element.removeEventListener('mouseenter', oldProps.onMouseEnter);
            if (newProps.onMouseEnter)
                element.addEventListener('mouseenter', newProps.onMouseEnter);
        }
        if (newProps.onMouseLeave !== oldProps.onMouseLeave) {
            if (oldProps.onMouseLeave)
                element.removeEventListener('mouseleave', oldProps.onMouseLeave);
            if (newProps.onMouseLeave)
                element.addEventListener('mouseleave', newProps.onMouseLeave);
        }
        if (newProps.onMouseUp !== oldProps.onMouseUp) {
            if (oldProps.onMouseUp)
                element.removeEventListener('mouseup', oldProps.onMouseUp);
            if (newProps.onMouseUp)
                element.addEventListener('mouseup', newProps.onMouseUp);
        }
        if (newProps.onTouchStart !== oldProps.onTouchStart) {
            if (oldProps.onTouchStart)
                element.removeEventListener('touchstart', oldProps.onTouchStart);
            if (newProps.onTouchStart)
                element.addEventListener('touchstart', newProps.onTouchStart);
        }
        if (newProps.onTouchMove !== oldProps.onTouchMove) {
            if (oldProps.onTouchMove)
                element.removeEventListener('touchmove', oldProps.onTouchMove);
            if (newProps.onTouchMove)
                element.addEventListener('touchmove', newProps.onTouchMove);
        }
        if (newProps.onTouchEnd !== oldProps.onTouchEnd) {
            if (oldProps.onTouchEnd)
                element.removeEventListener('touchend', oldProps.onTouchEnd);
            if (newProps.onTouchEnd)
                element.addEventListener('touchend', newProps.onTouchEnd);
        }
        if (newProps.onTouchMove !== oldProps.onTouchMove) {
            if (oldProps.onTouchMove)
                element.removeEventListener('touchmove', oldProps.onTouchMove);
            if (newProps.onTouchMove)
                element.addEventListener('touchmove', newProps.onTouchMove);
        }
        if (newProps.onTouchEnd !== oldProps.onTouchEnd) {
            if (oldProps.onTouchEnd)
                element.removeEventListener('touchend', oldProps.onTouchEnd);
            if (newProps.onTouchEnd)
                element.addEventListener('touchend', newProps.onTouchEnd);
        }
        if (newProps.onKeyPress !== oldProps.onKeyPress) {
            if (oldProps.onKeyPress)
                element.removeEventListener('keypress', oldProps.onKeyPress);
            if (newProps.onKeyPress)
                element.addEventListener('keypress', newProps.onKeyPress);
        }
        if (newProps.onKeyDown !== oldProps.onKeyDown) {
            if (oldProps.onKeyDown)
                element.removeEventListener('keydown', oldProps.onKeyDown);
            if (newProps.onKeyDown)
                element.addEventListener('keydown', newProps.onKeyDown);
        }
        if (newProps.onKeyUp !== oldProps.onKeyUp) {
            if (oldProps.onKeyUp)
                element.removeEventListener('keyup', oldProps.onKeyUp);
            if (newProps.onKeyUp)
                element.addEventListener('keyup', newProps.onKeyUp);
        }
    },
    commitTextUpdate: function (textInstance, oldText, newText) {
        textInstance.element.nodeValue = newText;
    },
    appendInitialChild: function (parent, child) {
        if ((0, types_1.isElementContainer)(child)) {
            parent.children.add(child);
        }
        parent.element.appendChild(child.element);
    },
    appendChildToContainer: function (parent, child) {
        if ((0, types_1.isElementContainer)(child)) {
            parent.children.add(child);
        }
        parent.element.appendChild(child.element);
    },
    appendChild: function (parentInstance, child) {
        if ((0, types_1.isElementContainer)(child)) {
            parentInstance.children.add(child);
        }
        parentInstance.element.appendChild(child.element);
    },
    insertBefore: function (parentInstance, child, beforeChild) {
        parentInstance.element.insertBefore(child.element, beforeChild.element);
    },
    removeChild: function (parentInstance, child) {
        if ((0, types_1.isElementContainer)(child)) {
            cleanupElementContainer(parentInstance, child);
        }
        parentInstance.element.removeChild(child.element);
    },
    insertInContainerBefore: function (container, child, beforeChild) {
        container.element.insertBefore(child.element, beforeChild.element);
    },
    removeChildFromContainer: function (container, child) {
        if ((0, types_1.isElementContainer)(child)) {
            cleanupElementContainer(container, child);
        }
        container.element.removeChild(child.element);
    },
    resetTextContent: function (instance) {
        instance.element.textContent = '';
    },
    shouldDeprioritizeSubtree: function () {
        return false;
    },
    getPublicInstance: function (instance) {
        return instance.element;
    },
});
exports.setupHostConfig = setupHostConfig;
const cleanupElementContainer = (parent, instance) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;
    parent.children.delete(instance);
    (_a = instance.styleUnsubscribers) === null || _a === void 0 ? void 0 : _a.forEach((unsubscribe) => unsubscribe());
    (_b = instance.styleUnsubscribers) === null || _b === void 0 ? void 0 : _b.clear();
    instance.children.forEach(cleanupElementContainer);
    instance.children.clear();
    (_c = instance.className) === null || _c === void 0 ? void 0 : _c.call(instance);
    (_d = instance['data-droppable']) === null || _d === void 0 ? void 0 : _d.call(instance);
    (_e = instance['data-narrate']) === null || _e === void 0 ? void 0 : _e.call(instance);
    (_f = instance['data-narrate-as']) === null || _f === void 0 ? void 0 : _f.call(instance);
    (_g = instance['data-narrate-after']) === null || _g === void 0 ? void 0 : _g.call(instance);
    (_h = instance['data-narrate-before']) === null || _h === void 0 ? void 0 : _h.call(instance);
    (_j = instance['data-testid']) === null || _j === void 0 ? void 0 : _j.call(instance);
    (_k = instance['data-x-ray']) === null || _k === void 0 ? void 0 : _k.call(instance);
    (_l = instance.id) === null || _l === void 0 ? void 0 : _l.call(instance);
    (_m = instance.src) === null || _m === void 0 ? void 0 : _m.call(instance);
    (_o = instance.href) === null || _o === void 0 ? void 0 : _o.call(instance);
    (_p = instance.target) === null || _p === void 0 ? void 0 : _p.call(instance);
    (_q = instance.autoPlay) === null || _q === void 0 ? void 0 : _q.call(instance);
    (_r = instance.loop) === null || _r === void 0 ? void 0 : _r.call(instance);
    (_s = instance.disabled) === null || _s === void 0 ? void 0 : _s.call(instance);
    (_t = instance.maxLength) === null || _t === void 0 ? void 0 : _t.call(instance);
    (_u = instance.rows) === null || _u === void 0 ? void 0 : _u.call(instance);
    (_v = instance.value) === null || _v === void 0 ? void 0 : _v.call(instance);
    (_w = instance.type) === null || _w === void 0 ? void 0 : _w.call(instance);
    (_x = instance.text) === null || _x === void 0 ? void 0 : _x.call(instance);
};
const noop = () => { };
const EMPTY = {};
const fastTypeMapHTML = {
    'fast-a': 'a',
    'fast-div': 'div',
    'fast-p': 'p',
    'fast-img': 'img',
    'fast-input': 'input',
    'fast-span': 'span',
    'fast-textarea': 'textarea',
    'fast-text': 'span',
    a: 'a',
    div: 'div',
    p: 'p',
    img: 'img',
    textarea: 'textarea',
    input: 'input',
    style: 'style',
};
const fastTypeMapSVG = {
    'fast-circle': 'circle',
    'fast-ellipse': 'ellipse',
    'fast-line': 'line',
    'fast-path': 'path',
    'fast-rect': 'rect',
    'fast-svg': 'svg',
    'fast-use': 'use',
    'fast-polyline': 'polyline',
    'fast-polygon': 'polygon',
    'fast-linearGradient': 'linearGradient',
    'fast-radialGradient': 'radialGradient',
    'fast-stop': 'stop',
    'fast-svg-text': 'text',
    'fast-pattern': 'pattern',
    circle: 'circle',
    ellipse: 'ellipse',
    line: 'line',
    path: 'path',
    rect: 'rect',
    svg: 'svg',
    symbol: 'symbol',
    g: 'g',
    use: 'use',
    defs: 'defs',
    polyline: 'polyline',
    polygon: 'polygon',
    linearGradient: 'linearGradient',
    radialGradient: 'radialGradient',
    stop: 'stop',
    text: 'text',
    pattern: 'pattern',
};
//# sourceMappingURL=setupHostConfig.js.map

/***/ }),

/***/ 7358:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isElementContainer = void 0;
const isElementContainer = (value) => {
    return value != null && 'children' in value;
};
exports.isElementContainer = isElementContainer;
//# sourceMappingURL=types.js.map

/***/ }),

/***/ 3130:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useSharedFacet = exports.SharedFacetDriverProvider = exports.sharedFacetDriverContext = void 0;
const react_1 = __webpack_require__(7294);
const dummyConstructor = () => () => { };
exports.sharedFacetDriverContext = (0, react_1.createContext)(dummyConstructor);
exports.SharedFacetDriverProvider = exports.sharedFacetDriverContext.Provider;
const useSharedFacet = (sharedFacet) => {
    return sharedFacet((0, react_1.useContext)(exports.sharedFacetDriverContext));
};
exports.useSharedFacet = useSharedFacet;
//# sourceMappingURL=context.js.map

/***/ }),

/***/ 401:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(3130), exports);
__exportStar(__webpack_require__(7350), exports);
__exportStar(__webpack_require__(1090), exports);
__exportStar(__webpack_require__(5685), exports);
__exportStar(__webpack_require__(815), exports);
__exportStar(__webpack_require__(206), exports);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 5811:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
/**
 * Simple memoize implementation that supports a single argument
 *
 * TODO: handle cleaning up the cache.
 */
function memoize(fn) {
    const results = new Map();
    return (argument) => {
        const previousResult = results.get(argument);
        if (previousResult)
            return previousResult;
        const newResult = fn(argument);
        results.set(argument, newResult);
        return newResult;
    };
}
exports["default"] = memoize;
//# sourceMappingURL=memoize.js.map

/***/ }),

/***/ 7350:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sharedDynamicSelector = void 0;
const memoize_1 = __importDefault(__webpack_require__(5811));
const core_1 = __webpack_require__(8572);
const sharedSelector_1 = __webpack_require__(5685);
/**
 * Defines a selector that can take a parameter
 * For more information check the documentation on defining a selector.
 *
 * @param selectorFactory differently from a selector, this is a function that takes the parameter to return the selector
 * @param equalityCheck optional, has a default for immutable values
 */
function sharedDynamicSelector(
// eslint-disable-next-line @typescript-eslint/no-explicit-any
selectorFactory, equalityCheck = core_1.defaultEqualityCheck) {
    return (0, memoize_1.default)((parameter) => {
        const [selector, facets] = selectorFactory(parameter);
        const definition = (0, memoize_1.default)((sharedFacetDriver) => {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            return sharedSelector_1.sharedSelector(selector, facets, equalityCheck)(sharedFacetDriver);
        });
        definition.factory = core_1.FACET_FACTORY;
        return definition;
    });
}
exports.sharedDynamicSelector = sharedDynamicSelector;
//# sourceMappingURL=sharedDynamicSelector.js.map

/***/ }),

/***/ 1090:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sharedFacet = void 0;
const memoize_1 = __importDefault(__webpack_require__(5811));
const core_1 = __webpack_require__(8572);
/**
 * Defines a facet with shared data
 *
 * @param name the name of the facet (used to construct it with the sharedFacetDriver)
 * @param initialValue optional default value while constructor is not ready with the real value
 */
function sharedFacet(name, initialValue = core_1.NO_VALUE) {
    const definition = (0, memoize_1.default)((sharedFacetDriver) => (0, core_1.createFacet)({
        initialValue,
        startSubscription: (update) => {
            return sharedFacetDriver(name, update);
        },
    }));
    definition.factory = core_1.FACET_FACTORY;
    return definition;
}
exports.sharedFacet = sharedFacet;
//# sourceMappingURL=sharedFacet.js.map

/***/ }),

/***/ 5685:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sharedSelector = void 0;
const memoize_1 = __importDefault(__webpack_require__(5811));
const core_1 = __webpack_require__(8572);
/**
 * Defines a selector to transform/map data from a facet
 *
 * When used correctly, it can limit components being re-rendered if they only
 * care about a specific attribute/function of a facet.
 *
 * To take full advantage of a selector, it is important to choose a proper equalityCheck
 * with an IMPORTANT understanding of the source of the data (if it is mutable for example).
 *
 * If the source of the data is an object or array that is being mutated, then it would mean that
 * the current and previous values passed to the equalityCheck would be same reference, making it
 * impossible to run any equality check. We recommend only using an equality check if the values
 * returned by the selector are numbers, booleans, strings, or objects/arrays constructed by the selector.
 *
 * @param facets which facets to read the data from
 * @param selector a function to transform the data from the facets
 * @param equalityCheck optional, has a default for immutable values
 */
function sharedSelector(
// eslint-disable-next-line @typescript-eslint/no-explicit-any
selector, facets, equalityCheck = core_1.defaultEqualityCheck) {
    const definition = (0, memoize_1.default)((sharedFacetDriver) => (0, core_1.mapFacetsCached)(facets.map((facet) => facet(sharedFacetDriver)), selector, equalityCheck));
    definition.factory = core_1.FACET_FACTORY;
    return definition;
}
exports.sharedSelector = sharedSelector;
//# sourceMappingURL=sharedSelector.js.map

/***/ }),

/***/ 815:
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
//# sourceMappingURL=types.js.map

/***/ }),

/***/ 206:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.useSharedFacetPropSetter = void 0;
const core_1 = __webpack_require__(8572);
const context_1 = __webpack_require__(3130);
/**
 * Hook that returns a setter function to a specific property of a given sharedFacet
 * Ex:
 * 	- Given a shared facet { foo: 'bar' }
 *  - Could be used as useSharedFacetPropSetter(facet, 'foo')
 *  - And the setter would set the foo property
 *
 * @param sharedFacet
 * @param prop the name of the prop to set
 */
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function useSharedFacetPropSetter(sharedFacet, prop) {
    return (0, core_1.useFacetCallback)((facet) => (newValue) => {
        facet[prop] = newValue;
    }, [prop], [(0, context_1.useSharedFacet)(sharedFacet)]);
}
exports.useSharedFacetPropSetter = useSharedFacetPropSetter;
//# sourceMappingURL=useSharedFacetPropSetter.js.map

/***/ }),

/***/ 2910:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

window.__globalDevCoreUISoundDefinitions = window.__globalDevCoreUISoundDefinitions || {};
Object.assign(window.__globalDevCoreUISoundDefinitions, {
  "tokens.vanilla.release": {
    "category": "ui",
    "sounds": [{
      "name": __webpack_require__(9373)
    }]
  },
  "tokens.vanilla.snes_pop": {
    "category": "ui",
    "sounds": [{
      "name": __webpack_require__(3464)
    }]
  },
  "tokens.vanilla.modal_hide": {
    "category": "ui",
    "sounds": [{
      "name": __webpack_require__(197)
    }]
  }
});

/***/ }),

/***/ 8156:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

window.__globalDevCoreUISoundDefinitions = window.__globalDevCoreUISoundDefinitions || {};
Object.assign(window.__globalDevCoreUISoundDefinitions, {
  "Test.two.click": {
    "category": "ui",
    "sounds": [{
      "name": __webpack_require__(4537)
    }, {
      "name": __webpack_require__(6644)
    }]
  },
  "Test.pitched.click": {
    "category": "ui",
    "sounds": [{
      "name": __webpack_require__(4537),
      "pitch": 0.7
    }, {
      "name": __webpack_require__(4537),
      "pitch": 1.0
    }, {
      "name": __webpack_require__(4537),
      "pitch": 1.3
    }]
  },
  "Test.volumed.click": {
    "category": "ui",
    "sounds": [{
      "name": __webpack_require__(4537),
      "volume": 0.7
    }, {
      "name": __webpack_require__(4537),
      "volume": 1.0
    }, {
      "name": __webpack_require__(4537),
      "volume": 1.3
    }]
  },
  "Test.fadeOut.music": {
    "category": "ui",
    "sounds": [{
      "name": __webpack_require__(93),
      "volume": 1.0
    }]
  },
  "Test.fadeOutLowVolume.music": {
    "category": "ui",
    "sounds": [{
      "name": __webpack_require__(93),
      "volume": 0.5
    }]
  }
});

/***/ }),

/***/ 5341:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*jslint browser: true, nomen: true, plusplus: true */
/// @file cohtml.js
/// @namespace engine
/// Coherent UI JavaScript interface.
/// The `engine` module contains all functions for communication between the UI and the game / application.
(function (factory) {
  console.log('Loading Client Side cohtml file...'); // This is a modified cohtml file so that it returns a function that calls the factory of the module,
  // allowing us to conditionally execute it from the outside.

  if ( true && module.exports) {
    module.exports = () => factory(__webpack_require__.g, __webpack_require__.g.engine, false);
  }
})(function (global, engine, hasOnLoad) {
  'use strict';

  var VERSION = [1, 5, 0, 8];
  /**
  * Event emitter
  *
  * @class Emitter
  */

  function Emitter() {
    this.events = {};
  }

  function Handler(code, context) {
    this.code = code;
    this.context = context;
  }

  Emitter.prototype._createClear = function (object, name, handler) {
    return function () {
      var handlers = object.events[name];

      if (handlers) {
        var index = -1; // this was in native previously

        if (handler == null) {
          for (var i = 0; i < handlers.length; ++i) {
            if (handlers[i].wasInCPP != null) {
              index = i;
              break;
            }
          }
        } else {
          index = handlers.indexOf(handler);
        }

        if (index != -1) {
          handlers.splice(index, 1);

          if (handlers.length === 0) {
            delete object.events[name];
          }
        }
      } else {
        if (engine.RemoveOnHandler != null) {
          engine.RemoveOnHandler(name);
        }
      }
    };
  };
  /**
  * Add a handler for an event
  *
  * @method on
  * @param name the event name
  * @param callback function to be called when the event is triggered
  * @param context this binding for executing the handler, defaults to the Emitter
  * @return connection object
  */


  Emitter.prototype.on = function (name, callback, context) {
    var handlers = this.events[name];
    if (handlers == null) handlers = this.events[name] = [];
    var handler = new Handler(callback, context || this);
    handlers.push(handler);
    return {
      clear: this._createClear(this, name, handler)
    };
  };
  /**
  * Remove a handler from an event
  *
  * @method off
  * @param name the event name
  * @param handler function to be called when the event is triggered
  * @param context this binding for executing the handler, defaults to the Emitter
  * @return connection object
  */


  Emitter.prototype.off = function (name, handler, context) {
    var handlers = this.events[name];

    if (handlers != null) {
      context = context || this;
      var index;
      var length = handlers.length;

      for (index = 0; index < length; ++index) {
        var reg = handlers[index];

        if (reg.code == handler && reg.context == context) {
          break;
        }
      }

      if (index < length) {
        handlers.splice(index, 1);

        if (handlers.length === 0) {
          delete this.events[name];
        }
      }
    } else {
      engine.RemoveOnHandler(name);
    }
  };

  var isAttached = engine != null;
  engine = engine || {}; /// @var {bool} engine.isAttached
  /// Indicates whether the script is currently running inside Cohtml

  engine.isAttached = isAttached;
  engine.onEventsReplayed = null;

  Emitter.prototype.trigger = function (name) {
    var handlers = this.events[name];

    if (handlers != null) {
      var args = Array.prototype.slice.call(arguments, 1);
      handlers.forEach(function (handler) {
        handler.code.apply(handler.context, args);
      });
      return true;
    }

    return false;
  };

  Emitter.prototype.merge = function (emitter) {
    var lhs = this.events,
        rhs = emitter.events,
        push = Array.prototype.push,
        events;

    for (var e in rhs) {
      events = lhs[e] = lhs[e] || [];
      push.apply(events, rhs[e]);
    }
  };

  var pending = 'pending';
  var fulfilled = 'fulfilled';
  var broken = 'broken';

  function callAsync(code, context, argument) {
    var async = function () {
      code.call(context, argument);
    };

    window.setTimeout(async, 1);
  }

  if (!engine.isAttached) {
    Emitter.prototype.on = function (name, callback, context) {
      var handlers = this.events[name];

      if (
      /** @type {any} */
      this.browserCallbackOn) {
        /** @type {any} */
        this.browserCallbackOn(name, callback, context);
      }

      if (handlers == null) {
        handlers = this.events[name] = [];
      }

      var handler = new Handler(callback, context || this);
      handlers.push(handler);
      return {
        clear: this._createClear(this, name, handler)
      };
    };

    Emitter.prototype.off = function (name, handler, context) {
      var handlers = this.events[name];

      if (handlers != null) {
        context = context || this;
        var index;
        var length = handlers.length;

        for (index = 0; index < length; ++index) {
          var reg = handlers[index];

          if (reg.code == handler && reg.context == context) {
            break;
          }
        }

        if (index < length) {
          handlers.splice(index, 1);

          if (handlers.length === 0) {
            delete this.events[name];

            if (
            /** @type {any} */
            this.browserCallbackOff) {
              /** @type {any} */
              this.browserCallbackOff(name, handler, context);
            }
          }
        }
      }
    };

    engine.SendMessage = function (name, id) {
      var args = Array.prototype.slice.call(arguments, 2);
      var deferred = engine._ActiveRequests[id];
      delete engine._ActiveRequests[id];

      var call = function () {
        var mock = engine._mocks[name];

        if (mock != null) {
          deferred.resolve(mock.apply(engine, args));
        }
      };

      window.setTimeout(call, 16);
    }; /// @function engine.TriggerEvent
    /// Tries to invoke handlers for an event.
    ///
    /// It will invoke any handler registered in C++ or the only handler registered in JavaScript.
    /// engine._trigger will handle the case where more than one event handler is registered in JavaScript
    /// or there are handlers from C++ and JavaScript at the same time.
    /// @param {String} name name of the event to be fired
    /// @param ... any extra parameters to be passed to event handlers
    /// @return true if any event handlers have been registered in C++ or exactly one in JavaScript
    /// @note this mock-mode version will return true if there is any event handler in JavaScript


    engine.TriggerEvent = function () {
      var args = Array.prototype.slice.call(arguments);

      var trigger = function () {
        var mock = engine._mocks[args[0]];

        if (mock != null) {
          mock.apply(engine, args.slice(1));
        }
      };

      window.setTimeout(trigger, 16);
      return engine._mocks[args[0]] != null;
    };

    engine.BindingsReady = function () {
      engine._OnReady();
    };

    engine.__observeLifetime = function () {};

    engine.beginEventRecording = engine.endEventRecording = engine.saveEventRecord = function () {
      console.warn("Event recording will not work in the browser!");
    };

    engine._mocks = {};

    engine._mockImpl = function (name, mock, isCppCall, isEvent) {
      if (mock) {
        this._mocks[name] = mock;
      } // Extract the name of the arguments from Function.prototype.toString


      var functionStripped = mock.toString().replace("function " + mock.name + "(", "");
      var rightParanthesis = functionStripped.indexOf(")");
      var args = functionStripped.substr(0, rightParanthesis);

      if (this.browserCallbackMock) {
        this.browserCallbackMock(name, args, isCppCall, Boolean(isEvent));
      }
    };

    engine.mock = function (name, mock, isEvent) {
      this._mockImpl(name, mock, true, isEvent);
    };
  }

  engine.events = {};

  for (var property in Emitter.prototype) {
    engine[property] = Emitter.prototype[property];
  }

  if (engine.isAttached) {
    /// @function engine.on
    /// Register handler for and event
    /// @param {String} name name of the event
    /// @param {Function} callback callback function to be executed when the event has been triggered
    /// @param context *this* context for the function, by default the engine object
    engine.on = function (name, callback, context) {
      var handlers = this.events[name];

      if (handlers == null && engine.AddOrRemoveOnHandler != null) {
        // Check where to cache the handler
        var prevEvent = engine.AddOrRemoveOnHandler(name, callback, context || engine); // handler cached in C++

        if (prevEvent == null) {
          return {
            clear: this._createClear(this, name, undefined)
          };
        }

        handlers = this.events[name] = []; // Add the previous handler

        var prevHandler = new Handler(prevEvent[0], prevEvent[1] || this);
        /** @type {any} */

        prevHandler.wasInCPP = true;
        handlers.push(prevHandler);
      } else if (handlers == null) {
        handlers = this.events[name] = [];
      }

      var handler = new Handler(callback, context || this);
      handlers.push(handler);
      return {
        clear: this._createClear(this, name, handler)
      };
    };
  }

  engine.whenReady = new Promise(resolve => {
    engine.on('Ready', resolve);
  }); /// @function engine.beginEventRecording
  /// Begins recording all events triggered using View::TriggerEvent from the game
  /// @function engine.endEventRecording
  /// Ends event recording
  /// @function engine.saveEventRecord
  /// Saves the events recorded in between the last calls to engine.beginEventRecording and engine.endEventRecording to a file
  /// @param {String} path The path to the file where to save the recorded events. Optional. Defaults to "eventRecord.json"
  /// @function engine.replayEvents
  /// Replays the events previously recorded and stored in path. If you need to be notified when all events
  /// are replayed, assign a callback to engine.onEventsReplayed
  /// @param {Number} timeScale The speed at which to replay the events (e.g. pass 2 to double the speed). Optional. Defaults to 1.
  /// @param {String} path The path to the file the recorded events are stored. Optional. Defaults to "eventRecord.json"
  /// @function engine.off
  /// Remove handler for an event
  /// @param {String} name name of the event, by default removes all events
  /// @param {Function} callback the callback function to be removed, by default removes all callbacks for a given event
  /// @param context *this* context for the function, by default all removes all callbacks, regardless of context
  /// @warning Removing all handlers for `engine` will remove some *Coherent UI* internal events, breaking some functionality.
  /// @function engine.trigger
  /// Trigger an event
  /// This function will trigger any C++ handler registered for this event with `Coherent::UI::View::RegisterForEvent`
  /// @param {String} name name of the event
  /// @param ... any extra arguments to be passed to the event handlers

  engine._trigger = Emitter.prototype.trigger;
  var concatArguments = Array.prototype.concat;

  engine.trigger = function (name) {
    if (!this._trigger.apply(this, arguments)) {
      this.TriggerEvent.apply(this, arguments);
    }

    if (this.events['all'] != null) {
      var allArguments = concatArguments.apply(['all'], arguments);

      this._trigger.apply(this, allArguments);
    }
  }; /// @function engine.showOverlay
  /// Shows the debugging overlay in the browser.
  /// Only works in the browser. Attempts to use it in Coherent UI will do nothing.


  engine.showOverlay = function () {}; /// @function engine.hideOverlay
  /// Hides the debugging overlay in the browser.
  /// Only works in the browser. Attempts to use it in Coherent UI will do nothing.


  engine.hideOverlay = function () {}; /// @function engine.mock
  /// Mocks a C++ function call with the specified function.
  /// Only works in the browser. Attempts to use it in Coherent UI will do nothing.
  /// @param {String} name name of the event
  /// @param {Function} mock a function to be called in-place of your native binding
  /// @param {Boolean} isEvent whether you are mocking an event or function call


  if (engine.isAttached) {
    engine.mock = function (name, mock, isEvent) {};
  }

  engine._BindingsReady = false;
  engine._WindowLoaded = false;
  engine._RequestId = 0;
  engine._ActiveRequests = {};

  if (global.engineCreateDeferred != null) {
    console.warn("engineCreateDeferred is depricated");
  } /// @function engine.call
  /// Call asynchronously a C++ handler and retrieve the result
  /// The C++ handler must have been registered with `Coherent::UI::View::BindCall`
  /// @param {String} name name of the C++ handler to be called
  /// @param ... any extra parameters to be passed to the C++ handler
  /// @return ECMAScript 6 promise


  engine.call = function () {
    engine._RequestId++;
    var id = engine._RequestId;
    var messageArguments = Array.prototype.slice.call(arguments);
    messageArguments.splice(1, 0, id);
    var promise = new Promise(function (resolve, reject) {
      engine._ActiveRequests[id] = {
        resolve: resolve,
        reject: reject
      };
      engine.SendMessage.apply(engine, messageArguments);
    });
    return promise;
  };

  engine._Result = function (requestId) {
    var deferred = engine._ActiveRequests[requestId];

    if (deferred != null) {
      delete engine._ActiveRequests[requestId];
      var resultArguments = Array.prototype.slice.call(arguments);
      resultArguments.shift();
      deferred.resolve.apply(deferred, resultArguments);
    }
  };

  engine._Errors = ['Success', 'ArgumentType', 'NoSuchMethod', 'NoResult'];

  engine._ForEachError = function (errors, callback) {
    var length = errors.length;

    for (var i = 0; i < length; ++i) {
      callback(errors[i].first, errors[i].second);
    }
  };

  engine._TriggerError = function (message) {
    engine.trigger('Error', message);
  };

  engine._OnError = function (requestId, errors) {
    if (requestId == null || requestId === 0) {
      engine._ForEachError(errors, engine._TriggerError);
    } else {
      var deferred = engine._ActiveRequests[requestId];
      delete engine._ActiveRequests[requestId];
      deferred.reject(new Error(errors[0].second));
    }

    if (errors.length) {
      throw new Error(errors[0].second);
    }
  };

  engine._eventHandles = {};

  engine._Register = function (eventName) {
    var trigger = function (name, engine) {
      return function () {
        var eventArguments = [name];
        eventArguments.push.apply(eventArguments, arguments);
        engine.TriggerEvent.apply(this, eventArguments);
      };
    }(eventName, engine);

    engine._eventHandles[eventName] = engine.on(eventName, trigger);
  };

  engine._removeEventThunk = function (name) {
    var handle = engine._eventHandles[name];
    handle.clear();
    delete engine._eventHandles[name];
  };

  engine._Unregister = function (name) {
    if (typeof name === 'string') {
      engine._removeEventThunk(name);
    } else {
      name.forEach(engine._removeEventThunk, engine);
    }
  };

  function createMethodStub(name) {
    var stub = function () {
      var args = Array.prototype.slice.call(arguments);
      args.splice(0, 0, name, this._id);
      return engine.call.apply(engine, args);
    };

    return stub;
  }

  engine._boundTypes = {};

  engine._createInstance = function (args) {
    var type = args[0],
        id = args[1],
        methods = args[2],
        constructor = engine._boundTypes[type];

    if (constructor == null) {
      constructor = function (id) {
        this._id = id;
      };

      constructor.prototype.__Type = type;
      methods.forEach(function (name) {
        constructor.prototype[name] = createMethodStub(type + '_' + name);
      });
      engine._boundTypes[type] = constructor;
    }

    var instance = new constructor(id);

    engine.__observeLifetime(instance);

    return instance;
  };

  engine._OnReady = function () {
    engine._BindingsReady = true;

    if (engine._WindowLoaded) {
      engine.trigger('Ready');
    }
  };

  engine._OnWindowLoaded = function () {
    engine._WindowLoaded = true;

    if (engine._BindingsReady) {
      engine.trigger('Ready');
    }
  };

  engine._ThrowError = function (error) {
    var prependTab = function (s) {
      return "\t" + s;
    };

    var errorString = error.name + ": " + error.message + "\n" + error.stack.split("\n").map(prependTab).join("\n");
    console.error(errorString);
  };

  if (hasOnLoad) {
    global.addEventListener("load", function () {
      engine._OnWindowLoaded();
    });
  } else {
    engine._WindowLoaded = true;
  }

  engine.on('_Result', engine._Result, engine);
  engine.on('_Register', engine._Register, engine);
  engine.on('_Unregister', engine._Unregister, engine);
  engine.on('_OnReady', engine._OnReady, engine);
  engine.on('_OnError', engine._OnError, engine);
  engine.on('__OnReplayRecordCompleted', function (jsonRecords) {
    if (engine.onEventsReplayed) {
      engine.onEventsReplayed();
    }
  }); //@ts-ignore

  engine.dependency = new WeakMap();
  engine.updateWholeModelCallbacks = [];
  engine.hasAttachedUpdateListner = false;

  engine.onUpdateWholeModel = object => {
    let deps = engine.dependency.get(object) || [];
    deps.forEach(dep => engine.updateWholeModel(dep));
  };

  engine.createObservableModel = observableName => {
    const handler = {
      set: (target, prop, value) => {
        engine.updateWholeModel(window[observableName]);
        target[prop] = value;
      }
    }; // @ts-ignore

    engine.createJSModel(observableName, new Proxy({}, handler));
  };

  engine.addSynchronizationDependency = (first, second) => {
    if (!engine.hasAttachedUpdateListner) {
      // will attach updateWholeModel callback for when there are one or more model dependencies
      engine.addDataBindEventListner("updateWholeModel", engine.onUpdateWholeModel);
      engine.hasAttachedUpdateListner = true;
    }

    let deps = engine.dependency.get(first);

    if (!deps) {
      deps = [];
      engine.dependency.set(first, deps);
    }

    deps.push(second);
  };

  engine.removeSynchronizationDependency = (first, second) => {
    let deps = engine.dependency.get(first) || [];
    deps.splice(deps.indexOf(first), 1);
  };

  engine.BindingsReady(VERSION[0], VERSION[1], VERSION[2], VERSION[3]);
  return engine;
});

/***/ }),

/***/ 5107:
/***/ (() => {



/***/ }),

/***/ 7811:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "facet": () => (/* binding */ facet),
/* harmony export */   "shallowObjectEqualityCheck": () => (/* binding */ shallowObjectEqualityCheck),
/* harmony export */   "useFacet": () => (/* binding */ useFacet)
/* harmony export */ });
/* unused harmony exports strictShallowObjectEqualityCheck, localFacet, useFacetSetter */
/* harmony import */ var _react_facet_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8572);
/* harmony import */ var _react_facet_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(401);
/* harmony import */ var _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "Map")) __webpack_require__.d(__webpack_exports__, { "Map": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.Map; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "Mount")) __webpack_require__.d(__webpack_exports__, { "Mount": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.Mount; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "NO_VALUE")) __webpack_require__.d(__webpack_exports__, { "NO_VALUE": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.NO_VALUE; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "SharedFacetDriverProvider")) __webpack_require__.d(__webpack_exports__, { "SharedFacetDriverProvider": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.SharedFacetDriverProvider; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "createFacet")) __webpack_require__.d(__webpack_exports__, { "createFacet": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.createFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "createFacetContext")) __webpack_require__.d(__webpack_exports__, { "createFacetContext": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.createFacetContext; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "createPortal")) __webpack_require__.d(__webpack_exports__, { "createPortal": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.createPortal; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "createStaticFacet")) __webpack_require__.d(__webpack_exports__, { "createStaticFacet": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.createStaticFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "isFacet")) __webpack_require__.d(__webpack_exports__, { "isFacet": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.isFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "multiObserve")) __webpack_require__.d(__webpack_exports__, { "multiObserve": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.multiObserve; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "render")) __webpack_require__.d(__webpack_exports__, { "render": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.render; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "sharedDynamicSelector")) __webpack_require__.d(__webpack_exports__, { "sharedDynamicSelector": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.sharedDynamicSelector; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "sharedFacet")) __webpack_require__.d(__webpack_exports__, { "sharedFacet": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.sharedFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "sharedFacetDriverContext")) __webpack_require__.d(__webpack_exports__, { "sharedFacetDriverContext": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.sharedFacetDriverContext; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "sharedSelector")) __webpack_require__.d(__webpack_exports__, { "sharedSelector": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.sharedSelector; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetCallback")) __webpack_require__.d(__webpack_exports__, { "useFacetCallback": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetCallback; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetEffect")) __webpack_require__.d(__webpack_exports__, { "useFacetEffect": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetEffect; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetLayoutEffect")) __webpack_require__.d(__webpack_exports__, { "useFacetLayoutEffect": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetLayoutEffect; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetMap")) __webpack_require__.d(__webpack_exports__, { "useFacetMap": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetMap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetMemo")) __webpack_require__.d(__webpack_exports__, { "useFacetMemo": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetMemo; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetRef")) __webpack_require__.d(__webpack_exports__, { "useFacetRef": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetRef; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetState")) __webpack_require__.d(__webpack_exports__, { "useFacetState": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetState; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetUnwrap")) __webpack_require__.d(__webpack_exports__, { "useFacetUnwrap": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetUnwrap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useFacetWrap")) __webpack_require__.d(__webpack_exports__, { "useFacetWrap": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetWrap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_core__WEBPACK_IMPORTED_MODULE_0__, "useSharedFacet")) __webpack_require__.d(__webpack_exports__, { "useSharedFacet": function() { return _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useSharedFacet; } });
/* harmony import */ var _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7154);
/* harmony import */ var _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "Map")) __webpack_require__.d(__webpack_exports__, { "Map": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.Map; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "Mount")) __webpack_require__.d(__webpack_exports__, { "Mount": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.Mount; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "NO_VALUE")) __webpack_require__.d(__webpack_exports__, { "NO_VALUE": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.NO_VALUE; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "SharedFacetDriverProvider")) __webpack_require__.d(__webpack_exports__, { "SharedFacetDriverProvider": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.SharedFacetDriverProvider; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "createFacet")) __webpack_require__.d(__webpack_exports__, { "createFacet": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.createFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "createFacetContext")) __webpack_require__.d(__webpack_exports__, { "createFacetContext": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.createFacetContext; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "createPortal")) __webpack_require__.d(__webpack_exports__, { "createPortal": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.createPortal; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "createStaticFacet")) __webpack_require__.d(__webpack_exports__, { "createStaticFacet": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.createStaticFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "isFacet")) __webpack_require__.d(__webpack_exports__, { "isFacet": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.isFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "multiObserve")) __webpack_require__.d(__webpack_exports__, { "multiObserve": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.multiObserve; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "render")) __webpack_require__.d(__webpack_exports__, { "render": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.render; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "sharedDynamicSelector")) __webpack_require__.d(__webpack_exports__, { "sharedDynamicSelector": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.sharedDynamicSelector; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "sharedFacet")) __webpack_require__.d(__webpack_exports__, { "sharedFacet": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.sharedFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "sharedFacetDriverContext")) __webpack_require__.d(__webpack_exports__, { "sharedFacetDriverContext": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.sharedFacetDriverContext; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "sharedSelector")) __webpack_require__.d(__webpack_exports__, { "sharedSelector": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.sharedSelector; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetCallback")) __webpack_require__.d(__webpack_exports__, { "useFacetCallback": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetCallback; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetEffect")) __webpack_require__.d(__webpack_exports__, { "useFacetEffect": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetEffect; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetLayoutEffect")) __webpack_require__.d(__webpack_exports__, { "useFacetLayoutEffect": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetLayoutEffect; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetMap")) __webpack_require__.d(__webpack_exports__, { "useFacetMap": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetMap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetMemo")) __webpack_require__.d(__webpack_exports__, { "useFacetMemo": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetMemo; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetRef")) __webpack_require__.d(__webpack_exports__, { "useFacetRef": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetRef; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetState")) __webpack_require__.d(__webpack_exports__, { "useFacetState": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetState; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetUnwrap")) __webpack_require__.d(__webpack_exports__, { "useFacetUnwrap": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetUnwrap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useFacetWrap")) __webpack_require__.d(__webpack_exports__, { "useFacetWrap": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useFacetWrap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__, "useSharedFacet")) __webpack_require__.d(__webpack_exports__, { "useSharedFacet": function() { return _react_facet_dom_fiber__WEBPACK_IMPORTED_MODULE_1__.useSharedFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "Map")) __webpack_require__.d(__webpack_exports__, { "Map": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.Map; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "Mount")) __webpack_require__.d(__webpack_exports__, { "Mount": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.Mount; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "NO_VALUE")) __webpack_require__.d(__webpack_exports__, { "NO_VALUE": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.NO_VALUE; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "SharedFacetDriverProvider")) __webpack_require__.d(__webpack_exports__, { "SharedFacetDriverProvider": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.SharedFacetDriverProvider; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "createFacet")) __webpack_require__.d(__webpack_exports__, { "createFacet": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.createFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "createFacetContext")) __webpack_require__.d(__webpack_exports__, { "createFacetContext": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.createFacetContext; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "createPortal")) __webpack_require__.d(__webpack_exports__, { "createPortal": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.createPortal; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "createStaticFacet")) __webpack_require__.d(__webpack_exports__, { "createStaticFacet": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.createStaticFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "isFacet")) __webpack_require__.d(__webpack_exports__, { "isFacet": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.isFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "multiObserve")) __webpack_require__.d(__webpack_exports__, { "multiObserve": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.multiObserve; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "render")) __webpack_require__.d(__webpack_exports__, { "render": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.render; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "sharedDynamicSelector")) __webpack_require__.d(__webpack_exports__, { "sharedDynamicSelector": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.sharedDynamicSelector; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "sharedFacet")) __webpack_require__.d(__webpack_exports__, { "sharedFacet": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.sharedFacet; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "sharedFacetDriverContext")) __webpack_require__.d(__webpack_exports__, { "sharedFacetDriverContext": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.sharedFacetDriverContext; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "sharedSelector")) __webpack_require__.d(__webpack_exports__, { "sharedSelector": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.sharedSelector; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetCallback")) __webpack_require__.d(__webpack_exports__, { "useFacetCallback": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetCallback; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetEffect")) __webpack_require__.d(__webpack_exports__, { "useFacetEffect": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetEffect; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetLayoutEffect")) __webpack_require__.d(__webpack_exports__, { "useFacetLayoutEffect": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetLayoutEffect; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetMap")) __webpack_require__.d(__webpack_exports__, { "useFacetMap": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetMap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetMemo")) __webpack_require__.d(__webpack_exports__, { "useFacetMemo": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetMemo; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetRef")) __webpack_require__.d(__webpack_exports__, { "useFacetRef": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetRef; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetState")) __webpack_require__.d(__webpack_exports__, { "useFacetState": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetState; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetUnwrap")) __webpack_require__.d(__webpack_exports__, { "useFacetUnwrap": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetUnwrap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useFacetWrap")) __webpack_require__.d(__webpack_exports__, { "useFacetWrap": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useFacetWrap; } });
/* harmony reexport (checked) */ if(__webpack_require__.o(_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__, "useSharedFacet")) __webpack_require__.d(__webpack_exports__, { "useSharedFacet": function() { return _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useSharedFacet; } });







const strictShallowObjectEqualityCheck = (/* unused pure expression or super */ null && (originalShallowObjectEqualityCheck));
/**
 * @deprecated This object equality check has no guarantees that the keys of the object are Immutable.
 * Use `strictShallowObjectEqualityCheck` instead
 * */

const shallowObjectEqualityCheck = _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.shallowObjectEqualityCheck;

/**
 * @deprecated use sharedFacet instead
 */

const facet = _react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.sharedFacet;
/**
 * @deprecated
 */

/**
 * @deprecated we recommend useFacetState instead
 */
function localFacet(initialValue) {
  const facet = createFacet({
    initialValue
  });

  const result = () => facet;

  result.factory = FACET_FACTORY;
  return result;
}
/**
 * @deprecated useFacetUnwrap and useSharedFacet instead
 */

function useFacet(sharedFacet) {
  const rawValue = (0,_react_facet_core__WEBPACK_IMPORTED_MODULE_0__.useFacetUnwrap)((0,_react_facet_shared_facet__WEBPACK_IMPORTED_MODULE_2__.useSharedFacet)(sharedFacet));
  return rawValue === _react_facet_core__WEBPACK_IMPORTED_MODULE_0__.NO_VALUE ? undefined : rawValue;
}

const isSetterCallback = setter => {
  return typeof setter === 'function';
};
/**
 * @deprecated we recommend useFacetState instead
 */


function useFacetSetter(facet) {
  return setter => {
    if (isSetterCallback(setter)) {
      return facet().setWithCallback(setter);
    } else {
      return facet().set(setter);
    }
  };
}

/***/ }),

/***/ 9742:
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ 8764:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(9742)
var ieee754 = __webpack_require__(645)
var customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

var K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    var arr = new Uint8Array(1)
    var proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  var buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  var valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  var b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(
      value[Symbol.toPrimitive]('string'), encodingOrOffset, length
    )
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  var length = byteLength(string, encoding) | 0
  var buf = createBuffer(length)

  var actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  var buf = createBuffer(length)
  for (var i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    var copy = new Uint8Array(arrayView)
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  var buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    var buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        Buffer.from(buf).copy(buffer, pos)
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        )
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos)
    }
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  var len = string.length
  var mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  var strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (var i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    var len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
var hexSliceLookupTable = (function () {
  var alphabet = '0123456789abcdef'
  var table = new Array(256)
  for (var i = 0; i < 16; ++i) {
    var i16 = i * 16
    for (var j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()


/***/ }),

/***/ 6486:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var upperCase = __webpack_require__(6133)
var noCase = __webpack_require__(4431)

/**
 * Camel case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale, mergeNumbers) {
  var result = noCase(value, locale)

  // Replace periods between numeric entities with an underscore.
  if (!mergeNumbers) {
    result = result.replace(/ (?=\d)/g, '_')
  }

  // Replace spaces between words with an upper cased character.
  return result.replace(/ (.)/g, function (m, $1) {
    return upperCase($1, locale)
  })
}


/***/ }),

/***/ 7159:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

exports.no = exports.noCase = __webpack_require__(4431)
exports.dot = exports.dotCase = __webpack_require__(7315)
exports.swap = exports.swapCase = __webpack_require__(7372)
exports.path = exports.pathCase = __webpack_require__(8900)
exports.upper = exports.upperCase = __webpack_require__(6133)
exports.lower = exports.lowerCase = __webpack_require__(5496)
exports.camel = exports.camelCase = __webpack_require__(6486)
exports.snake = exports.snakeCase = __webpack_require__(4742)
exports.title = exports.titleCase = __webpack_require__(333)
exports.param = exports.paramCase = __webpack_require__(2173)
exports.kebab = exports.kebabCase = exports.paramCase
exports.hyphen = exports.hyphenCase = exports.paramCase
exports.header = exports.headerCase = __webpack_require__(6789)
exports.pascal = exports.pascalCase = __webpack_require__(6782)
exports.constant = exports.constantCase = __webpack_require__(5358)
exports.sentence = exports.sentenceCase = __webpack_require__(7791)
exports.isUpper = exports.isUpperCase = __webpack_require__(5237)
exports.isLower = exports.isLowerCase = __webpack_require__(6633)
exports.ucFirst = exports.upperCaseFirst = __webpack_require__(6868)
exports.lcFirst = exports.lowerCaseFirst = __webpack_require__(9475)


/***/ }),

/***/ 2173:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var noCase = __webpack_require__(4431)

/**
 * Param case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale) {
  return noCase(value, locale, '-')
}


/***/ }),

/***/ 4184:
/***/ ((module, exports) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg;

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg) && arg.length) {
				var inner = classNames.apply(null, arg);
				if (inner) {
					classes.push(inner);
				}
			} else if (argType === 'object') {
				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if ( true && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (true) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
			return classNames;
		}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}());


/***/ }),

/***/ 5358:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var upperCase = __webpack_require__(6133)
var snakeCase = __webpack_require__(4742)

/**
 * Constant case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale) {
  return upperCase(snakeCase(value, locale), locale)
}


/***/ }),

/***/ 7315:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var noCase = __webpack_require__(4431)

/**
 * Dot case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale) {
  return noCase(value, locale, '.')
}


/***/ }),

/***/ 7187:
/***/ ((module) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var R = typeof Reflect === 'object' ? Reflect : null
var ReflectApply = R && typeof R.apply === 'function'
  ? R.apply
  : function ReflectApply(target, receiver, args) {
    return Function.prototype.apply.call(target, receiver, args);
  }

var ReflectOwnKeys
if (R && typeof R.ownKeys === 'function') {
  ReflectOwnKeys = R.ownKeys
} else if (Object.getOwnPropertySymbols) {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target)
      .concat(Object.getOwnPropertySymbols(target));
  };
} else {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target);
  };
}

function ProcessEmitWarning(warning) {
  if (console && console.warn) console.warn(warning);
}

var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {
  return value !== value;
}

function EventEmitter() {
  EventEmitter.init.call(this);
}
module.exports = EventEmitter;
module.exports.once = once;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._eventsCount = 0;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
var defaultMaxListeners = 10;

function checkListener(listener) {
  if (typeof listener !== 'function') {
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
  }
}

Object.defineProperty(EventEmitter, 'defaultMaxListeners', {
  enumerable: true,
  get: function() {
    return defaultMaxListeners;
  },
  set: function(arg) {
    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + '.');
    }
    defaultMaxListeners = arg;
  }
});

EventEmitter.init = function() {

  if (this._events === undefined ||
      this._events === Object.getPrototypeOf(this)._events) {
    this._events = Object.create(null);
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
};

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {
    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n + '.');
  }
  this._maxListeners = n;
  return this;
};

function _getMaxListeners(that) {
  if (that._maxListeners === undefined)
    return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}

EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return _getMaxListeners(this);
};

EventEmitter.prototype.emit = function emit(type) {
  var args = [];
  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);
  var doError = (type === 'error');

  var events = this._events;
  if (events !== undefined)
    doError = (doError && events.error === undefined);
  else if (!doError)
    return false;

  // If there is no 'error' event listener then throw.
  if (doError) {
    var er;
    if (args.length > 0)
      er = args[0];
    if (er instanceof Error) {
      // Note: The comments on the `throw` lines are intentional, they show
      // up in Node's output if this results in an unhandled exception.
      throw er; // Unhandled 'error' event
    }
    // At least give some kind of context to the user
    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));
    err.context = er;
    throw err; // Unhandled 'error' event
  }

  var handler = events[type];

  if (handler === undefined)
    return false;

  if (typeof handler === 'function') {
    ReflectApply(handler, this, args);
  } else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      ReflectApply(listeners[i], this, args);
  }

  return true;
};

function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;

  checkListener(listener);

  events = target._events;
  if (events === undefined) {
    events = target._events = Object.create(null);
    target._eventsCount = 0;
  } else {
    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (events.newListener !== undefined) {
      target.emit('newListener', type,
                  listener.listener ? listener.listener : listener);

      // Re-assign `events` because a newListener handler could have caused the
      // this._events to be assigned to a new object
      events = target._events;
    }
    existing = events[type];
  }

  if (existing === undefined) {
    // Optimize the case of one listener. Don't need the extra array object.
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === 'function') {
      // Adding the second element, need to change to array.
      existing = events[type] =
        prepend ? [listener, existing] : [existing, listener];
      // If we've already got an array, just append.
    } else if (prepend) {
      existing.unshift(listener);
    } else {
      existing.push(listener);
    }

    // Check for listener leak
    m = _getMaxListeners(target);
    if (m > 0 && existing.length > m && !existing.warned) {
      existing.warned = true;
      // No error code for this since it is a Warning
      // eslint-disable-next-line no-restricted-syntax
      var w = new Error('Possible EventEmitter memory leak detected. ' +
                          existing.length + ' ' + String(type) + ' listeners ' +
                          'added. Use emitter.setMaxListeners() to ' +
                          'increase limit');
      w.name = 'MaxListenersExceededWarning';
      w.emitter = target;
      w.type = type;
      w.count = existing.length;
      ProcessEmitWarning(w);
    }
  }

  return target;
}

EventEmitter.prototype.addListener = function addListener(type, listener) {
  return _addListener(this, type, listener, false);
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.prependListener =
    function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };

function onceWrapper() {
  if (!this.fired) {
    this.target.removeListener(this.type, this.wrapFn);
    this.fired = true;
    if (arguments.length === 0)
      return this.listener.call(this.target);
    return this.listener.apply(this.target, arguments);
  }
}

function _onceWrap(target, type, listener) {
  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };
  var wrapped = onceWrapper.bind(state);
  wrapped.listener = listener;
  state.wrapFn = wrapped;
  return wrapped;
}

EventEmitter.prototype.once = function once(type, listener) {
  checkListener(listener);
  this.on(type, _onceWrap(this, type, listener));
  return this;
};

EventEmitter.prototype.prependOnceListener =
    function prependOnceListener(type, listener) {
      checkListener(listener);
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };

// Emits a 'removeListener' event if and only if the listener was removed.
EventEmitter.prototype.removeListener =
    function removeListener(type, listener) {
      var list, events, position, i, originalListener;

      checkListener(listener);

      events = this._events;
      if (events === undefined)
        return this;

      list = events[type];
      if (list === undefined)
        return this;

      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = Object.create(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit('removeListener', type, list.listener || listener);
        }
      } else if (typeof list !== 'function') {
        position = -1;

        for (i = list.length - 1; i >= 0; i--) {
          if (list[i] === listener || list[i].listener === listener) {
            originalListener = list[i].listener;
            position = i;
            break;
          }
        }

        if (position < 0)
          return this;

        if (position === 0)
          list.shift();
        else {
          spliceOne(list, position);
        }

        if (list.length === 1)
          events[type] = list[0];

        if (events.removeListener !== undefined)
          this.emit('removeListener', type, originalListener || listener);
      }

      return this;
    };

EventEmitter.prototype.off = EventEmitter.prototype.removeListener;

EventEmitter.prototype.removeAllListeners =
    function removeAllListeners(type) {
      var listeners, events, i;

      events = this._events;
      if (events === undefined)
        return this;

      // not listening for removeListener, no need to emit
      if (events.removeListener === undefined) {
        if (arguments.length === 0) {
          this._events = Object.create(null);
          this._eventsCount = 0;
        } else if (events[type] !== undefined) {
          if (--this._eventsCount === 0)
            this._events = Object.create(null);
          else
            delete events[type];
        }
        return this;
      }

      // emit removeListener for all listeners on all events
      if (arguments.length === 0) {
        var keys = Object.keys(events);
        var key;
        for (i = 0; i < keys.length; ++i) {
          key = keys[i];
          if (key === 'removeListener') continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners('removeListener');
        this._events = Object.create(null);
        this._eventsCount = 0;
        return this;
      }

      listeners = events[type];

      if (typeof listeners === 'function') {
        this.removeListener(type, listeners);
      } else if (listeners !== undefined) {
        // LIFO order
        for (i = listeners.length - 1; i >= 0; i--) {
          this.removeListener(type, listeners[i]);
        }
      }

      return this;
    };

function _listeners(target, type, unwrap) {
  var events = target._events;

  if (events === undefined)
    return [];

  var evlistener = events[type];
  if (evlistener === undefined)
    return [];

  if (typeof evlistener === 'function')
    return unwrap ? [evlistener.listener || evlistener] : [evlistener];

  return unwrap ?
    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
}

EventEmitter.prototype.listeners = function listeners(type) {
  return _listeners(this, type, true);
};

EventEmitter.prototype.rawListeners = function rawListeners(type) {
  return _listeners(this, type, false);
};

EventEmitter.listenerCount = function(emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};

EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;

  if (events !== undefined) {
    var evlistener = events[type];

    if (typeof evlistener === 'function') {
      return 1;
    } else if (evlistener !== undefined) {
      return evlistener.length;
    }
  }

  return 0;
}

EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
};

function arrayClone(arr, n) {
  var copy = new Array(n);
  for (var i = 0; i < n; ++i)
    copy[i] = arr[i];
  return copy;
}

function spliceOne(list, index) {
  for (; index + 1 < list.length; index++)
    list[index] = list[index + 1];
  list.pop();
}

function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

function once(emitter, name) {
  return new Promise(function (resolve, reject) {
    function errorListener(err) {
      emitter.removeListener(name, resolver);
      reject(err);
    }

    function resolver() {
      if (typeof emitter.removeListener === 'function') {
        emitter.removeListener('error', errorListener);
      }
      resolve([].slice.call(arguments));
    };

    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });
    if (name !== 'error') {
      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });
    }
  });
}

function addErrorHandlerIfEventEmitter(emitter, handler, flags) {
  if (typeof emitter.on === 'function') {
    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);
  }
}

function eventTargetAgnosticAddListener(emitter, name, listener, flags) {
  if (typeof emitter.on === 'function') {
    if (flags.once) {
      emitter.once(name, listener);
    } else {
      emitter.on(name, listener);
    }
  } else if (typeof emitter.addEventListener === 'function') {
    // EventTarget does not have `error` event semantics like Node
    // EventEmitters, we do not listen for `error` events here.
    emitter.addEventListener(name, function wrapListener(arg) {
      // IE does not have builtin `{ once: true }` support so we
      // have to do it manually.
      if (flags.once) {
        emitter.removeEventListener(name, wrapListener);
      }
      listener(arg);
    });
  } else {
    throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof emitter);
  }
}


/***/ }),

/***/ 6789:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var noCase = __webpack_require__(4431)
var upperCase = __webpack_require__(6133)

/**
 * Header case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale) {
  return noCase(value, locale, '-').replace(/^.|-./g, function (m) {
    return upperCase(m, locale)
  })
}


/***/ }),

/***/ 8679:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var reactIs = __webpack_require__(9864);

/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
var REACT_STATICS = {
  childContextTypes: true,
  contextType: true,
  contextTypes: true,
  defaultProps: true,
  displayName: true,
  getDefaultProps: true,
  getDerivedStateFromError: true,
  getDerivedStateFromProps: true,
  mixins: true,
  propTypes: true,
  type: true
};
var KNOWN_STATICS = {
  name: true,
  length: true,
  prototype: true,
  caller: true,
  callee: true,
  arguments: true,
  arity: true
};
var FORWARD_REF_STATICS = {
  '$$typeof': true,
  render: true,
  defaultProps: true,
  displayName: true,
  propTypes: true
};
var MEMO_STATICS = {
  '$$typeof': true,
  compare: true,
  defaultProps: true,
  displayName: true,
  propTypes: true,
  type: true
};
var TYPE_STATICS = {};
TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;
TYPE_STATICS[reactIs.Memo] = MEMO_STATICS;

function getStatics(component) {
  // React v16.11 and below
  if (reactIs.isMemo(component)) {
    return MEMO_STATICS;
  } // React v16.12 and above


  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;
}

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = Object.prototype;
function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
  if (typeof sourceComponent !== 'string') {
    // don't hoist over string (html) components
    if (objectPrototype) {
      var inheritedComponent = getPrototypeOf(sourceComponent);

      if (inheritedComponent && inheritedComponent !== objectPrototype) {
        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
      }
    }

    var keys = getOwnPropertyNames(sourceComponent);

    if (getOwnPropertySymbols) {
      keys = keys.concat(getOwnPropertySymbols(sourceComponent));
    }

    var targetStatics = getStatics(targetComponent);
    var sourceStatics = getStatics(sourceComponent);

    for (var i = 0; i < keys.length; ++i) {
      var key = keys[i];

      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);

        try {
          // Avoid failures from read-only properties
          defineProperty(targetComponent, key, descriptor);
        } catch (e) {}
      }
    }
  }

  return targetComponent;
}

module.exports = hoistNonReactStatics;


/***/ }),

/***/ 645:
/***/ ((__unused_webpack_module, exports) => {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ 5717:
/***/ ((module) => {

if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    if (superCtor) {
      ctor.super_ = superCtor
      ctor.prototype = Object.create(superCtor.prototype, {
        constructor: {
          value: ctor,
          enumerable: false,
          writable: true,
          configurable: true
        }
      })
    }
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    if (superCtor) {
      ctor.super_ = superCtor
      var TempCtor = function () {}
      TempCtor.prototype = superCtor.prototype
      ctor.prototype = new TempCtor()
      ctor.prototype.constructor = ctor
    }
  }
}


/***/ }),

/***/ 6633:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var lowerCase = __webpack_require__(5496)

/**
 * Check if a string is lower case.
 *
 * @param  {String}  string
 * @param  {String}  [locale]
 * @return {Boolean}
 */
module.exports = function (string, locale) {
  return lowerCase(string, locale) === string
}


/***/ }),

/***/ 5237:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var upperCase = __webpack_require__(6133)

/**
 * Check if a string is upper case.
 *
 * @param  {String}  string
 * @param  {String}  [locale]
 * @return {Boolean}
 */
module.exports = function (string, locale) {
  return upperCase(string, locale) === string
}


/***/ }),

/***/ 1296:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = debounce;


/***/ }),

/***/ 2378:
/***/ ((module, exports, __webpack_require__) => {

/* module decorator */ module = __webpack_require__.nmd(module);
/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used to detect hot functions by number of calls within a span of milliseconds. */
var HOT_COUNT = 800,
    HOT_SPAN = 16;

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    asyncTag = '[object AsyncFunction]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    nullTag = '[object Null]',
    objectTag = '[object Object]',
    proxyTag = '[object Proxy]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    undefinedTag = '[object Undefined]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
typedArrayTags[errorTag] = typedArrayTags[funcTag] =
typedArrayTags[mapTag] = typedArrayTags[numberTag] =
typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
typedArrayTags[setTag] = typedArrayTags[stringTag] =
typedArrayTags[weakMapTag] = false;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports =  true && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && "object" == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = (function() {
  try {
    // Use `util.types` for Node.js 10+.
    var types = freeModule && freeModule.require && freeModule.require('util').types;

    if (types) {
      return types;
    }

    // Legacy `process.binding('util')` for Node.js < 10.
    return freeProcess && freeProcess.binding && freeProcess.binding('util');
  } catch (e) {}
}());

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Used to infer the `Object` constructor. */
var objectCtorString = funcToString.call(Object);

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    Symbol = root.Symbol,
    Uint8Array = root.Uint8Array,
    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
    getPrototype = overArg(Object.getPrototypeOf, Object),
    objectCreate = Object.create,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

var defineProperty = (function() {
  try {
    var func = getNative(Object, 'defineProperty');
    func({}, '', {});
    return func;
  } catch (e) {}
}());

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeMax = Math.max,
    nativeNow = Date.now;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * The base implementation of `_.create` without support for assigning
 * properties to the created object.
 *
 * @private
 * @param {Object} proto The object to inherit from.
 * @returns {Object} Returns the new object.
 */
var baseCreate = (function() {
  function object() {}
  return function(proto) {
    if (!isObject(proto)) {
      return {};
    }
    if (objectCreate) {
      return objectCreate(proto);
    }
    object.prototype = proto;
    var result = new object;
    object.prototype = undefined;
    return result;
  };
}());

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
  this.size = 0;
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
  this.size = 0;
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  --this.size;
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.size = 0;
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  var result = getMapData(this, key)['delete'](key);
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  var data = getMapData(this, key),
      size = data.size;

  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  var data = this.__data__ = new ListCache(entries);
  this.size = data.size;
}

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache;
  this.size = 0;
}

/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  var data = this.__data__,
      result = data['delete'](key);

  this.size = data.size;
  return result;
}

/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  var isArr = isArray(value),
      isArg = !isArr && isArguments(value),
      isBuff = !isArr && !isArg && isBuffer(value),
      isType = !isArr && !isArg && !isBuff && isTypedArray(value),
      skipIndexes = isArr || isArg || isBuff || isType,
      result = skipIndexes ? baseTimes(value.length, String) : [],
      length = result.length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (
           // Safari 9 has enumerable `arguments.length` in strict mode.
           key == 'length' ||
           // Node.js 0.10 has enumerable non-index properties on buffers.
           (isBuff && (key == 'offset' || key == 'parent')) ||
           // PhantomJS 2 has enumerable non-index properties on typed arrays.
           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
           // Skip index properties.
           isIndex(key, length)
        ))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * This function is like `assignValue` except that it doesn't assign
 * `undefined` values.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignMergeValue(object, key, value) {
  if ((value !== undefined && !eq(object[key], value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `assignValue` and `assignMergeValue` without
 * value checks.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function baseAssignValue(object, key, value) {
  if (key == '__proto__' && defineProperty) {
    defineProperty(object, key, {
      'configurable': true,
      'enumerable': true,
      'value': value,
      'writable': true
    });
  } else {
    object[key] = value;
  }
}

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

/**
 * The base implementation of `_.isArguments`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 */
function baseIsArguments(value) {
  return isObjectLike(value) && baseGetTag(value) == argsTag;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
}

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.merge` without support for multiple sources.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} [customizer] The function to customize merged values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMerge(object, source, srcIndex, customizer, stack) {
  if (object === source) {
    return;
  }
  baseFor(source, function(srcValue, key) {
    stack || (stack = new Stack);
    if (isObject(srcValue)) {
      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
    }
    else {
      var newValue = customizer
        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
        : undefined;

      if (newValue === undefined) {
        newValue = srcValue;
      }
      assignMergeValue(object, key, newValue);
    }
  }, keysIn);
}

/**
 * A specialized version of `baseMerge` for arrays and objects which performs
 * deep merges and tracks traversed objects enabling objects with circular
 * references to be merged.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {string} key The key of the value to merge.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} mergeFunc The function to merge values.
 * @param {Function} [customizer] The function to customize assigned values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
  var objValue = safeGet(object, key),
      srcValue = safeGet(source, key),
      stacked = stack.get(srcValue);

  if (stacked) {
    assignMergeValue(object, key, stacked);
    return;
  }
  var newValue = customizer
    ? customizer(objValue, srcValue, (key + ''), object, source, stack)
    : undefined;

  var isCommon = newValue === undefined;

  if (isCommon) {
    var isArr = isArray(srcValue),
        isBuff = !isArr && isBuffer(srcValue),
        isTyped = !isArr && !isBuff && isTypedArray(srcValue);

    newValue = srcValue;
    if (isArr || isBuff || isTyped) {
      if (isArray(objValue)) {
        newValue = objValue;
      }
      else if (isArrayLikeObject(objValue)) {
        newValue = copyArray(objValue);
      }
      else if (isBuff) {
        isCommon = false;
        newValue = cloneBuffer(srcValue, true);
      }
      else if (isTyped) {
        isCommon = false;
        newValue = cloneTypedArray(srcValue, true);
      }
      else {
        newValue = [];
      }
    }
    else if (isPlainObject(srcValue) || isArguments(srcValue)) {
      newValue = objValue;
      if (isArguments(objValue)) {
        newValue = toPlainObject(objValue);
      }
      else if (!isObject(objValue) || isFunction(objValue)) {
        newValue = initCloneObject(srcValue);
      }
    }
    else {
      isCommon = false;
    }
  }
  if (isCommon) {
    // Recursively merge objects and arrays (susceptible to call stack limits).
    stack.set(srcValue, newValue);
    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
    stack['delete'](srcValue);
  }
  assignMergeValue(object, key, newValue);
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  return setToString(overRest(func, start, identity), func + '');
}

/**
 * The base implementation of `setToString` without support for hot loop shorting.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var baseSetToString = !defineProperty ? identity : function(func, string) {
  return defineProperty(func, 'toString', {
    'configurable': true,
    'enumerable': false,
    'value': constant(string),
    'writable': true
  });
};

/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length,
      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

  buffer.copy(result);
  return result;
}

/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array(result).set(new Uint8Array(arrayBuffer));
  return result;
}

/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}

/**
 * Copies the values of `source` to `array`.
 *
 * @private
 * @param {Array} source The array to copy values from.
 * @param {Array} [array=[]] The array to copy values to.
 * @returns {Array} Returns `array`.
 */
function copyArray(source, array) {
  var index = -1,
      length = source.length;

  array || (array = Array(length));
  while (++index < length) {
    array[index] = source[index];
  }
  return array;
}

/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */
function copyObject(source, props, object, customizer) {
  var isNew = !object;
  object || (object = {});

  var index = -1,
      length = props.length;

  while (++index < length) {
    var key = props[index];

    var newValue = customizer
      ? customizer(object[key], source[key], key, object, source)
      : undefined;

    if (newValue === undefined) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue(object, key, newValue);
    } else {
      assignValue(object, key, newValue);
    }
  }
  return object;
}

/**
 * Creates a function like `_.assign`.
 *
 * @private
 * @param {Function} assigner The function to assign values.
 * @returns {Function} Returns the new assigner function.
 */
function createAssigner(assigner) {
  return baseRest(function(object, sources) {
    var index = -1,
        length = sources.length,
        customizer = length > 1 ? sources[length - 1] : undefined,
        guard = length > 2 ? sources[2] : undefined;

    customizer = (assigner.length > 3 && typeof customizer == 'function')
      ? (length--, customizer)
      : undefined;

    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      customizer = length < 3 ? undefined : customizer;
      length = 1;
    }
    object = Object(object);
    while (++index < length) {
      var source = sources[index];
      if (source) {
        assigner(object, source, index, customizer);
      }
    }
    return object;
  });
}

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneObject(object) {
  return (typeof object.constructor == 'function' && !isPrototype(object))
    ? baseCreate(getPrototype(object))
    : {};
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  var type = typeof value;
  length = length == null ? MAX_SAFE_INTEGER : length;

  return !!length &&
    (type == 'number' ||
      (type != 'symbol' && reIsUint.test(value))) &&
        (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

/**
 * A specialized version of `baseRest` which transforms the rest array.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @param {Function} transform The rest array transform.
 * @returns {Function} Returns the new function.
 */
function overRest(func, start, transform) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = transform(array);
    return apply(func, this, otherArgs);
  };
}

/**
 * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function safeGet(object, key) {
  if (key === 'constructor' && typeof object[key] === 'function') {
    return;
  }

  if (key == '__proto__') {
    return;
  }

  return object[key];
}

/**
 * Sets the `toString` method of `func` to return `string`.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var setToString = shortOut(baseSetToString);

/**
 * Creates a function that'll short out and invoke `identity` instead
 * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
 * milliseconds.
 *
 * @private
 * @param {Function} func The function to restrict.
 * @returns {Function} Returns the new shortable function.
 */
function shortOut(func) {
  var count = 0,
      lastCalled = 0;

  return function() {
    var stamp = nativeNow(),
        remaining = HOT_SPAN - (stamp - lastCalled);

    lastCalled = stamp;
    if (remaining > 0) {
      if (++count >= HOT_COUNT) {
        return arguments[0];
      }
    } else {
      count = 0;
    }
    return func.apply(undefined, arguments);
  };
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to convert.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    !propertyIsEnumerable.call(value, 'callee');
};

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

/**
 * Checks if `value` is a plain object, that is, an object created by the
 * `Object` constructor or one with a `[[Prototype]]` of `null`.
 *
 * @static
 * @memberOf _
 * @since 0.8.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * _.isPlainObject(new Foo);
 * // => false
 *
 * _.isPlainObject([1, 2, 3]);
 * // => false
 *
 * _.isPlainObject({ 'x': 0, 'y': 0 });
 * // => true
 *
 * _.isPlainObject(Object.create(null));
 * // => true
 */
function isPlainObject(value) {
  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
    return false;
  }
  var proto = getPrototype(value);
  if (proto === null) {
    return true;
  }
  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
  return typeof Ctor == 'function' && Ctor instanceof Ctor &&
    funcToString.call(Ctor) == objectCtorString;
}

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

/**
 * Converts `value` to a plain object flattening inherited enumerable string
 * keyed properties of `value` to own properties of the plain object.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {Object} Returns the converted plain object.
 * @example
 *
 * function Foo() {
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.assign({ 'a': 1 }, new Foo);
 * // => { 'a': 1, 'b': 2 }
 *
 * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
 * // => { 'a': 1, 'b': 2, 'c': 3 }
 */
function toPlainObject(value) {
  return copyObject(value, keysIn(value));
}

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

/**
 * This method is like `_.assign` except that it recursively merges own and
 * inherited enumerable string keyed properties of source objects into the
 * destination object. Source properties that resolve to `undefined` are
 * skipped if a destination value exists. Array and plain object properties
 * are merged recursively. Other objects and value types are overridden by
 * assignment. Source objects are applied from left to right. Subsequent
 * sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 0.5.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = {
 *   'a': [{ 'b': 2 }, { 'd': 4 }]
 * };
 *
 * var other = {
 *   'a': [{ 'c': 3 }, { 'e': 5 }]
 * };
 *
 * _.merge(object, other);
 * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
 */
var merge = createAssigner(function(object, source, srcIndex) {
  baseMerge(object, source, srcIndex);
});

/**
 * Creates a function that returns `value`.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {*} value The value to return from the new function.
 * @returns {Function} Returns the new constant function.
 * @example
 *
 * var objects = _.times(2, _.constant({ 'a': 1 }));
 *
 * console.log(objects);
 * // => [{ 'a': 1 }, { 'a': 1 }]
 *
 * console.log(objects[0] === objects[1]);
 * // => true
 */
function constant(value) {
  return function() {
    return value;
  };
}

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = merge;


/***/ }),

/***/ 9475:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var lowerCase = __webpack_require__(5496)

/**
 * Lower case the first character of a string.
 *
 * @param  {String} str
 * @return {String}
 */
module.exports = function (str, locale) {
  if (str == null) {
    return ''
  }

  str = String(str)

  return lowerCase(str.charAt(0), locale) + str.substr(1)
}


/***/ }),

/***/ 5496:
/***/ ((module) => {

/**
 * Special language-specific overrides.
 *
 * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt
 *
 * @type {Object}
 */
var LANGUAGES = {
  tr: {
    regexp: /\u0130|\u0049|\u0049\u0307/g,
    map: {
      '\u0130': '\u0069',
      '\u0049': '\u0131',
      '\u0049\u0307': '\u0069'
    }
  },
  az: {
    regexp: /[\u0130]/g,
    map: {
      '\u0130': '\u0069',
      '\u0049': '\u0131',
      '\u0049\u0307': '\u0069'
    }
  },
  lt: {
    regexp: /[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,
    map: {
      '\u0049': '\u0069\u0307',
      '\u004A': '\u006A\u0307',
      '\u012E': '\u012F\u0307',
      '\u00CC': '\u0069\u0307\u0300',
      '\u00CD': '\u0069\u0307\u0301',
      '\u0128': '\u0069\u0307\u0303'
    }
  }
}

/**
 * Lowercase a string.
 *
 * @param  {String} str
 * @return {String}
 */
module.exports = function (str, locale) {
  var lang = LANGUAGES[locale]

  str = str == null ? '' : String(str)

  if (lang) {
    str = str.replace(lang.regexp, function (m) { return lang.map[m] })
  }

  return str.toLowerCase()
}


/***/ }),

/***/ 4431:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var lowerCase = __webpack_require__(5496)

var NON_WORD_REGEXP = __webpack_require__(1138)
var CAMEL_CASE_REGEXP = __webpack_require__(3335)
var CAMEL_CASE_UPPER_REGEXP = __webpack_require__(3334)

/**
 * Sentence case a string.
 *
 * @param  {string} str
 * @param  {string} locale
 * @param  {string} replacement
 * @return {string}
 */
module.exports = function (str, locale, replacement) {
  if (str == null) {
    return ''
  }

  replacement = typeof replacement !== 'string' ? ' ' : replacement

  function replace (match, index, value) {
    if (index === 0 || index === (value.length - match.length)) {
      return ''
    }

    return replacement
  }

  str = String(str)
    // Support camel case ("camelCase" -> "camel Case").
    .replace(CAMEL_CASE_REGEXP, '$1 $2')
    // Support odd camel case ("CAMELCase" -> "CAMEL Case").
    .replace(CAMEL_CASE_UPPER_REGEXP, '$1 $2')
    // Remove all non-word characters and replace with a single space.
    .replace(NON_WORD_REGEXP, replace)

  // Lower case the entire string.
  return lowerCase(str, locale)
}


/***/ }),

/***/ 3335:
/***/ ((module) => {

module.exports = /([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g


/***/ }),

/***/ 3334:
/***/ ((module) => {

module.exports = /([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g


/***/ }),

/***/ 1138:
/***/ ((module) => {

module.exports = /[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g


/***/ }),

/***/ 7418:
/***/ ((module) => {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),

/***/ 6782:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var camelCase = __webpack_require__(6486)
var upperCaseFirst = __webpack_require__(6868)

/**
 * Pascal case a string.
 *
 * @param  {string}  value
 * @param  {string}  [locale]
 * @param  {boolean} [mergeNumbers]
 * @return {string}
 */
module.exports = function (value, locale, mergeNumbers) {
  return upperCaseFirst(camelCase(value, locale, mergeNumbers), locale)
}


/***/ }),

/***/ 8900:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var noCase = __webpack_require__(4431)

/**
 * Path case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale) {
  return noCase(value, locale, '/')
}


/***/ }),

/***/ 5523:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


var util = __webpack_require__(9539);

var tokenize = function(/*String*/ str, /*RegExp*/ re, /*Function?*/ parseDelim, /*Object?*/ instance){
  // summary:
  //    Split a string by a regular expression with the ability to capture the delimeters
  // parseDelim:
  //    Each group (excluding the 0 group) is passed as a parameter. If the function returns
  //    a value, it's added to the list of tokens.
  // instance:
  //    Used as the "this' instance when calling parseDelim
  var tokens = [];
  var match, content, lastIndex = 0;
  while((match = re.exec(str))){
    content = str.slice(lastIndex, re.lastIndex - match[0].length);
    if(content.length){
      tokens.push(content);
    }
    if(parseDelim){
      var parsed = parseDelim.apply(instance, match.slice(1).concat(tokens.length));
      if(typeof parsed != 'undefined'){
        if(parsed.specifier === '%'){
          tokens.push('%');
        }else{
          tokens.push(parsed);
        }
      }
    }
    lastIndex = re.lastIndex;
  }
  content = str.slice(lastIndex);
  if(content.length){
    tokens.push(content);
  }
  return tokens;
};

var Formatter = function(/*String*/ format){
  this._mapped = false;
  this._format = format;
  this._tokens = tokenize(format, this._re, this._parseDelim, this);
};

// The old regexp `/\%(?:\(([\w_.]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?[hlL]?([\%bscdeEfFgGioOuxX])/` has a cubic worst-case time complexity behavior due to overlapping capture groups `([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?`. And a pump string of 0 can be consumed by `([0 +\-\#]*), (\*|\d+)?, or (\*|\d+)?`.
// The solution replace the sub-regexp (\*|\d+)?(\.)?(\*|\d+)? with the sub-regexp `(\*|\d+)?(?:(\.)(\*|\d+)?)?`, see the figure in [#32](https://github.com/adaltas/node-printf/pull/32)
// There are also performance improvement, see in [#31](https://github.com/adaltas/node-printf/issues/31#issuecomment-776731490)
Formatter.prototype._re = /\%(?:\(([\w_.]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([\%bscdeEfFgGioOuxX])/g;
Formatter.prototype._parseDelim = function(mapping, intmapping, flags, minWidth, period, precision, specifier){
  if(mapping){
    this._mapped = true;
  }
  return {
    mapping: mapping,
    intmapping: intmapping,
    flags: flags,
    _minWidth: minWidth, // May be dependent on parameters
    period: period,
    _precision: precision, // May be dependent on parameters
    specifier: specifier
  };
};
Formatter.prototype._specifiers = {
  b: {
    base: 2,
    isInt: true
  },
  o: {
    base: 8,
    isInt: true
  },
  x: {
    base: 16,
    isInt: true
  },
  X: {
    extend: ['x'],
    toUpper: true
  },
  d: {
    base: 10,
    isInt: true
  },
  i: {
    extend: ['d']
  },
  u: {
    extend: ['d'],
    isUnsigned: true
  },
  c: {
    setArg: function(token){
      if(!isNaN(token.arg)){
        var num = parseInt(token.arg);
        if(num < 0 || num > 127){
          throw new Error('invalid character code passed to %c in printf');
        }
        token.arg = isNaN(num) ? '' + num : String.fromCharCode(num);
      }
    }
  },
  s: {
    setMaxWidth: function(token){
      token.maxWidth = (token.period == '.') ? token.precision : -1;
    }
  },
  e: {
    isDouble: true,
    doubleNotation: 'e'
  },
  E: {
    extend: ['e'],
    toUpper: true
  },
  f: {
    isDouble: true,
    doubleNotation: 'f'
  },
  F: {
    extend: ['f']
  },
  g: {
    isDouble: true,
    doubleNotation: 'g'
  },
  G: {
    extend: ['g'],
    toUpper: true
  },
  O: {
    isObject: true
  }
};
Formatter.prototype.format = function(/*mixed...*/ filler){
  if(this._mapped && typeof filler != 'object'){
    throw new Error('format requires a mapping');
  }

  var str = '';
  var position = 0;
  for(var i = 0, token; i < this._tokens.length; i++){
    token = this._tokens[i];

    if(typeof token == 'string'){
      str += token;
    }else{
      if(this._mapped){
        // Identify value of property defined in `token.mapping`
        var tokens = token.mapping.split('.');
        var value = filler;
        for (var j = 0, c = tokens.length; j < c; j++) {
          value = value[tokens[j]];
          if (typeof value === 'undefined') {
            break
          }
        }
        if(typeof value == 'undefined'){
          throw new Error('missing key \'' + token.mapping + '\'');
        }
        token.arg = value;
      }else{
        if(token.intmapping){
          position = parseInt(token.intmapping) - 1;
        }
        if(position >= arguments.length){
          throw new Error('got ' + arguments.length + ' printf arguments, insufficient for \'' + this._format + '\'');
        }
        token.arg = arguments[position++];
      }

      if(!token.compiled){
        token.compiled = true;
        token.sign = '';
        token.zeroPad = false;
        token.rightJustify = false;
        token.alternative = false;

        var flags = {};
        for(var fi = token.flags.length; fi--;){
          var flag = token.flags.charAt(fi);
          flags[flag] = true;
          switch(flag){
            case ' ':
              token.sign = ' ';
              break;
            case '+':
              token.sign = '+';
              break;
            case '0':
              token.zeroPad = (flags['-']) ? false : true;
              break;
            case '-':
              token.rightJustify = true;
              token.zeroPad = false;
              break;
            case '#':
              token.alternative = true;
              break;
            default:
              throw Error('bad formatting flag \'' + token.flags.charAt(fi) + '\'');
          }
        }

        token.minWidth = (token._minWidth) ? parseInt(token._minWidth) : 0;
        token.maxWidth = -1;
        token.toUpper = false;
        token.isUnsigned = false;
        token.isInt = false;
        token.isDouble = false;
        token.isObject = false;
        token.precision = 1;
        if(token.period == '.'){
          if(token._precision){
            token.precision = parseInt(token._precision);
          }else{
            token.precision = 0;
          }
        }

        var mixins = this._specifiers[token.specifier];
        if(typeof mixins == 'undefined'){
          throw new Error('unexpected specifier \'' + token.specifier + '\'');
        }
        if(mixins.extend){
          var s = this._specifiers[mixins.extend];
          for(var k in s){
            mixins[k] = s[k];
          }
          delete mixins.extend;
        }
        for(var l in mixins){
          token[l] = mixins[l];
        }
      }

      if(typeof token.setArg == 'function'){
        token.setArg(token);
      }

      if(typeof token.setMaxWidth == 'function'){
        token.setMaxWidth(token);
      }

      if(token._minWidth == '*'){
        if(this._mapped){
          throw new Error('* width not supported in mapped formats');
        }
        token.minWidth = parseInt(arguments[position++]);
        if(isNaN(token.minWidth)){
          throw new Error('the argument for * width at position ' + position + ' is not a number in ' + this._format);
        }
        // negative width means rightJustify
        if (token.minWidth < 0) {
          token.rightJustify = true;
          token.minWidth = -token.minWidth;
        }
      }

      if(token._precision == '*' && token.period == '.'){
        if(this._mapped){
          throw new Error('* precision not supported in mapped formats');
        }
        token.precision = parseInt(arguments[position++]);
        if(isNaN(token.precision)){
          throw Error('the argument for * precision at position ' + position + ' is not a number in ' + this._format);
        }
        // negative precision means unspecified
        if (token.precision < 0) {
          token.precision = 1;
          token.period = '';
        }
      }
      if(token.isInt){
        // a specified precision means no zero padding
        if(token.period == '.'){
          token.zeroPad = false;
        }
        this.formatInt(token);
      }else if(token.isDouble){
        if(token.period != '.'){
          token.precision = 6;
        }
        this.formatDouble(token);
      }else if(token.isObject){
        this.formatObject(token);
      }
      this.fitField(token);
      str += '' + token.arg;
    }
  }

  return str;
};
Formatter.prototype._zeros10 = '0000000000';
Formatter.prototype._spaces10 = '          ';
Formatter.prototype.formatInt = function(token) {
  var i = parseInt(token.arg);
  if(!isFinite(i)){ // isNaN(f) || f == Number.POSITIVE_INFINITY || f == Number.NEGATIVE_INFINITY)
    // allow this only if arg is number
    if(typeof token.arg != 'number'){
      throw new Error('format argument \'' + token.arg + '\' not an integer; parseInt returned ' + i);
    }
    //return '' + i;
    i = 0;
  }

  // if not base 10, make negatives be positive
  // otherwise, (-10).toString(16) is '-a' instead of 'fffffff6'
  if(i < 0 && (token.isUnsigned || token.base != 10)){
    i = 0xffffffff + i + 1;
  }

  if(i < 0){
    token.arg = (- i).toString(token.base);
    this.zeroPad(token);
    token.arg = '-' + token.arg;
  }else{
    token.arg = i.toString(token.base);
    // need to make sure that argument 0 with precision==0 is formatted as ''
    if(!i && !token.precision){
      token.arg = '';
    }else{
      this.zeroPad(token);
    }
    if(token.sign){
      token.arg = token.sign + token.arg;
    }
  }
  if(token.base == 16){
    if(token.alternative){
      token.arg = '0x' + token.arg;
    }
    token.arg = token.toUpper ? token.arg.toUpperCase() : token.arg.toLowerCase();
  }
  if(token.base == 8){
    if(token.alternative && token.arg.charAt(0) != '0'){
      token.arg = '0' + token.arg;
    }
  }
};
Formatter.prototype.formatDouble = function(token) {
  var f = parseFloat(token.arg);
  if(!isFinite(f)){ // isNaN(f) || f == Number.POSITIVE_INFINITY || f == Number.NEGATIVE_INFINITY)
    // allow this only if arg is number
    if(typeof token.arg != 'number'){
      throw new Error('format argument \'' + token.arg + '\' not a float; parseFloat returned ' + f);
    }
    // C99 says that for 'f':
    //   infinity -> '[-]inf' or '[-]infinity' ('[-]INF' or '[-]INFINITY' for 'F')
    //   NaN -> a string  starting with 'nan' ('NAN' for 'F')
    // this is not commonly implemented though.
    //return '' + f;
    f = 0;
  }

  switch(token.doubleNotation) {
    case 'e': {
      token.arg = f.toExponential(token.precision);
      break;
    }
    case 'f': {
      token.arg = f.toFixed(token.precision);
      break;
    }
    case 'g': {
      // C says use 'e' notation if exponent is < -4 or is >= prec
      // ECMAScript for toPrecision says use exponential notation if exponent is >= prec,
      // though step 17 of toPrecision indicates a test for < -6 to force exponential.
      if(Math.abs(f) < 0.0001){
        //print('forcing exponential notation for f=' + f);
        token.arg = f.toExponential(token.precision > 0 ? token.precision - 1 : token.precision);
      }else{
        token.arg = f.toPrecision(token.precision);
      }

      // In C, unlike 'f', 'gG' removes trailing 0s from fractional part, unless alternative format flag ('#').
      // But ECMAScript formats toPrecision as 0.00100000. So remove trailing 0s.
      if(!token.alternative){
        //print('replacing trailing 0 in \'' + s + '\'');
        token.arg = token.arg.replace(/(\..*[^0])0*e/, '$1e');
        // if fractional part is entirely 0, remove it and decimal point
        token.arg = token.arg.replace(/\.0*e/, 'e').replace(/\.0$/,'');
      }
      break;
    }
    default: throw new Error('unexpected double notation \'' + token.doubleNotation + '\'');
  }

  // C says that exponent must have at least two digits.
  // But ECMAScript does not; toExponential results in things like '1.000000e-8' and '1.000000e+8'.
  // Note that s.replace(/e([\+\-])(\d)/, 'e$10$2') won't work because of the '$10' instead of '$1'.
  // And replace(re, func) isn't supported on IE50 or Safari1.
  token.arg = token.arg.replace(/e\+(\d)$/, 'e+0$1').replace(/e\-(\d)$/, 'e-0$1');

  // if alt, ensure a decimal point
  if(token.alternative){
    token.arg = token.arg.replace(/^(\d+)$/,'$1.');
    token.arg = token.arg.replace(/^(\d+)e/,'$1.e');
  }

  if(f >= 0 && token.sign){
    token.arg = token.sign + token.arg;
  }

  token.arg = token.toUpper ? token.arg.toUpperCase() : token.arg.toLowerCase();
};
Formatter.prototype.formatObject = function(token) {
  // If no precision is specified, then reset it to null (infinite depth).
  var precision = (token.period === '.') ? token.precision : null;
  // Historically, inspect was called with 3 options
  // token.arg = util.inspect(token.arg, !token.alternative, precision, token.sign);
  // Now using an object but not sure colors make any sense here
  token.arg = util.inspect(token.arg, {
    showHidden: !token.alternative,
    depth: precision,
    colors: token.sign,
    compact: true
  });
};
Formatter.prototype.zeroPad = function(token, /*Int*/ length) {
  length = (arguments.length == 2) ? length : token.precision;
  var negative = false;
  if(typeof token.arg != "string"){
    token.arg = "" + token.arg;
  }
  if (token.arg.substr(0,1) === '-') {
    negative = true;
    token.arg = token.arg.substr(1);
  }

  var tenless = length - 10;
  while(token.arg.length < tenless){
    token.arg = (token.rightJustify) ? token.arg + this._zeros10 : this._zeros10 + token.arg;
  }
  var pad = length - token.arg.length;
  token.arg = (token.rightJustify) ? token.arg + this._zeros10.substring(0, pad) : this._zeros10.substring(0, pad) + token.arg;
  if (negative) token.arg = '-' + token.arg;
};
Formatter.prototype.fitField = function(token) {
  if(token.maxWidth >= 0 && token.arg.length > token.maxWidth){
    token.arg = token.arg.substring(0, token.maxWidth);
  }
  if(token.zeroPad){
    this.zeroPad(token, token.minWidth);
    return;
  }
  this.spacePad(token);
};
Formatter.prototype.spacePad = function(token, /*Int*/ length) {
  length = (arguments.length == 2) ? length : token.minWidth;
  if(typeof token.arg != 'string'){
    token.arg = '' + token.arg;
  }
  var tenless = length - 10;
  while(token.arg.length < tenless){
    token.arg = (token.rightJustify) ? token.arg + this._spaces10 : this._spaces10 + token.arg;
  }
  var pad = length - token.arg.length;
  token.arg = (token.rightJustify) ? token.arg + this._spaces10.substring(0, pad) : this._spaces10.substring(0, pad) + token.arg;
};

module.exports = function(){
  var args = Array.prototype.slice.call(arguments),
    stream, format;
  if(args[0] instanceof (__webpack_require__(2830).Stream)){
    stream = args.shift();
  }
  format = args.shift();
  var formatter = new Formatter(format);
  var string = formatter.format.apply(formatter, args);
  if(stream){
    stream.write(string);
  }else{
    return string;
  }
};

module.exports.Formatter = Formatter;


/***/ }),

/***/ 2703:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactPropTypesSecret = __webpack_require__(414);

function emptyFunction() {}
function emptyFunctionWithReset() {}
emptyFunctionWithReset.resetWarningCache = emptyFunction;

module.exports = function() {
  function shim(props, propName, componentName, location, propFullName, secret) {
    if (secret === ReactPropTypesSecret) {
      // It is still safe when called from React.
      return;
    }
    var err = new Error(
      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
      'Use PropTypes.checkPropTypes() to call them. ' +
      'Read more at http://fb.me/use-check-prop-types'
    );
    err.name = 'Invariant Violation';
    throw err;
  };
  shim.isRequired = shim;
  function getShim() {
    return shim;
  };
  // Important!
  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.
  var ReactPropTypes = {
    array: shim,
    bool: shim,
    func: shim,
    number: shim,
    object: shim,
    string: shim,
    symbol: shim,

    any: shim,
    arrayOf: getShim,
    element: shim,
    elementType: shim,
    instanceOf: getShim,
    node: shim,
    objectOf: getShim,
    oneOf: getShim,
    oneOfType: getShim,
    shape: getShim,
    exact: getShim,

    checkPropTypes: emptyFunctionWithReset,
    resetWarningCache: emptyFunction
  };

  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};


/***/ }),

/***/ 5697:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (false) { var throwOnDirectAccess, ReactIs; } else {
  // By explicitly using `prop-types` you are opting into new production behavior.
  // http://fb.me/prop-types-in-prod
  module.exports = __webpack_require__(2703)();
}


/***/ }),

/***/ 414:
/***/ ((module) => {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;


/***/ }),

/***/ 2515:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _concat =
/*#__PURE__*/
__webpack_require__(4011);

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);
/**
 * Applies a function to the value at the given index of an array, returning a
 * new copy of the array with the element at the given index replaced with the
 * result of the function application.
 *
 * @func
 * @memberOf R
 * @since v0.14.0
 * @category List
 * @sig Number -> (a -> a) -> [a] -> [a]
 * @param {Number} idx The index.
 * @param {Function} fn The function to apply.
 * @param {Array|Arguments} list An array-like object whose value
 *        at the supplied index will be replaced.
 * @return {Array} A copy of the supplied array-like object with
 *         the element at index `idx` replaced with the value
 *         returned by applying `fn` to the existing element.
 * @see R.update
 * @example
 *
 *      R.adjust(1, R.toUpper, ['a', 'b', 'c', 'd']);      //=> ['a', 'B', 'c', 'd']
 *      R.adjust(-1, R.toUpper, ['a', 'b', 'c', 'd']);     //=> ['a', 'b', 'c', 'D']
 * @symb R.adjust(-1, f, [a, b]) = [a, f(b)]
 * @symb R.adjust(0, f, [a, b]) = [f(a), b]
 */


var adjust =
/*#__PURE__*/
_curry3(function adjust(idx, fn, list) {
  if (idx >= list.length || idx < -list.length) {
    return list;
  }

  var start = idx < 0 ? list.length : 0;

  var _idx = start + idx;

  var _list = _concat(list);

  _list[_idx] = fn(list[_idx]);
  return _list;
});

module.exports = adjust;

/***/ }),

/***/ 4115:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);
/**
 * Returns a function that always returns the given value. Note that for
 * non-primitives the value returned is a reference to the original value.
 *
 * This function is known as `const`, `constant`, or `K` (for K combinator) in
 * other languages and libraries.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Function
 * @sig a -> (* -> a)
 * @param {*} val The value to wrap in a function
 * @return {Function} A Function :: * -> val.
 * @example
 *
 *      const t = R.always('Tee');
 *      t(); //=> 'Tee'
 */


var always =
/*#__PURE__*/
_curry1(function always(val) {
  return function () {
    return val;
  };
});

module.exports = always;

/***/ }),

/***/ 9576:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _concat =
/*#__PURE__*/
__webpack_require__(4011);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);
/**
 * Returns a new list containing the contents of the given list, followed by
 * the given element.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig a -> [a] -> [a]
 * @param {*} el The element to add to the end of the new list.
 * @param {Array} list The list of elements to add a new item to.
 *        list.
 * @return {Array} A new list containing the elements of the old list followed by `el`.
 * @see R.prepend
 * @example
 *
 *      R.append('tests', ['write', 'more']); //=> ['write', 'more', 'tests']
 *      R.append('tests', []); //=> ['tests']
 *      R.append(['tests'], ['write', 'more']); //=> ['write', 'more', ['tests']]
 */


var append =
/*#__PURE__*/
_curry2(function append(el, list) {
  return _concat(list, [el]);
});

module.exports = append;

/***/ }),

/***/ 6497:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);
/**
 * Makes a shallow clone of an object, setting or overriding the specified
 * property with the given value. Note that this copies and flattens prototype
 * properties onto the new object as well. All non-primitive properties are
 * copied by reference.
 *
 * @func
 * @memberOf R
 * @since v0.8.0
 * @category Object
 * @sig String -> a -> {k: v} -> {k: v}
 * @param {String} prop The property name to set
 * @param {*} val The new value
 * @param {Object} obj The object to clone
 * @return {Object} A new object equivalent to the original except for the changed property.
 * @see R.dissoc, R.pick
 * @example
 *
 *      R.assoc('c', 3, {a: 1, b: 2}); //=> {a: 1, b: 2, c: 3}
 */


var assoc =
/*#__PURE__*/
_curry3(function assoc(prop, val, obj) {
  var result = {};

  for (var p in obj) {
    result[p] = obj[p];
  }

  result[prop] = val;
  return result;
});

module.exports = assoc;

/***/ }),

/***/ 3195:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _arity =
/*#__PURE__*/
__webpack_require__(7455);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);
/**
 * Creates a function that is bound to a context.
 * Note: `R.bind` does not provide the additional argument-binding capabilities of
 * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).
 *
 * @func
 * @memberOf R
 * @since v0.6.0
 * @category Function
 * @category Object
 * @sig (* -> *) -> {*} -> (* -> *)
 * @param {Function} fn The function to bind to context
 * @param {Object} thisObj The context to bind `fn` to
 * @return {Function} A function that will execute in the context of `thisObj`.
 * @see R.partial
 * @example
 *
 *      const log = R.bind(console.log, console);
 *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}
 *      // logs {a: 2}
 * @symb R.bind(f, o)(a, b) = f.call(o, a, b)
 */


var bind =
/*#__PURE__*/
_curry2(function bind(fn, thisObj) {
  return _arity(fn.length, function () {
    return fn.apply(thisObj, arguments);
  });
});

module.exports = bind;

/***/ }),

/***/ 557:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var pipe =
/*#__PURE__*/
__webpack_require__(4603);

var reverse =
/*#__PURE__*/
__webpack_require__(5814);
/**
 * Performs right-to-left function composition. The last argument may have
 * any arity; the remaining arguments must be unary.
 *
 * **Note:** The result of compose is not automatically curried.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Function
 * @sig ((y -> z), (x -> y), ..., (o -> p), ((a, b, ..., n) -> o)) -> ((a, b, ..., n) -> z)
 * @param {...Function} ...functions The functions to compose
 * @return {Function}
 * @see R.pipe
 * @example
 *
 *      const classyGreeting = (firstName, lastName) => "The name's " + lastName + ", " + firstName + " " + lastName
 *      const yellGreeting = R.compose(R.toUpper, classyGreeting);
 *      yellGreeting('James', 'Bond'); //=> "THE NAME'S BOND, JAMES BOND"
 *
 *      R.compose(Math.abs, R.add(1), R.multiply(2))(-4) //=> 7
 *
 * @symb R.compose(f, g, h)(a, b) = f(g(h(a, b)))
 */


function compose() {
  if (arguments.length === 0) {
    throw new Error('compose requires at least one argument');
  }

  return pipe.apply(this, reverse(arguments));
}

module.exports = compose;

/***/ }),

/***/ 1949:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _includes =
/*#__PURE__*/
__webpack_require__(7243);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);
/**
 * Returns `true` if the specified value is equal, in [`R.equals`](#equals)
 * terms, to at least one element of the given list; `false` otherwise.
 * Works also with strings.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig a -> [a] -> Boolean
 * @param {Object} a The item to compare against.
 * @param {Array} list The array to consider.
 * @return {Boolean} `true` if an equivalent item is in the list, `false` otherwise.
 * @see R.includes
 * @deprecated since v0.26.0
 * @example
 *
 *      R.contains(3, [1, 2, 3]); //=> true
 *      R.contains(4, [1, 2, 3]); //=> false
 *      R.contains({ name: 'Fred' }, [{ name: 'Fred' }]); //=> true
 *      R.contains([42], [[42]]); //=> true
 *      R.contains('ba', 'banana'); //=>true
 */


var contains =
/*#__PURE__*/
_curry2(_includes);

module.exports = contains;

/***/ }),

/***/ 2220:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _arity =
/*#__PURE__*/
__webpack_require__(7455);

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _curryN =
/*#__PURE__*/
__webpack_require__(2738);
/**
 * Returns a curried equivalent of the provided function, with the specified
 * arity. The curried function has two unusual capabilities. First, its
 * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the
 * following are equivalent:
 *
 *   - `g(1)(2)(3)`
 *   - `g(1)(2, 3)`
 *   - `g(1, 2)(3)`
 *   - `g(1, 2, 3)`
 *
 * Secondly, the special placeholder value [`R.__`](#__) may be used to specify
 * "gaps", allowing partial application of any combination of arguments,
 * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),
 * the following are equivalent:
 *
 *   - `g(1, 2, 3)`
 *   - `g(_, 2, 3)(1)`
 *   - `g(_, _, 3)(1)(2)`
 *   - `g(_, _, 3)(1, 2)`
 *   - `g(_, 2)(1)(3)`
 *   - `g(_, 2)(1, 3)`
 *   - `g(_, 2)(_, 3)(1)`
 *
 * @func
 * @memberOf R
 * @since v0.5.0
 * @category Function
 * @sig Number -> (* -> a) -> (* -> a)
 * @param {Number} length The arity for the returned function.
 * @param {Function} fn The function to curry.
 * @return {Function} A new, curried function.
 * @see R.curry
 * @example
 *
 *      const sumArgs = (...args) => R.sum(args);
 *
 *      const curriedAddFourNumbers = R.curryN(4, sumArgs);
 *      const f = curriedAddFourNumbers(1, 2);
 *      const g = f(3);
 *      g(4); //=> 10
 */


var curryN =
/*#__PURE__*/
_curry2(function curryN(length, fn) {
  if (length === 1) {
    return _curry1(fn);
  }

  return _arity(length, _curryN(length, [], fn));
});

module.exports = curryN;

/***/ }),

/***/ 2892:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);
/**
 * Returns the second argument if it is not `null`, `undefined` or `NaN`;
 * otherwise the first argument is returned.
 *
 * @func
 * @memberOf R
 * @since v0.10.0
 * @category Logic
 * @sig a -> b -> a | b
 * @param {a} default The default value.
 * @param {b} val `val` will be returned instead of `default` unless `val` is `null`, `undefined` or `NaN`.
 * @return {*} The second value if it is not `null`, `undefined` or `NaN`, otherwise the default value
 * @example
 *
 *      const defaultTo42 = R.defaultTo(42);
 *
 *      defaultTo42(null);  //=> 42
 *      defaultTo42(undefined);  //=> 42
 *      defaultTo42(false);  //=> false
 *      defaultTo42('Ramda');  //=> 'Ramda'
 *      // parseInt('string') results in NaN
 *      defaultTo42(parseInt('string')); //=> 42
 */


var defaultTo =
/*#__PURE__*/
_curry2(function defaultTo(d, v) {
  return v == null || v !== v ? d : v;
});

module.exports = defaultTo;

/***/ }),

/***/ 1481:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _equals =
/*#__PURE__*/
__webpack_require__(4023);
/**
 * Returns `true` if its arguments are equivalent, `false` otherwise. Handles
 * cyclical data structures.
 *
 * Dispatches symmetrically to the `equals` methods of both arguments, if
 * present.
 *
 * @func
 * @memberOf R
 * @since v0.15.0
 * @category Relation
 * @sig a -> b -> Boolean
 * @param {*} a
 * @param {*} b
 * @return {Boolean}
 * @example
 *
 *      R.equals(1, 1); //=> true
 *      R.equals(1, '1'); //=> false
 *      R.equals([1, 2, 3], [1, 2, 3]); //=> true
 *
 *      const a = {}; a.v = a;
 *      const b = {}; b.v = b;
 *      R.equals(a, b); //=> true
 */


var equals =
/*#__PURE__*/
_curry2(function equals(a, b) {
  return _equals(a, b, [], []);
});

module.exports = equals;

/***/ }),

/***/ 1383:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _dispatchable =
/*#__PURE__*/
__webpack_require__(4793);

var _filter =
/*#__PURE__*/
__webpack_require__(4877);

var _isObject =
/*#__PURE__*/
__webpack_require__(8291);

var _reduce =
/*#__PURE__*/
__webpack_require__(9488);

var _xfilter =
/*#__PURE__*/
__webpack_require__(123);

var keys =
/*#__PURE__*/
__webpack_require__(368);
/**
 * Takes a predicate and a `Filterable`, and returns a new filterable of the
 * same type containing the members of the given filterable which satisfy the
 * given predicate. Filterable objects include plain objects or any object
 * that has a filter method such as `Array`.
 *
 * Dispatches to the `filter` method of the second argument, if present.
 *
 * Acts as a transducer if a transformer is given in list position.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig Filterable f => (a -> Boolean) -> f a -> f a
 * @param {Function} pred
 * @param {Array} filterable
 * @return {Array} Filterable
 * @see R.reject, R.transduce, R.addIndex
 * @example
 *
 *      const isEven = n => n % 2 === 0;
 *
 *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]
 *
 *      R.filter(isEven, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}
 */


var filter =
/*#__PURE__*/
_curry2(
/*#__PURE__*/
_dispatchable(['filter'], _xfilter, function (pred, filterable) {
  return _isObject(filterable) ? _reduce(function (acc, key) {
    if (pred(filterable[key])) {
      acc[key] = filterable[key];
    }

    return acc;
  }, {}, keys(filterable)) : // else
  _filter(pred, filterable);
}));

module.exports = filter;

/***/ }),

/***/ 6376:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _dispatchable =
/*#__PURE__*/
__webpack_require__(4793);

var _xfind =
/*#__PURE__*/
__webpack_require__(7855);
/**
 * Returns the first element of the list which matches the predicate, or
 * `undefined` if no element matches.
 *
 * Dispatches to the `find` method of the second argument, if present.
 *
 * Acts as a transducer if a transformer is given in list position.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig (a -> Boolean) -> [a] -> a | undefined
 * @param {Function} fn The predicate function used to determine if the element is the
 *        desired one.
 * @param {Array} list The array to consider.
 * @return {Object} The element found, or `undefined`.
 * @see R.transduce
 * @example
 *
 *      const xs = [{a: 1}, {a: 2}, {a: 3}];
 *      R.find(R.propEq('a', 2))(xs); //=> {a: 2}
 *      R.find(R.propEq('a', 4))(xs); //=> undefined
 */


var find =
/*#__PURE__*/
_curry2(
/*#__PURE__*/
_dispatchable(['find'], _xfind, function find(fn, list) {
  var idx = 0;
  var len = list.length;

  while (idx < len) {
    if (fn(list[idx])) {
      return list[idx];
    }

    idx += 1;
  }
}));

module.exports = find;

/***/ }),

/***/ 3523:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _dispatchable =
/*#__PURE__*/
__webpack_require__(4793);

var _xfindIndex =
/*#__PURE__*/
__webpack_require__(834);
/**
 * Returns the index of the first element of the list which matches the
 * predicate, or `-1` if no element matches.
 *
 * Acts as a transducer if a transformer is given in list position.
 *
 * @func
 * @memberOf R
 * @since v0.1.1
 * @category List
 * @sig (a -> Boolean) -> [a] -> Number
 * @param {Function} fn The predicate function used to determine if the element is the
 * desired one.
 * @param {Array} list The array to consider.
 * @return {Number} The index of the element found, or `-1`.
 * @see R.transduce
 * @example
 *
 *      const xs = [{a: 1}, {a: 2}, {a: 3}];
 *      R.findIndex(R.propEq('a', 2))(xs); //=> 1
 *      R.findIndex(R.propEq('a', 4))(xs); //=> -1
 */


var findIndex =
/*#__PURE__*/
_curry2(
/*#__PURE__*/
_dispatchable([], _xfindIndex, function findIndex(fn, list) {
  var idx = 0;
  var len = list.length;

  while (idx < len) {
    if (fn(list[idx])) {
      return idx;
    }

    idx += 1;
  }

  return -1;
}));

module.exports = findIndex;

/***/ }),

/***/ 9134:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var curryN =
/*#__PURE__*/
__webpack_require__(2220);
/**
 * Returns a new function much like the supplied one, except that the first two
 * arguments' order is reversed.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Function
 * @sig ((a, b, c, ...) -> z) -> (b -> a -> c -> ... -> z)
 * @param {Function} fn The function to invoke with its first two parameters reversed.
 * @return {*} The result of invoking `fn` with its first two parameters' order reversed.
 * @example
 *
 *      const mergeThree = (a, b, c) => [].concat(a, b, c);
 *
 *      mergeThree(1, 2, 3); //=> [1, 2, 3]
 *
 *      R.flip(mergeThree)(1, 2, 3); //=> [2, 1, 3]
 * @symb R.flip(f)(a, b, c) = f(b, a, c)
 */


var flip =
/*#__PURE__*/
_curry1(function flip(fn) {
  return curryN(fn.length, function (a, b) {
    var args = Array.prototype.slice.call(arguments, 0);
    args[0] = b;
    args[1] = a;
    return fn.apply(this, args);
  });
});

module.exports = flip;

/***/ }),

/***/ 9105:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var _identity =
/*#__PURE__*/
__webpack_require__(339);
/**
 * A function that does nothing but return the parameter supplied to it. Good
 * as a default or placeholder function.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Function
 * @sig a -> a
 * @param {*} x The value to return.
 * @return {*} The input value, `x`.
 * @example
 *
 *      R.identity(1); //=> 1
 *
 *      const obj = {};
 *      R.identity(obj) === obj; //=> true
 * @symb R.identity(a) = a
 */


var identity =
/*#__PURE__*/
_curry1(_identity);

module.exports = identity;

/***/ }),

/***/ 9270:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _includes =
/*#__PURE__*/
__webpack_require__(7243);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);
/**
 * Returns `true` if the specified value is equal, in [`R.equals`](#equals)
 * terms, to at least one element of the given list; `false` otherwise.
 * Works also with strings.
 *
 * @func
 * @memberOf R
 * @since v0.26.0
 * @category List
 * @sig a -> [a] -> Boolean
 * @param {Object} a The item to compare against.
 * @param {Array} list The array to consider.
 * @return {Boolean} `true` if an equivalent item is in the list, `false` otherwise.
 * @see R.any
 * @example
 *
 *      R.includes(3, [1, 2, 3]); //=> true
 *      R.includes(4, [1, 2, 3]); //=> false
 *      R.includes({ name: 'Fred' }, [{ name: 'Fred' }]); //=> true
 *      R.includes([42], [[42]]); //=> true
 *      R.includes('ba', 'banana'); //=>true
 */


var includes =
/*#__PURE__*/
_curry2(_includes);

module.exports = includes;

/***/ }),

/***/ 8876:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _includes =
/*#__PURE__*/
__webpack_require__(7243);

var _Set =
/*#__PURE__*/
function () {
  function _Set() {
    /* globals Set */
    this._nativeSet = typeof Set === 'function' ? new Set() : null;
    this._items = {};
  }

  // until we figure out why jsdoc chokes on this
  // @param item The item to add to the Set
  // @returns {boolean} true if the item did not exist prior, otherwise false
  //
  _Set.prototype.add = function (item) {
    return !hasOrAdd(item, true, this);
  }; //
  // @param item The item to check for existence in the Set
  // @returns {boolean} true if the item exists in the Set, otherwise false
  //


  _Set.prototype.has = function (item) {
    return hasOrAdd(item, false, this);
  }; //
  // Combines the logic for checking whether an item is a member of the set and
  // for adding a new item to the set.
  //
  // @param item       The item to check or add to the Set instance.
  // @param shouldAdd  If true, the item will be added to the set if it doesn't
  //                   already exist.
  // @param set        The set instance to check or add to.
  // @return {boolean} true if the item already existed, otherwise false.
  //


  return _Set;
}();

function hasOrAdd(item, shouldAdd, set) {
  var type = typeof item;
  var prevSize, newSize;

  switch (type) {
    case 'string':
    case 'number':
      // distinguish between +0 and -0
      if (item === 0 && 1 / item === -Infinity) {
        if (set._items['-0']) {
          return true;
        } else {
          if (shouldAdd) {
            set._items['-0'] = true;
          }

          return false;
        }
      } // these types can all utilise the native Set


      if (set._nativeSet !== null) {
        if (shouldAdd) {
          prevSize = set._nativeSet.size;

          set._nativeSet.add(item);

          newSize = set._nativeSet.size;
          return newSize === prevSize;
        } else {
          return set._nativeSet.has(item);
        }
      } else {
        if (!(type in set._items)) {
          if (shouldAdd) {
            set._items[type] = {};
            set._items[type][item] = true;
          }

          return false;
        } else if (item in set._items[type]) {
          return true;
        } else {
          if (shouldAdd) {
            set._items[type][item] = true;
          }

          return false;
        }
      }

    case 'boolean':
      // set._items['boolean'] holds a two element array
      // representing [ falseExists, trueExists ]
      if (type in set._items) {
        var bIdx = item ? 1 : 0;

        if (set._items[type][bIdx]) {
          return true;
        } else {
          if (shouldAdd) {
            set._items[type][bIdx] = true;
          }

          return false;
        }
      } else {
        if (shouldAdd) {
          set._items[type] = item ? [false, true] : [true, false];
        }

        return false;
      }

    case 'function':
      // compare functions for reference equality
      if (set._nativeSet !== null) {
        if (shouldAdd) {
          prevSize = set._nativeSet.size;

          set._nativeSet.add(item);

          newSize = set._nativeSet.size;
          return newSize === prevSize;
        } else {
          return set._nativeSet.has(item);
        }
      } else {
        if (!(type in set._items)) {
          if (shouldAdd) {
            set._items[type] = [item];
          }

          return false;
        }

        if (!_includes(item, set._items[type])) {
          if (shouldAdd) {
            set._items[type].push(item);
          }

          return false;
        }

        return true;
      }

    case 'undefined':
      if (set._items[type]) {
        return true;
      } else {
        if (shouldAdd) {
          set._items[type] = true;
        }

        return false;
      }

    case 'object':
      if (item === null) {
        if (!set._items['null']) {
          if (shouldAdd) {
            set._items['null'] = true;
          }

          return false;
        }

        return true;
      }

    /* falls through */

    default:
      // reduce the search size of heterogeneous sets by creating buckets
      // for each type.
      type = Object.prototype.toString.call(item);

      if (!(type in set._items)) {
        if (shouldAdd) {
          set._items[type] = [item];
        }

        return false;
      } // scan through all previously applied items


      if (!_includes(item, set._items[type])) {
        if (shouldAdd) {
          set._items[type].push(item);
        }

        return false;
      }

      return true;
  }
} // A simple Set type that honours R.equals semantics


module.exports = _Set;

/***/ }),

/***/ 7455:
/***/ ((module) => {

function _arity(n, fn) {
  /* eslint-disable no-unused-vars */
  switch (n) {
    case 0:
      return function () {
        return fn.apply(this, arguments);
      };

    case 1:
      return function (a0) {
        return fn.apply(this, arguments);
      };

    case 2:
      return function (a0, a1) {
        return fn.apply(this, arguments);
      };

    case 3:
      return function (a0, a1, a2) {
        return fn.apply(this, arguments);
      };

    case 4:
      return function (a0, a1, a2, a3) {
        return fn.apply(this, arguments);
      };

    case 5:
      return function (a0, a1, a2, a3, a4) {
        return fn.apply(this, arguments);
      };

    case 6:
      return function (a0, a1, a2, a3, a4, a5) {
        return fn.apply(this, arguments);
      };

    case 7:
      return function (a0, a1, a2, a3, a4, a5, a6) {
        return fn.apply(this, arguments);
      };

    case 8:
      return function (a0, a1, a2, a3, a4, a5, a6, a7) {
        return fn.apply(this, arguments);
      };

    case 9:
      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {
        return fn.apply(this, arguments);
      };

    case 10:
      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {
        return fn.apply(this, arguments);
      };

    default:
      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');
  }
}

module.exports = _arity;

/***/ }),

/***/ 4118:
/***/ ((module) => {

function _arrayFromIterator(iter) {
  var list = [];
  var next;

  while (!(next = iter.next()).done) {
    list.push(next.value);
  }

  return list;
}

module.exports = _arrayFromIterator;

/***/ }),

/***/ 3542:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _isArray =
/*#__PURE__*/
__webpack_require__(219);
/**
 * This checks whether a function has a [methodname] function. If it isn't an
 * array it will execute that function otherwise it will default to the ramda
 * implementation.
 *
 * @private
 * @param {Function} fn ramda implemtation
 * @param {String} methodname property to check for a custom implementation
 * @return {Object} Whatever the return value of the method is.
 */


function _checkForMethod(methodname, fn) {
  return function () {
    var length = arguments.length;

    if (length === 0) {
      return fn();
    }

    var obj = arguments[length - 1];
    return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, Array.prototype.slice.call(arguments, 0, length - 1));
  };
}

module.exports = _checkForMethod;

/***/ }),

/***/ 8770:
/***/ ((module) => {

function _complement(f) {
  return function () {
    return !f.apply(this, arguments);
  };
}

module.exports = _complement;

/***/ }),

/***/ 4011:
/***/ ((module) => {

/**
 * Private `concat` function to merge two array-like objects.
 *
 * @private
 * @param {Array|Arguments} [set1=[]] An array-like object.
 * @param {Array|Arguments} [set2=[]] An array-like object.
 * @return {Array} A new, merged array.
 * @example
 *
 *      _concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]
 */
function _concat(set1, set2) {
  set1 = set1 || [];
  set2 = set2 || [];
  var idx;
  var len1 = set1.length;
  var len2 = set2.length;
  var result = [];
  idx = 0;

  while (idx < len1) {
    result[result.length] = set1[idx];
    idx += 1;
  }

  idx = 0;

  while (idx < len2) {
    result[result.length] = set2[idx];
    idx += 1;
  }

  return result;
}

module.exports = _concat;

/***/ }),

/***/ 6224:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _isPlaceholder =
/*#__PURE__*/
__webpack_require__(6464);
/**
 * Optimized internal one-arity curry function.
 *
 * @private
 * @category Function
 * @param {Function} fn The function to curry.
 * @return {Function} The curried function.
 */


function _curry1(fn) {
  return function f1(a) {
    if (arguments.length === 0 || _isPlaceholder(a)) {
      return f1;
    } else {
      return fn.apply(this, arguments);
    }
  };
}

module.exports = _curry1;

/***/ }),

/***/ 9002:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var _isPlaceholder =
/*#__PURE__*/
__webpack_require__(6464);
/**
 * Optimized internal two-arity curry function.
 *
 * @private
 * @category Function
 * @param {Function} fn The function to curry.
 * @return {Function} The curried function.
 */


function _curry2(fn) {
  return function f2(a, b) {
    switch (arguments.length) {
      case 0:
        return f2;

      case 1:
        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {
          return fn(a, _b);
        });

      default:
        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {
          return fn(_a, b);
        }) : _isPlaceholder(b) ? _curry1(function (_b) {
          return fn(a, _b);
        }) : fn(a, b);
    }
  };
}

module.exports = _curry2;

/***/ }),

/***/ 6370:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _isPlaceholder =
/*#__PURE__*/
__webpack_require__(6464);
/**
 * Optimized internal three-arity curry function.
 *
 * @private
 * @category Function
 * @param {Function} fn The function to curry.
 * @return {Function} The curried function.
 */


function _curry3(fn) {
  return function f3(a, b, c) {
    switch (arguments.length) {
      case 0:
        return f3;

      case 1:
        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {
          return fn(a, _b, _c);
        });

      case 2:
        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {
          return fn(_a, b, _c);
        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {
          return fn(a, _b, _c);
        }) : _curry1(function (_c) {
          return fn(a, b, _c);
        });

      default:
        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {
          return fn(_a, _b, c);
        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {
          return fn(_a, b, _c);
        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {
          return fn(a, _b, _c);
        }) : _isPlaceholder(a) ? _curry1(function (_a) {
          return fn(_a, b, c);
        }) : _isPlaceholder(b) ? _curry1(function (_b) {
          return fn(a, _b, c);
        }) : _isPlaceholder(c) ? _curry1(function (_c) {
          return fn(a, b, _c);
        }) : fn(a, b, c);
    }
  };
}

module.exports = _curry3;

/***/ }),

/***/ 2738:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _arity =
/*#__PURE__*/
__webpack_require__(7455);

var _isPlaceholder =
/*#__PURE__*/
__webpack_require__(6464);
/**
 * Internal curryN function.
 *
 * @private
 * @category Function
 * @param {Number} length The arity of the curried function.
 * @param {Array} received An array of arguments received thus far.
 * @param {Function} fn The function to curry.
 * @return {Function} The curried function.
 */


function _curryN(length, received, fn) {
  return function () {
    var combined = [];
    var argsIdx = 0;
    var left = length;
    var combinedIdx = 0;

    while (combinedIdx < received.length || argsIdx < arguments.length) {
      var result;

      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {
        result = received[combinedIdx];
      } else {
        result = arguments[argsIdx];
        argsIdx += 1;
      }

      combined[combinedIdx] = result;

      if (!_isPlaceholder(result)) {
        left -= 1;
      }

      combinedIdx += 1;
    }

    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));
  };
}

module.exports = _curryN;

/***/ }),

/***/ 4793:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _isArray =
/*#__PURE__*/
__webpack_require__(219);

var _isTransformer =
/*#__PURE__*/
__webpack_require__(9082);
/**
 * Returns a function that dispatches with different strategies based on the
 * object in list position (last argument). If it is an array, executes [fn].
 * Otherwise, if it has a function with one of the given method names, it will
 * execute that function (functor case). Otherwise, if it is a transformer,
 * uses transducer [xf] to return a new transformer (transducer case).
 * Otherwise, it will default to executing [fn].
 *
 * @private
 * @param {Array} methodNames properties to check for a custom implementation
 * @param {Function} xf transducer to initialize if object is transformer
 * @param {Function} fn default ramda implementation
 * @return {Function} A function that dispatches on object in list position
 */


function _dispatchable(methodNames, xf, fn) {
  return function () {
    if (arguments.length === 0) {
      return fn();
    }

    var args = Array.prototype.slice.call(arguments, 0);
    var obj = args.pop();

    if (!_isArray(obj)) {
      var idx = 0;

      while (idx < methodNames.length) {
        if (typeof obj[methodNames[idx]] === 'function') {
          return obj[methodNames[idx]].apply(obj, args);
        }

        idx += 1;
      }

      if (_isTransformer(obj)) {
        var transducer = xf.apply(null, args);
        return transducer(obj);
      }
    }

    return fn.apply(this, arguments);
  };
}

module.exports = _dispatchable;

/***/ }),

/***/ 4023:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _arrayFromIterator =
/*#__PURE__*/
__webpack_require__(4118);

var _includesWith =
/*#__PURE__*/
__webpack_require__(2976);

var _functionName =
/*#__PURE__*/
__webpack_require__(4931);

var _has =
/*#__PURE__*/
__webpack_require__(7684);

var _objectIs =
/*#__PURE__*/
__webpack_require__(1361);

var keys =
/*#__PURE__*/
__webpack_require__(368);

var type =
/*#__PURE__*/
__webpack_require__(6433);
/**
 * private _uniqContentEquals function.
 * That function is checking equality of 2 iterator contents with 2 assumptions
 * - iterators lengths are the same
 * - iterators values are unique
 *
 * false-positive result will be returned for comparision of, e.g.
 * - [1,2,3] and [1,2,3,4]
 * - [1,1,1] and [1,2,3]
 * */


function _uniqContentEquals(aIterator, bIterator, stackA, stackB) {
  var a = _arrayFromIterator(aIterator);

  var b = _arrayFromIterator(bIterator);

  function eq(_a, _b) {
    return _equals(_a, _b, stackA.slice(), stackB.slice());
  } // if *a* array contains any element that is not included in *b*


  return !_includesWith(function (b, aItem) {
    return !_includesWith(eq, aItem, b);
  }, b, a);
}

function _equals(a, b, stackA, stackB) {
  if (_objectIs(a, b)) {
    return true;
  }

  var typeA = type(a);

  if (typeA !== type(b)) {
    return false;
  }

  if (a == null || b == null) {
    return false;
  }

  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {
    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);
  }

  if (typeof a.equals === 'function' || typeof b.equals === 'function') {
    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);
  }

  switch (typeA) {
    case 'Arguments':
    case 'Array':
    case 'Object':
      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {
        return a === b;
      }

      break;

    case 'Boolean':
    case 'Number':
    case 'String':
      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {
        return false;
      }

      break;

    case 'Date':
      if (!_objectIs(a.valueOf(), b.valueOf())) {
        return false;
      }

      break;

    case 'Error':
      return a.name === b.name && a.message === b.message;

    case 'RegExp':
      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {
        return false;
      }

      break;
  }

  var idx = stackA.length - 1;

  while (idx >= 0) {
    if (stackA[idx] === a) {
      return stackB[idx] === b;
    }

    idx -= 1;
  }

  switch (typeA) {
    case 'Map':
      if (a.size !== b.size) {
        return false;
      }

      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));

    case 'Set':
      if (a.size !== b.size) {
        return false;
      }

      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));

    case 'Arguments':
    case 'Array':
    case 'Object':
    case 'Boolean':
    case 'Number':
    case 'String':
    case 'Date':
    case 'Error':
    case 'RegExp':
    case 'Int8Array':
    case 'Uint8Array':
    case 'Uint8ClampedArray':
    case 'Int16Array':
    case 'Uint16Array':
    case 'Int32Array':
    case 'Uint32Array':
    case 'Float32Array':
    case 'Float64Array':
    case 'ArrayBuffer':
      break;

    default:
      // Values of other types are only equal if identical.
      return false;
  }

  var keysA = keys(a);

  if (keysA.length !== keys(b).length) {
    return false;
  }

  var extendedStackA = stackA.concat([a]);
  var extendedStackB = stackB.concat([b]);
  idx = keysA.length - 1;

  while (idx >= 0) {
    var key = keysA[idx];

    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {
      return false;
    }

    idx -= 1;
  }

  return true;
}

module.exports = _equals;

/***/ }),

/***/ 4877:
/***/ ((module) => {

function _filter(fn, list) {
  var idx = 0;
  var len = list.length;
  var result = [];

  while (idx < len) {
    if (fn(list[idx])) {
      result[result.length] = list[idx];
    }

    idx += 1;
  }

  return result;
}

module.exports = _filter;

/***/ }),

/***/ 4931:
/***/ ((module) => {

function _functionName(f) {
  // String(x => x) evaluates to "x => x", so the pattern may not match.
  var match = String(f).match(/^function (\w*)/);
  return match == null ? '' : match[1];
}

module.exports = _functionName;

/***/ }),

/***/ 7684:
/***/ ((module) => {

function _has(prop, obj) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = _has;

/***/ }),

/***/ 339:
/***/ ((module) => {

function _identity(x) {
  return x;
}

module.exports = _identity;

/***/ }),

/***/ 7243:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _indexOf =
/*#__PURE__*/
__webpack_require__(6069);

function _includes(a, list) {
  return _indexOf(list, a, 0) >= 0;
}

module.exports = _includes;

/***/ }),

/***/ 2976:
/***/ ((module) => {

function _includesWith(pred, x, list) {
  var idx = 0;
  var len = list.length;

  while (idx < len) {
    if (pred(x, list[idx])) {
      return true;
    }

    idx += 1;
  }

  return false;
}

module.exports = _includesWith;

/***/ }),

/***/ 6069:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var equals =
/*#__PURE__*/
__webpack_require__(1481);

function _indexOf(list, a, idx) {
  var inf, item; // Array.prototype.indexOf doesn't exist below IE9

  if (typeof list.indexOf === 'function') {
    switch (typeof a) {
      case 'number':
        if (a === 0) {
          // manually crawl the list to distinguish between +0 and -0
          inf = 1 / a;

          while (idx < list.length) {
            item = list[idx];

            if (item === 0 && 1 / item === inf) {
              return idx;
            }

            idx += 1;
          }

          return -1;
        } else if (a !== a) {
          // NaN
          while (idx < list.length) {
            item = list[idx];

            if (typeof item === 'number' && item !== item) {
              return idx;
            }

            idx += 1;
          }

          return -1;
        } // non-zero numbers can utilise Set


        return list.indexOf(a, idx);
      // all these types can utilise Set

      case 'string':
      case 'boolean':
      case 'function':
      case 'undefined':
        return list.indexOf(a, idx);

      case 'object':
        if (a === null) {
          // null can utilise Set
          return list.indexOf(a, idx);
        }

    }
  } // anything else not covered above, defer to R.equals


  while (idx < list.length) {
    if (equals(list[idx], a)) {
      return idx;
    }

    idx += 1;
  }

  return -1;
}

module.exports = _indexOf;

/***/ }),

/***/ 7587:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _has =
/*#__PURE__*/
__webpack_require__(7684);

var toString = Object.prototype.toString;

var _isArguments =
/*#__PURE__*/
function () {
  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {
    return toString.call(x) === '[object Arguments]';
  } : function _isArguments(x) {
    return _has('callee', x);
  };
}();

module.exports = _isArguments;

/***/ }),

/***/ 219:
/***/ ((module) => {

/**
 * Tests whether or not an object is an array.
 *
 * @private
 * @param {*} val The object to test.
 * @return {Boolean} `true` if `val` is an array, `false` otherwise.
 * @example
 *
 *      _isArray([]); //=> true
 *      _isArray(null); //=> false
 *      _isArray({}); //=> false
 */
module.exports = Array.isArray || function _isArray(val) {
  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';
};

/***/ }),

/***/ 3219:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var _isArray =
/*#__PURE__*/
__webpack_require__(219);

var _isString =
/*#__PURE__*/
__webpack_require__(190);
/**
 * Tests whether or not an object is similar to an array.
 *
 * @private
 * @category Type
 * @category List
 * @sig * -> Boolean
 * @param {*} x The object to test.
 * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.
 * @example
 *
 *      _isArrayLike([]); //=> true
 *      _isArrayLike(true); //=> false
 *      _isArrayLike({}); //=> false
 *      _isArrayLike({length: 10}); //=> false
 *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true
 */


var _isArrayLike =
/*#__PURE__*/
_curry1(function isArrayLike(x) {
  if (_isArray(x)) {
    return true;
  }

  if (!x) {
    return false;
  }

  if (typeof x !== 'object') {
    return false;
  }

  if (_isString(x)) {
    return false;
  }

  if (x.nodeType === 1) {
    return !!x.length;
  }

  if (x.length === 0) {
    return true;
  }

  if (x.length > 0) {
    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);
  }

  return false;
});

module.exports = _isArrayLike;

/***/ }),

/***/ 7000:
/***/ ((module) => {

/**
 * Determine if the passed argument is an integer.
 *
 * @private
 * @param {*} n
 * @category Type
 * @return {Boolean}
 */
module.exports = Number.isInteger || function _isInteger(n) {
  return n << 0 === n;
};

/***/ }),

/***/ 8291:
/***/ ((module) => {

function _isObject(x) {
  return Object.prototype.toString.call(x) === '[object Object]';
}

module.exports = _isObject;

/***/ }),

/***/ 6464:
/***/ ((module) => {

function _isPlaceholder(a) {
  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;
}

module.exports = _isPlaceholder;

/***/ }),

/***/ 190:
/***/ ((module) => {

function _isString(x) {
  return Object.prototype.toString.call(x) === '[object String]';
}

module.exports = _isString;

/***/ }),

/***/ 9082:
/***/ ((module) => {

function _isTransformer(obj) {
  return obj != null && typeof obj['@@transducer/step'] === 'function';
}

module.exports = _isTransformer;

/***/ }),

/***/ 6692:
/***/ ((module) => {

function _map(fn, functor) {
  var idx = 0;
  var len = functor.length;
  var result = Array(len);

  while (idx < len) {
    result[idx] = fn(functor[idx]);
    idx += 1;
  }

  return result;
}

module.exports = _map;

/***/ }),

/***/ 1361:
/***/ ((module) => {

// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
function _objectIs(a, b) {
  // SameValue algorithm
  if (a === b) {
    // Steps 1-5, 7-10
    // Steps 6.b-6.e: +0 != -0
    return a !== 0 || 1 / a === 1 / b;
  } else {
    // Step 6.a: NaN == NaN
    return a !== a && b !== b;
  }
}

module.exports = typeof Object.is === 'function' ? Object.is : _objectIs;

/***/ }),

/***/ 6015:
/***/ ((module) => {

function _pipe(f, g) {
  return function () {
    return g.call(this, f.apply(this, arguments));
  };
}

module.exports = _pipe;

/***/ }),

/***/ 9488:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _isArrayLike =
/*#__PURE__*/
__webpack_require__(3219);

var _xwrap =
/*#__PURE__*/
__webpack_require__(9874);

var bind =
/*#__PURE__*/
__webpack_require__(3195);

function _arrayReduce(xf, acc, list) {
  var idx = 0;
  var len = list.length;

  while (idx < len) {
    acc = xf['@@transducer/step'](acc, list[idx]);

    if (acc && acc['@@transducer/reduced']) {
      acc = acc['@@transducer/value'];
      break;
    }

    idx += 1;
  }

  return xf['@@transducer/result'](acc);
}

function _iterableReduce(xf, acc, iter) {
  var step = iter.next();

  while (!step.done) {
    acc = xf['@@transducer/step'](acc, step.value);

    if (acc && acc['@@transducer/reduced']) {
      acc = acc['@@transducer/value'];
      break;
    }

    step = iter.next();
  }

  return xf['@@transducer/result'](acc);
}

function _methodReduce(xf, acc, obj, methodName) {
  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));
}

var symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';

function _reduce(fn, acc, list) {
  if (typeof fn === 'function') {
    fn = _xwrap(fn);
  }

  if (_isArrayLike(list)) {
    return _arrayReduce(fn, acc, list);
  }

  if (typeof list['fantasy-land/reduce'] === 'function') {
    return _methodReduce(fn, acc, list, 'fantasy-land/reduce');
  }

  if (list[symIterator] != null) {
    return _iterableReduce(fn, acc, list[symIterator]());
  }

  if (typeof list.next === 'function') {
    return _iterableReduce(fn, acc, list);
  }

  if (typeof list.reduce === 'function') {
    return _methodReduce(fn, acc, list, 'reduce');
  }

  throw new TypeError('reduce: list must be array or iterable');
}

module.exports = _reduce;

/***/ }),

/***/ 2157:
/***/ ((module) => {

function _reduced(x) {
  return x && x['@@transducer/reduced'] ? x : {
    '@@transducer/value': x,
    '@@transducer/reduced': true
  };
}

module.exports = _reduced;

/***/ }),

/***/ 3714:
/***/ ((module) => {

module.exports = {
  init: function () {
    return this.xf['@@transducer/init']();
  },
  result: function (result) {
    return this.xf['@@transducer/result'](result);
  }
};

/***/ }),

/***/ 123:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _xfBase =
/*#__PURE__*/
__webpack_require__(3714);

var XFilter =
/*#__PURE__*/
function () {
  function XFilter(f, xf) {
    this.xf = xf;
    this.f = f;
  }

  XFilter.prototype['@@transducer/init'] = _xfBase.init;
  XFilter.prototype['@@transducer/result'] = _xfBase.result;

  XFilter.prototype['@@transducer/step'] = function (result, input) {
    return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;
  };

  return XFilter;
}();

var _xfilter =
/*#__PURE__*/
_curry2(function _xfilter(f, xf) {
  return new XFilter(f, xf);
});

module.exports = _xfilter;

/***/ }),

/***/ 7855:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _reduced =
/*#__PURE__*/
__webpack_require__(2157);

var _xfBase =
/*#__PURE__*/
__webpack_require__(3714);

var XFind =
/*#__PURE__*/
function () {
  function XFind(f, xf) {
    this.xf = xf;
    this.f = f;
    this.found = false;
  }

  XFind.prototype['@@transducer/init'] = _xfBase.init;

  XFind.prototype['@@transducer/result'] = function (result) {
    if (!this.found) {
      result = this.xf['@@transducer/step'](result, void 0);
    }

    return this.xf['@@transducer/result'](result);
  };

  XFind.prototype['@@transducer/step'] = function (result, input) {
    if (this.f(input)) {
      this.found = true;
      result = _reduced(this.xf['@@transducer/step'](result, input));
    }

    return result;
  };

  return XFind;
}();

var _xfind =
/*#__PURE__*/
_curry2(function _xfind(f, xf) {
  return new XFind(f, xf);
});

module.exports = _xfind;

/***/ }),

/***/ 834:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _reduced =
/*#__PURE__*/
__webpack_require__(2157);

var _xfBase =
/*#__PURE__*/
__webpack_require__(3714);

var XFindIndex =
/*#__PURE__*/
function () {
  function XFindIndex(f, xf) {
    this.xf = xf;
    this.f = f;
    this.idx = -1;
    this.found = false;
  }

  XFindIndex.prototype['@@transducer/init'] = _xfBase.init;

  XFindIndex.prototype['@@transducer/result'] = function (result) {
    if (!this.found) {
      result = this.xf['@@transducer/step'](result, -1);
    }

    return this.xf['@@transducer/result'](result);
  };

  XFindIndex.prototype['@@transducer/step'] = function (result, input) {
    this.idx += 1;

    if (this.f(input)) {
      this.found = true;
      result = _reduced(this.xf['@@transducer/step'](result, this.idx));
    }

    return result;
  };

  return XFindIndex;
}();

var _xfindIndex =
/*#__PURE__*/
_curry2(function _xfindIndex(f, xf) {
  return new XFindIndex(f, xf);
});

module.exports = _xfindIndex;

/***/ }),

/***/ 2894:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _xfBase =
/*#__PURE__*/
__webpack_require__(3714);

var XMap =
/*#__PURE__*/
function () {
  function XMap(f, xf) {
    this.xf = xf;
    this.f = f;
  }

  XMap.prototype['@@transducer/init'] = _xfBase.init;
  XMap.prototype['@@transducer/result'] = _xfBase.result;

  XMap.prototype['@@transducer/step'] = function (result, input) {
    return this.xf['@@transducer/step'](result, this.f(input));
  };

  return XMap;
}();

var _xmap =
/*#__PURE__*/
_curry2(function _xmap(f, xf) {
  return new XMap(f, xf);
});

module.exports = _xmap;

/***/ }),

/***/ 9874:
/***/ ((module) => {

var XWrap =
/*#__PURE__*/
function () {
  function XWrap(fn) {
    this.f = fn;
  }

  XWrap.prototype['@@transducer/init'] = function () {
    throw new Error('init not implemented on XWrap');
  };

  XWrap.prototype['@@transducer/result'] = function (acc) {
    return acc;
  };

  XWrap.prototype['@@transducer/step'] = function (acc, x) {
    return this.f(acc, x);
  };

  return XWrap;
}();

function _xwrap(fn) {
  return new XWrap(fn);
}

module.exports = _xwrap;

/***/ }),

/***/ 368:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var _has =
/*#__PURE__*/
__webpack_require__(7684);

var _isArguments =
/*#__PURE__*/
__webpack_require__(7587); // cover IE < 9 keys issues


var hasEnumBug = !
/*#__PURE__*/
{
  toString: null
}.propertyIsEnumerable('toString');
var nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug

var hasArgsEnumBug =
/*#__PURE__*/
function () {
  'use strict';

  return arguments.propertyIsEnumerable('length');
}();

var contains = function contains(list, item) {
  var idx = 0;

  while (idx < list.length) {
    if (list[idx] === item) {
      return true;
    }

    idx += 1;
  }

  return false;
};
/**
 * Returns a list containing the names of all the enumerable own properties of
 * the supplied object.
 * Note that the order of the output array is not guaranteed to be consistent
 * across different JS platforms.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Object
 * @sig {k: v} -> [k]
 * @param {Object} obj The object to extract properties from
 * @return {Array} An array of the object's own properties.
 * @see R.keysIn, R.values
 * @example
 *
 *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']
 */


var keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?
/*#__PURE__*/
_curry1(function keys(obj) {
  return Object(obj) !== obj ? [] : Object.keys(obj);
}) :
/*#__PURE__*/
_curry1(function keys(obj) {
  if (Object(obj) !== obj) {
    return [];
  }

  var prop, nIdx;
  var ks = [];

  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);

  for (prop in obj) {
    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {
      ks[ks.length] = prop;
    }
  }

  if (hasEnumBug) {
    nIdx = nonEnumerableProps.length - 1;

    while (nIdx >= 0) {
      prop = nonEnumerableProps[nIdx];

      if (_has(prop, obj) && !contains(ks, prop)) {
        ks[ks.length] = prop;
      }

      nIdx -= 1;
    }
  }

  return ks;
});
module.exports = keys;

/***/ }),

/***/ 3087:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var map =
/*#__PURE__*/
__webpack_require__(1894);
/**
 * Returns a lens for the given getter and setter functions. The getter "gets"
 * the value of the focus; the setter "sets" the value of the focus. The setter
 * should not mutate the data structure.
 *
 * @func
 * @memberOf R
 * @since v0.8.0
 * @category Object
 * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
 * @sig (s -> a) -> ((a, s) -> s) -> Lens s a
 * @param {Function} getter
 * @param {Function} setter
 * @return {Lens}
 * @see R.view, R.set, R.over, R.lensIndex, R.lensProp
 * @example
 *
 *      const xLens = R.lens(R.prop('x'), R.assoc('x'));
 *
 *      R.view(xLens, {x: 1, y: 2});            //=> 1
 *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}
 *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}
 */


var lens =
/*#__PURE__*/
_curry2(function lens(getter, setter) {
  return function (toFunctorFn) {
    return function (target) {
      return map(function (focus) {
        return setter(focus, target);
      }, toFunctorFn(getter(target)));
    };
  };
});

module.exports = lens;

/***/ }),

/***/ 5677:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var assoc =
/*#__PURE__*/
__webpack_require__(6497);

var lens =
/*#__PURE__*/
__webpack_require__(3087);

var prop =
/*#__PURE__*/
__webpack_require__(2478);
/**
 * Returns a lens whose focus is the specified property.
 *
 * @func
 * @memberOf R
 * @since v0.14.0
 * @category Object
 * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
 * @sig String -> Lens s a
 * @param {String} k
 * @return {Lens}
 * @see R.view, R.set, R.over
 * @example
 *
 *      const xLens = R.lensProp('x');
 *
 *      R.view(xLens, {x: 1, y: 2});            //=> 1
 *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}
 *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}
 */


var lensProp =
/*#__PURE__*/
_curry1(function lensProp(k) {
  return lens(prop(k), assoc(k));
});

module.exports = lensProp;

/***/ }),

/***/ 1894:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _dispatchable =
/*#__PURE__*/
__webpack_require__(4793);

var _map =
/*#__PURE__*/
__webpack_require__(6692);

var _reduce =
/*#__PURE__*/
__webpack_require__(9488);

var _xmap =
/*#__PURE__*/
__webpack_require__(2894);

var curryN =
/*#__PURE__*/
__webpack_require__(2220);

var keys =
/*#__PURE__*/
__webpack_require__(368);
/**
 * Takes a function and
 * a [functor](https://github.com/fantasyland/fantasy-land#functor),
 * applies the function to each of the functor's values, and returns
 * a functor of the same shape.
 *
 * Ramda provides suitable `map` implementations for `Array` and `Object`,
 * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.
 *
 * Dispatches to the `map` method of the second argument, if present.
 *
 * Acts as a transducer if a transformer is given in list position.
 *
 * Also treats functions as functors and will compose them together.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig Functor f => (a -> b) -> f a -> f b
 * @param {Function} fn The function to be called on every element of the input `list`.
 * @param {Array} list The list to be iterated over.
 * @return {Array} The new list.
 * @see R.transduce, R.addIndex
 * @example
 *
 *      const double = x => x * 2;
 *
 *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]
 *
 *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}
 * @symb R.map(f, [a, b]) = [f(a), f(b)]
 * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }
 * @symb R.map(f, functor_o) = functor_o.map(f)
 */


var map =
/*#__PURE__*/
_curry2(
/*#__PURE__*/
_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {
  switch (Object.prototype.toString.call(functor)) {
    case '[object Function]':
      return curryN(functor.length, function () {
        return fn.call(this, functor.apply(this, arguments));
      });

    case '[object Object]':
      return _reduce(function (acc, key) {
        acc[key] = fn(functor[key]);
        return acc;
      }, {}, keys(functor));

    default:
      return _map(fn, functor);
  }
}));

module.exports = map;

/***/ }),

/***/ 7041:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _isString =
/*#__PURE__*/
__webpack_require__(190);
/**
 * Returns the nth element of the given list or string. If n is negative the
 * element at index length + n is returned.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig Number -> [a] -> a | Undefined
 * @sig Number -> String -> String
 * @param {Number} offset
 * @param {*} list
 * @return {*}
 * @example
 *
 *      const list = ['foo', 'bar', 'baz', 'quux'];
 *      R.nth(1, list); //=> 'bar'
 *      R.nth(-1, list); //=> 'quux'
 *      R.nth(-99, list); //=> undefined
 *
 *      R.nth(2, 'abc'); //=> 'c'
 *      R.nth(3, 'abc'); //=> ''
 * @symb R.nth(-1, [a, b, c]) = c
 * @symb R.nth(0, [a, b, c]) = a
 * @symb R.nth(1, [a, b, c]) = b
 */


var nth =
/*#__PURE__*/
_curry2(function nth(offset, list) {
  var idx = offset < 0 ? list.length + offset : offset;
  return _isString(list) ? list.charAt(idx) : list[idx];
});

module.exports = nth;

/***/ }),

/***/ 9599:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370); // `Identity` is a functor that holds a single value, where `map` simply
// transforms the held value with the provided function.


var Identity = function (x) {
  return {
    value: x,
    map: function (f) {
      return Identity(f(x));
    }
  };
};
/**
 * Returns the result of "setting" the portion of the given data structure
 * focused by the given lens to the result of applying the given function to
 * the focused value.
 *
 * @func
 * @memberOf R
 * @since v0.16.0
 * @category Object
 * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
 * @sig Lens s a -> (a -> a) -> s -> s
 * @param {Lens} lens
 * @param {*} v
 * @param {*} x
 * @return {*}
 * @see R.prop, R.lensIndex, R.lensProp
 * @example
 *
 *      const headLens = R.lensIndex(0);
 *
 *      R.over(headLens, R.toUpper, ['foo', 'bar', 'baz']); //=> ['FOO', 'bar', 'baz']
 */


var over =
/*#__PURE__*/
_curry3(function over(lens, f, x) {
  // The value returned by the getter function is first transformed with `f`,
  // then set as the value of an `Identity`. This is then mapped over with the
  // setter function of the lens.
  return lens(function (y) {
    return Identity(f(y));
  })(x).value;
});

module.exports = over;

/***/ }),

/***/ 7430:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var paths =
/*#__PURE__*/
__webpack_require__(4439);
/**
 * Retrieve the value at a given path.
 *
 * @func
 * @memberOf R
 * @since v0.2.0
 * @category Object
 * @typedefn Idx = String | Int
 * @sig [Idx] -> {a} -> a | Undefined
 * @param {Array} path The path to use.
 * @param {Object} obj The object to retrieve the nested property from.
 * @return {*} The data at `path`.
 * @see R.prop, R.nth
 * @example
 *
 *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2
 *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined
 *      R.path(['a', 'b', 0], {a: {b: [1, 2, 3]}}); //=> 1
 *      R.path(['a', 'b', -2], {a: {b: [1, 2, 3]}}); //=> 2
 */


var path =
/*#__PURE__*/
_curry2(function path(pathAr, obj) {
  return paths([pathAr], obj)[0];
});

module.exports = path;

/***/ }),

/***/ 4782:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);

var defaultTo =
/*#__PURE__*/
__webpack_require__(2892);

var path =
/*#__PURE__*/
__webpack_require__(7430);
/**
 * If the given, non-null object has a value at the given path, returns the
 * value at that path. Otherwise returns the provided default value.
 *
 * @func
 * @memberOf R
 * @since v0.18.0
 * @category Object
 * @typedefn Idx = String | Int
 * @sig a -> [Idx] -> {a} -> a
 * @param {*} d The default value.
 * @param {Array} p The path to use.
 * @param {Object} obj The object to retrieve the nested property from.
 * @return {*} The data at `path` of the supplied object or the default value.
 * @example
 *
 *      R.pathOr('N/A', ['a', 'b'], {a: {b: 2}}); //=> 2
 *      R.pathOr('N/A', ['a', 'b'], {c: {b: 2}}); //=> "N/A"
 */


var pathOr =
/*#__PURE__*/
_curry3(function pathOr(d, p, obj) {
  return defaultTo(d, path(p, obj));
});

module.exports = pathOr;

/***/ }),

/***/ 4439:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var _isInteger =
/*#__PURE__*/
__webpack_require__(7000);

var nth =
/*#__PURE__*/
__webpack_require__(7041);
/**
 * Retrieves the values at given paths of an object.
 *
 * @func
 * @memberOf R
 * @since v0.27.1
 * @category Object
 * @typedefn Idx = [String | Int]
 * @sig [Idx] -> {a} -> [a | Undefined]
 * @param {Array} pathsArray The array of paths to be fetched.
 * @param {Object} obj The object to retrieve the nested properties from.
 * @return {Array} A list consisting of values at paths specified by "pathsArray".
 * @see R.path
 * @example
 *
 *      R.paths([['a', 'b'], ['p', 0, 'q']], {a: {b: 2}, p: [{q: 3}]}); //=> [2, 3]
 *      R.paths([['a', 'b'], ['p', 'r']], {a: {b: 2}, p: [{q: 3}]}); //=> [2, undefined]
 */


var paths =
/*#__PURE__*/
_curry2(function paths(pathsArray, obj) {
  return pathsArray.map(function (paths) {
    var val = obj;
    var idx = 0;
    var p;

    while (idx < paths.length) {
      if (val == null) {
        return;
      }

      p = paths[idx];
      val = _isInteger(p) ? nth(p, val) : val[p];
      idx += 1;
    }

    return val;
  });
});

module.exports = paths;

/***/ }),

/***/ 4603:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _arity =
/*#__PURE__*/
__webpack_require__(7455);

var _pipe =
/*#__PURE__*/
__webpack_require__(6015);

var reduce =
/*#__PURE__*/
__webpack_require__(793);

var tail =
/*#__PURE__*/
__webpack_require__(3656);
/**
 * Performs left-to-right function composition. The first argument may have
 * any arity; the remaining arguments must be unary.
 *
 * In some libraries this function is named `sequence`.
 *
 * **Note:** The result of pipe is not automatically curried.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Function
 * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)
 * @param {...Function} functions
 * @return {Function}
 * @see R.compose
 * @example
 *
 *      const f = R.pipe(Math.pow, R.negate, R.inc);
 *
 *      f(3, 4); // -(3^4) + 1
 * @symb R.pipe(f, g, h)(a, b) = h(g(f(a, b)))
 */


function pipe() {
  if (arguments.length === 0) {
    throw new Error('pipe requires at least one argument');
  }

  return _arity(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));
}

module.exports = pipe;

/***/ }),

/***/ 2478:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var path =
/*#__PURE__*/
__webpack_require__(7430);
/**
 * Returns a function that when supplied an object returns the indicated
 * property of that object, if it exists.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Object
 * @typedefn Idx = String | Int
 * @sig Idx -> {s: a} -> a | Undefined
 * @param {String|Number} p The property name or array index
 * @param {Object} obj The object to query
 * @return {*} The value at `obj.p`.
 * @see R.path, R.nth
 * @example
 *
 *      R.prop('x', {x: 100}); //=> 100
 *      R.prop('x', {}); //=> undefined
 *      R.prop(0, [100]); //=> 100
 *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4
 */


var prop =
/*#__PURE__*/
_curry2(function prop(p, obj) {
  return path([p], obj);
});

module.exports = prop;

/***/ }),

/***/ 8371:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);

var equals =
/*#__PURE__*/
__webpack_require__(1481);
/**
 * Returns `true` if the specified object property is equal, in
 * [`R.equals`](#equals) terms, to the given value; `false` otherwise.
 * You can test multiple properties with [`R.whereEq`](#whereEq).
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Relation
 * @sig String -> a -> Object -> Boolean
 * @param {String} name
 * @param {*} val
 * @param {*} obj
 * @return {Boolean}
 * @see R.whereEq, R.propSatisfies, R.equals
 * @example
 *
 *      const abby = {name: 'Abby', age: 7, hair: 'blond'};
 *      const fred = {name: 'Fred', age: 12, hair: 'brown'};
 *      const rusty = {name: 'Rusty', age: 10, hair: 'brown'};
 *      const alois = {name: 'Alois', age: 15, disposition: 'surly'};
 *      const kids = [abby, fred, rusty, alois];
 *      const hasBrownHair = R.propEq('hair', 'brown');
 *      R.filter(hasBrownHair, kids); //=> [fred, rusty]
 */


var propEq =
/*#__PURE__*/
_curry3(function propEq(name, val, obj) {
  return equals(val, obj[name]);
});

module.exports = propEq;

/***/ }),

/***/ 3176:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);

var pathOr =
/*#__PURE__*/
__webpack_require__(4782);
/**
 * If the given, non-null object has an own property with the specified name,
 * returns the value of that property. Otherwise returns the provided default
 * value.
 *
 * @func
 * @memberOf R
 * @since v0.6.0
 * @category Object
 * @sig a -> String -> Object -> a
 * @param {*} val The default value.
 * @param {String} p The name of the property to return.
 * @param {Object} obj The object to query.
 * @return {*} The value of given property of the supplied object or the default value.
 * @example
 *
 *      const alice = {
 *        name: 'ALICE',
 *        age: 101
 *      };
 *      const favorite = R.prop('favoriteLibrary');
 *      const favoriteWithDefault = R.propOr('Ramda', 'favoriteLibrary');
 *
 *      favorite(alice);  //=> undefined
 *      favoriteWithDefault(alice);  //=> 'Ramda'
 */


var propOr =
/*#__PURE__*/
_curry3(function propOr(val, p, obj) {
  return pathOr(val, [p], obj);
});

module.exports = propOr;

/***/ }),

/***/ 793:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);

var _reduce =
/*#__PURE__*/
__webpack_require__(9488);
/**
 * Returns a single item by iterating through the list, successively calling
 * the iterator function and passing it an accumulator value and the current
 * value from the array, and then passing the result to the next call.
 *
 * The iterator function receives two values: *(acc, value)*. It may use
 * [`R.reduced`](#reduced) to shortcut the iteration.
 *
 * The arguments' order of [`reduceRight`](#reduceRight)'s iterator function
 * is *(value, acc)*.
 *
 * Note: `R.reduce` does not skip deleted or unassigned indices (sparse
 * arrays), unlike the native `Array.prototype.reduce` method. For more details
 * on this behavior, see:
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description
 *
 * Dispatches to the `reduce` method of the third argument, if present. When
 * doing so, it is up to the user to handle the [`R.reduced`](#reduced)
 * shortcuting, as this is not implemented by `reduce`.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig ((a, b) -> a) -> a -> [b] -> a
 * @param {Function} fn The iterator function. Receives two values, the accumulator and the
 *        current element from the array.
 * @param {*} acc The accumulator value.
 * @param {Array} list The list to iterate over.
 * @return {*} The final, accumulated value.
 * @see R.reduced, R.addIndex, R.reduceRight
 * @example
 *
 *      R.reduce(R.subtract, 0, [1, 2, 3, 4]) // => ((((0 - 1) - 2) - 3) - 4) = -10
 *      //          -               -10
 *      //         / \              / \
 *      //        -   4           -6   4
 *      //       / \              / \
 *      //      -   3   ==>     -3   3
 *      //     / \              / \
 *      //    -   2           -1   2
 *      //   / \              / \
 *      //  0   1            0   1
 *
 * @symb R.reduce(f, a, [b, c, d]) = f(f(f(a, b), c), d)
 */


var reduce =
/*#__PURE__*/
_curry3(_reduce);

module.exports = reduce;

/***/ }),

/***/ 3266:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _complement =
/*#__PURE__*/
__webpack_require__(8770);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var filter =
/*#__PURE__*/
__webpack_require__(1383);
/**
 * The complement of [`filter`](#filter).
 *
 * Acts as a transducer if a transformer is given in list position. Filterable
 * objects include plain objects or any object that has a filter method such
 * as `Array`.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig Filterable f => (a -> Boolean) -> f a -> f a
 * @param {Function} pred
 * @param {Array} filterable
 * @return {Array}
 * @see R.filter, R.transduce, R.addIndex
 * @example
 *
 *      const isOdd = (n) => n % 2 === 1;
 *
 *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]
 *
 *      R.reject(isOdd, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}
 */


var reject =
/*#__PURE__*/
_curry2(function reject(pred, filterable) {
  return filter(_complement(pred), filterable);
});

module.exports = reject;

/***/ }),

/***/ 5814:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var _isString =
/*#__PURE__*/
__webpack_require__(190);
/**
 * Returns a new list or string with the elements or characters in reverse
 * order.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig [a] -> [a]
 * @sig String -> String
 * @param {Array|String} list
 * @return {Array|String}
 * @example
 *
 *      R.reverse([1, 2, 3]);  //=> [3, 2, 1]
 *      R.reverse([1, 2]);     //=> [2, 1]
 *      R.reverse([1]);        //=> [1]
 *      R.reverse([]);         //=> []
 *
 *      R.reverse('abc');      //=> 'cba'
 *      R.reverse('ab');       //=> 'ba'
 *      R.reverse('a');        //=> 'a'
 *      R.reverse('');         //=> ''
 */


var reverse =
/*#__PURE__*/
_curry1(function reverse(list) {
  return _isString(list) ? list.split('').reverse().join('') : Array.prototype.slice.call(list, 0).reverse();
});

module.exports = reverse;

/***/ }),

/***/ 5994:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);

var always =
/*#__PURE__*/
__webpack_require__(4115);

var over =
/*#__PURE__*/
__webpack_require__(9599);
/**
 * Returns the result of "setting" the portion of the given data structure
 * focused by the given lens to the given value.
 *
 * @func
 * @memberOf R
 * @since v0.16.0
 * @category Object
 * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s
 * @sig Lens s a -> a -> s -> s
 * @param {Lens} lens
 * @param {*} v
 * @param {*} x
 * @return {*}
 * @see R.prop, R.lensIndex, R.lensProp
 * @example
 *
 *      const xLens = R.lensProp('x');
 *
 *      R.set(xLens, 4, {x: 1, y: 2});  //=> {x: 4, y: 2}
 *      R.set(xLens, 8, {x: 1, y: 2});  //=> {x: 8, y: 2}
 */


var set =
/*#__PURE__*/
_curry3(function set(lens, v, x) {
  return over(lens, always(v), x);
});

module.exports = set;

/***/ }),

/***/ 1753:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _checkForMethod =
/*#__PURE__*/
__webpack_require__(3542);

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);
/**
 * Returns the elements of the given list or string (or object with a `slice`
 * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).
 *
 * Dispatches to the `slice` method of the third argument, if present.
 *
 * @func
 * @memberOf R
 * @since v0.1.4
 * @category List
 * @sig Number -> Number -> [a] -> [a]
 * @sig Number -> Number -> String -> String
 * @param {Number} fromIndex The start index (inclusive).
 * @param {Number} toIndex The end index (exclusive).
 * @param {*} list
 * @return {*}
 * @example
 *
 *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']
 *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']
 *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']
 *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']
 *      R.slice(0, 3, 'ramda');                     //=> 'ram'
 */


var slice =
/*#__PURE__*/
_curry3(
/*#__PURE__*/
_checkForMethod('slice', function slice(fromIndex, toIndex, list) {
  return Array.prototype.slice.call(list, fromIndex, toIndex);
}));

module.exports = slice;

/***/ }),

/***/ 6218:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);
/**
 * Returns a copy of the list, sorted according to the comparator function,
 * which should accept two values at a time and return a negative number if the
 * first value is smaller, a positive number if it's larger, and zero if they
 * are equal. Please note that this is a **copy** of the list. It does not
 * modify the original.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig ((a, a) -> Number) -> [a] -> [a]
 * @param {Function} comparator A sorting function :: a -> b -> Int
 * @param {Array} list The list to sort
 * @return {Array} a new array with its elements sorted by the comparator function.
 * @example
 *
 *      const diff = function(a, b) { return a - b; };
 *      R.sort(diff, [4,2,7,5]); //=> [2, 4, 5, 7]
 */


var sort =
/*#__PURE__*/
_curry2(function sort(comparator, list) {
  return Array.prototype.slice.call(list, 0).sort(comparator);
});

module.exports = sort;

/***/ }),

/***/ 9241:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var slice =
/*#__PURE__*/
__webpack_require__(1753);
/**
 * Splits a collection into slices of the specified length.
 *
 * @func
 * @memberOf R
 * @since v0.16.0
 * @category List
 * @sig Number -> [a] -> [[a]]
 * @sig Number -> String -> [String]
 * @param {Number} n
 * @param {Array} list
 * @return {Array}
 * @example
 *
 *      R.splitEvery(3, [1, 2, 3, 4, 5, 6, 7]); //=> [[1, 2, 3], [4, 5, 6], [7]]
 *      R.splitEvery(3, 'foobarbaz'); //=> ['foo', 'bar', 'baz']
 */


var splitEvery =
/*#__PURE__*/
_curry2(function splitEvery(n, list) {
  if (n <= 0) {
    throw new Error('First argument to splitEvery must be a positive integer');
  }

  var result = [];
  var idx = 0;

  while (idx < list.length) {
    result.push(slice(idx, idx += n, list));
  }

  return result;
});

module.exports = splitEvery;

/***/ }),

/***/ 3656:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _checkForMethod =
/*#__PURE__*/
__webpack_require__(3542);

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);

var slice =
/*#__PURE__*/
__webpack_require__(1753);
/**
 * Returns all but the first element of the given list or string (or object
 * with a `tail` method).
 *
 * Dispatches to the `slice` method of the first argument, if present.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig [a] -> [a]
 * @sig String -> String
 * @param {*} list
 * @return {*}
 * @see R.head, R.init, R.last
 * @example
 *
 *      R.tail([1, 2, 3]);  //=> [2, 3]
 *      R.tail([1, 2]);     //=> [2]
 *      R.tail([1]);        //=> []
 *      R.tail([]);         //=> []
 *
 *      R.tail('abc');  //=> 'bc'
 *      R.tail('ab');   //=> 'b'
 *      R.tail('a');    //=> ''
 *      R.tail('');     //=> ''
 */


var tail =
/*#__PURE__*/
_curry1(
/*#__PURE__*/
_checkForMethod('tail',
/*#__PURE__*/
slice(1, Infinity)));

module.exports = tail;

/***/ }),

/***/ 2250:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);
/**
 * Calls an input function `n` times, returning an array containing the results
 * of those function calls.
 *
 * `fn` is passed one argument: The current value of `n`, which begins at `0`
 * and is gradually incremented to `n - 1`.
 *
 * @func
 * @memberOf R
 * @since v0.2.3
 * @category List
 * @sig (Number -> a) -> Number -> [a]
 * @param {Function} fn The function to invoke. Passed one argument, the current value of `n`.
 * @param {Number} n A value between `0` and `n - 1`. Increments after each function call.
 * @return {Array} An array containing the return values of all calls to `fn`.
 * @see R.repeat
 * @example
 *
 *      R.times(R.identity, 5); //=> [0, 1, 2, 3, 4]
 * @symb R.times(f, 0) = []
 * @symb R.times(f, 1) = [f(0)]
 * @symb R.times(f, 2) = [f(0), f(1)]
 */


var times =
/*#__PURE__*/
_curry2(function times(fn, n) {
  var len = Number(n);
  var idx = 0;
  var list;

  if (len < 0 || isNaN(len)) {
    throw new RangeError('n must be a non-negative number');
  }

  list = new Array(len);

  while (idx < len) {
    list[idx] = fn(idx);
    idx += 1;
  }

  return list;
});

module.exports = times;

/***/ }),

/***/ 6433:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry1 =
/*#__PURE__*/
__webpack_require__(6224);
/**
 * Gives a single-word string description of the (native) type of a value,
 * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not
 * attempt to distinguish user Object types any further, reporting them all as
 * 'Object'.
 *
 * @func
 * @memberOf R
 * @since v0.8.0
 * @category Type
 * @sig (* -> {*}) -> String
 * @param {*} val The value to test
 * @return {String}
 * @example
 *
 *      R.type({}); //=> "Object"
 *      R.type(1); //=> "Number"
 *      R.type(false); //=> "Boolean"
 *      R.type('s'); //=> "String"
 *      R.type(null); //=> "Null"
 *      R.type([]); //=> "Array"
 *      R.type(/[A-z]/); //=> "RegExp"
 *      R.type(() => {}); //=> "Function"
 *      R.type(undefined); //=> "Undefined"
 */


var type =
/*#__PURE__*/
_curry1(function type(val) {
  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);
});

module.exports = type;

/***/ }),

/***/ 275:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _concat =
/*#__PURE__*/
__webpack_require__(4011);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var compose =
/*#__PURE__*/
__webpack_require__(557);

var uniq =
/*#__PURE__*/
__webpack_require__(86);
/**
 * Combines two lists into a set (i.e. no duplicates) composed of the elements
 * of each list.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category Relation
 * @sig [*] -> [*] -> [*]
 * @param {Array} as The first list.
 * @param {Array} bs The second list.
 * @return {Array} The first and second lists concatenated, with
 *         duplicates removed.
 * @example
 *
 *      R.union([1, 2, 3], [2, 3, 4]); //=> [1, 2, 3, 4]
 */


var union =
/*#__PURE__*/
_curry2(
/*#__PURE__*/
compose(uniq, _concat));

module.exports = union;

/***/ }),

/***/ 86:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var identity =
/*#__PURE__*/
__webpack_require__(9105);

var uniqBy =
/*#__PURE__*/
__webpack_require__(4025);
/**
 * Returns a new list containing only one copy of each element in the original
 * list. [`R.equals`](#equals) is used to determine equality.
 *
 * @func
 * @memberOf R
 * @since v0.1.0
 * @category List
 * @sig [a] -> [a]
 * @param {Array} list The array to consider.
 * @return {Array} The list of unique items.
 * @example
 *
 *      R.uniq([1, 1, 2, 1]); //=> [1, 2]
 *      R.uniq([1, '1']);     //=> [1, '1']
 *      R.uniq([[42], [42]]); //=> [[42]]
 */


var uniq =
/*#__PURE__*/
uniqBy(identity);
module.exports = uniq;

/***/ }),

/***/ 4025:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _Set =
/*#__PURE__*/
__webpack_require__(8876);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);
/**
 * Returns a new list containing only one copy of each element in the original
 * list, based upon the value returned by applying the supplied function to
 * each list element. Prefers the first item if the supplied function produces
 * the same value on two items. [`R.equals`](#equals) is used for comparison.
 *
 * @func
 * @memberOf R
 * @since v0.16.0
 * @category List
 * @sig (a -> b) -> [a] -> [a]
 * @param {Function} fn A function used to produce a value to use during comparisons.
 * @param {Array} list The array to consider.
 * @return {Array} The list of unique items.
 * @example
 *
 *      R.uniqBy(Math.abs, [-1, -5, 2, 10, 1, 2]); //=> [-1, -5, 2, 10]
 */


var uniqBy =
/*#__PURE__*/
_curry2(function uniqBy(fn, list) {
  var set = new _Set();
  var result = [];
  var idx = 0;
  var appliedItem, item;

  while (idx < list.length) {
    item = list[idx];
    appliedItem = fn(item);

    if (set.add(appliedItem)) {
      result.push(item);
    }

    idx += 1;
  }

  return result;
});

module.exports = uniqBy;

/***/ }),

/***/ 7964:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _curry3 =
/*#__PURE__*/
__webpack_require__(6370);

var adjust =
/*#__PURE__*/
__webpack_require__(2515);

var always =
/*#__PURE__*/
__webpack_require__(4115);
/**
 * Returns a new copy of the array with the element at the provided index
 * replaced with the given value.
 *
 * @func
 * @memberOf R
 * @since v0.14.0
 * @category List
 * @sig Number -> a -> [a] -> [a]
 * @param {Number} idx The index to update.
 * @param {*} x The value to exist at the given index of the returned array.
 * @param {Array|Arguments} list The source array-like object to be updated.
 * @return {Array} A copy of `list` with the value at index `idx` replaced with `x`.
 * @see R.adjust
 * @example
 *
 *      R.update(1, '_', ['a', 'b', 'c']);      //=> ['a', '_', 'c']
 *      R.update(-1, '_', ['a', 'b', 'c']);     //=> ['a', 'b', '_']
 * @symb R.update(-1, a, [b, c]) = [b, a]
 * @symb R.update(0, a, [b, c]) = [a, c]
 * @symb R.update(1, a, [b, c]) = [b, a]
 */


var update =
/*#__PURE__*/
_curry3(function update(idx, x, list) {
  return adjust(idx, always(x), list);
});

module.exports = update;

/***/ }),

/***/ 6290:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _includes =
/*#__PURE__*/
__webpack_require__(7243);

var _curry2 =
/*#__PURE__*/
__webpack_require__(9002);

var flip =
/*#__PURE__*/
__webpack_require__(9134);

var reject =
/*#__PURE__*/
__webpack_require__(3266);
/**
 * Returns a new list without values in the first argument.
 * [`R.equals`](#equals) is used to determine equality.
 *
 * Acts as a transducer if a transformer is given in list position.
 *
 * @func
 * @memberOf R
 * @since v0.19.0
 * @category List
 * @sig [a] -> [a] -> [a]
 * @param {Array} list1 The values to be removed from `list2`.
 * @param {Array} list2 The array to remove values from.
 * @return {Array} The new array without values in `list1`.
 * @see R.transduce, R.difference, R.remove
 * @example
 *
 *      R.without([1, 2], [1, 2, 1, 3, 4]); //=> [3, 4]
 */


var without =
/*#__PURE__*/
_curry2(function (xs, list) {
  return reject(flip(_includes)(xs), list);
});

module.exports = without;

/***/ }),

/***/ 9921:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?
Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;
function z(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;
exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};
exports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};
exports.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;


/***/ }),

/***/ 9864:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (true) {
  module.exports = __webpack_require__(9921);
} else {}


/***/ }),

/***/ 7287:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/** @license React v0.24.0
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
module.exports = function $$$reconciler($$$hostConfig) {
'use strict';var aa=__webpack_require__(7418),ba=__webpack_require__(7294),m=__webpack_require__(373);function n(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q=ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
q.hasOwnProperty("ReactCurrentDispatcher")||(q.ReactCurrentDispatcher={current:null});q.hasOwnProperty("ReactCurrentBatchConfig")||(q.ReactCurrentBatchConfig={suspense:null});
var u="function"===typeof Symbol&&Symbol.for,ca=u?Symbol.for("react.element"):60103,da=u?Symbol.for("react.portal"):60106,ea=u?Symbol.for("react.fragment"):60107,fa=u?Symbol.for("react.strict_mode"):60108,ha=u?Symbol.for("react.profiler"):60114,ia=u?Symbol.for("react.provider"):60109,ja=u?Symbol.for("react.context"):60110,ka=u?Symbol.for("react.concurrent_mode"):60111,la=u?Symbol.for("react.forward_ref"):60112,ma=u?Symbol.for("react.suspense"):60113,na=u?Symbol.for("react.suspense_list"):60120,oa=
u?Symbol.for("react.memo"):60115,pa=u?Symbol.for("react.lazy"):60116;u&&Symbol.for("react.fundamental");u&&Symbol.for("react.responder");u&&Symbol.for("react.scope");var qa="function"===typeof Symbol&&Symbol.iterator;function ra(a){if(null===a||"object"!==typeof a)return null;a=qa&&a[qa]||a["@@iterator"];return"function"===typeof a?a:null}
function sa(a){if(-1===a._status){a._status=0;var b=a._ctor;b=b();a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}}
function ta(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case ea:return"Fragment";case da:return"Portal";case ha:return"Profiler";case fa:return"StrictMode";case ma:return"Suspense";case na:return"SuspenseList"}if("object"===typeof a)switch(a.$$typeof){case ja:return"Context.Consumer";case ia:return"Context.Provider";case la:var b=a.render;b=b.displayName||b.name||"";return a.displayName||(""!==b?"ForwardRef("+b+")":
"ForwardRef");case oa:return ta(a.type);case pa:if(a=1===a._status?a._result:null)return ta(a)}return null}function ua(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.effectTag&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function va(a){if(ua(a)!==a)throw Error(n(188));}
function wa(a){var b=a.alternate;if(!b){b=ua(a);if(null===b)throw Error(n(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return va(e),a;if(f===d)return va(e),b;f=f.sibling}throw Error(n(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,l=e.child;l;){if(l===c){g=!0;c=e;d=f;break}if(l===d){g=!0;d=e;c=f;break}l=l.sibling}if(!g){for(l=f.child;l;){if(l===
c){g=!0;c=f;d=e;break}if(l===d){g=!0;d=f;c=e;break}l=l.sibling}if(!g)throw Error(n(189));}}if(c.alternate!==d)throw Error(n(190));}if(3!==c.tag)throw Error(n(188));return c.stateNode.current===c?a:b}function xa(a){a=wa(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}
function ya(a){a=wa(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child&&4!==b.tag)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}
var za=$$$hostConfig.getPublicInstance,Aa=$$$hostConfig.getRootHostContext,Ba=$$$hostConfig.getChildHostContext,Ca=$$$hostConfig.prepareForCommit,Da=$$$hostConfig.resetAfterCommit,Ea=$$$hostConfig.createInstance,Fa=$$$hostConfig.appendInitialChild,Ga=$$$hostConfig.finalizeInitialChildren,Ia=$$$hostConfig.prepareUpdate,Ja=$$$hostConfig.shouldSetTextContent,Ka=$$$hostConfig.shouldDeprioritizeSubtree,La=$$$hostConfig.createTextInstance,Ma=$$$hostConfig.setTimeout,Na=$$$hostConfig.clearTimeout,Oa=$$$hostConfig.noTimeout,
Pa=$$$hostConfig.isPrimaryRenderer,Qa=$$$hostConfig.supportsMutation,Ra=$$$hostConfig.supportsPersistence,Sa=$$$hostConfig.supportsHydration,Ta=$$$hostConfig.appendChild,Ua=$$$hostConfig.appendChildToContainer,Va=$$$hostConfig.commitTextUpdate,Wa=$$$hostConfig.commitMount,Xa=$$$hostConfig.commitUpdate,Ya=$$$hostConfig.insertBefore,Za=$$$hostConfig.insertInContainerBefore,$a=$$$hostConfig.removeChild,ab=$$$hostConfig.removeChildFromContainer,bb=$$$hostConfig.resetTextContent,cb=$$$hostConfig.hideInstance,
db=$$$hostConfig.hideTextInstance,eb=$$$hostConfig.unhideInstance,fb=$$$hostConfig.unhideTextInstance,gb=$$$hostConfig.cloneInstance,hb=$$$hostConfig.createContainerChildSet,ib=$$$hostConfig.appendChildToContainerChildSet,kb=$$$hostConfig.finalizeContainerChildren,lb=$$$hostConfig.replaceContainerChildren,mb=$$$hostConfig.cloneHiddenInstance,nb=$$$hostConfig.cloneHiddenTextInstance,ob=$$$hostConfig.canHydrateInstance,pb=$$$hostConfig.canHydrateTextInstance,qb=$$$hostConfig.isSuspenseInstancePending,
rb=$$$hostConfig.isSuspenseInstanceFallback,sb=$$$hostConfig.getNextHydratableSibling,tb=$$$hostConfig.getFirstHydratableChild,ub=$$$hostConfig.hydrateInstance,vb=$$$hostConfig.hydrateTextInstance,wb=$$$hostConfig.getNextHydratableInstanceAfterSuspenseInstance,xb=$$$hostConfig.commitHydratedContainer,yb=$$$hostConfig.commitHydratedSuspenseInstance,zb=/^(.*)[\\\/]/;
function Ab(a){var b="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var d=a._debugOwner,e=a._debugSource,f=ta(a.type);c=null;d&&(c=ta(d.type));d=f;f="";e?f=" (at "+e.fileName.replace(zb,"")+":"+e.lineNumber+")":c&&(f=" (created by "+c+")");c="\n    in "+(d||"Unknown")+f}b+=c;a=a.return}while(a);return b}new Set;var Bb=[],Cb=-1;function y(a){0>Cb||(a.current=Bb[Cb],Bb[Cb]=null,Cb--)}function z(a,b){Cb++;Bb[Cb]=a.current;a.current=b}
var Db={},A={current:Db},B={current:!1},Eb=Db;function Fb(a,b){var c=a.type.contextTypes;if(!c)return Db;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function C(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gb(a){y(B,a);y(A,a)}
function Hb(a){y(B,a);y(A,a)}function Ib(a,b,c){if(A.current!==Db)throw Error(n(168));z(A,b,a);z(B,c,a)}function Jb(a,b,c){var d=a.stateNode;a=b.childContextTypes;if("function"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(n(108,ta(b)||"Unknown",e));return aa({},c,{},d)}function Kb(a){var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||Db;Eb=A.current;z(A,b,a);z(B,B.current,a);return!0}
function Lb(a,b,c){var d=a.stateNode;if(!d)throw Error(n(169));c?(b=Jb(a,b,Eb),d.__reactInternalMemoizedMergedChildContext=b,y(B,a),y(A,a),z(A,b,a)):y(B,a);z(B,c,a)}
var Mb=m.unstable_runWithPriority,Nb=m.unstable_scheduleCallback,Ob=m.unstable_cancelCallback,Pb=m.unstable_shouldYield,Qb=m.unstable_requestPaint,Rb=m.unstable_now,Ub=m.unstable_getCurrentPriorityLevel,Vb=m.unstable_ImmediatePriority,Wb=m.unstable_UserBlockingPriority,Xb=m.unstable_NormalPriority,Yb=m.unstable_LowPriority,Zb=m.unstable_IdlePriority,$b={},ac=void 0!==Qb?Qb:function(){},bc=null,cc=null,dc=!1,ec=Rb(),E=1E4>ec?Rb:function(){return Rb()-ec};
function fc(){switch(Ub()){case Vb:return 99;case Wb:return 98;case Xb:return 97;case Yb:return 96;case Zb:return 95;default:throw Error(n(332));}}function gc(a){switch(a){case 99:return Vb;case 98:return Wb;case 97:return Xb;case 96:return Yb;case 95:return Zb;default:throw Error(n(332));}}function hc(a,b){a=gc(a);return Mb(a,b)}function ic(a,b,c){a=gc(a);return Nb(a,b,c)}function jc(a){null===bc?(bc=[a],cc=Nb(Vb,kc)):bc.push(a);return $b}function F(){if(null!==cc){var a=cc;cc=null;Ob(a)}kc()}
function kc(){if(!dc&&null!==bc){dc=!0;var a=0;try{var b=bc;hc(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});bc=null}catch(c){throw null!==bc&&(bc=bc.slice(a+1)),Nb(Vb,F),c;}finally{dc=!1}}}var lc=3;function mc(a,b,c){c/=10;return 1073741821-(((1073741821-a+b/10)/c|0)+1)*c}function nc(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var oc="function"===typeof Object.is?Object.is:nc,pc=Object.prototype.hasOwnProperty;
function qc(a,b){if(oc(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!pc.call(b,c[d])||!oc(a[c[d]],b[c[d]]))return!1;return!0}function rc(a,b){if(a&&a.defaultProps){b=aa({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}var sc={current:null},tc=null,uc=null,vc=null;function wc(){vc=uc=tc=null}
function xc(a,b){var c=a.type._context;Pa?(z(sc,c._currentValue,a),c._currentValue=b):(z(sc,c._currentValue2,a),c._currentValue2=b)}function yc(a){var b=sc.current;y(sc,a);a=a.type._context;Pa?a._currentValue=b:a._currentValue2=b}function zc(a,b){for(;null!==a;){var c=a.alternate;if(a.childExpirationTime<b)a.childExpirationTime=b,null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);else if(null!==c&&c.childExpirationTime<b)c.childExpirationTime=b;else break;a=a.return}}
function Ac(a,b){tc=a;vc=uc=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(a.expirationTime>=b&&(Bc=!0),a.firstContext=null)}function Cc(a,b){if(vc!==a&&!1!==b&&0!==b){if("number"!==typeof b||1073741823===b)vc=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===uc){if(null===tc)throw Error(n(308));uc=b;tc.dependencies={expirationTime:0,firstContext:b,responders:null}}else uc=uc.next=b}return Pa?a._currentValue:a._currentValue2}var Dc=!1;
function Ec(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Fc(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}
function Gc(a,b){return{expirationTime:a,suspenseConfig:b,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Hc(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}
function Ic(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue;var e=null;null===d&&(d=a.updateQueue=Ec(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=Ec(a.memoizedState),e=c.updateQueue=Ec(c.memoizedState)):d=a.updateQueue=Fc(e):null===e&&(e=c.updateQueue=Fc(d));null===e||d===e?Hc(d,b):null===d.lastUpdate||null===e.lastUpdate?(Hc(d,b),Hc(e,b)):(Hc(d,b),e.lastUpdate=b)}
function Jc(a,b){var c=a.updateQueue;c=null===c?a.updateQueue=Ec(a.memoizedState):Kc(a,c);null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function Kc(a,b){var c=a.alternate;null!==c&&b===c.updateQueue&&(b=a.updateQueue=Fc(b));return b}
function Lc(a,b,c,d,e,f){switch(c.tag){case 1:return a=c.payload,"function"===typeof a?a.call(f,d,e):a;case 3:a.effectTag=a.effectTag&-4097|64;case 0:a=c.payload;e="function"===typeof a?a.call(f,d,e):a;if(null===e||void 0===e)break;return aa({},d,e);case 2:Dc=!0}return d}
function Nc(a,b,c,d,e){Dc=!1;b=Kc(a,b);for(var f=b.baseState,g=null,l=0,h=b.firstUpdate,k=f;null!==h;){var p=h.expirationTime;p<e?(null===g&&(g=h,f=k),l<p&&(l=p)):(Oc(p,h.suspenseConfig),k=Lc(a,b,h,k,c,d),null!==h.callback&&(a.effectTag|=32,h.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=h:(b.lastEffect.nextEffect=h,b.lastEffect=h)));h=h.next}p=null;for(h=b.firstCapturedUpdate;null!==h;){var D=h.expirationTime;D<e?(null===p&&(p=h,null===g&&(f=k)),l<D&&(l=D)):(k=Lc(a,b,h,k,c,d),null!==
h.callback&&(a.effectTag|=32,h.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=h:(b.lastCapturedEffect.nextEffect=h,b.lastCapturedEffect=h)));h=h.next}null===g&&(b.lastUpdate=null);null===p?b.lastCapturedUpdate=null:a.effectTag|=32;null===g&&null===p&&(f=k);b.baseState=f;b.firstUpdate=g;b.firstCapturedUpdate=p;Pc(l);a.expirationTime=l;a.memoizedState=k}
function Qc(a,b,c){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null);Rc(b.firstEffect,c);b.firstEffect=b.lastEffect=null;Rc(b.firstCapturedEffect,c);b.firstCapturedEffect=b.lastCapturedEffect=null}function Rc(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;if("function"!==typeof c)throw Error(n(191,c));c.call(d)}a=a.nextEffect}}
var Sc=q.ReactCurrentBatchConfig,Tc=(new ba.Component).refs;function Uc(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:aa({},b,c);a.memoizedState=c;d=a.updateQueue;null!==d&&0===a.expirationTime&&(d.baseState=c)}
var Xc={isMounted:function(a){return(a=a._reactInternalFiber)?ua(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=G(),e=Sc.suspense;d=Vc(d,a,e);e=Gc(d,e);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);Ic(a,e);Wc(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=G(),e=Sc.suspense;d=Vc(d,a,e);e=Gc(d,e);e.tag=1;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);Ic(a,e);Wc(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=G(),d=Sc.suspense;
c=Vc(c,a,d);d=Gc(c,d);d.tag=2;void 0!==b&&null!==b&&(d.callback=b);Ic(a,d);Wc(a,c)}};function Yc(a,b,c,d,e,f,g){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!qc(c,d)||!qc(e,f):!0}
function Zc(a,b,c){var d=!1,e=Db;var f=b.contextType;"object"===typeof f&&null!==f?f=Cc(f):(e=C(b)?Eb:A.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Fb(a,e):Db);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Xc;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}
function $c(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Xc.enqueueReplaceState(b,b.state,null)}
function ad(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Tc;var f=b.contextType;"object"===typeof f&&null!==f?e.context=Cc(f):(f=C(b)?Eb:A.current,e.context=Fb(a,f));f=a.updateQueue;null!==f&&(Nc(a,f,c,e,d),e.state=a.memoizedState);f=b.getDerivedStateFromProps;"function"===typeof f&&(Uc(a,b,f,c),e.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==
typeof e.componentWillMount||(b=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Xc.enqueueReplaceState(e,e.state,null),f=a.updateQueue,null!==f&&(Nc(a,f,c,e,d),e.state=a.memoizedState));"function"===typeof e.componentDidMount&&(a.effectTag|=4)}var bd=Array.isArray;
function cd(a,b,c){a=c.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(n(309));var d=c.stateNode}if(!d)throw Error(n(147,a));var e=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(b){var a=d.refs;a===Tc&&(a=d.refs={});null===b?delete a[e]:a[e]=b};b._stringRef=e;return b}if("string"!==typeof a)throw Error(n(284));if(!c._owner)throw Error(n(290,a));}return a}
function dd(a,b){if("textarea"!==a.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,""));}
function ed(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(b,a){for(b=new Map;null!==a;)null!==a.key?b.set(a.key,a):b.set(a.index,a),a=a.sibling;return b}function e(b,a,c){b=fd(b,a,c);b.index=0;b.sibling=null;return b}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=
2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function l(b,a,c,d){if(null===a||6!==a.tag)return a=gd(c,b.mode,d),a.return=b,a;a=e(a,c,d);a.return=b;return a}function h(b,a,c,d){if(null!==a&&a.elementType===c.type)return d=e(a,c.props,d),d.ref=cd(b,a,c),d.return=b,d;d=hd(c.type,c.key,c.props,null,b.mode,d);d.ref=cd(b,a,c);d.return=b;return d}function k(b,a,c,d){if(null===a||4!==a.tag||a.stateNode.containerInfo!==c.containerInfo||a.stateNode.implementation!==
c.implementation)return a=id(c,b.mode,d),a.return=b,a;a=e(a,c.children||[],d);a.return=b;return a}function p(b,a,c,d,f){if(null===a||7!==a.tag)return a=jd(c,b.mode,d,f),a.return=b,a;a=e(a,c,d);a.return=b;return a}function D(b,a,c){if("string"===typeof a||"number"===typeof a)return a=gd(""+a,b.mode,c),a.return=b,a;if("object"===typeof a&&null!==a){switch(a.$$typeof){case ca:return c=hd(a.type,a.key,a.props,null,b.mode,c),c.ref=cd(b,null,a),c.return=b,c;case da:return a=id(a,b.mode,c),a.return=b,a}if(bd(a)||
ra(a))return a=jd(a,b.mode,c,null),a.return=b,a;dd(b,a)}return null}function x(b,a,c,d){var e=null!==a?a.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:l(b,a,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case ca:return c.key===e?c.type===ea?p(b,a,c.props.children,d,e):h(b,a,c,d):null;case da:return c.key===e?k(b,a,c,d):null}if(bd(c)||ra(c))return null!==e?null:p(b,a,c,d,null);dd(b,c)}return null}function K(b,a,c,d,e){if("string"===typeof d||"number"===typeof d)return b=
b.get(c)||null,l(a,b,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case ca:return b=b.get(null===d.key?c:d.key)||null,d.type===ea?p(a,b,d.props.children,e,d.key):h(a,b,d,e);case da:return b=b.get(null===d.key?c:d.key)||null,k(a,b,d,e)}if(bd(d)||ra(d))return b=b.get(c)||null,p(a,b,d,e,null);dd(a,d)}return null}function Ha(e,g,h,l){for(var k=null,w=null,t=g,r=g=0,p=null;null!==t&&r<h.length;r++){t.index>r?(p=t,t=null):p=t.sibling;var v=x(e,t,h[r],l);if(null===v){null===t&&(t=p);break}a&&
t&&null===v.alternate&&b(e,t);g=f(v,g,r);null===w?k=v:w.sibling=v;w=v;t=p}if(r===h.length)return c(e,t),k;if(null===t){for(;r<h.length;r++)t=D(e,h[r],l),null!==t&&(g=f(t,g,r),null===w?k=t:w.sibling=t,w=t);return k}for(t=d(e,t);r<h.length;r++)p=K(t,e,r,h[r],l),null!==p&&(a&&null!==p.alternate&&t.delete(null===p.key?r:p.key),g=f(p,g,r),null===w?k=p:w.sibling=p,w=p);a&&t.forEach(function(a){return b(e,a)});return k}function O(e,g,h,l){var k=ra(h);if("function"!==typeof k)throw Error(n(150));h=k.call(h);
if(null==h)throw Error(n(151));for(var t=k=null,r=g,w=g=0,p=null,v=h.next();null!==r&&!v.done;w++,v=h.next()){r.index>w?(p=r,r=null):p=r.sibling;var N=x(e,r,v.value,l);if(null===N){null===r&&(r=p);break}a&&r&&null===N.alternate&&b(e,r);g=f(N,g,w);null===t?k=N:t.sibling=N;t=N;r=p}if(v.done)return c(e,r),k;if(null===r){for(;!v.done;w++,v=h.next())v=D(e,v.value,l),null!==v&&(g=f(v,g,w),null===t?k=v:t.sibling=v,t=v);return k}for(r=d(e,r);!v.done;w++,v=h.next())v=K(r,e,w,v.value,l),null!==v&&(a&&null!==
v.alternate&&r.delete(null===v.key?w:v.key),g=f(v,g,w),null===t?k=v:t.sibling=v,t=v);a&&r.forEach(function(a){return b(e,a)});return k}return function(a,d,f,h){var k="object"===typeof f&&null!==f&&f.type===ea&&null===f.key;k&&(f=f.props.children);var l="object"===typeof f&&null!==f;if(l)switch(f.$$typeof){case ca:a:{l=f.key;for(k=d;null!==k;){if(k.key===l)if(7===k.tag?f.type===ea:k.elementType===f.type){c(a,k.sibling);d=e(k,f.type===ea?f.props.children:f.props,h);d.ref=cd(a,k,f);d.return=a;a=d;break a}else{c(a,
k);break}else b(a,k);k=k.sibling}f.type===ea?(d=jd(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=hd(f.type,f.key,f.props,null,a.mode,h),h.ref=cd(a,d,f),h.return=a,a=h)}return g(a);case da:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],h);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=id(f,a.mode,h);d.return=a;a=d}return g(a)}if("string"===
typeof f||"number"===typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,h),d.return=a,a=d):(c(a,d),d=gd(f,a.mode,h),d.return=a,a=d),g(a);if(bd(f))return Ha(a,d,f,h);if(ra(f))return O(a,d,f,h);l&&dd(a,f);if("undefined"===typeof f&&!k)switch(a.tag){case 1:case 0:throw a=a.type,Error(n(152,a.displayName||a.name||"Component"));}return c(a,d)}}var kd=ed(!0),ld=ed(!1),md={},H={current:md},nd={current:md},od={current:md};function pd(a){if(a===md)throw Error(n(174));return a}
function qd(a,b){z(od,b,a);z(nd,a,a);z(H,md,a);b=Aa(b);y(H,a);z(H,b,a)}function rd(a){y(H,a);y(nd,a);y(od,a)}function sd(a){var b=pd(od.current),c=pd(H.current);b=Ba(c,a.type,b);c!==b&&(z(nd,a,a),z(H,b,a))}function td(a){nd.current===a&&(y(H,a),y(nd,a))}var I={current:0};
function ud(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||qb(c)||rb(c)))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.effectTag&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}function vd(a,b){return{responder:a,props:b}}
var wd=q.ReactCurrentDispatcher,J=q.ReactCurrentBatchConfig,xd=0,yd=null,L=null,zd=null,Ad=null,M=null,Bd=null,Cd=0,Dd=null,Ed=0,Fd=!1,Gd=null,Hd=0;function P(){throw Error(n(321));}function Id(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!oc(a[c],b[c]))return!1;return!0}
function Jd(a,b,c,d,e,f){xd=f;yd=b;zd=null!==a?a.memoizedState:null;wd.current=null===zd?Kd:Ld;b=c(d,e);if(Fd){do Fd=!1,Hd+=1,zd=null!==a?a.memoizedState:null,Bd=Ad,Dd=M=L=null,wd.current=Ld,b=c(d,e);while(Fd);Gd=null;Hd=0}wd.current=Md;a=yd;a.memoizedState=Ad;a.expirationTime=Cd;a.updateQueue=Dd;a.effectTag|=Ed;a=null!==L&&null!==L.next;xd=0;Bd=M=Ad=zd=L=yd=null;Cd=0;Dd=null;Ed=0;if(a)throw Error(n(300));return b}
function Nd(){wd.current=Md;xd=0;Bd=M=Ad=zd=L=yd=null;Cd=0;Dd=null;Ed=0;Fd=!1;Gd=null;Hd=0}function Od(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};null===M?Ad=M=a:M=M.next=a;return M}function Pd(){if(null!==Bd)M=Bd,Bd=M.next,L=zd,zd=null!==L?L.next:null;else{if(null===zd)throw Error(n(310));L=zd;var a={memoizedState:L.memoizedState,baseState:L.baseState,queue:L.queue,baseUpdate:L.baseUpdate,next:null};M=null===M?Ad=a:M.next=a;zd=L.next}return M}
function Qd(a,b){return"function"===typeof b?b(a):b}
function Rd(a){var b=Pd(),c=b.queue;if(null===c)throw Error(n(311));c.lastRenderedReducer=a;if(0<Hd){var d=c.dispatch;if(null!==Gd){var e=Gd.get(c);if(void 0!==e){Gd.delete(c);var f=b.memoizedState;do f=a(f,e.action),e=e.next;while(null!==e);oc(f,b.memoizedState)||(Bc=!0);b.memoizedState=f;b.baseUpdate===c.last&&(b.baseState=f);c.lastRenderedState=f;return[f,d]}}return[b.memoizedState,d]}d=c.last;var g=b.baseUpdate;f=b.baseState;null!==g?(null!==d&&(d.next=null),d=g.next):d=null!==d?d.next:null;if(null!==
d){var l=e=null,h=d,k=!1;do{var p=h.expirationTime;p<xd?(k||(k=!0,l=g,e=f),p>Cd&&(Cd=p,Pc(Cd))):(Oc(p,h.suspenseConfig),f=h.eagerReducer===a?h.eagerState:a(f,h.action));g=h;h=h.next}while(null!==h&&h!==d);k||(l=g,e=f);oc(f,b.memoizedState)||(Bc=!0);b.memoizedState=f;b.baseUpdate=l;b.baseState=e;c.lastRenderedState=f}return[b.memoizedState,c.dispatch]}
function Sd(a){var b=Od();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={last:null,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:a};a=a.dispatch=Td.bind(null,yd,a);return[b.memoizedState,a]}function Ud(a){return Rd(Qd,a)}function Vd(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};null===Dd?(Dd={lastEffect:null},Dd.lastEffect=a.next=a):(b=Dd.lastEffect,null===b?Dd.lastEffect=a.next=a:(c=b.next,b.next=a,a.next=c,Dd.lastEffect=a));return a}
function Wd(a,b,c,d){var e=Od();Ed|=a;e.memoizedState=Vd(b,c,void 0,void 0===d?null:d)}function Xd(a,b,c,d){var e=Pd();d=void 0===d?null:d;var f=void 0;if(null!==L){var g=L.memoizedState;f=g.destroy;if(null!==d&&Id(d,g.deps)){Vd(0,c,f,d);return}}Ed|=a;e.memoizedState=Vd(b,c,f,d)}function Yd(a,b){return Wd(516,192,a,b)}function Zd(a,b){return Xd(516,192,a,b)}
function $d(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function ae(){}function be(a,b){Od().memoizedState=[a,void 0===b?null:b];return a}function ce(a,b){var c=Pd();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Id(b,d[1]))return d[0];c.memoizedState=[a,b];return a}
function Td(a,b,c){if(!(25>Hd))throw Error(n(301));var d=a.alternate;if(a===yd||null!==d&&d===yd)if(Fd=!0,a={expirationTime:xd,suspenseConfig:null,action:c,eagerReducer:null,eagerState:null,next:null},null===Gd&&(Gd=new Map),c=Gd.get(b),void 0===c)Gd.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}else{var e=G(),f=Sc.suspense;e=Vc(e,a,f);f={expirationTime:e,suspenseConfig:f,action:c,eagerReducer:null,eagerState:null,next:null};var g=b.last;if(null===g)f.next=f;else{var l=g.next;null!==l&&(f.next=
l);g.next=f}b.last=f;if(0===a.expirationTime&&(null===d||0===d.expirationTime)&&(d=b.lastRenderedReducer,null!==d))try{var h=b.lastRenderedState,k=d(h,c);f.eagerReducer=d;f.eagerState=k;if(oc(k,h))return}catch(p){}finally{}Wc(a,e)}}
var Md={readContext:Cc,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useResponder:P,useDeferredValue:P,useTransition:P},Kd={readContext:Cc,useCallback:be,useContext:Cc,useEffect:Yd,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Wd(4,36,$d.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Wd(4,36,a,b)},useMemo:function(a,b){var c=Od();b=void 0===b?null:b;a=a();c.memoizedState=
[a,b];return a},useReducer:function(a,b,c){var d=Od();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={last:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Td.bind(null,yd,a);return[d.memoizedState,a]},useRef:function(a){var b=Od();a={current:a};return b.memoizedState=a},useState:Sd,useDebugValue:ae,useResponder:vd,useDeferredValue:function(a,b){var c=Sd(a),d=c[0],e=c[1];Yd(function(){m.unstable_next(function(){var c=J.suspense;J.suspense=void 0===b?null:b;try{e(a)}finally{J.suspense=
c}})},[a,b]);return d},useTransition:function(a){var b=Sd(!1),c=b[0],d=b[1];return[be(function(b){d(!0);m.unstable_next(function(){var c=J.suspense;J.suspense=void 0===a?null:a;try{d(!1),b()}finally{J.suspense=c}})},[a,c]),c]}},Ld={readContext:Cc,useCallback:ce,useContext:Cc,useEffect:Zd,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Xd(4,36,$d.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Xd(4,36,a,b)},useMemo:function(a,b){var c=Pd();b=void 0===b?
null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Id(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a},useReducer:Rd,useRef:function(){return Pd().memoizedState},useState:Ud,useDebugValue:ae,useResponder:vd,useDeferredValue:function(a,b){var c=Ud(a),d=c[0],e=c[1];Zd(function(){m.unstable_next(function(){var c=J.suspense;J.suspense=void 0===b?null:b;try{e(a)}finally{J.suspense=c}})},[a,b]);return d},useTransition:function(a){var b=Ud(!1),c=b[0],d=b[1];return[ce(function(b){d(!0);m.unstable_next(function(){var c=
J.suspense;J.suspense=void 0===a?null:a;try{d(!1),b()}finally{J.suspense=c}})},[a,c]),c]}},de=null,ee=null,fe=!1;function ge(a,b){var c=he(5,null,null,0);c.elementType="DELETED";c.type="DELETED";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}
function ie(a,b){switch(a.tag){case 5:return b=ob(b,a.type,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 6:return b=pb(b,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function je(a){if(fe){var b=ee;if(b){var c=b;if(!ie(a,b)){b=sb(c);if(!b||!ie(a,b)){a.effectTag=a.effectTag&-1025|2;fe=!1;de=a;return}ge(de,c)}de=a;ee=tb(b)}else a.effectTag=a.effectTag&-1025|2,fe=!1,de=a}}
function ke(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;de=a}function ne(a){if(!Sa||a!==de)return!1;if(!fe)return ke(a),fe=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!Ja(b,a.memoizedProps))for(b=ee;b;)ge(a,b),b=sb(b);ke(a);if(13===a.tag){if(!Sa)throw Error(n(316));a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(n(317));ee=wb(a)}else ee=de?sb(a.stateNode):null;return!0}function oe(){Sa&&(ee=de=null,fe=!1)}var pe=q.ReactCurrentOwner,Bc=!1;
function Q(a,b,c,d){b.child=null===a?ld(b,null,c,d):kd(b,a.child,c,d)}function qe(a,b,c,d,e){c=c.render;var f=b.ref;Ac(b,e);d=Jd(a,b,c,d,f,e);if(null!==a&&!Bc)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),re(a,b,e);b.effectTag|=1;Q(a,b,d,e);return b.child}
function se(a,b,c,d,e,f){if(null===a){var g=c.type;if("function"===typeof g&&!te(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ue(a,b,g,d,e,f);a=hd(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:qc,c(e,d)&&a.ref===b.ref))return re(a,b,f);b.effectTag|=1;a=fd(g,d,f);a.ref=b.ref;a.return=b;return b.child=a}
function ue(a,b,c,d,e,f){return null!==a&&qc(a.memoizedProps,d)&&a.ref===b.ref&&(Bc=!1,e<f)?re(a,b,f):ve(a,b,c,d,f)}function we(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function ve(a,b,c,d,e){var f=C(c)?Eb:A.current;f=Fb(b,f);Ac(b,e);c=Jd(a,b,c,d,f,e);if(null!==a&&!Bc)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),re(a,b,e);b.effectTag|=1;Q(a,b,c,e);return b.child}
function xe(a,b,c,d,e){if(C(c)){var f=!0;Kb(b)}else f=!1;Ac(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),Zc(b,c,d,e),ad(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,l=b.memoizedProps;g.props=l;var h=g.context,k=c.contextType;"object"===typeof k&&null!==k?k=Cc(k):(k=C(c)?Eb:A.current,k=Fb(b,k));var p=c.getDerivedStateFromProps,D="function"===typeof p||"function"===typeof g.getSnapshotBeforeUpdate;D||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&
"function"!==typeof g.componentWillReceiveProps||(l!==d||h!==k)&&$c(b,g,d,k);Dc=!1;var x=b.memoizedState;h=g.state=x;var K=b.updateQueue;null!==K&&(Nc(b,K,d,g,e),h=b.memoizedState);l!==d||x!==h||B.current||Dc?("function"===typeof p&&(Uc(b,c,p,d),h=b.memoizedState),(l=Dc||Yc(b,c,l,d,x,h,k))?(D||"function"!==typeof g.UNSAFE_componentWillMount&&"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&
g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(b.effectTag|=4)):("function"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=h),g.props=d,g.state=h,g.context=k,d=l):("function"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,l=b.memoizedProps,g.props=b.type===b.elementType?l:rc(b.type,l),h=g.context,k=c.contextType,"object"===typeof k&&null!==k?k=Cc(k):(k=C(c)?Eb:A.current,k=Fb(b,k)),p=c.getDerivedStateFromProps,(D=
"function"===typeof p||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(l!==d||h!==k)&&$c(b,g,d,k),Dc=!1,h=b.memoizedState,x=g.state=h,K=b.updateQueue,null!==K&&(Nc(b,K,d,g,e),x=b.memoizedState),l!==d||h!==x||B.current||Dc?("function"===typeof p&&(Uc(b,c,p,d),x=b.memoizedState),(p=Dc||Yc(b,c,l,d,h,x,k))?(D||"function"!==typeof g.UNSAFE_componentWillUpdate&&"function"!==typeof g.componentWillUpdate||
("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,x,k),"function"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),"function"===typeof g.componentDidUpdate&&(b.effectTag|=4),"function"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!==typeof g.componentDidUpdate||l===a.memoizedProps&&h===a.memoizedState||(b.effectTag|=4),"function"!==typeof g.getSnapshotBeforeUpdate||l===a.memoizedProps&&h===a.memoizedState||(b.effectTag|=256),b.memoizedProps=
d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=p):("function"!==typeof g.componentDidUpdate||l===a.memoizedProps&&h===a.memoizedState||(b.effectTag|=4),"function"!==typeof g.getSnapshotBeforeUpdate||l===a.memoizedProps&&h===a.memoizedState||(b.effectTag|=256),d=!1);return ye(a,b,c,d,f,e)}
function ye(a,b,c,d,e,f){we(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Lb(b,c,!1),re(a,b,f);d=b.stateNode;pe.current=b;var l=g&&"function"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&g?(b.child=kd(b,a.child,null,f),b.child=kd(b,null,l,f)):Q(a,b,l,f);b.memoizedState=d.state;e&&Lb(b,c,!0);return b.child}function ze(a){var b=a.stateNode;b.pendingContext?Ib(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Ib(a,b.context,!1);qd(a,b.containerInfo)}
var Ae={dehydrated:null,retryTime:0};
function Be(a,b,c){var d=b.mode,e=b.pendingProps,f=I.current,g=!1,l;(l=0!==(b.effectTag&64))||(l=0!==(f&2)&&(null===a||null!==a.memoizedState));l?(g=!0,b.effectTag&=-65):null!==a&&null===a.memoizedState||void 0===e.fallback||!0===e.unstable_avoidThisFallback||(f|=1);z(I,f&1,b);if(null===a){void 0!==e.fallback&&je(b);if(g){g=e.fallback;e=jd(null,d,0,null);e.return=b;if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=jd(g,d,c,null);c.return=
b;e.sibling=c;b.memoizedState=Ae;b.child=e;return c}d=e.children;b.memoizedState=null;return b.child=ld(b,null,d,c)}if(null!==a.memoizedState){a=a.child;d=a.sibling;if(g){e=e.fallback;c=fd(a,a.pendingProps,0);c.return=b;if(0===(b.mode&2)&&(g=null!==b.memoizedState?b.child.child:b.child,g!==a.child))for(c.child=g;null!==g;)g.return=c,g=g.sibling;d=fd(d,e,d.expirationTime);d.return=b;c.sibling=d;c.childExpirationTime=0;b.memoizedState=Ae;b.child=c;return d}c=kd(b,a.child,e.children,c);b.memoizedState=
null;return b.child=c}a=a.child;if(g){g=e.fallback;e=jd(null,d,0,null);e.return=b;e.child=a;null!==a&&(a.return=e);if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=jd(g,d,c,null);c.return=b;e.sibling=c;c.effectTag|=2;e.childExpirationTime=0;b.memoizedState=Ae;b.child=e;return c}b.memoizedState=null;return b.child=kd(b,a,e.children,c)}
function Ce(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);zc(a.return,b)}function De(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,last:d,tail:c,tailExpiration:0,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.last=d,g.tail=c,g.tailExpiration=0,g.tailMode=e,g.lastEffect=f)}
function Ee(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Q(a,b,d.children,c);d=I.current;if(0!==(d&2))d=d&1|2,b.effectTag|=64;else{if(null!==a&&0!==(a.effectTag&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&Ce(a,c);else if(19===a.tag)Ce(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}z(I,d,b);if(0===(b.mode&2))b.memoizedState=
null;else switch(e){case "forwards":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ud(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);De(b,!1,e,c,f,b.lastEffect);break;case "backwards":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ud(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}De(b,!0,c,null,f,b.lastEffect);break;case "together":De(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}
function re(a,b,c){null!==a&&(b.dependencies=a.dependencies);var d=b.expirationTime;0!==d&&Pc(d);if(b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child)throw Error(n(153));if(null!==b.child){a=b.child;c=fd(a,a.pendingProps,a.expirationTime);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=fd(a,a.pendingProps,a.expirationTime),c.return=b;c.sibling=null}return b.child}function Fe(a){a.effectTag|=4}var Ge,He,Ie,Je;
if(Qa)Ge=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)Fa(a,c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}},He=function(){},Ie=function(a,b,c,d,e){a=a.memoizedProps;if(a!==d){var f=b.stateNode,g=pd(H.current);c=Ia(f,c,a,d,e,g);(b.updateQueue=c)&&Fe(b)}},Je=function(a,b,c,d){c!==d&&Fe(b)};else if(Ra){Ge=function(a,
b,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=mb(f,e.type,e.memoizedProps,e));Fa(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=nb(f,e.memoizedProps,e)),Fa(a,f);else if(4!==e.tag){if(13===e.tag&&0!==(e.effectTag&4)&&(f=null!==e.memoizedState)){var g=e.child;if(null!==g&&(null!==g.child&&(g.child.return=g,Ge(a,g,!0,f)),f=g.sibling,null!==f)){f.return=e;e=f;continue}}if(null!==e.child){e.child.return=e;e=e.child;continue}}if(e===b)break;for(;null===e.sibling;){if(null===
e.return||e.return===b)return;e=e.return}e.sibling.return=e.return;e=e.sibling}};var Ke=function(a,b,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=mb(f,e.type,e.memoizedProps,e));ib(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=nb(f,e.memoizedProps,e)),ib(a,f);else if(4!==e.tag){if(13===e.tag&&0!==(e.effectTag&4)&&(f=null!==e.memoizedState)){var g=e.child;if(null!==g&&(null!==g.child&&(g.child.return=g,Ke(a,g,!0,f)),f=g.sibling,null!==f)){f.return=e;e=f;continue}}if(null!==
e.child){e.child.return=e;e=e.child;continue}}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return;e=e.return}e.sibling.return=e.return;e=e.sibling}};He=function(a){var b=a.stateNode;if(null!==a.firstEffect){var c=b.containerInfo,d=hb(c);Ke(d,a,!1,!1);b.pendingChildren=d;Fe(a);kb(c,d)}};Ie=function(a,b,c,d,e){var f=a.stateNode,g=a.memoizedProps;if((a=null===b.firstEffect)&&g===d)b.stateNode=f;else{var l=b.stateNode,h=pd(H.current),k=null;g!==d&&(k=Ia(l,c,g,d,e,h));a&&null===
k?b.stateNode=f:(f=gb(f,k,c,g,d,b,a,l),Ga(f,c,d,e,h)&&Fe(b),b.stateNode=f,a?Fe(b):Ge(f,b,!1,!1))}};Je=function(a,b,c,d){c!==d&&(a=pd(od.current),c=pd(H.current),b.stateNode=La(d,a,c,b),Fe(b))}}else He=function(){},Ie=function(){},Je=function(){};
function Le(a,b){switch(a.tailMode){case "hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case "collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}
function Me(a){switch(a.tag){case 1:C(a.type)&&Gb(a);var b=a.effectTag;return b&4096?(a.effectTag=b&-4097|64,a):null;case 3:rd(a);Hb(a);b=a.effectTag;if(0!==(b&64))throw Error(n(285));a.effectTag=b&-4097|64;return a;case 5:return td(a),null;case 13:return y(I,a),b=a.effectTag,b&4096?(a.effectTag=b&-4097|64,a):null;case 19:return y(I,a),null;case 4:return rd(a),null;case 10:return yc(a),null;default:return null}}function Ne(a,b){return{value:a,source:b,stack:Ab(b)}}
var Oe="function"===typeof WeakSet?WeakSet:Set;function Pe(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=Ab(c));null!==c&&ta(c.type);b=b.value;null!==a&&1===a.tag&&ta(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function Qe(a,b){try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(c){Re(a,c)}}function Se(a){var b=a.ref;if(null!==b)if("function"===typeof b)try{b(null)}catch(c){Re(a,c)}else b.current=null}
function Te(a,b){switch(b.tag){case 0:case 11:case 15:Ue(2,0,b);break;case 1:if(b.effectTag&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:rc(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(n(163));}}
function Ue(a,b,c){c=c.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do{if(0!==(d.tag&a)){var e=d.destroy;d.destroy=void 0;void 0!==e&&e()}0!==(d.tag&b)&&(e=d.create,d.destroy=e());d=d.next}while(d!==c)}}
function Ve(a,b,c){"function"===typeof We&&We(b);switch(b.tag){case 0:case 11:case 14:case 15:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var d=a.next;hc(97<c?97:c,function(){var a=d;do{var c=a.destroy;if(void 0!==c){var g=b;try{c()}catch(l){Re(g,l)}}a=a.next}while(a!==d)})}break;case 1:Se(b);c=b.stateNode;"function"===typeof c.componentWillUnmount&&Qe(b,c);break;case 5:Se(b);break;case 4:Qa?Xe(a,b,c):Ra&&Ye(b)}}
function Ze(a,b,c){for(var d=b;;)if(Ve(a,d,c),null===d.child||Qa&&4===d.tag){if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return}d.sibling.return=d.return;d=d.sibling}else d.child.return=d,d=d.child}function $e(a){var b=a.alternate;a.return=null;a.child=null;a.memoizedState=null;a.updateQueue=null;a.dependencies=null;a.alternate=null;a.firstEffect=null;a.lastEffect=null;a.pendingProps=null;a.memoizedProps=null;null!==b&&$e(b)}
function Ye(a){if(Ra){a=a.stateNode.containerInfo;var b=hb(a);lb(a,b)}}function af(a){return 5===a.tag||3===a.tag||4===a.tag}
function bf(a){if(Qa){a:{for(var b=a.return;null!==b;){if(af(b)){var c=b;break a}b=b.return}throw Error(n(160));}b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(n(161));}c.effectTag&16&&(bb(b),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||af(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&2)continue b;
if(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){var f=5===e.tag||6===e.tag;if(f)f=f?e.stateNode:e.stateNode.instance,c?d?Za(b,f,c):Ya(b,f,c):d?Ua(b,f):Ta(b,f);else if(4!==e.tag&&null!==e.child){e.child.return=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return;e=e.sibling}}}
function Xe(a,b,c){for(var d=b,e=!1,f,g;;){if(!e){e=d.return;a:for(;;){if(null===e)throw Error(n(160));f=e.stateNode;switch(e.tag){case 5:g=!1;break a;case 3:f=f.containerInfo;g=!0;break a;case 4:f=f.containerInfo;g=!0;break a}e=e.return}e=!0}if(5===d.tag||6===d.tag)Ze(a,d,c),g?ab(f,d.stateNode):$a(f,d.stateNode);else if(4===d.tag){if(null!==d.child){f=d.stateNode.containerInfo;g=!0;d.child.return=d;d=d.child;continue}}else if(Ve(a,d,c),null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break;
for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return;4===d.tag&&(e=!1)}d.sibling.return=d.return;d=d.sibling}}
function cf(a,b){if(Qa)switch(b.tag){case 0:case 11:case 14:case 15:Ue(4,8,b);break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&Xa(c,f,e,a,d,b)}break;case 6:if(null===b.stateNode)throw Error(n(162));c=b.memoizedProps;Va(b.stateNode,null!==a?a.memoizedProps:c,c);break;case 3:Sa&&(b=b.stateNode,b.hydrate&&(b.hydrate=!1,xb(b.containerInfo)));break;case 12:break;case 13:df(b);ef(b);break;
case 19:ef(b);break;case 17:break;case 20:break;case 21:break;default:throw Error(n(163));}else{switch(b.tag){case 0:case 11:case 14:case 15:Ue(4,8,b);return;case 12:return;case 13:df(b);ef(b);return;case 19:ef(b);return;case 3:Sa&&(c=b.stateNode,c.hydrate&&(c.hydrate=!1,xb(c.containerInfo)))}a:if(Ra)switch(b.tag){case 1:case 5:case 6:case 20:break a;case 3:case 4:b=b.stateNode;lb(b.containerInfo,b.pendingChildren);break a;default:throw Error(n(163));}}}
function df(a){var b=a;if(null===a.memoizedState)var c=!1;else c=!0,b=a.child,ff=E();if(Qa&&null!==b)a:if(a=b,Qa)for(b=a;;){if(5===b.tag){var d=b.stateNode;c?cb(d):eb(b.stateNode,b.memoizedProps)}else if(6===b.tag)d=b.stateNode,c?db(d):fb(d,b.memoizedProps);else if(13===b.tag&&null!==b.memoizedState&&null===b.memoizedState.dehydrated){d=b.child.sibling;d.return=b;b=d;continue}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break a;for(;null===b.sibling;){if(null===b.return||b.return===
a)break a;b=b.return}b.sibling.return=b.return;b=b.sibling}}function ef(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Oe);b.forEach(function(b){var d=gf.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}var hf="function"===typeof WeakMap?WeakMap:Map;function jf(a,b,c){c=Gc(c,null);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){kf||(kf=!0,lf=d);Pe(a,b)};return c}
function mf(a,b,c){c=Gc(c,null);c.tag=3;var d=a.type.getDerivedStateFromError;if("function"===typeof d){var e=b.value;c.payload=function(){Pe(a,b);return d(e)}}var f=a.stateNode;null!==f&&"function"===typeof f.componentDidCatch&&(c.callback=function(){"function"!==typeof d&&(null===nf?nf=new Set([this]):nf.add(this),Pe(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})});return c}
var of=Math.ceil,pf=q.ReactCurrentDispatcher,qf=q.ReactCurrentOwner,R=0,rf=8,S=16,sf=32,tf=0,uf=1,vf=2,wf=3,xf=4,yf=5,T=R,U=null,V=null,W=0,X=tf,zf=null,Af=1073741823,Bf=1073741823,Cf=null,Df=0,Ef=!1,ff=0,Ff=500,Y=null,kf=!1,lf=null,nf=null,Gf=!1,Hf=null,If=90,Jf=null,Kf=0,Lf=null,Mf=0;function G(){return(T&(S|sf))!==R?1073741821-(E()/10|0):0!==Mf?Mf:Mf=1073741821-(E()/10|0)}
function Vc(a,b,c){b=b.mode;if(0===(b&2))return 1073741823;var d=fc();if(0===(b&4))return 99===d?1073741823:1073741822;if((T&S)!==R)return W;if(null!==c)a=mc(a,c.timeoutMs|0||5E3,250);else switch(d){case 99:a=1073741823;break;case 98:a=mc(a,150,100);break;case 97:case 96:a=mc(a,5E3,250);break;case 95:a=2;break;default:throw Error(n(326));}null!==U&&a===W&&--a;return a}
function Wc(a,b){if(50<Kf)throw Kf=0,Lf=null,Error(n(185));a=Nf(a,b);if(null!==a){var c=fc();1073741823===b?(T&rf)!==R&&(T&(S|sf))===R?Of(a):(Z(a),T===R&&F()):Z(a);(T&4)===R||98!==c&&99!==c||(null===Jf?Jf=new Map([[a,b]]):(c=Jf.get(a),(void 0===c||c>b)&&Jf.set(a,b)))}}
function Nf(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}null!==e&&(U===e&&(Pc(b),X===xf&&Pf(e,W)),Qf(e,b));return e}
function Rf(a){var b=a.lastExpiredTime;if(0!==b)return b;b=a.firstPendingTime;if(!Sf(a,b))return b;b=a.lastPingedTime;a=a.nextKnownPendingLevel;return b>a?b:a}
function Z(a){if(0!==a.lastExpiredTime)a.callbackExpirationTime=1073741823,a.callbackPriority=99,a.callbackNode=jc(Of.bind(null,a));else{var b=Rf(a),c=a.callbackNode;if(0===b)null!==c&&(a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90);else{var d=G();1073741823===b?d=99:1===b||2===b?d=95:(d=10*(1073741821-b)-10*(1073741821-d),d=0>=d?99:250>=d?98:5250>=d?97:95);if(null!==c){var e=a.callbackPriority;if(a.callbackExpirationTime===b&&e>=d)return;c!==$b&&Ob(c)}a.callbackExpirationTime=
b;a.callbackPriority=d;b=1073741823===b?jc(Of.bind(null,a)):ic(d,Tf.bind(null,a),{timeout:10*(1073741821-b)-E()});a.callbackNode=b}}}
function Tf(a,b){Mf=0;if(b)return b=G(),Uf(a,b),Z(a),null;var c=Rf(a);if(0!==c){b=a.callbackNode;if((T&(S|sf))!==R)throw Error(n(327));Vf();a===U&&c===W||Wf(a,c);if(null!==V){var d=T;T|=S;var e=Xf(a);do try{Yf();break}catch(l){Zf(a,l)}while(1);wc();T=d;pf.current=e;if(X===uf)throw b=zf,Wf(a,c),Pf(a,c),Z(a),b;if(null===V)switch(e=a.finishedWork=a.current.alternate,a.finishedExpirationTime=c,d=X,U=null,d){case tf:case uf:throw Error(n(345));case vf:Uf(a,2<c?2:c);break;case wf:Pf(a,c);d=a.lastSuspendedTime;
c===d&&(a.nextKnownPendingLevel=$f(e));if(1073741823===Af&&(e=ff+Ff-E(),10<e)){if(Ef){var f=a.lastPingedTime;if(0===f||f>=c){a.lastPingedTime=c;Wf(a,c);break}}f=Rf(a);if(0!==f&&f!==c)break;if(0!==d&&d!==c){a.lastPingedTime=d;break}a.timeoutHandle=Ma(ag.bind(null,a),e);break}ag(a);break;case xf:Pf(a,c);d=a.lastSuspendedTime;c===d&&(a.nextKnownPendingLevel=$f(e));if(Ef&&(e=a.lastPingedTime,0===e||e>=c)){a.lastPingedTime=c;Wf(a,c);break}e=Rf(a);if(0!==e&&e!==c)break;if(0!==d&&d!==c){a.lastPingedTime=
d;break}1073741823!==Bf?d=10*(1073741821-Bf)-E():1073741823===Af?d=0:(d=10*(1073741821-Af)-5E3,e=E(),c=10*(1073741821-c)-e,d=e-d,0>d&&(d=0),d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*of(d/1960))-d,c<d&&(d=c));if(10<d){a.timeoutHandle=Ma(ag.bind(null,a),d);break}ag(a);break;case yf:if(1073741823!==Af&&null!==Cf){f=Af;var g=Cf;d=g.busyMinDurationMs|0;0>=d?d=0:(e=g.busyDelayMs|0,f=E()-(10*(1073741821-f)-(g.timeoutMs|0||5E3)),d=f<=e?0:e+d-f);if(10<d){Pf(a,c);a.timeoutHandle=
Ma(ag.bind(null,a),d);break}}ag(a);break;default:throw Error(n(329));}Z(a);if(a.callbackNode===b)return Tf.bind(null,a)}}return null}
function Of(a){var b=a.lastExpiredTime;b=0!==b?b:1073741823;if(a.finishedExpirationTime===b)ag(a);else{if((T&(S|sf))!==R)throw Error(n(327));Vf();a===U&&b===W||Wf(a,b);if(null!==V){var c=T;T|=S;var d=Xf(a);do try{bg();break}catch(e){Zf(a,e)}while(1);wc();T=c;pf.current=d;if(X===uf)throw c=zf,Wf(a,b),Pf(a,b),Z(a),c;if(null!==V)throw Error(n(261));a.finishedWork=a.current.alternate;a.finishedExpirationTime=b;U=null;ag(a);Z(a)}}return null}function cg(a,b){Uf(a,b);Z(a);(T&(S|sf))===R&&F()}
function dg(){if(null!==Jf){var a=Jf;Jf=null;a.forEach(function(a,c){Uf(c,a);Z(c)});F()}}function eg(a,b){if((T&(S|sf))!==R)throw Error(n(187));var c=T;T|=1;try{return hc(99,a.bind(null,b))}finally{T=c,F()}}
function Wf(a,b){a.finishedWork=null;a.finishedExpirationTime=0;var c=a.timeoutHandle;c!==Oa&&(a.timeoutHandle=Oa,Na(c));if(null!==V)for(c=V.return;null!==c;){var d=c;switch(d.tag){case 1:var e=d.type.childContextTypes;null!==e&&void 0!==e&&Gb(d);break;case 3:rd(d);Hb(d);break;case 5:td(d);break;case 4:rd(d);break;case 13:y(I,d);break;case 19:y(I,d);break;case 10:yc(d)}c=c.return}U=a;V=fd(a.current,null,b);W=b;X=tf;zf=null;Bf=Af=1073741823;Cf=null;Df=0;Ef=!1}
function Zf(a,b){do{try{wc();Nd();if(null===V||null===V.return)return X=uf,zf=b,null;a:{var c=a,d=V.return,e=V,f=b;b=W;e.effectTag|=2048;e.firstEffect=e.lastEffect=null;if(null!==f&&"object"===typeof f&&"function"===typeof f.then){var g=f,l=0!==(I.current&1),h=d;do{var k;if(k=13===h.tag){var p=h.memoizedState;if(null!==p)k=null!==p.dehydrated?!0:!1;else{var D=h.memoizedProps;k=void 0===D.fallback?!1:!0!==D.unstable_avoidThisFallback?!0:l?!1:!0}}if(k){var x=h.updateQueue;if(null===x){var K=new Set;
K.add(g);h.updateQueue=K}else x.add(g);if(0===(h.mode&2)){h.effectTag|=64;e.effectTag&=-2981;if(1===e.tag)if(null===e.alternate)e.tag=17;else{var Ha=Gc(1073741823,null);Ha.tag=2;Ic(e,Ha)}e.expirationTime=1073741823;break a}f=void 0;e=b;var O=c.pingCache;null===O?(O=c.pingCache=new hf,f=new Set,O.set(g,f)):(f=O.get(g),void 0===f&&(f=new Set,O.set(g,f)));if(!f.has(e)){f.add(e);var w=fg.bind(null,c,g,e);g.then(w,w)}h.effectTag|=4096;h.expirationTime=b;break a}h=h.return}while(null!==h);f=Error((ta(e.type)||
"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Ab(e))}X!==yf&&(X=vf);f=Ne(f,e);h=d;do{switch(h.tag){case 3:g=f;h.effectTag|=4096;h.expirationTime=b;var r=jf(h,g,b);Jc(h,r);break a;case 1:g=f;var t=h.type,N=h.stateNode;if(0===(h.effectTag&64)&&("function"===typeof t.getDerivedStateFromError||null!==N&&"function"===typeof N.componentDidCatch&&
(null===nf||!nf.has(N)))){h.effectTag|=4096;h.expirationTime=b;var Mc=mf(h,g,b);Jc(h,Mc);break a}}h=h.return}while(null!==h)}V=gg(V)}catch(Sb){b=Sb;continue}break}while(1)}function Xf(){var a=pf.current;pf.current=Md;return null===a?Md:a}function Oc(a,b){a<Af&&2<a&&(Af=a);null!==b&&a<Bf&&2<a&&(Bf=a,Cf=b)}function Pc(a){a>Df&&(Df=a)}function bg(){for(;null!==V;)V=hg(V)}function Yf(){for(;null!==V&&!Pb();)V=hg(V)}
function hg(a){var b=ig(a.alternate,a,W);a.memoizedProps=a.pendingProps;null===b&&(b=gg(a));qf.current=null;return b}
function gg(a){V=a;do{var b=V.alternate;a=V.return;if(0===(V.effectTag&2048)){a:{var c=b;b=V;var d=W,e=b.pendingProps;switch(b.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:C(b.type)&&Gb(b);break;case 3:rd(b);Hb(b);e=b.stateNode;e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null);(null===c||null===c.child)&&ne(b)&&Fe(b);He(b);break;case 5:td(b);var f=pd(od.current);d=b.type;if(null!==c&&null!=b.stateNode)Ie(c,b,d,e,f),c.ref!==b.ref&&(b.effectTag|=128);else if(e){c=pd(H.current);
if(ne(b)){e=b;if(!Sa)throw Error(n(175));c=ub(e.stateNode,e.type,e.memoizedProps,f,c,e);e.updateQueue=c;c=null!==c?!0:!1;c&&Fe(b)}else{var g=Ea(d,e,f,c,b);Ge(g,b,!1,!1);b.stateNode=g;Ga(g,d,e,f,c)&&Fe(b)}null!==b.ref&&(b.effectTag|=128)}else if(null===b.stateNode)throw Error(n(166));break;case 6:if(c&&null!=b.stateNode)Je(c,b,c.memoizedProps,e);else{if("string"!==typeof e&&null===b.stateNode)throw Error(n(166));c=pd(od.current);f=pd(H.current);if(ne(b)){c=b;if(!Sa)throw Error(n(176));(c=vb(c.stateNode,
c.memoizedProps,c))&&Fe(b)}else b.stateNode=La(e,c,f,b)}break;case 11:break;case 13:y(I,b);e=b.memoizedState;if(0!==(b.effectTag&64)){b.expirationTime=d;break a}e=null!==e;f=!1;null===c?void 0!==b.memoizedProps.fallback&&ne(b):(d=c.memoizedState,f=null!==d,e||null===d||(d=c.child.sibling,null!==d&&(g=b.firstEffect,null!==g?(b.firstEffect=d,d.nextEffect=g):(b.firstEffect=b.lastEffect=d,d.nextEffect=null),d.effectTag=8)));if(e&&!f&&0!==(b.mode&2))if(null===c&&!0!==b.memoizedProps.unstable_avoidThisFallback||
0!==(I.current&1))X===tf&&(X=wf);else{if(X===tf||X===wf)X=xf;0!==Df&&null!==U&&(Pf(U,W),Qf(U,Df))}Ra&&e&&(b.effectTag|=4);Qa&&(e||f)&&(b.effectTag|=4);break;case 7:break;case 8:break;case 12:break;case 4:rd(b);He(b);break;case 10:yc(b);break;case 9:break;case 14:break;case 17:C(b.type)&&Gb(b);break;case 19:y(I,b);e=b.memoizedState;if(null===e)break;f=0!==(b.effectTag&64);g=e.rendering;if(null===g)if(f)Le(e,!1);else{if(X!==tf||null!==c&&0!==(c.effectTag&64))for(c=b.child;null!==c;){g=ud(c);if(null!==
g){b.effectTag|=64;Le(e,!1);c=g.updateQueue;null!==c&&(b.updateQueue=c,b.effectTag|=4);null===e.lastEffect&&(b.firstEffect=null);b.lastEffect=e.lastEffect;c=d;for(e=b.child;null!==e;)f=e,d=c,f.effectTag&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childExpirationTime=0,f.expirationTime=d,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null):(f.childExpirationTime=g.childExpirationTime,f.expirationTime=g.expirationTime,
f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,d=g.dependencies,f.dependencies=null===d?null:{expirationTime:d.expirationTime,firstContext:d.firstContext,responders:d.responders}),e=e.sibling;z(I,I.current&1|2,b);b=b.child;break a}c=c.sibling}}else{if(!f)if(c=ud(g),null!==c){if(b.effectTag|=64,f=!0,c=c.updateQueue,null!==c&&(b.updateQueue=c,b.effectTag|=4),Le(e,!0),null===e.tail&&"hidden"===e.tailMode&&!g.alternate){b=b.lastEffect=e.lastEffect;
null!==b&&(b.nextEffect=null);break}}else E()>e.tailExpiration&&1<d&&(b.effectTag|=64,f=!0,Le(e,!1),b.expirationTime=b.childExpirationTime=d-1);e.isBackwards?(g.sibling=b.child,b.child=g):(c=e.last,null!==c?c.sibling=g:b.child=g,e.last=g)}if(null!==e.tail){0===e.tailExpiration&&(e.tailExpiration=E()+500);c=e.tail;e.rendering=c;e.tail=c.sibling;e.lastEffect=b.lastEffect;c.sibling=null;e=I.current;e=f?e&1|2:e&1;z(I,e,b);b=c;break a}break;case 20:break;case 21:break;default:throw Error(n(156,b.tag));
}b=null}c=V;if(1===W||1!==c.childExpirationTime){e=0;for(f=c.child;null!==f;)d=f.expirationTime,g=f.childExpirationTime,d>e&&(e=d),g>e&&(e=g),f=f.sibling;c.childExpirationTime=e}if(null!==b)return b;null!==a&&0===(a.effectTag&2048)&&(null===a.firstEffect&&(a.firstEffect=V.firstEffect),null!==V.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=V.firstEffect),a.lastEffect=V.lastEffect),1<V.effectTag&&(null!==a.lastEffect?a.lastEffect.nextEffect=V:a.firstEffect=V,a.lastEffect=V))}else{b=Me(V,
W);if(null!==b)return b.effectTag&=2047,b;null!==a&&(a.firstEffect=a.lastEffect=null,a.effectTag|=2048)}b=V.sibling;if(null!==b)return b;V=a}while(null!==V);X===tf&&(X=yf);return null}function $f(a){var b=a.expirationTime;a=a.childExpirationTime;return b>a?b:a}function ag(a){var b=fc();hc(99,jg.bind(null,a,b));return null}
function jg(a,b){do Vf();while(null!==Hf);if((T&(S|sf))!==R)throw Error(n(327));var c=a.finishedWork,d=a.finishedExpirationTime;if(null===c)return null;a.finishedWork=null;a.finishedExpirationTime=0;if(c===a.current)throw Error(n(177));a.callbackNode=null;a.callbackExpirationTime=0;a.callbackPriority=90;a.nextKnownPendingLevel=0;var e=$f(c);a.firstPendingTime=e;d<=a.lastSuspendedTime?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:d<=a.firstSuspendedTime&&(a.firstSuspendedTime=
d-1);d<=a.lastPingedTime&&(a.lastPingedTime=0);d<=a.lastExpiredTime&&(a.lastExpiredTime=0);a===U&&(V=U=null,W=0);1<c.effectTag?null!==c.lastEffect?(c.lastEffect.nextEffect=c,e=c.firstEffect):e=c:e=c.firstEffect;if(null!==e){var f=T;T|=sf;qf.current=null;Ca(a.containerInfo);Y=e;do try{kg()}catch(jb){if(null===Y)throw Error(n(330));Re(Y,jb);Y=Y.nextEffect}while(null!==Y);Y=e;do try{for(var g=a,l=b;null!==Y;){var h=Y.effectTag;h&16&&Qa&&bb(Y.stateNode);if(h&128){var k=Y.alternate;if(null!==k){var p=
k.ref;null!==p&&("function"===typeof p?p(null):p.current=null)}}switch(h&1038){case 2:bf(Y);Y.effectTag&=-3;break;case 6:bf(Y);Y.effectTag&=-3;cf(Y.alternate,Y);break;case 1024:Y.effectTag&=-1025;break;case 1028:Y.effectTag&=-1025;cf(Y.alternate,Y);break;case 4:cf(Y.alternate,Y);break;case 8:var D=g,x=Y,K=l;Qa?Xe(D,x,K):Ze(D,x,K);$e(x)}Y=Y.nextEffect}}catch(jb){if(null===Y)throw Error(n(330));Re(Y,jb);Y=Y.nextEffect}while(null!==Y);Da(a.containerInfo);a.current=c;Y=e;do try{for(h=d;null!==Y;){var Ha=
Y.effectTag;if(Ha&36){var O=Y.alternate;k=Y;p=h;switch(k.tag){case 0:case 11:case 15:Ue(16,32,k);break;case 1:var w=k.stateNode;if(k.effectTag&4)if(null===O)w.componentDidMount();else{var r=k.elementType===k.type?O.memoizedProps:rc(k.type,O.memoizedProps);w.componentDidUpdate(r,O.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var t=k.updateQueue;null!==t&&Qc(k,t,w,p);break;case 3:var N=k.updateQueue;if(null!==N){g=null;if(null!==k.child)switch(k.child.tag){case 5:g=za(k.child.stateNode);break;
case 1:g=k.child.stateNode}Qc(k,N,g,p)}break;case 5:var Mc=k.stateNode;null===O&&k.effectTag&4&&Wa(Mc,k.type,k.memoizedProps,k);break;case 6:break;case 4:break;case 12:break;case 13:if(Sa&&null===k.memoizedState){var Sb=k.alternate;if(null!==Sb){var le=Sb.memoizedState;if(null!==le){var me=le.dehydrated;null!==me&&yb(me)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(n(163));}}if(Ha&128){k=void 0;var Tb=Y.ref;if(null!==Tb){var v=Y.stateNode;switch(Y.tag){case 5:k=za(v);break;default:k=
v}"function"===typeof Tb?Tb(k):Tb.current=k}}Y=Y.nextEffect}}catch(jb){if(null===Y)throw Error(n(330));Re(Y,jb);Y=Y.nextEffect}while(null!==Y);Y=null;ac();T=f}else a.current=c;if(Gf)Gf=!1,Hf=a,If=b;else for(Y=e;null!==Y;)b=Y.nextEffect,Y.nextEffect=null,Y=b;b=a.firstPendingTime;0===b&&(nf=null);1073741823===b?a===Lf?Kf++:(Kf=0,Lf=a):Kf=0;"function"===typeof lg&&lg(c.stateNode,d);Z(a);if(kf)throw kf=!1,a=lf,lf=null,a;if((T&rf)!==R)return null;F();return null}
function kg(){for(;null!==Y;){var a=Y.effectTag;0!==(a&256)&&Te(Y.alternate,Y);0===(a&512)||Gf||(Gf=!0,ic(97,function(){Vf();return null}));Y=Y.nextEffect}}function Vf(){if(90!==If){var a=97<If?97:If;If=90;return hc(a,mg)}}
function mg(){if(null===Hf)return!1;var a=Hf;Hf=null;if((T&(S|sf))!==R)throw Error(n(331));var b=T;T|=sf;for(a=a.current.firstEffect;null!==a;){try{var c=a;if(0!==(c.effectTag&512))switch(c.tag){case 0:case 11:case 15:Ue(128,0,c),Ue(0,64,c)}}catch(d){if(null===a)throw Error(n(330));Re(a,d)}c=a.nextEffect;a.nextEffect=null;a=c}T=b;F();return!0}function ng(a,b,c){b=Ne(c,b);b=jf(a,b,1073741823);Ic(a,b);a=Nf(a,1073741823);null!==a&&Z(a)}
function Re(a,b){if(3===a.tag)ng(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){ng(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if("function"===typeof c.type.getDerivedStateFromError||"function"===typeof d.componentDidCatch&&(null===nf||!nf.has(d))){a=Ne(b,a);a=mf(c,a,1073741823);Ic(c,a);c=Nf(c,1073741823);null!==c&&Z(c);break}}c=c.return}}
function fg(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);U===a&&W===c?X===xf||X===wf&&1073741823===Af&&E()-ff<Ff?Wf(a,W):Ef=!0:Sf(a,c)&&(b=a.lastPingedTime,0!==b&&b<c||(a.lastPingedTime=c,a.finishedExpirationTime===c&&(a.finishedExpirationTime=0,a.finishedWork=null),Z(a)))}function gf(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=G(),b=Vc(b,a,null));a=Nf(a,b);null!==a&&Z(a)}var ig;
ig=function(a,b,c){var d=b.expirationTime;if(null!==a){var e=b.pendingProps;if(a.memoizedProps!==e||B.current)Bc=!0;else{if(d<c){Bc=!1;switch(b.tag){case 3:ze(b);oe();break;case 5:sd(b);if(b.mode&4&&1!==c&&Ka(b.type,e))return b.expirationTime=b.childExpirationTime=1,null;break;case 1:C(b.type)&&Kb(b);break;case 4:qd(b,b.stateNode.containerInfo);break;case 10:xc(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;if(0!==d&&d>=c)return Be(a,b,c);z(I,I.current&
1,b);b=re(a,b,c);return null!==b?b.sibling:null}z(I,I.current&1,b);break;case 19:d=b.childExpirationTime>=c;if(0!==(a.effectTag&64)){if(d)return Ee(a,b,c);b.effectTag|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null);z(I,I.current,b);if(!d)return null}return re(a,b,c)}Bc=!1}}else Bc=!1;b.expirationTime=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;e=Fb(b,A.current);Ac(b,c);e=Jd(null,b,d,a,e,c);b.effectTag|=1;if("object"===
typeof e&&null!==e&&"function"===typeof e.render&&void 0===e.$$typeof){b.tag=1;Nd();if(C(d)){var f=!0;Kb(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var g=d.getDerivedStateFromProps;"function"===typeof g&&Uc(b,d,g,a);e.updater=Xc;b.stateNode=e;e._reactInternalFiber=b;ad(b,d,a,c);b=ye(null,b,d,!0,f,c)}else b.tag=0,Q(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;sa(e);if(1!==e._status)throw e._result;
e=e._result;b.type=e;f=b.tag=og(e);a=rc(e,a);switch(f){case 0:b=ve(null,b,e,a,c);break;case 1:b=xe(null,b,e,a,c);break;case 11:b=qe(null,b,e,a,c);break;case 14:b=se(null,b,e,rc(e.type,a),d,c);break;default:throw Error(n(306,e,""));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:rc(d,e),ve(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:rc(d,e),xe(a,b,d,e,c);case 3:ze(b);d=b.updateQueue;if(null===d)throw Error(n(282));e=b.memoizedState;e=null!==e?e.element:
null;Nc(b,d,b.pendingProps,null,c);d=b.memoizedState.element;if(d===e)oe(),b=re(a,b,c);else{if(e=b.stateNode.hydrate)Sa?(ee=tb(b.stateNode.containerInfo),de=b,e=fe=!0):e=!1;if(e)for(c=ld(b,null,d,c),b.child=c;c;)c.effectTag=c.effectTag&-3|1024,c=c.sibling;else Q(a,b,d,c),oe();b=b.child}return b;case 5:return sd(b),null===a&&je(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ja(d,e)?g=null:null!==f&&Ja(d,f)&&(b.effectTag|=16),we(a,b),b.mode&4&&1!==c&&Ka(d,e)?(b.expirationTime=
b.childExpirationTime=1,b=null):(Q(a,b,g,c),b=b.child),b;case 6:return null===a&&je(b),null;case 13:return Be(a,b,c);case 4:return qd(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=kd(b,null,d,c):Q(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:rc(d,e),qe(a,b,d,e,c);case 7:return Q(a,b,b.pendingProps,c),b.child;case 8:return Q(a,b,b.pendingProps.children,c),b.child;case 12:return Q(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;
e=b.pendingProps;g=b.memoizedProps;f=e.value;xc(b,f);if(null!==g){var l=g.value;f=oc(l,f)?0:("function"===typeof d._calculateChangedBits?d._calculateChangedBits(l,f):1073741823)|0;if(0===f){if(g.children===e.children&&!B.current){b=re(a,b,c);break a}}else for(l=b.child,null!==l&&(l.return=b);null!==l;){var h=l.dependencies;if(null!==h){g=l.child;for(var k=h.firstContext;null!==k;){if(k.context===d&&0!==(k.observedBits&f)){1===l.tag&&(k=Gc(c,null),k.tag=2,Ic(l,k));l.expirationTime<c&&(l.expirationTime=
c);k=l.alternate;null!==k&&k.expirationTime<c&&(k.expirationTime=c);zc(l.return,c);h.expirationTime<c&&(h.expirationTime=c);break}k=k.next}}else g=10===l.tag?l.type===b.type?null:l.child:l.child;if(null!==g)g.return=l;else for(g=l;null!==g;){if(g===b){g=null;break}l=g.sibling;if(null!==l){l.return=g.return;g=l;break}g=g.return}l=g}}Q(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,Ac(b,c),e=Cc(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,Q(a,b,d,c),b.child;
case 14:return e=b.type,f=rc(e,b.pendingProps),f=rc(e.type,f),se(a,b,e,f,d,c);case 15:return ue(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:rc(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,C(d)?(a=!0,Kb(b)):a=!1,Ac(b,c),Zc(b,d,e,c),ad(b,d,e,c),ye(null,b,d,!0,a,c);case 19:return Ee(a,b,c)}throw Error(n(156,b.tag));};var lg=null,We=null;
function pg(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);lg=function(a){try{b.onCommitFiberRoot(c,a,void 0,64===(a.current.effectTag&64))}catch(e){}};We=function(a){try{b.onCommitFiberUnmount(c,a)}catch(e){}}}catch(d){}return!0}
function qg(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function he(a,b,c,d){return new qg(a,b,c,d)}
function te(a){a=a.prototype;return!(!a||!a.isReactComponent)}function og(a){if("function"===typeof a)return te(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===la)return 11;if(a===oa)return 14}return 2}
function fd(a,b){var c=a.alternate;null===c?(c=he(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{expirationTime:b.expirationTime,
firstContext:b.firstContext,responders:b.responders};c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}
function hd(a,b,c,d,e,f){var g=2;d=a;if("function"===typeof a)te(a)&&(g=1);else if("string"===typeof a)g=5;else a:switch(a){case ea:return jd(c.children,e,f,b);case ka:g=8;e|=7;break;case fa:g=8;e|=1;break;case ha:return a=he(12,c,b,e|8),a.elementType=ha,a.type=ha,a.expirationTime=f,a;case ma:return a=he(13,c,b,e),a.type=ma,a.elementType=ma,a.expirationTime=f,a;case na:return a=he(19,c,b,e),a.elementType=na,a.expirationTime=f,a;default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case ia:g=
10;break a;case ja:g=9;break a;case la:g=11;break a;case oa:g=14;break a;case pa:g=16;d=null;break a}throw Error(n(130,null==a?a:typeof a,""));}b=he(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function jd(a,b,c,d){a=he(7,a,d,b);a.expirationTime=c;return a}function gd(a,b,c){a=he(6,a,null,b);a.expirationTime=c;return a}
function id(a,b,c){b=he(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}
function rg(a,b,c){this.tag=b;this.current=null;this.containerInfo=a;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=Oa;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}
function Sf(a,b){var c=a.firstSuspendedTime;a=a.lastSuspendedTime;return 0!==c&&c>=b&&a<=b}function Pf(a,b){var c=a.firstSuspendedTime,d=a.lastSuspendedTime;c<b&&(a.firstSuspendedTime=b);if(d>b||0===c)a.lastSuspendedTime=b;b<=a.lastPingedTime&&(a.lastPingedTime=0);b<=a.lastExpiredTime&&(a.lastExpiredTime=0)}
function Qf(a,b){b>a.firstPendingTime&&(a.firstPendingTime=b);var c=a.firstSuspendedTime;0!==c&&(b>=c?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:b>=a.lastSuspendedTime&&(a.lastSuspendedTime=b+1),b>a.nextKnownPendingLevel&&(a.nextKnownPendingLevel=b))}function Uf(a,b){var c=a.lastExpiredTime;if(0===c||c>b)a.lastExpiredTime=b}
function sg(a){var b=a._reactInternalFiber;if(void 0===b){if("function"===typeof a.render)throw Error(n(188));throw Error(n(268,Object.keys(a)));}a=xa(b);return null===a?null:a.stateNode}function tg(a,b){a=a.memoizedState;null!==a&&null!==a.dehydrated&&a.retryTime<b&&(a.retryTime=b)}function ug(a,b){tg(a,b);(a=a.alternate)&&tg(a,b)}
var vg={createContainer:function(a,b,c){a=new rg(a,b,c);b=he(3,null,null,2===b?7:1===b?3:0);a.current=b;return b.stateNode=a},updateContainer:function(a,b,c,d){var e=b.current,f=G(),g=Sc.suspense;f=Vc(f,e,g);a:if(c){c=c._reactInternalFiber;b:{if(ua(c)!==c||1!==c.tag)throw Error(n(170));var l=c;do{switch(l.tag){case 3:l=l.stateNode.context;break b;case 1:if(C(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break b}}l=l.return}while(null!==l);throw Error(n(171));}if(1===c.tag){var h=
c.type;if(C(h)){c=Jb(c,h,l);break a}}c=l}else c=Db;null===b.context?b.context=c:b.pendingContext=c;b=Gc(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);Ic(e,b);Wc(e,f);return f},batchedEventUpdates:function(a,b){var c=T;T|=2;try{return a(b)}finally{T=c,T===R&&F()}},batchedUpdates:function(a,b){var c=T;T|=1;try{return a(b)}finally{T=c,T===R&&F()}},unbatchedUpdates:function(a,b){var c=T;T&=-2;T|=rf;try{return a(b)}finally{T=c,T===R&&F()}},deferredUpdates:function(a){return hc(97,
a)},syncUpdates:function(a,b,c,d){return hc(99,a.bind(null,b,c,d))},discreteUpdates:function(a,b,c,d){var e=T;T|=4;try{return hc(98,a.bind(null,b,c,d))}finally{T=e,T===R&&F()}},flushDiscreteUpdates:function(){(T&(1|S|sf))===R&&(dg(),Vf())},flushControlled:function(a){var b=T;T|=1;try{hc(99,a)}finally{T=b,T===R&&F()}},flushSync:eg,flushPassiveEffects:Vf,IsThisRendererActing:{current:!1},getPublicRootInstance:function(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return za(a.child.stateNode);
default:return a.child.stateNode}},attemptSynchronousHydration:function(a){switch(a.tag){case 3:var b=a.stateNode;b.hydrate&&cg(b,b.firstPendingTime);break;case 13:eg(function(){return Wc(a,1073741823)}),b=mc(G(),150,100),ug(a,b)}},attemptUserBlockingHydration:function(a){if(13===a.tag){var b=mc(G(),150,100);Wc(a,b);ug(a,b)}},attemptContinuousHydration:function(a){if(13===a.tag){G();var b=lc++;Wc(a,b);ug(a,b)}},attemptHydrationAtCurrentPriority:function(a){if(13===a.tag){var b=G();b=Vc(b,a,null);
Wc(a,b);ug(a,b)}},findHostInstance:sg,findHostInstanceWithWarning:function(a){return sg(a)},findHostInstanceWithNoPortals:function(a){a=ya(a);return null===a?null:20===a.tag?a.stateNode.instance:a.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(a){var b=a.findFiberByHostInstance;return pg(aa({},a,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=xa(a);
return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}};module.exports=vg.default||vg;

    var $$$renderer = module.exports;
    module.exports = $$$reconciler;
    return $$$renderer;
};


/***/ }),

/***/ 6525:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (true) {
  module.exports = __webpack_require__(7287);
} else {}


/***/ }),

/***/ 2546:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

Object.defineProperty(exports, "__esModule", ({value:!0}));var f,g,h,k,l;
if("undefined"===typeof window||"function"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,
y=window.setTimeout,z=window.clearTimeout;if("undefined"!==typeof console){var A=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills");"function"!==typeof A&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===
typeof w&&"function"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=
function(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=Math.floor((c-1)/2),e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}
function M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;
function V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}
function X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();"function"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}
function Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_ImmediatePriority=1;exports.unstable_UserBlockingPriority=2;exports.unstable_NormalPriority=3;exports.unstable_IdlePriority=5;exports.unstable_LowPriority=4;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};
exports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};
exports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if("object"===typeof c&&null!==c){var e=c.delay;e="number"===typeof e&&0<e?d+e:d;c="number"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};exports.unstable_cancelCallback=function(a){a.callback=null};
exports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};exports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_requestPaint=Z;exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};
exports.unstable_pauseExecution=function(){};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_Profiling=null;


/***/ }),

/***/ 373:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (true) {
  module.exports = __webpack_require__(2546);
} else {}


/***/ }),

/***/ 6585:
/***/ ((module) => {

module.exports = Array.isArray || function (arr) {
  return Object.prototype.toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ 9658:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isarray = __webpack_require__(6585)

/**
 * Expose `pathToRegexp`.
 */
module.exports = pathToRegexp
module.exports.parse = parse
module.exports.compile = compile
module.exports.tokensToFunction = tokensToFunction
module.exports.tokensToRegExp = tokensToRegExp

/**
 * The main path matching regexp utility.
 *
 * @type {RegExp}
 */
var PATH_REGEXP = new RegExp([
  // Match escaped characters that would otherwise appear in future matches.
  // This allows the user to escape special characters that won't transform.
  '(\\\\.)',
  // Match Express-style parameters and un-named parameters with a prefix
  // and optional suffixes. Matches appear as:
  //
  // "/:test(\\d+)?" => ["/", "test", "\d+", undefined, "?", undefined]
  // "/route(\\d+)"  => [undefined, undefined, undefined, "\d+", undefined, undefined]
  // "/*"            => ["/", undefined, undefined, undefined, undefined, "*"]
  '([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))'
].join('|'), 'g')

/**
 * Parse a string for the raw tokens.
 *
 * @param  {string}  str
 * @param  {Object=} options
 * @return {!Array}
 */
function parse (str, options) {
  var tokens = []
  var key = 0
  var index = 0
  var path = ''
  var defaultDelimiter = options && options.delimiter || '/'
  var res

  while ((res = PATH_REGEXP.exec(str)) != null) {
    var m = res[0]
    var escaped = res[1]
    var offset = res.index
    path += str.slice(index, offset)
    index = offset + m.length

    // Ignore already escaped sequences.
    if (escaped) {
      path += escaped[1]
      continue
    }

    var next = str[index]
    var prefix = res[2]
    var name = res[3]
    var capture = res[4]
    var group = res[5]
    var modifier = res[6]
    var asterisk = res[7]

    // Push the current path onto the tokens.
    if (path) {
      tokens.push(path)
      path = ''
    }

    var partial = prefix != null && next != null && next !== prefix
    var repeat = modifier === '+' || modifier === '*'
    var optional = modifier === '?' || modifier === '*'
    var delimiter = res[2] || defaultDelimiter
    var pattern = capture || group

    tokens.push({
      name: name || key++,
      prefix: prefix || '',
      delimiter: delimiter,
      optional: optional,
      repeat: repeat,
      partial: partial,
      asterisk: !!asterisk,
      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')
    })
  }

  // Match any characters still remaining.
  if (index < str.length) {
    path += str.substr(index)
  }

  // If the path exists, push it onto the end.
  if (path) {
    tokens.push(path)
  }

  return tokens
}

/**
 * Compile a string to a template function for the path.
 *
 * @param  {string}             str
 * @param  {Object=}            options
 * @return {!function(Object=, Object=)}
 */
function compile (str, options) {
  return tokensToFunction(parse(str, options), options)
}

/**
 * Prettier encoding of URI path segments.
 *
 * @param  {string}
 * @return {string}
 */
function encodeURIComponentPretty (str) {
  return encodeURI(str).replace(/[\/?#]/g, function (c) {
    return '%' + c.charCodeAt(0).toString(16).toUpperCase()
  })
}

/**
 * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.
 *
 * @param  {string}
 * @return {string}
 */
function encodeAsterisk (str) {
  return encodeURI(str).replace(/[?#]/g, function (c) {
    return '%' + c.charCodeAt(0).toString(16).toUpperCase()
  })
}

/**
 * Expose a method for transforming tokens into the path function.
 */
function tokensToFunction (tokens, options) {
  // Compile all the tokens into regexps.
  var matches = new Array(tokens.length)

  // Compile all the patterns before compilation.
  for (var i = 0; i < tokens.length; i++) {
    if (typeof tokens[i] === 'object') {
      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))
    }
  }

  return function (obj, opts) {
    var path = ''
    var data = obj || {}
    var options = opts || {}
    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent

    for (var i = 0; i < tokens.length; i++) {
      var token = tokens[i]

      if (typeof token === 'string') {
        path += token

        continue
      }

      var value = data[token.name]
      var segment

      if (value == null) {
        if (token.optional) {
          // Prepend partial segment prefixes.
          if (token.partial) {
            path += token.prefix
          }

          continue
        } else {
          throw new TypeError('Expected "' + token.name + '" to be defined')
        }
      }

      if (isarray(value)) {
        if (!token.repeat) {
          throw new TypeError('Expected "' + token.name + '" to not repeat, but received `' + JSON.stringify(value) + '`')
        }

        if (value.length === 0) {
          if (token.optional) {
            continue
          } else {
            throw new TypeError('Expected "' + token.name + '" to not be empty')
          }
        }

        for (var j = 0; j < value.length; j++) {
          segment = encode(value[j])

          if (!matches[i].test(segment)) {
            throw new TypeError('Expected all "' + token.name + '" to match "' + token.pattern + '", but received `' + JSON.stringify(segment) + '`')
          }

          path += (j === 0 ? token.prefix : token.delimiter) + segment
        }

        continue
      }

      segment = token.asterisk ? encodeAsterisk(value) : encode(value)

      if (!matches[i].test(segment)) {
        throw new TypeError('Expected "' + token.name + '" to match "' + token.pattern + '", but received "' + segment + '"')
      }

      path += token.prefix + segment
    }

    return path
  }
}

/**
 * Escape a regular expression string.
 *
 * @param  {string} str
 * @return {string}
 */
function escapeString (str) {
  return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g, '\\$1')
}

/**
 * Escape the capturing group by escaping special characters and meaning.
 *
 * @param  {string} group
 * @return {string}
 */
function escapeGroup (group) {
  return group.replace(/([=!:$\/()])/g, '\\$1')
}

/**
 * Attach the keys as a property of the regexp.
 *
 * @param  {!RegExp} re
 * @param  {Array}   keys
 * @return {!RegExp}
 */
function attachKeys (re, keys) {
  re.keys = keys
  return re
}

/**
 * Get the flags for a regexp from the options.
 *
 * @param  {Object} options
 * @return {string}
 */
function flags (options) {
  return options && options.sensitive ? '' : 'i'
}

/**
 * Pull out keys from a regexp.
 *
 * @param  {!RegExp} path
 * @param  {!Array}  keys
 * @return {!RegExp}
 */
function regexpToRegexp (path, keys) {
  // Use a negative lookahead to match only capturing groups.
  var groups = path.source.match(/\((?!\?)/g)

  if (groups) {
    for (var i = 0; i < groups.length; i++) {
      keys.push({
        name: i,
        prefix: null,
        delimiter: null,
        optional: false,
        repeat: false,
        partial: false,
        asterisk: false,
        pattern: null
      })
    }
  }

  return attachKeys(path, keys)
}

/**
 * Transform an array into a regexp.
 *
 * @param  {!Array}  path
 * @param  {Array}   keys
 * @param  {!Object} options
 * @return {!RegExp}
 */
function arrayToRegexp (path, keys, options) {
  var parts = []

  for (var i = 0; i < path.length; i++) {
    parts.push(pathToRegexp(path[i], keys, options).source)
  }

  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))

  return attachKeys(regexp, keys)
}

/**
 * Create a path regexp from string input.
 *
 * @param  {string}  path
 * @param  {!Array}  keys
 * @param  {!Object} options
 * @return {!RegExp}
 */
function stringToRegexp (path, keys, options) {
  return tokensToRegExp(parse(path, options), keys, options)
}

/**
 * Expose a function for taking tokens and returning a RegExp.
 *
 * @param  {!Array}          tokens
 * @param  {(Array|Object)=} keys
 * @param  {Object=}         options
 * @return {!RegExp}
 */
function tokensToRegExp (tokens, keys, options) {
  if (!isarray(keys)) {
    options = /** @type {!Object} */ (keys || options)
    keys = []
  }

  options = options || {}

  var strict = options.strict
  var end = options.end !== false
  var route = ''

  // Iterate over the tokens and create our regexp string.
  for (var i = 0; i < tokens.length; i++) {
    var token = tokens[i]

    if (typeof token === 'string') {
      route += escapeString(token)
    } else {
      var prefix = escapeString(token.prefix)
      var capture = '(?:' + token.pattern + ')'

      keys.push(token)

      if (token.repeat) {
        capture += '(?:' + prefix + capture + ')*'
      }

      if (token.optional) {
        if (!token.partial) {
          capture = '(?:' + prefix + '(' + capture + '))?'
        } else {
          capture = prefix + '(' + capture + ')?'
        }
      } else {
        capture = prefix + '(' + capture + ')'
      }

      route += capture
    }
  }

  var delimiter = escapeString(options.delimiter || '/')
  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter

  // In non-strict mode we allow a slash at the end of match. If the path to
  // match already ends with a slash, we remove it for consistency. The slash
  // is valid at the end of a path match, not in the middle. This is important
  // in non-ending mode, where "/test/" shouldn't match "/test//route".
  if (!strict) {
    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'
  }

  if (end) {
    route += '$'
  } else {
    // In non-ending mode, we need the capturing groups to match as much as
    // possible by using a positive lookahead to the end or next path segment.
    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'
  }

  return attachKeys(new RegExp('^' + route, flags(options)), keys)
}

/**
 * Normalize the given path string, returning a regular expression.
 *
 * An empty array can be passed in for the keys, which will hold the
 * placeholder key descriptions. For example, using `/user/:id`, `keys` will
 * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.
 *
 * @param  {(string|RegExp|Array)} path
 * @param  {(Array|Object)=}       keys
 * @param  {Object=}               options
 * @return {!RegExp}
 */
function pathToRegexp (path, keys, options) {
  if (!isarray(keys)) {
    options = /** @type {!Object} */ (keys || options)
    keys = []
  }

  options = options || {}

  if (path instanceof RegExp) {
    return regexpToRegexp(path, /** @type {!Array} */ (keys))
  }

  if (isarray(path)) {
    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)
  }

  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)
}


/***/ }),

/***/ 2408:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var l=__webpack_require__(7418),n="function"===typeof Symbol&&Symbol.for,p=n?Symbol.for("react.element"):60103,q=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,t=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,v=n?Symbol.for("react.provider"):60109,w=n?Symbol.for("react.context"):60110,x=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,z=n?Symbol.for("react.memo"):60115,A=n?Symbol.for("react.lazy"):
60116,B="function"===typeof Symbol&&Symbol.iterator;function C(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}
var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function F(a,b,c){this.props=a;this.context=b;this.refs=E;this.updater=c||D}F.prototype.isReactComponent={};F.prototype.setState=function(a,b){if("object"!==typeof a&&"function"!==typeof a&&null!=a)throw Error(C(85));this.updater.enqueueSetState(this,a,b,"setState")};F.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};
function G(){}G.prototype=F.prototype;function H(a,b,c){this.props=a;this.context=b;this.refs=E;this.updater=c||D}var I=H.prototype=new G;I.constructor=H;l(I,F.prototype);I.isPureReactComponent=!0;var J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};
function M(a,b,c){var e,d={},g=null,k=null;if(null!=b)for(e in void 0!==b.ref&&(k=b.ref),void 0!==b.key&&(g=""+b.key),b)K.call(b,e)&&!L.hasOwnProperty(e)&&(d[e]=b[e]);var f=arguments.length-2;if(1===f)d.children=c;else if(1<f){for(var h=Array(f),m=0;m<f;m++)h[m]=arguments[m+2];d.children=h}if(a&&a.defaultProps)for(e in f=a.defaultProps,f)void 0===d[e]&&(d[e]=f[e]);return{$$typeof:p,type:a,key:g,ref:k,props:d,_owner:J.current}}
function N(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return"object"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}var P=/\/+/g,Q=[];function R(a,b,c,e){if(Q.length){var d=Q.pop();d.result=a;d.keyPrefix=b;d.func=c;d.context=e;d.count=0;return d}return{result:a,keyPrefix:b,func:c,context:e,count:0}}
function S(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>Q.length&&Q.push(a)}
function T(a,b,c,e){var d=typeof a;if("undefined"===d||"boolean"===d)a=null;var g=!1;if(null===a)g=!0;else switch(d){case "string":case "number":g=!0;break;case "object":switch(a.$$typeof){case p:case q:g=!0}}if(g)return c(e,a,""===b?"."+U(a,0):b),1;g=0;b=""===b?".":b+":";if(Array.isArray(a))for(var k=0;k<a.length;k++){d=a[k];var f=b+U(d,k);g+=T(d,f,c,e)}else if(null===a||"object"!==typeof a?f=null:(f=B&&a[B]||a["@@iterator"],f="function"===typeof f?f:null),"function"===typeof f)for(a=f.call(a),k=
0;!(d=a.next()).done;)d=d.value,f=b+U(d,k++),g+=T(d,f,c,e);else if("object"===d)throw c=""+a,Error(C(31,"[object Object]"===c?"object with keys {"+Object.keys(a).join(", ")+"}":c,""));return g}function V(a,b,c){return null==a?0:T(a,"",b,c)}function U(a,b){return"object"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function W(a,b){a.func.call(a.context,b,a.count++)}
function aa(a,b,c){var e=a.result,d=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?X(a,e,c,function(a){return a}):null!=a&&(O(a)&&(a=N(a,d+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+c)),e.push(a))}function X(a,b,c,e,d){var g="";null!=c&&(g=(""+c).replace(P,"$&/")+"/");b=R(b,g,e,d);V(a,aa,b);S(b)}var Y={current:null};function Z(){var a=Y.current;if(null===a)throw Error(C(321));return a}
var ba={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:J,IsSomeRendererActing:{current:!1},assign:l};exports.Children={map:function(a,b,c){if(null==a)return a;var e=[];X(a,e,null,b,c);return e},forEach:function(a,b,c){if(null==a)return a;b=R(null,null,b,c);V(a,W,b);S(b)},count:function(a){return V(a,function(){return null},null)},toArray:function(a){var b=[];X(a,b,null,function(a){return a});return b},only:function(a){if(!O(a))throw Error(C(143));return a}};
exports.Component=F;exports.Fragment=r;exports.Profiler=u;exports.PureComponent=H;exports.StrictMode=t;exports.Suspense=y;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ba;
exports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(C(267,a));var e=l({},a.props),d=a.key,g=a.ref,k=a._owner;if(null!=b){void 0!==b.ref&&(g=b.ref,k=J.current);void 0!==b.key&&(d=""+b.key);if(a.type&&a.type.defaultProps)var f=a.type.defaultProps;for(h in b)K.call(b,h)&&!L.hasOwnProperty(h)&&(e[h]=void 0===b[h]&&void 0!==f?f[h]:b[h])}var h=arguments.length-2;if(1===h)e.children=c;else if(1<h){f=Array(h);for(var m=0;m<h;m++)f[m]=arguments[m+2];e.children=f}return{$$typeof:p,type:a.type,
key:d,ref:g,props:e,_owner:k}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:x,render:a}};exports.isValidElement=O;
exports.lazy=function(a){return{$$typeof:A,_ctor:a,_status:-1,_result:null}};exports.memo=function(a,b){return{$$typeof:z,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return Z().useCallback(a,b)};exports.useContext=function(a,b){return Z().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return Z().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return Z().useImperativeHandle(a,b,c)};
exports.useLayoutEffect=function(a,b){return Z().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return Z().useMemo(a,b)};exports.useReducer=function(a,b,c){return Z().useReducer(a,b,c)};exports.useRef=function(a){return Z().useRef(a)};exports.useState=function(a){return Z().useState(a)};exports.version="16.13.1";


/***/ }),

/***/ 7294:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (true) {
  module.exports = __webpack_require__(2408);
} else {}


/***/ }),

/***/ 3972:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */


var rtlDetect = __webpack_require__(6730);

module.exports = {

    isRtlLang: rtlDetect.isRtlLang,

    getLangDir: rtlDetect.getLangDir

};


/***/ }),

/***/ 6730:
/***/ ((module) => {

"use strict";
/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */



var self;
var RtlDetectLib = self = {  // eslint-disable-line consistent-this
    // Private vars - star
    _regexEscape: /([\.\*\+\^\$\[\]\\\(\)\|\{\}\,\-\:\?])/g, // eslint-disable-line no-useless-escape
    _regexParseLocale: /^([a-zA-Z]*)([_\-a-zA-Z]*)$/,
    // Private vars - end

    // Private functions - star
    _escapeRegExpPattern: function (str) {
        if (typeof str !== 'string') {
            return str;
        }
        return str.replace(self._regexEscape, '\\$1');
    },

    _toLowerCase: function (str, reserveReturnValue) {
        if (typeof str !== 'string') {
            return reserveReturnValue && str;
        }
        return str.toLowerCase();
    },

    _toUpperCase: function (str, reserveReturnValue) {
        if (typeof str !== 'string') {
            return reserveReturnValue && str;
        }
        return str.toUpperCase();
    },

    _trim: function (str, delimiter, reserveReturnValue) {
        var patterns = [];
        var regexp;
        var addPatterns = function (pattern) {
            // Build trim RegExp pattern and push it to patterns array
            patterns.push('^' + pattern + '+|' + pattern + '+$');
        };

        // fix reserveReturnValue value
        if (typeof delimiter === 'boolean') {
            reserveReturnValue = delimiter;
            delimiter = null;
        }

        if (typeof str !== 'string') {
            return reserveReturnValue && str;
        }

        // Trim based on delimiter array values
        if (Array.isArray(delimiter)) {
            // Loop through delimiter array
            delimiter.map(function (item) {
                // Escape delimiter to be valid RegExp Pattern
                var pattern = self._escapeRegExpPattern(item);
                // Push pattern to patterns array
                addPatterns(pattern);
            });
        }

        // Trim based on delimiter string value
        if (typeof delimiter === 'string') {
            // Escape delimiter to be valid RegExp Pattern
            var patternDelimiter = self._escapeRegExpPattern(delimiter);
            // push pattern to patterns array
            addPatterns(patternDelimiter);
        }

        // If delimiter  is not defined, Trim white spaces
        if (!delimiter) {
            // Push white space pattern to patterns array
            addPatterns('\\s');
        }

        // Build RegExp pattern
        var pattern = '(' + patterns.join('|') + ')';
        // Build RegExp object
        regexp = new RegExp(pattern, 'g');

        // trim string for all patterns
        while (str.match(regexp)) {
            str = str.replace(regexp, '');
        }

        // Return trim string
        return str;
    },

    _parseLocale : function (strLocale) {
        var matches =  self._regexParseLocale.exec(strLocale); // exec regex
        var parsedLocale;
        var lang;
        var countryCode;

        if (!strLocale || !matches) {
            return;
        }

        // fix countryCode string by trimming '-' and '_'
        matches[2] = self._trim(matches[2], ['-', '_']);

        lang = self._toLowerCase(matches[1]);
        countryCode = self._toUpperCase(matches[2]) || countryCode;

        // object with lang, countryCode properties
        parsedLocale = {
            lang: lang,
            countryCode: countryCode
        };

        // return parsed locale object
        return parsedLocale;
    },
    // Private functions - End

    // Public functions - star
    isRtlLang: function (strLocale) {
        var objLocale = self._parseLocale(strLocale);
        if (!objLocale) {
            return;
        }
        // return true if the intel string lang exists in the BID RTL LANGS array else return false
        return (self._BIDI_RTL_LANGS.indexOf(objLocale.lang) >= 0);
    },

    getLangDir: function (strLocale) {
        // return 'rtl' if the intel string lang exists in the BID RTL LANGS array else return 'ltr'
        return self.isRtlLang(strLocale) ? 'rtl' : 'ltr';
    }

    // Public functions - End
};

// Const BIDI_RTL_LANGS Array
// BIDI_RTL_LANGS ref: http://en.wikipedia.org/wiki/Right-to-left
// Table of scripts in Unicode: https://en.wikipedia.org/wiki/Script_(Unicode)
Object.defineProperty(self, '_BIDI_RTL_LANGS', {
    value: [
        'ae',	/* Avestan */
        'ar',   /* 'العربية', Arabic */
        'arc',  /* Aramaic */
        'bcc',  /* 'بلوچی مکرانی', Southern Balochi */
        'bqi',  /* 'بختياري', Bakthiari */
        'ckb',  /* 'Soranî / کوردی', Sorani */
        'dv',   /* Dhivehi */
        'fa',   /* 'فارسی', Persian */
        'glk',  /* 'گیلکی', Gilaki */
        'he',   /* 'עברית', Hebrew */
        'ku',   /* 'Kurdî / كوردی', Kurdish */
        'mzn',  /* 'مازِرونی', Mazanderani */
        'nqo',  /* N'Ko */
        'pnb',  /* 'پنجابی', Western Punjabi */
        'ps',   /* 'پښتو', Pashto, */
        'sd',   /* 'سنڌي', Sindhi */
        'ug',   /* 'Uyghurche / ئۇيغۇرچە', Uyghur */
        'ur',    /* 'اردو', Urdu */
        'yi'    /* 'ייִדיש', Yiddish */
    ],
    writable: false,
    enumerable: true,
    configurable: false
});


module.exports = RtlDetectLib;


/***/ }),

/***/ 9509:
/***/ ((module, exports, __webpack_require__) => {

/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/* eslint-disable node/no-deprecated-api */
var buffer = __webpack_require__(8764)
var Buffer = buffer.Buffer

// alternative to using Object.keys for old browsers
function copyProps (src, dst) {
  for (var key in src) {
    dst[key] = src[key]
  }
}
if (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {
  module.exports = buffer
} else {
  // Copy properties from require('buffer')
  copyProps(buffer, exports)
  exports.Buffer = SafeBuffer
}

function SafeBuffer (arg, encodingOrOffset, length) {
  return Buffer(arg, encodingOrOffset, length)
}

SafeBuffer.prototype = Object.create(Buffer.prototype)

// Copy static methods from Buffer
copyProps(Buffer, SafeBuffer)

SafeBuffer.from = function (arg, encodingOrOffset, length) {
  if (typeof arg === 'number') {
    throw new TypeError('Argument must not be a number')
  }
  return Buffer(arg, encodingOrOffset, length)
}

SafeBuffer.alloc = function (size, fill, encoding) {
  if (typeof size !== 'number') {
    throw new TypeError('Argument must be a number')
  }
  var buf = Buffer(size)
  if (fill !== undefined) {
    if (typeof encoding === 'string') {
      buf.fill(fill, encoding)
    } else {
      buf.fill(fill)
    }
  } else {
    buf.fill(0)
  }
  return buf
}

SafeBuffer.allocUnsafe = function (size) {
  if (typeof size !== 'number') {
    throw new TypeError('Argument must be a number')
  }
  return Buffer(size)
}

SafeBuffer.allocUnsafeSlow = function (size) {
  if (typeof size !== 'number') {
    throw new TypeError('Argument must be a number')
  }
  return buffer.SlowBuffer(size)
}


/***/ }),

/***/ 7791:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var noCase = __webpack_require__(4431)
var upperCaseFirst = __webpack_require__(6868)

/**
 * Sentence case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale) {
  return upperCaseFirst(noCase(value, locale), locale)
}


/***/ }),

/***/ 4742:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var noCase = __webpack_require__(4431)

/**
 * Snake case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale) {
  return noCase(value, locale, '_')
}


/***/ }),

/***/ 2830:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

module.exports = Stream;

var EE = (__webpack_require__(7187).EventEmitter);
var inherits = __webpack_require__(5717);

inherits(Stream, EE);
Stream.Readable = __webpack_require__(6577);
Stream.Writable = __webpack_require__(323);
Stream.Duplex = __webpack_require__(8656);
Stream.Transform = __webpack_require__(4473);
Stream.PassThrough = __webpack_require__(2366);
Stream.finished = __webpack_require__(1086)
Stream.pipeline = __webpack_require__(6472)

// Backwards-compat with node 0.4.x
Stream.Stream = Stream;



// old-style streams.  Note that the pipe method (the only relevant
// part of this class) is overridden in the Readable class.

function Stream() {
  EE.call(this);
}

Stream.prototype.pipe = function(dest, options) {
  var source = this;

  function ondata(chunk) {
    if (dest.writable) {
      if (false === dest.write(chunk) && source.pause) {
        source.pause();
      }
    }
  }

  source.on('data', ondata);

  function ondrain() {
    if (source.readable && source.resume) {
      source.resume();
    }
  }

  dest.on('drain', ondrain);

  // If the 'end' option is not supplied, dest.end() will be called when
  // source gets the 'end' or 'close' events.  Only dest.end() once.
  if (!dest._isStdio && (!options || options.end !== false)) {
    source.on('end', onend);
    source.on('close', onclose);
  }

  var didOnEnd = false;
  function onend() {
    if (didOnEnd) return;
    didOnEnd = true;

    dest.end();
  }


  function onclose() {
    if (didOnEnd) return;
    didOnEnd = true;

    if (typeof dest.destroy === 'function') dest.destroy();
  }

  // don't leave dangling pipes when there are errors.
  function onerror(er) {
    cleanup();
    if (EE.listenerCount(this, 'error') === 0) {
      throw er; // Unhandled stream error in pipe.
    }
  }

  source.on('error', onerror);
  dest.on('error', onerror);

  // remove all the event listeners that were added.
  function cleanup() {
    source.removeListener('data', ondata);
    dest.removeListener('drain', ondrain);

    source.removeListener('end', onend);
    source.removeListener('close', onclose);

    source.removeListener('error', onerror);
    dest.removeListener('error', onerror);

    source.removeListener('end', cleanup);
    source.removeListener('close', cleanup);

    dest.removeListener('close', cleanup);
  }

  source.on('end', cleanup);
  source.on('close', cleanup);

  dest.on('close', cleanup);

  dest.emit('pipe', source);

  // Allow for unix-like usage: A.pipe(B).pipe(C)
  return dest;
};


/***/ }),

/***/ 8106:
/***/ ((module) => {

"use strict";


function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var codes = {};

function createErrorType(code, message, Base) {
  if (!Base) {
    Base = Error;
  }

  function getMessage(arg1, arg2, arg3) {
    if (typeof message === 'string') {
      return message;
    } else {
      return message(arg1, arg2, arg3);
    }
  }

  var NodeError =
  /*#__PURE__*/
  function (_Base) {
    _inheritsLoose(NodeError, _Base);

    function NodeError(arg1, arg2, arg3) {
      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;
    }

    return NodeError;
  }(Base);

  NodeError.prototype.name = Base.name;
  NodeError.prototype.code = code;
  codes[code] = NodeError;
} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js


function oneOf(expected, thing) {
  if (Array.isArray(expected)) {
    var len = expected.length;
    expected = expected.map(function (i) {
      return String(i);
    });

    if (len > 2) {
      return "one of ".concat(thing, " ").concat(expected.slice(0, len - 1).join(', '), ", or ") + expected[len - 1];
    } else if (len === 2) {
      return "one of ".concat(thing, " ").concat(expected[0], " or ").concat(expected[1]);
    } else {
      return "of ".concat(thing, " ").concat(expected[0]);
    }
  } else {
    return "of ".concat(thing, " ").concat(String(expected));
  }
} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith


function startsWith(str, search, pos) {
  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith


function endsWith(str, search, this_len) {
  if (this_len === undefined || this_len > str.length) {
    this_len = str.length;
  }

  return str.substring(this_len - search.length, this_len) === search;
} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes


function includes(str, search, start) {
  if (typeof start !== 'number') {
    start = 0;
  }

  if (start + search.length > str.length) {
    return false;
  } else {
    return str.indexOf(search, start) !== -1;
  }
}

createErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {
  return 'The value "' + value + '" is invalid for option "' + name + '"';
}, TypeError);
createErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {
  // determiner: 'must be' or 'must not be'
  var determiner;

  if (typeof expected === 'string' && startsWith(expected, 'not ')) {
    determiner = 'must not be';
    expected = expected.replace(/^not /, '');
  } else {
    determiner = 'must be';
  }

  var msg;

  if (endsWith(name, ' argument')) {
    // For cases like 'first argument'
    msg = "The ".concat(name, " ").concat(determiner, " ").concat(oneOf(expected, 'type'));
  } else {
    var type = includes(name, '.') ? 'property' : 'argument';
    msg = "The \"".concat(name, "\" ").concat(type, " ").concat(determiner, " ").concat(oneOf(expected, 'type'));
  }

  msg += ". Received type ".concat(typeof actual);
  return msg;
}, TypeError);
createErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');
createErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {
  return 'The ' + name + ' method is not implemented';
});
createErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');
createErrorType('ERR_STREAM_DESTROYED', function (name) {
  return 'Cannot call ' + name + ' after a stream was destroyed';
});
createErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');
createErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');
createErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');
createErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);
createErrorType('ERR_UNKNOWN_ENCODING', function (arg) {
  return 'Unknown encoding: ' + arg;
}, TypeError);
createErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');
module.exports.q = codes;


/***/ }),

/***/ 8656:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
// a duplex stream is just a stream that is both readable and writable.
// Since JS doesn't have multiple prototypal inheritance, this class
// prototypally inherits from Readable, and then parasitically from
// Writable.

/*<replacement>*/

var objectKeys = Object.keys || function (obj) {
  var keys = [];

  for (var key in obj) {
    keys.push(key);
  }

  return keys;
};
/*</replacement>*/


module.exports = Duplex;

var Readable = __webpack_require__(6577);

var Writable = __webpack_require__(323);

__webpack_require__(5717)(Duplex, Readable);

{
  // Allow the keys array to be GC'ed.
  var keys = objectKeys(Writable.prototype);

  for (var v = 0; v < keys.length; v++) {
    var method = keys[v];
    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];
  }
}

function Duplex(options) {
  if (!(this instanceof Duplex)) return new Duplex(options);
  Readable.call(this, options);
  Writable.call(this, options);
  this.allowHalfOpen = true;

  if (options) {
    if (options.readable === false) this.readable = false;
    if (options.writable === false) this.writable = false;

    if (options.allowHalfOpen === false) {
      this.allowHalfOpen = false;
      this.once('end', onend);
    }
  }
}

Object.defineProperty(Duplex.prototype, 'writableHighWaterMark', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._writableState.highWaterMark;
  }
});
Object.defineProperty(Duplex.prototype, 'writableBuffer', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._writableState && this._writableState.getBuffer();
  }
});
Object.defineProperty(Duplex.prototype, 'writableLength', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._writableState.length;
  }
}); // the no-half-open enforcer

function onend() {
  // If the writable side ended, then we're ok.
  if (this._writableState.ended) return; // no more data can be written.
  // But allow more writes to happen in this tick.

  process.nextTick(onEndNT, this);
}

function onEndNT(self) {
  self.end();
}

Object.defineProperty(Duplex.prototype, 'destroyed', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    if (this._readableState === undefined || this._writableState === undefined) {
      return false;
    }

    return this._readableState.destroyed && this._writableState.destroyed;
  },
  set: function set(value) {
    // we ignore the value if the stream
    // has not been initialized yet
    if (this._readableState === undefined || this._writableState === undefined) {
      return;
    } // backward compatibility, the user is explicitly
    // managing destroyed


    this._readableState.destroyed = value;
    this._writableState.destroyed = value;
  }
});

/***/ }),

/***/ 2366:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
// a passthrough stream.
// basically just the most minimal sort of Transform stream.
// Every written chunk gets output as-is.


module.exports = PassThrough;

var Transform = __webpack_require__(4473);

__webpack_require__(5717)(PassThrough, Transform);

function PassThrough(options) {
  if (!(this instanceof PassThrough)) return new PassThrough(options);
  Transform.call(this, options);
}

PassThrough.prototype._transform = function (chunk, encoding, cb) {
  cb(null, chunk);
};

/***/ }),

/***/ 6577:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.


module.exports = Readable;
/*<replacement>*/

var Duplex;
/*</replacement>*/

Readable.ReadableState = ReadableState;
/*<replacement>*/

var EE = (__webpack_require__(7187).EventEmitter);

var EElistenerCount = function EElistenerCount(emitter, type) {
  return emitter.listeners(type).length;
};
/*</replacement>*/

/*<replacement>*/


var Stream = __webpack_require__(3194);
/*</replacement>*/


var Buffer = (__webpack_require__(8764).Buffer);

var OurUint8Array = __webpack_require__.g.Uint8Array || function () {};

function _uint8ArrayToBuffer(chunk) {
  return Buffer.from(chunk);
}

function _isUint8Array(obj) {
  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;
}
/*<replacement>*/


var debugUtil = __webpack_require__(964);

var debug;

if (debugUtil && debugUtil.debuglog) {
  debug = debugUtil.debuglog('stream');
} else {
  debug = function debug() {};
}
/*</replacement>*/


var BufferList = __webpack_require__(9686);

var destroyImpl = __webpack_require__(1029);

var _require = __webpack_require__(94),
    getHighWaterMark = _require.getHighWaterMark;

var _require$codes = (__webpack_require__(8106)/* .codes */ .q),
    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,
    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,
    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,
    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.


var StringDecoder;
var createReadableStreamAsyncIterator;
var from;

__webpack_require__(5717)(Readable, Stream);

var errorOrDestroy = destroyImpl.errorOrDestroy;
var kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];

function prependListener(emitter, event, fn) {
  // Sadly this is not cacheable as some libraries bundle their own
  // event emitter implementation with them.
  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any
  // userland ones.  NEVER DO THIS. This is here only because this code needs
  // to continue to work with older versions of Node.js that do not include
  // the prependListener() method. The goal is to eventually remove this hack.

  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];
}

function ReadableState(options, stream, isDuplex) {
  Duplex = Duplex || __webpack_require__(8656);
  options = options || {}; // Duplex streams are both readable and writable, but share
  // the same options object.
  // However, some cases require setting options to different
  // values for the readable and the writable sides of the duplex stream.
  // These options can be provided separately as readableXXX and writableXXX.

  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to
  // make all the buffer merging and length checks go away

  this.objectMode = !!options.objectMode;
  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer
  // Note: 0 is a valid value, means "don't call _read preemptively ever"

  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the
  // linked list can remove elements from the beginning faster than
  // array.shift()

  this.buffer = new BufferList();
  this.length = 0;
  this.pipes = null;
  this.pipesCount = 0;
  this.flowing = null;
  this.ended = false;
  this.endEmitted = false;
  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted
  // immediately, or on a later tick.  We set this to true at first, because
  // any actions that shouldn't happen until "later" should generally also
  // not happen before the first read call.

  this.sync = true; // whenever we return null, then we set a flag to say
  // that we're awaiting a 'readable' event emission.

  this.needReadable = false;
  this.emittedReadable = false;
  this.readableListening = false;
  this.resumeScheduled = false;
  this.paused = true; // Should close be emitted on destroy. Defaults to true.

  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')

  this.autoDestroy = !!options.autoDestroy; // has it been destroyed

  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string
  // encoding is 'binary' so we have to make this configurable.
  // Everything else in the universe uses 'utf8', though.

  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s

  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled

  this.readingMore = false;
  this.decoder = null;
  this.encoding = null;

  if (options.encoding) {
    if (!StringDecoder) StringDecoder = (__webpack_require__(2553)/* .StringDecoder */ .s);
    this.decoder = new StringDecoder(options.encoding);
    this.encoding = options.encoding;
  }
}

function Readable(options) {
  Duplex = Duplex || __webpack_require__(8656);
  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside
  // the ReadableState constructor, at least with V8 6.5

  var isDuplex = this instanceof Duplex;
  this._readableState = new ReadableState(options, this, isDuplex); // legacy

  this.readable = true;

  if (options) {
    if (typeof options.read === 'function') this._read = options.read;
    if (typeof options.destroy === 'function') this._destroy = options.destroy;
  }

  Stream.call(this);
}

Object.defineProperty(Readable.prototype, 'destroyed', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    if (this._readableState === undefined) {
      return false;
    }

    return this._readableState.destroyed;
  },
  set: function set(value) {
    // we ignore the value if the stream
    // has not been initialized yet
    if (!this._readableState) {
      return;
    } // backward compatibility, the user is explicitly
    // managing destroyed


    this._readableState.destroyed = value;
  }
});
Readable.prototype.destroy = destroyImpl.destroy;
Readable.prototype._undestroy = destroyImpl.undestroy;

Readable.prototype._destroy = function (err, cb) {
  cb(err);
}; // Manually shove something into the read() buffer.
// This returns true if the highWaterMark has not been hit yet,
// similar to how Writable.write() returns true if you should
// write() some more.


Readable.prototype.push = function (chunk, encoding) {
  var state = this._readableState;
  var skipChunkCheck;

  if (!state.objectMode) {
    if (typeof chunk === 'string') {
      encoding = encoding || state.defaultEncoding;

      if (encoding !== state.encoding) {
        chunk = Buffer.from(chunk, encoding);
        encoding = '';
      }

      skipChunkCheck = true;
    }
  } else {
    skipChunkCheck = true;
  }

  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);
}; // Unshift should *always* be something directly out of read()


Readable.prototype.unshift = function (chunk) {
  return readableAddChunk(this, chunk, null, true, false);
};

function readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {
  debug('readableAddChunk', chunk);
  var state = stream._readableState;

  if (chunk === null) {
    state.reading = false;
    onEofChunk(stream, state);
  } else {
    var er;
    if (!skipChunkCheck) er = chunkInvalid(state, chunk);

    if (er) {
      errorOrDestroy(stream, er);
    } else if (state.objectMode || chunk && chunk.length > 0) {
      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {
        chunk = _uint8ArrayToBuffer(chunk);
      }

      if (addToFront) {
        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);
      } else if (state.ended) {
        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());
      } else if (state.destroyed) {
        return false;
      } else {
        state.reading = false;

        if (state.decoder && !encoding) {
          chunk = state.decoder.write(chunk);
          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);
        } else {
          addChunk(stream, state, chunk, false);
        }
      }
    } else if (!addToFront) {
      state.reading = false;
      maybeReadMore(stream, state);
    }
  } // We can push more data if we are below the highWaterMark.
  // Also, if we have no data yet, we can stand some more bytes.
  // This is to work around cases where hwm=0, such as the repl.


  return !state.ended && (state.length < state.highWaterMark || state.length === 0);
}

function addChunk(stream, state, chunk, addToFront) {
  if (state.flowing && state.length === 0 && !state.sync) {
    state.awaitDrain = 0;
    stream.emit('data', chunk);
  } else {
    // update the buffer info.
    state.length += state.objectMode ? 1 : chunk.length;
    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);
    if (state.needReadable) emitReadable(stream);
  }

  maybeReadMore(stream, state);
}

function chunkInvalid(state, chunk) {
  var er;

  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {
    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);
  }

  return er;
}

Readable.prototype.isPaused = function () {
  return this._readableState.flowing === false;
}; // backwards compatibility.


Readable.prototype.setEncoding = function (enc) {
  if (!StringDecoder) StringDecoder = (__webpack_require__(2553)/* .StringDecoder */ .s);
  var decoder = new StringDecoder(enc);
  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8

  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:

  var p = this._readableState.buffer.head;
  var content = '';

  while (p !== null) {
    content += decoder.write(p.data);
    p = p.next;
  }

  this._readableState.buffer.clear();

  if (content !== '') this._readableState.buffer.push(content);
  this._readableState.length = content.length;
  return this;
}; // Don't raise the hwm > 1GB


var MAX_HWM = 0x40000000;

function computeNewHighWaterMark(n) {
  if (n >= MAX_HWM) {
    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.
    n = MAX_HWM;
  } else {
    // Get the next highest power of 2 to prevent increasing hwm excessively in
    // tiny amounts
    n--;
    n |= n >>> 1;
    n |= n >>> 2;
    n |= n >>> 4;
    n |= n >>> 8;
    n |= n >>> 16;
    n++;
  }

  return n;
} // This function is designed to be inlinable, so please take care when making
// changes to the function body.


function howMuchToRead(n, state) {
  if (n <= 0 || state.length === 0 && state.ended) return 0;
  if (state.objectMode) return 1;

  if (n !== n) {
    // Only flow one buffer at a time
    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;
  } // If we're asking for more than the current hwm, then raise the hwm.


  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);
  if (n <= state.length) return n; // Don't have enough

  if (!state.ended) {
    state.needReadable = true;
    return 0;
  }

  return state.length;
} // you can override either this method, or the async _read(n) below.


Readable.prototype.read = function (n) {
  debug('read', n);
  n = parseInt(n, 10);
  var state = this._readableState;
  var nOrig = n;
  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we
  // already have a bunch of data in the buffer, then just trigger
  // the 'readable' event and move on.

  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {
    debug('read: emitReadable', state.length, state.ended);
    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);
    return null;
  }

  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.

  if (n === 0 && state.ended) {
    if (state.length === 0) endReadable(this);
    return null;
  } // All the actual chunk generation logic needs to be
  // *below* the call to _read.  The reason is that in certain
  // synthetic stream cases, such as passthrough streams, _read
  // may be a completely synchronous operation which may change
  // the state of the read buffer, providing enough data when
  // before there was *not* enough.
  //
  // So, the steps are:
  // 1. Figure out what the state of things will be after we do
  // a read from the buffer.
  //
  // 2. If that resulting state will trigger a _read, then call _read.
  // Note that this may be asynchronous, or synchronous.  Yes, it is
  // deeply ugly to write APIs this way, but that still doesn't mean
  // that the Readable class should behave improperly, as streams are
  // designed to be sync/async agnostic.
  // Take note if the _read call is sync or async (ie, if the read call
  // has returned yet), so that we know whether or not it's safe to emit
  // 'readable' etc.
  //
  // 3. Actually pull the requested chunks out of the buffer and return.
  // if we need a readable event, then we need to do some reading.


  var doRead = state.needReadable;
  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some

  if (state.length === 0 || state.length - n < state.highWaterMark) {
    doRead = true;
    debug('length less than watermark', doRead);
  } // however, if we've ended, then there's no point, and if we're already
  // reading, then it's unnecessary.


  if (state.ended || state.reading) {
    doRead = false;
    debug('reading or ended', doRead);
  } else if (doRead) {
    debug('do read');
    state.reading = true;
    state.sync = true; // if the length is currently zero, then we *need* a readable event.

    if (state.length === 0) state.needReadable = true; // call internal read method

    this._read(state.highWaterMark);

    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,
    // and we need to re-evaluate how much data we can return to the user.

    if (!state.reading) n = howMuchToRead(nOrig, state);
  }

  var ret;
  if (n > 0) ret = fromList(n, state);else ret = null;

  if (ret === null) {
    state.needReadable = state.length <= state.highWaterMark;
    n = 0;
  } else {
    state.length -= n;
    state.awaitDrain = 0;
  }

  if (state.length === 0) {
    // If we have nothing in the buffer, then we want to know
    // as soon as we *do* get something into the buffer.
    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.

    if (nOrig !== n && state.ended) endReadable(this);
  }

  if (ret !== null) this.emit('data', ret);
  return ret;
};

function onEofChunk(stream, state) {
  debug('onEofChunk');
  if (state.ended) return;

  if (state.decoder) {
    var chunk = state.decoder.end();

    if (chunk && chunk.length) {
      state.buffer.push(chunk);
      state.length += state.objectMode ? 1 : chunk.length;
    }
  }

  state.ended = true;

  if (state.sync) {
    // if we are sync, wait until next tick to emit the data.
    // Otherwise we risk emitting data in the flow()
    // the readable code triggers during a read() call
    emitReadable(stream);
  } else {
    // emit 'readable' now to make sure it gets picked up.
    state.needReadable = false;

    if (!state.emittedReadable) {
      state.emittedReadable = true;
      emitReadable_(stream);
    }
  }
} // Don't emit readable right away in sync mode, because this can trigger
// another read() call => stack overflow.  This way, it might trigger
// a nextTick recursion warning, but that's not so bad.


function emitReadable(stream) {
  var state = stream._readableState;
  debug('emitReadable', state.needReadable, state.emittedReadable);
  state.needReadable = false;

  if (!state.emittedReadable) {
    debug('emitReadable', state.flowing);
    state.emittedReadable = true;
    process.nextTick(emitReadable_, stream);
  }
}

function emitReadable_(stream) {
  var state = stream._readableState;
  debug('emitReadable_', state.destroyed, state.length, state.ended);

  if (!state.destroyed && (state.length || state.ended)) {
    stream.emit('readable');
    state.emittedReadable = false;
  } // The stream needs another readable event if
  // 1. It is not flowing, as the flow mechanism will take
  //    care of it.
  // 2. It is not ended.
  // 3. It is below the highWaterMark, so we can schedule
  //    another readable later.


  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;
  flow(stream);
} // at this point, the user has presumably seen the 'readable' event,
// and called read() to consume some data.  that may have triggered
// in turn another _read(n) call, in which case reading = true if
// it's in progress.
// However, if we're not ended, or reading, and the length < hwm,
// then go ahead and try to read some more preemptively.


function maybeReadMore(stream, state) {
  if (!state.readingMore) {
    state.readingMore = true;
    process.nextTick(maybeReadMore_, stream, state);
  }
}

function maybeReadMore_(stream, state) {
  // Attempt to read more data if we should.
  //
  // The conditions for reading more data are (one of):
  // - Not enough data buffered (state.length < state.highWaterMark). The loop
  //   is responsible for filling the buffer with enough data if such data
  //   is available. If highWaterMark is 0 and we are not in the flowing mode
  //   we should _not_ attempt to buffer any extra data. We'll get more data
  //   when the stream consumer calls read() instead.
  // - No data in the buffer, and the stream is in flowing mode. In this mode
  //   the loop below is responsible for ensuring read() is called. Failing to
  //   call read here would abort the flow and there's no other mechanism for
  //   continuing the flow if the stream consumer has just subscribed to the
  //   'data' event.
  //
  // In addition to the above conditions to keep reading data, the following
  // conditions prevent the data from being read:
  // - The stream has ended (state.ended).
  // - There is already a pending 'read' operation (state.reading). This is a
  //   case where the the stream has called the implementation defined _read()
  //   method, but they are processing the call asynchronously and have _not_
  //   called push() with new data. In this case we skip performing more
  //   read()s. The execution ends in this method again after the _read() ends
  //   up calling push() with more data.
  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {
    var len = state.length;
    debug('maybeReadMore read 0');
    stream.read(0);
    if (len === state.length) // didn't get any data, stop spinning.
      break;
  }

  state.readingMore = false;
} // abstract method.  to be overridden in specific implementation classes.
// call cb(er, data) where data is <= n in length.
// for virtual (non-string, non-buffer) streams, "length" is somewhat
// arbitrary, and perhaps not very meaningful.


Readable.prototype._read = function (n) {
  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));
};

Readable.prototype.pipe = function (dest, pipeOpts) {
  var src = this;
  var state = this._readableState;

  switch (state.pipesCount) {
    case 0:
      state.pipes = dest;
      break;

    case 1:
      state.pipes = [state.pipes, dest];
      break;

    default:
      state.pipes.push(dest);
      break;
  }

  state.pipesCount += 1;
  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);
  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;
  var endFn = doEnd ? onend : unpipe;
  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);
  dest.on('unpipe', onunpipe);

  function onunpipe(readable, unpipeInfo) {
    debug('onunpipe');

    if (readable === src) {
      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {
        unpipeInfo.hasUnpiped = true;
        cleanup();
      }
    }
  }

  function onend() {
    debug('onend');
    dest.end();
  } // when the dest drains, it reduces the awaitDrain counter
  // on the source.  This would be more elegant with a .once()
  // handler in flow(), but adding and removing repeatedly is
  // too slow.


  var ondrain = pipeOnDrain(src);
  dest.on('drain', ondrain);
  var cleanedUp = false;

  function cleanup() {
    debug('cleanup'); // cleanup event handlers once the pipe is broken

    dest.removeListener('close', onclose);
    dest.removeListener('finish', onfinish);
    dest.removeListener('drain', ondrain);
    dest.removeListener('error', onerror);
    dest.removeListener('unpipe', onunpipe);
    src.removeListener('end', onend);
    src.removeListener('end', unpipe);
    src.removeListener('data', ondata);
    cleanedUp = true; // if the reader is waiting for a drain event from this
    // specific writer, then it would cause it to never start
    // flowing again.
    // So, if this is awaiting a drain, then we just call it now.
    // If we don't know, then assume that we are waiting for one.

    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();
  }

  src.on('data', ondata);

  function ondata(chunk) {
    debug('ondata');
    var ret = dest.write(chunk);
    debug('dest.write', ret);

    if (ret === false) {
      // If the user unpiped during `dest.write()`, it is possible
      // to get stuck in a permanently paused state if that write
      // also returned false.
      // => Check whether `dest` is still a piping destination.
      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {
        debug('false write response, pause', state.awaitDrain);
        state.awaitDrain++;
      }

      src.pause();
    }
  } // if the dest has an error, then stop piping into it.
  // however, don't suppress the throwing behavior for this.


  function onerror(er) {
    debug('onerror', er);
    unpipe();
    dest.removeListener('error', onerror);
    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);
  } // Make sure our error handler is attached before userland ones.


  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.

  function onclose() {
    dest.removeListener('finish', onfinish);
    unpipe();
  }

  dest.once('close', onclose);

  function onfinish() {
    debug('onfinish');
    dest.removeListener('close', onclose);
    unpipe();
  }

  dest.once('finish', onfinish);

  function unpipe() {
    debug('unpipe');
    src.unpipe(dest);
  } // tell the dest that it's being piped to


  dest.emit('pipe', src); // start the flow if it hasn't been started already.

  if (!state.flowing) {
    debug('pipe resume');
    src.resume();
  }

  return dest;
};

function pipeOnDrain(src) {
  return function pipeOnDrainFunctionResult() {
    var state = src._readableState;
    debug('pipeOnDrain', state.awaitDrain);
    if (state.awaitDrain) state.awaitDrain--;

    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {
      state.flowing = true;
      flow(src);
    }
  };
}

Readable.prototype.unpipe = function (dest) {
  var state = this._readableState;
  var unpipeInfo = {
    hasUnpiped: false
  }; // if we're not piping anywhere, then do nothing.

  if (state.pipesCount === 0) return this; // just one destination.  most common case.

  if (state.pipesCount === 1) {
    // passed in one, but it's not the right one.
    if (dest && dest !== state.pipes) return this;
    if (!dest) dest = state.pipes; // got a match.

    state.pipes = null;
    state.pipesCount = 0;
    state.flowing = false;
    if (dest) dest.emit('unpipe', this, unpipeInfo);
    return this;
  } // slow case. multiple pipe destinations.


  if (!dest) {
    // remove all.
    var dests = state.pipes;
    var len = state.pipesCount;
    state.pipes = null;
    state.pipesCount = 0;
    state.flowing = false;

    for (var i = 0; i < len; i++) {
      dests[i].emit('unpipe', this, {
        hasUnpiped: false
      });
    }

    return this;
  } // try to find the right one.


  var index = indexOf(state.pipes, dest);
  if (index === -1) return this;
  state.pipes.splice(index, 1);
  state.pipesCount -= 1;
  if (state.pipesCount === 1) state.pipes = state.pipes[0];
  dest.emit('unpipe', this, unpipeInfo);
  return this;
}; // set up data events if they are asked for
// Ensure readable listeners eventually get something


Readable.prototype.on = function (ev, fn) {
  var res = Stream.prototype.on.call(this, ev, fn);
  var state = this._readableState;

  if (ev === 'data') {
    // update readableListening so that resume() may be a no-op
    // a few lines down. This is needed to support once('readable').
    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused

    if (state.flowing !== false) this.resume();
  } else if (ev === 'readable') {
    if (!state.endEmitted && !state.readableListening) {
      state.readableListening = state.needReadable = true;
      state.flowing = false;
      state.emittedReadable = false;
      debug('on readable', state.length, state.reading);

      if (state.length) {
        emitReadable(this);
      } else if (!state.reading) {
        process.nextTick(nReadingNextTick, this);
      }
    }
  }

  return res;
};

Readable.prototype.addListener = Readable.prototype.on;

Readable.prototype.removeListener = function (ev, fn) {
  var res = Stream.prototype.removeListener.call(this, ev, fn);

  if (ev === 'readable') {
    // We need to check if there is someone still listening to
    // readable and reset the state. However this needs to happen
    // after readable has been emitted but before I/O (nextTick) to
    // support once('readable', fn) cycles. This means that calling
    // resume within the same tick will have no
    // effect.
    process.nextTick(updateReadableListening, this);
  }

  return res;
};

Readable.prototype.removeAllListeners = function (ev) {
  var res = Stream.prototype.removeAllListeners.apply(this, arguments);

  if (ev === 'readable' || ev === undefined) {
    // We need to check if there is someone still listening to
    // readable and reset the state. However this needs to happen
    // after readable has been emitted but before I/O (nextTick) to
    // support once('readable', fn) cycles. This means that calling
    // resume within the same tick will have no
    // effect.
    process.nextTick(updateReadableListening, this);
  }

  return res;
};

function updateReadableListening(self) {
  var state = self._readableState;
  state.readableListening = self.listenerCount('readable') > 0;

  if (state.resumeScheduled && !state.paused) {
    // flowing needs to be set to true now, otherwise
    // the upcoming resume will not flow.
    state.flowing = true; // crude way to check if we should resume
  } else if (self.listenerCount('data') > 0) {
    self.resume();
  }
}

function nReadingNextTick(self) {
  debug('readable nexttick read 0');
  self.read(0);
} // pause() and resume() are remnants of the legacy readable stream API
// If the user uses them, then switch into old mode.


Readable.prototype.resume = function () {
  var state = this._readableState;

  if (!state.flowing) {
    debug('resume'); // we flow only if there is no one listening
    // for readable, but we still have to call
    // resume()

    state.flowing = !state.readableListening;
    resume(this, state);
  }

  state.paused = false;
  return this;
};

function resume(stream, state) {
  if (!state.resumeScheduled) {
    state.resumeScheduled = true;
    process.nextTick(resume_, stream, state);
  }
}

function resume_(stream, state) {
  debug('resume', state.reading);

  if (!state.reading) {
    stream.read(0);
  }

  state.resumeScheduled = false;
  stream.emit('resume');
  flow(stream);
  if (state.flowing && !state.reading) stream.read(0);
}

Readable.prototype.pause = function () {
  debug('call pause flowing=%j', this._readableState.flowing);

  if (this._readableState.flowing !== false) {
    debug('pause');
    this._readableState.flowing = false;
    this.emit('pause');
  }

  this._readableState.paused = true;
  return this;
};

function flow(stream) {
  var state = stream._readableState;
  debug('flow', state.flowing);

  while (state.flowing && stream.read() !== null) {
    ;
  }
} // wrap an old-style stream as the async data source.
// This is *not* part of the readable stream interface.
// It is an ugly unfortunate mess of history.


Readable.prototype.wrap = function (stream) {
  var _this = this;

  var state = this._readableState;
  var paused = false;
  stream.on('end', function () {
    debug('wrapped end');

    if (state.decoder && !state.ended) {
      var chunk = state.decoder.end();
      if (chunk && chunk.length) _this.push(chunk);
    }

    _this.push(null);
  });
  stream.on('data', function (chunk) {
    debug('wrapped data');
    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode

    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;

    var ret = _this.push(chunk);

    if (!ret) {
      paused = true;
      stream.pause();
    }
  }); // proxy all the other methods.
  // important when wrapping filters and duplexes.

  for (var i in stream) {
    if (this[i] === undefined && typeof stream[i] === 'function') {
      this[i] = function methodWrap(method) {
        return function methodWrapReturnFunction() {
          return stream[method].apply(stream, arguments);
        };
      }(i);
    }
  } // proxy certain important events.


  for (var n = 0; n < kProxyEvents.length; n++) {
    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));
  } // when we try to consume some more bytes, simply unpause the
  // underlying stream.


  this._read = function (n) {
    debug('wrapped _read', n);

    if (paused) {
      paused = false;
      stream.resume();
    }
  };

  return this;
};

if (typeof Symbol === 'function') {
  Readable.prototype[Symbol.asyncIterator] = function () {
    if (createReadableStreamAsyncIterator === undefined) {
      createReadableStreamAsyncIterator = __webpack_require__(828);
    }

    return createReadableStreamAsyncIterator(this);
  };
}

Object.defineProperty(Readable.prototype, 'readableHighWaterMark', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._readableState.highWaterMark;
  }
});
Object.defineProperty(Readable.prototype, 'readableBuffer', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._readableState && this._readableState.buffer;
  }
});
Object.defineProperty(Readable.prototype, 'readableFlowing', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._readableState.flowing;
  },
  set: function set(state) {
    if (this._readableState) {
      this._readableState.flowing = state;
    }
  }
}); // exposed for testing purposes only.

Readable._fromList = fromList;
Object.defineProperty(Readable.prototype, 'readableLength', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._readableState.length;
  }
}); // Pluck off n bytes from an array of buffers.
// Length is the combined lengths of all the buffers in the list.
// This function is designed to be inlinable, so please take care when making
// changes to the function body.

function fromList(n, state) {
  // nothing buffered
  if (state.length === 0) return null;
  var ret;
  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {
    // read it all, truncate the list
    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);
    state.buffer.clear();
  } else {
    // read part of list
    ret = state.buffer.consume(n, state.decoder);
  }
  return ret;
}

function endReadable(stream) {
  var state = stream._readableState;
  debug('endReadable', state.endEmitted);

  if (!state.endEmitted) {
    state.ended = true;
    process.nextTick(endReadableNT, state, stream);
  }
}

function endReadableNT(state, stream) {
  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.

  if (!state.endEmitted && state.length === 0) {
    state.endEmitted = true;
    stream.readable = false;
    stream.emit('end');

    if (state.autoDestroy) {
      // In case of duplex streams we need a way to detect
      // if the writable side is ready for autoDestroy as well
      var wState = stream._writableState;

      if (!wState || wState.autoDestroy && wState.finished) {
        stream.destroy();
      }
    }
  }
}

if (typeof Symbol === 'function') {
  Readable.from = function (iterable, opts) {
    if (from === undefined) {
      from = __webpack_require__(1265);
    }

    return from(Readable, iterable, opts);
  };
}

function indexOf(xs, x) {
  for (var i = 0, l = xs.length; i < l; i++) {
    if (xs[i] === x) return i;
  }

  return -1;
}

/***/ }),

/***/ 4473:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
// a transform stream is a readable/writable stream where you do
// something with the data.  Sometimes it's called a "filter",
// but that's not a great name for it, since that implies a thing where
// some bits pass through, and others are simply ignored.  (That would
// be a valid example of a transform, of course.)
//
// While the output is causally related to the input, it's not a
// necessarily symmetric or synchronous transformation.  For example,
// a zlib stream might take multiple plain-text writes(), and then
// emit a single compressed chunk some time in the future.
//
// Here's how this works:
//
// The Transform stream has all the aspects of the readable and writable
// stream classes.  When you write(chunk), that calls _write(chunk,cb)
// internally, and returns false if there's a lot of pending writes
// buffered up.  When you call read(), that calls _read(n) until
// there's enough pending readable data buffered up.
//
// In a transform stream, the written data is placed in a buffer.  When
// _read(n) is called, it transforms the queued up data, calling the
// buffered _write cb's as it consumes chunks.  If consuming a single
// written chunk would result in multiple output chunks, then the first
// outputted bit calls the readcb, and subsequent chunks just go into
// the read buffer, and will cause it to emit 'readable' if necessary.
//
// This way, back-pressure is actually determined by the reading side,
// since _read has to be called to start processing a new chunk.  However,
// a pathological inflate type of transform can cause excessive buffering
// here.  For example, imagine a stream where every byte of input is
// interpreted as an integer from 0-255, and then results in that many
// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in
// 1kb of data being output.  In this case, you could write a very small
// amount of input, and end up with a very large amount of output.  In
// such a pathological inflating mechanism, there'd be no way to tell
// the system to stop doing the transform.  A single 4MB write could
// cause the system to run out of memory.
//
// However, even in such a pathological case, only a single written chunk
// would be consumed, and then the rest would wait (un-transformed) until
// the results of the previous transformed chunk were consumed.


module.exports = Transform;

var _require$codes = (__webpack_require__(8106)/* .codes */ .q),
    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,
    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,
    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,
    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;

var Duplex = __webpack_require__(8656);

__webpack_require__(5717)(Transform, Duplex);

function afterTransform(er, data) {
  var ts = this._transformState;
  ts.transforming = false;
  var cb = ts.writecb;

  if (cb === null) {
    return this.emit('error', new ERR_MULTIPLE_CALLBACK());
  }

  ts.writechunk = null;
  ts.writecb = null;
  if (data != null) // single equals check for both `null` and `undefined`
    this.push(data);
  cb(er);
  var rs = this._readableState;
  rs.reading = false;

  if (rs.needReadable || rs.length < rs.highWaterMark) {
    this._read(rs.highWaterMark);
  }
}

function Transform(options) {
  if (!(this instanceof Transform)) return new Transform(options);
  Duplex.call(this, options);
  this._transformState = {
    afterTransform: afterTransform.bind(this),
    needTransform: false,
    transforming: false,
    writecb: null,
    writechunk: null,
    writeencoding: null
  }; // start out asking for a readable event once data is transformed.

  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.

  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === 'function') this._transform = options.transform;
    if (typeof options.flush === 'function') this._flush = options.flush;
  } // When the writable side finishes, then flush out anything remaining.


  this.on('prefinish', prefinish);
}

function prefinish() {
  var _this = this;

  if (typeof this._flush === 'function' && !this._readableState.destroyed) {
    this._flush(function (er, data) {
      done(_this, er, data);
    });
  } else {
    done(this, null, null);
  }
}

Transform.prototype.push = function (chunk, encoding) {
  this._transformState.needTransform = false;
  return Duplex.prototype.push.call(this, chunk, encoding);
}; // This is the part where you do stuff!
// override this function in implementation classes.
// 'chunk' is an input chunk.
//
// Call `push(newChunk)` to pass along transformed output
// to the readable side.  You may call 'push' zero or more times.
//
// Call `cb(err)` when you are done with this chunk.  If you pass
// an error, then that'll put the hurt on the whole operation.  If you
// never call cb(), then you'll never get another chunk.


Transform.prototype._transform = function (chunk, encoding, cb) {
  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));
};

Transform.prototype._write = function (chunk, encoding, cb) {
  var ts = this._transformState;
  ts.writecb = cb;
  ts.writechunk = chunk;
  ts.writeencoding = encoding;

  if (!ts.transforming) {
    var rs = this._readableState;
    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);
  }
}; // Doesn't matter what the args are here.
// _transform does all the work.
// That we got here means that the readable side wants more data.


Transform.prototype._read = function (n) {
  var ts = this._transformState;

  if (ts.writechunk !== null && !ts.transforming) {
    ts.transforming = true;

    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
  } else {
    // mark that we need a transform, so that any data that comes in
    // will get processed, now that we've asked for it.
    ts.needTransform = true;
  }
};

Transform.prototype._destroy = function (err, cb) {
  Duplex.prototype._destroy.call(this, err, function (err2) {
    cb(err2);
  });
};

function done(stream, er, data) {
  if (er) return stream.emit('error', er);
  if (data != null) // single equals check for both `null` and `undefined`
    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases
  // if there's nothing in the write buffer, then that means
  // that nothing more will ever be provided

  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();
  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();
  return stream.push(null);
}

/***/ }),

/***/ 323:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
// A bit simpler than readable streams.
// Implement an async ._write(chunk, encoding, cb), and it'll handle all
// the drain event emission and buffering.


module.exports = Writable;
/* <replacement> */

function WriteReq(chunk, encoding, cb) {
  this.chunk = chunk;
  this.encoding = encoding;
  this.callback = cb;
  this.next = null;
} // It seems a linked list but it is not
// there will be only 2 of these for each stream


function CorkedRequest(state) {
  var _this = this;

  this.next = null;
  this.entry = null;

  this.finish = function () {
    onCorkedFinish(_this, state);
  };
}
/* </replacement> */

/*<replacement>*/


var Duplex;
/*</replacement>*/

Writable.WritableState = WritableState;
/*<replacement>*/

var internalUtil = {
  deprecate: __webpack_require__(4927)
};
/*</replacement>*/

/*<replacement>*/

var Stream = __webpack_require__(3194);
/*</replacement>*/


var Buffer = (__webpack_require__(8764).Buffer);

var OurUint8Array = __webpack_require__.g.Uint8Array || function () {};

function _uint8ArrayToBuffer(chunk) {
  return Buffer.from(chunk);
}

function _isUint8Array(obj) {
  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;
}

var destroyImpl = __webpack_require__(1029);

var _require = __webpack_require__(94),
    getHighWaterMark = _require.getHighWaterMark;

var _require$codes = (__webpack_require__(8106)/* .codes */ .q),
    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,
    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,
    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,
    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,
    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,
    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,
    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,
    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;

var errorOrDestroy = destroyImpl.errorOrDestroy;

__webpack_require__(5717)(Writable, Stream);

function nop() {}

function WritableState(options, stream, isDuplex) {
  Duplex = Duplex || __webpack_require__(8656);
  options = options || {}; // Duplex streams are both readable and writable, but share
  // the same options object.
  // However, some cases require setting options to different
  // values for the readable and the writable sides of the duplex stream,
  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.

  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream
  // contains buffers or objects.

  this.objectMode = !!options.objectMode;
  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false
  // Note: 0 is a valid value, means that we always return false if
  // the entire buffer is not flushed immediately on write()

  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called

  this.finalCalled = false; // drain event flag.

  this.needDrain = false; // at the start of calling end()

  this.ending = false; // when end() has been called, and returned

  this.ended = false; // when 'finish' is emitted

  this.finished = false; // has it been destroyed

  this.destroyed = false; // should we decode strings into buffers before passing to _write?
  // this is here so that some node-core streams can optimize string
  // handling at a lower level.

  var noDecode = options.decodeStrings === false;
  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string
  // encoding is 'binary' so we have to make this configurable.
  // Everything else in the universe uses 'utf8', though.

  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement
  // of how much we're waiting to get pushed to some underlying
  // socket or file.

  this.length = 0; // a flag to see when we're in the middle of a write.

  this.writing = false; // when true all writes will be buffered until .uncork() call

  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,
  // or on a later tick.  We set this to true at first, because any
  // actions that shouldn't happen until "later" should generally also
  // not happen before the first write call.

  this.sync = true; // a flag to know if we're processing previously buffered items, which
  // may call the _write() callback in the same tick, so that we don't
  // end up in an overlapped onwrite situation.

  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)

  this.onwrite = function (er) {
    onwrite(stream, er);
  }; // the callback that the user supplies to write(chunk,encoding,cb)


  this.writecb = null; // the amount that is being written when _write is called.

  this.writelen = 0;
  this.bufferedRequest = null;
  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks
  // this must be 0 before 'finish' can be emitted

  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs
  // This is relevant for synchronous Transform streams

  this.prefinished = false; // True if the error was already emitted and should not be thrown again

  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.

  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')

  this.autoDestroy = !!options.autoDestroy; // count buffered requests

  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always
  // one allocated and free to use, and we maintain at most two

  this.corkedRequestsFree = new CorkedRequest(this);
}

WritableState.prototype.getBuffer = function getBuffer() {
  var current = this.bufferedRequest;
  var out = [];

  while (current) {
    out.push(current);
    current = current.next;
  }

  return out;
};

(function () {
  try {
    Object.defineProperty(WritableState.prototype, 'buffer', {
      get: internalUtil.deprecate(function writableStateBufferGetter() {
        return this.getBuffer();
      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')
    });
  } catch (_) {}
})(); // Test _writableState for inheritance to account for Duplex streams,
// whose prototype chain only points to Readable.


var realHasInstance;

if (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {
  realHasInstance = Function.prototype[Symbol.hasInstance];
  Object.defineProperty(Writable, Symbol.hasInstance, {
    value: function value(object) {
      if (realHasInstance.call(this, object)) return true;
      if (this !== Writable) return false;
      return object && object._writableState instanceof WritableState;
    }
  });
} else {
  realHasInstance = function realHasInstance(object) {
    return object instanceof this;
  };
}

function Writable(options) {
  Duplex = Duplex || __webpack_require__(8656); // Writable ctor is applied to Duplexes, too.
  // `realHasInstance` is necessary because using plain `instanceof`
  // would return false, as no `_writableState` property is attached.
  // Trying to use the custom `instanceof` for Writable here will also break the
  // Node.js LazyTransform implementation, which has a non-trivial getter for
  // `_writableState` that would lead to infinite recursion.
  // Checking for a Stream.Duplex instance is faster here instead of inside
  // the WritableState constructor, at least with V8 6.5

  var isDuplex = this instanceof Duplex;
  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);
  this._writableState = new WritableState(options, this, isDuplex); // legacy.

  this.writable = true;

  if (options) {
    if (typeof options.write === 'function') this._write = options.write;
    if (typeof options.writev === 'function') this._writev = options.writev;
    if (typeof options.destroy === 'function') this._destroy = options.destroy;
    if (typeof options.final === 'function') this._final = options.final;
  }

  Stream.call(this);
} // Otherwise people can pipe Writable streams, which is just wrong.


Writable.prototype.pipe = function () {
  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());
};

function writeAfterEnd(stream, cb) {
  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb

  errorOrDestroy(stream, er);
  process.nextTick(cb, er);
} // Checks that a user-supplied chunk is valid, especially for the particular
// mode the stream is in. Currently this means that `null` is never accepted
// and undefined/non-string values are only allowed in object mode.


function validChunk(stream, state, chunk, cb) {
  var er;

  if (chunk === null) {
    er = new ERR_STREAM_NULL_VALUES();
  } else if (typeof chunk !== 'string' && !state.objectMode) {
    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);
  }

  if (er) {
    errorOrDestroy(stream, er);
    process.nextTick(cb, er);
    return false;
  }

  return true;
}

Writable.prototype.write = function (chunk, encoding, cb) {
  var state = this._writableState;
  var ret = false;

  var isBuf = !state.objectMode && _isUint8Array(chunk);

  if (isBuf && !Buffer.isBuffer(chunk)) {
    chunk = _uint8ArrayToBuffer(chunk);
  }

  if (typeof encoding === 'function') {
    cb = encoding;
    encoding = null;
  }

  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;
  if (typeof cb !== 'function') cb = nop;
  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {
    state.pendingcb++;
    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);
  }
  return ret;
};

Writable.prototype.cork = function () {
  this._writableState.corked++;
};

Writable.prototype.uncork = function () {
  var state = this._writableState;

  if (state.corked) {
    state.corked--;
    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);
  }
};

Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
  // node::ParseEncoding() requires lower case.
  if (typeof encoding === 'string') encoding = encoding.toLowerCase();
  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);
  this._writableState.defaultEncoding = encoding;
  return this;
};

Object.defineProperty(Writable.prototype, 'writableBuffer', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._writableState && this._writableState.getBuffer();
  }
});

function decodeChunk(state, chunk, encoding) {
  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {
    chunk = Buffer.from(chunk, encoding);
  }

  return chunk;
}

Object.defineProperty(Writable.prototype, 'writableHighWaterMark', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._writableState.highWaterMark;
  }
}); // if we're already writing something, then just put this
// in the queue, and wait our turn.  Otherwise, call _write
// If we return false, then we need a drain event, so set that flag.

function writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {
  if (!isBuf) {
    var newChunk = decodeChunk(state, chunk, encoding);

    if (chunk !== newChunk) {
      isBuf = true;
      encoding = 'buffer';
      chunk = newChunk;
    }
  }

  var len = state.objectMode ? 1 : chunk.length;
  state.length += len;
  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.

  if (!ret) state.needDrain = true;

  if (state.writing || state.corked) {
    var last = state.lastBufferedRequest;
    state.lastBufferedRequest = {
      chunk: chunk,
      encoding: encoding,
      isBuf: isBuf,
      callback: cb,
      next: null
    };

    if (last) {
      last.next = state.lastBufferedRequest;
    } else {
      state.bufferedRequest = state.lastBufferedRequest;
    }

    state.bufferedRequestCount += 1;
  } else {
    doWrite(stream, state, false, len, chunk, encoding, cb);
  }

  return ret;
}

function doWrite(stream, state, writev, len, chunk, encoding, cb) {
  state.writelen = len;
  state.writecb = cb;
  state.writing = true;
  state.sync = true;
  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);
  state.sync = false;
}

function onwriteError(stream, state, sync, er, cb) {
  --state.pendingcb;

  if (sync) {
    // defer the callback if we are being called synchronously
    // to avoid piling up things on the stack
    process.nextTick(cb, er); // this can emit finish, and it will always happen
    // after error

    process.nextTick(finishMaybe, stream, state);
    stream._writableState.errorEmitted = true;
    errorOrDestroy(stream, er);
  } else {
    // the caller expect this to happen before if
    // it is async
    cb(er);
    stream._writableState.errorEmitted = true;
    errorOrDestroy(stream, er); // this can emit finish, but finish must
    // always follow error

    finishMaybe(stream, state);
  }
}

function onwriteStateUpdate(state) {
  state.writing = false;
  state.writecb = null;
  state.length -= state.writelen;
  state.writelen = 0;
}

function onwrite(stream, er) {
  var state = stream._writableState;
  var sync = state.sync;
  var cb = state.writecb;
  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();
  onwriteStateUpdate(state);
  if (er) onwriteError(stream, state, sync, er, cb);else {
    // Check if we're actually ready to finish, but don't emit yet
    var finished = needFinish(state) || stream.destroyed;

    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {
      clearBuffer(stream, state);
    }

    if (sync) {
      process.nextTick(afterWrite, stream, state, finished, cb);
    } else {
      afterWrite(stream, state, finished, cb);
    }
  }
}

function afterWrite(stream, state, finished, cb) {
  if (!finished) onwriteDrain(stream, state);
  state.pendingcb--;
  cb();
  finishMaybe(stream, state);
} // Must force callback to be called on nextTick, so that we don't
// emit 'drain' before the write() consumer gets the 'false' return
// value, and has a chance to attach a 'drain' listener.


function onwriteDrain(stream, state) {
  if (state.length === 0 && state.needDrain) {
    state.needDrain = false;
    stream.emit('drain');
  }
} // if there's something in the buffer waiting, then process it


function clearBuffer(stream, state) {
  state.bufferProcessing = true;
  var entry = state.bufferedRequest;

  if (stream._writev && entry && entry.next) {
    // Fast case, write everything using _writev()
    var l = state.bufferedRequestCount;
    var buffer = new Array(l);
    var holder = state.corkedRequestsFree;
    holder.entry = entry;
    var count = 0;
    var allBuffers = true;

    while (entry) {
      buffer[count] = entry;
      if (!entry.isBuf) allBuffers = false;
      entry = entry.next;
      count += 1;
    }

    buffer.allBuffers = allBuffers;
    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time
    // as the hot path ends with doWrite

    state.pendingcb++;
    state.lastBufferedRequest = null;

    if (holder.next) {
      state.corkedRequestsFree = holder.next;
      holder.next = null;
    } else {
      state.corkedRequestsFree = new CorkedRequest(state);
    }

    state.bufferedRequestCount = 0;
  } else {
    // Slow case, write chunks one-by-one
    while (entry) {
      var chunk = entry.chunk;
      var encoding = entry.encoding;
      var cb = entry.callback;
      var len = state.objectMode ? 1 : chunk.length;
      doWrite(stream, state, false, len, chunk, encoding, cb);
      entry = entry.next;
      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then
      // it means that we need to wait until it does.
      // also, that means that the chunk and cb are currently
      // being processed, so move the buffer counter past them.

      if (state.writing) {
        break;
      }
    }

    if (entry === null) state.lastBufferedRequest = null;
  }

  state.bufferedRequest = entry;
  state.bufferProcessing = false;
}

Writable.prototype._write = function (chunk, encoding, cb) {
  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));
};

Writable.prototype._writev = null;

Writable.prototype.end = function (chunk, encoding, cb) {
  var state = this._writableState;

  if (typeof chunk === 'function') {
    cb = chunk;
    chunk = null;
    encoding = null;
  } else if (typeof encoding === 'function') {
    cb = encoding;
    encoding = null;
  }

  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks

  if (state.corked) {
    state.corked = 1;
    this.uncork();
  } // ignore unnecessary end() calls.


  if (!state.ending) endWritable(this, state, cb);
  return this;
};

Object.defineProperty(Writable.prototype, 'writableLength', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    return this._writableState.length;
  }
});

function needFinish(state) {
  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;
}

function callFinal(stream, state) {
  stream._final(function (err) {
    state.pendingcb--;

    if (err) {
      errorOrDestroy(stream, err);
    }

    state.prefinished = true;
    stream.emit('prefinish');
    finishMaybe(stream, state);
  });
}

function prefinish(stream, state) {
  if (!state.prefinished && !state.finalCalled) {
    if (typeof stream._final === 'function' && !state.destroyed) {
      state.pendingcb++;
      state.finalCalled = true;
      process.nextTick(callFinal, stream, state);
    } else {
      state.prefinished = true;
      stream.emit('prefinish');
    }
  }
}

function finishMaybe(stream, state) {
  var need = needFinish(state);

  if (need) {
    prefinish(stream, state);

    if (state.pendingcb === 0) {
      state.finished = true;
      stream.emit('finish');

      if (state.autoDestroy) {
        // In case of duplex streams we need a way to detect
        // if the readable side is ready for autoDestroy as well
        var rState = stream._readableState;

        if (!rState || rState.autoDestroy && rState.endEmitted) {
          stream.destroy();
        }
      }
    }
  }

  return need;
}

function endWritable(stream, state, cb) {
  state.ending = true;
  finishMaybe(stream, state);

  if (cb) {
    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);
  }

  state.ended = true;
  stream.writable = false;
}

function onCorkedFinish(corkReq, state, err) {
  var entry = corkReq.entry;
  corkReq.entry = null;

  while (entry) {
    var cb = entry.callback;
    state.pendingcb--;
    cb(err);
    entry = entry.next;
  } // reuse the free corkReq.


  state.corkedRequestsFree.next = corkReq;
}

Object.defineProperty(Writable.prototype, 'destroyed', {
  // making it explicit this property is not enumerable
  // because otherwise some prototype manipulation in
  // userland will fail
  enumerable: false,
  get: function get() {
    if (this._writableState === undefined) {
      return false;
    }

    return this._writableState.destroyed;
  },
  set: function set(value) {
    // we ignore the value if the stream
    // has not been initialized yet
    if (!this._writableState) {
      return;
    } // backward compatibility, the user is explicitly
    // managing destroyed


    this._writableState.destroyed = value;
  }
});
Writable.prototype.destroy = destroyImpl.destroy;
Writable.prototype._undestroy = destroyImpl.undestroy;

Writable.prototype._destroy = function (err, cb) {
  cb(err);
};

/***/ }),

/***/ 828:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var _Object$setPrototypeO;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var finished = __webpack_require__(1086);

var kLastResolve = Symbol('lastResolve');
var kLastReject = Symbol('lastReject');
var kError = Symbol('error');
var kEnded = Symbol('ended');
var kLastPromise = Symbol('lastPromise');
var kHandlePromise = Symbol('handlePromise');
var kStream = Symbol('stream');

function createIterResult(value, done) {
  return {
    value: value,
    done: done
  };
}

function readAndResolve(iter) {
  var resolve = iter[kLastResolve];

  if (resolve !== null) {
    var data = iter[kStream].read(); // we defer if data is null
    // we can be expecting either 'end' or
    // 'error'

    if (data !== null) {
      iter[kLastPromise] = null;
      iter[kLastResolve] = null;
      iter[kLastReject] = null;
      resolve(createIterResult(data, false));
    }
  }
}

function onReadable(iter) {
  // we wait for the next tick, because it might
  // emit an error with process.nextTick
  process.nextTick(readAndResolve, iter);
}

function wrapForNext(lastPromise, iter) {
  return function (resolve, reject) {
    lastPromise.then(function () {
      if (iter[kEnded]) {
        resolve(createIterResult(undefined, true));
        return;
      }

      iter[kHandlePromise](resolve, reject);
    }, reject);
  };
}

var AsyncIteratorPrototype = Object.getPrototypeOf(function () {});
var ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {
  get stream() {
    return this[kStream];
  },

  next: function next() {
    var _this = this;

    // if we have detected an error in the meanwhile
    // reject straight away
    var error = this[kError];

    if (error !== null) {
      return Promise.reject(error);
    }

    if (this[kEnded]) {
      return Promise.resolve(createIterResult(undefined, true));
    }

    if (this[kStream].destroyed) {
      // We need to defer via nextTick because if .destroy(err) is
      // called, the error will be emitted via nextTick, and
      // we cannot guarantee that there is no error lingering around
      // waiting to be emitted.
      return new Promise(function (resolve, reject) {
        process.nextTick(function () {
          if (_this[kError]) {
            reject(_this[kError]);
          } else {
            resolve(createIterResult(undefined, true));
          }
        });
      });
    } // if we have multiple next() calls
    // we will wait for the previous Promise to finish
    // this logic is optimized to support for await loops,
    // where next() is only called once at a time


    var lastPromise = this[kLastPromise];
    var promise;

    if (lastPromise) {
      promise = new Promise(wrapForNext(lastPromise, this));
    } else {
      // fast path needed to support multiple this.push()
      // without triggering the next() queue
      var data = this[kStream].read();

      if (data !== null) {
        return Promise.resolve(createIterResult(data, false));
      }

      promise = new Promise(this[kHandlePromise]);
    }

    this[kLastPromise] = promise;
    return promise;
  }
}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {
  return this;
}), _defineProperty(_Object$setPrototypeO, "return", function _return() {
  var _this2 = this;

  // destroy(err, cb) is a private API
  // we can guarantee we have that here, because we control the
  // Readable class this is attached to
  return new Promise(function (resolve, reject) {
    _this2[kStream].destroy(null, function (err) {
      if (err) {
        reject(err);
        return;
      }

      resolve(createIterResult(undefined, true));
    });
  });
}), _Object$setPrototypeO), AsyncIteratorPrototype);

var createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {
  var _Object$create;

  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {
    value: stream,
    writable: true
  }), _defineProperty(_Object$create, kLastResolve, {
    value: null,
    writable: true
  }), _defineProperty(_Object$create, kLastReject, {
    value: null,
    writable: true
  }), _defineProperty(_Object$create, kError, {
    value: null,
    writable: true
  }), _defineProperty(_Object$create, kEnded, {
    value: stream._readableState.endEmitted,
    writable: true
  }), _defineProperty(_Object$create, kHandlePromise, {
    value: function value(resolve, reject) {
      var data = iterator[kStream].read();

      if (data) {
        iterator[kLastPromise] = null;
        iterator[kLastResolve] = null;
        iterator[kLastReject] = null;
        resolve(createIterResult(data, false));
      } else {
        iterator[kLastResolve] = resolve;
        iterator[kLastReject] = reject;
      }
    },
    writable: true
  }), _Object$create));
  iterator[kLastPromise] = null;
  finished(stream, function (err) {
    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {
      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise
      // returned by next() and store the error

      if (reject !== null) {
        iterator[kLastPromise] = null;
        iterator[kLastResolve] = null;
        iterator[kLastReject] = null;
        reject(err);
      }

      iterator[kError] = err;
      return;
    }

    var resolve = iterator[kLastResolve];

    if (resolve !== null) {
      iterator[kLastPromise] = null;
      iterator[kLastResolve] = null;
      iterator[kLastReject] = null;
      resolve(createIterResult(undefined, true));
    }

    iterator[kEnded] = true;
  });
  stream.on('readable', onReadable.bind(null, iterator));
  return iterator;
};

module.exports = createReadableStreamAsyncIterator;

/***/ }),

/***/ 9686:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var _require = __webpack_require__(8764),
    Buffer = _require.Buffer;

var _require2 = __webpack_require__(9862),
    inspect = _require2.inspect;

var custom = inspect && inspect.custom || 'inspect';

function copyBuffer(src, target, offset) {
  Buffer.prototype.copy.call(src, target, offset);
}

module.exports =
/*#__PURE__*/
function () {
  function BufferList() {
    _classCallCheck(this, BufferList);

    this.head = null;
    this.tail = null;
    this.length = 0;
  }

  _createClass(BufferList, [{
    key: "push",
    value: function push(v) {
      var entry = {
        data: v,
        next: null
      };
      if (this.length > 0) this.tail.next = entry;else this.head = entry;
      this.tail = entry;
      ++this.length;
    }
  }, {
    key: "unshift",
    value: function unshift(v) {
      var entry = {
        data: v,
        next: this.head
      };
      if (this.length === 0) this.tail = entry;
      this.head = entry;
      ++this.length;
    }
  }, {
    key: "shift",
    value: function shift() {
      if (this.length === 0) return;
      var ret = this.head.data;
      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;
      --this.length;
      return ret;
    }
  }, {
    key: "clear",
    value: function clear() {
      this.head = this.tail = null;
      this.length = 0;
    }
  }, {
    key: "join",
    value: function join(s) {
      if (this.length === 0) return '';
      var p = this.head;
      var ret = '' + p.data;

      while (p = p.next) {
        ret += s + p.data;
      }

      return ret;
    }
  }, {
    key: "concat",
    value: function concat(n) {
      if (this.length === 0) return Buffer.alloc(0);
      var ret = Buffer.allocUnsafe(n >>> 0);
      var p = this.head;
      var i = 0;

      while (p) {
        copyBuffer(p.data, ret, i);
        i += p.data.length;
        p = p.next;
      }

      return ret;
    } // Consumes a specified amount of bytes or characters from the buffered data.

  }, {
    key: "consume",
    value: function consume(n, hasStrings) {
      var ret;

      if (n < this.head.data.length) {
        // `slice` is the same for buffers and strings.
        ret = this.head.data.slice(0, n);
        this.head.data = this.head.data.slice(n);
      } else if (n === this.head.data.length) {
        // First chunk is a perfect match.
        ret = this.shift();
      } else {
        // Result spans more than one buffer.
        ret = hasStrings ? this._getString(n) : this._getBuffer(n);
      }

      return ret;
    }
  }, {
    key: "first",
    value: function first() {
      return this.head.data;
    } // Consumes a specified amount of characters from the buffered data.

  }, {
    key: "_getString",
    value: function _getString(n) {
      var p = this.head;
      var c = 1;
      var ret = p.data;
      n -= ret.length;

      while (p = p.next) {
        var str = p.data;
        var nb = n > str.length ? str.length : n;
        if (nb === str.length) ret += str;else ret += str.slice(0, n);
        n -= nb;

        if (n === 0) {
          if (nb === str.length) {
            ++c;
            if (p.next) this.head = p.next;else this.head = this.tail = null;
          } else {
            this.head = p;
            p.data = str.slice(nb);
          }

          break;
        }

        ++c;
      }

      this.length -= c;
      return ret;
    } // Consumes a specified amount of bytes from the buffered data.

  }, {
    key: "_getBuffer",
    value: function _getBuffer(n) {
      var ret = Buffer.allocUnsafe(n);
      var p = this.head;
      var c = 1;
      p.data.copy(ret);
      n -= p.data.length;

      while (p = p.next) {
        var buf = p.data;
        var nb = n > buf.length ? buf.length : n;
        buf.copy(ret, ret.length - n, 0, nb);
        n -= nb;

        if (n === 0) {
          if (nb === buf.length) {
            ++c;
            if (p.next) this.head = p.next;else this.head = this.tail = null;
          } else {
            this.head = p;
            p.data = buf.slice(nb);
          }

          break;
        }

        ++c;
      }

      this.length -= c;
      return ret;
    } // Make sure the linked list only shows the minimal necessary information.

  }, {
    key: custom,
    value: function value(_, options) {
      return inspect(this, _objectSpread({}, options, {
        // Only inspect one level.
        depth: 0,
        // It should not recurse.
        customInspect: false
      }));
    }
  }]);

  return BufferList;
}();

/***/ }),

/***/ 1029:
/***/ ((module) => {

"use strict";
 // undocumented cb() API, needed for core, not for public API

function destroy(err, cb) {
  var _this = this;

  var readableDestroyed = this._readableState && this._readableState.destroyed;
  var writableDestroyed = this._writableState && this._writableState.destroyed;

  if (readableDestroyed || writableDestroyed) {
    if (cb) {
      cb(err);
    } else if (err) {
      if (!this._writableState) {
        process.nextTick(emitErrorNT, this, err);
      } else if (!this._writableState.errorEmitted) {
        this._writableState.errorEmitted = true;
        process.nextTick(emitErrorNT, this, err);
      }
    }

    return this;
  } // we set destroyed to true before firing error callbacks in order
  // to make it re-entrance safe in case destroy() is called within callbacks


  if (this._readableState) {
    this._readableState.destroyed = true;
  } // if this is a duplex stream mark the writable part as destroyed as well


  if (this._writableState) {
    this._writableState.destroyed = true;
  }

  this._destroy(err || null, function (err) {
    if (!cb && err) {
      if (!_this._writableState) {
        process.nextTick(emitErrorAndCloseNT, _this, err);
      } else if (!_this._writableState.errorEmitted) {
        _this._writableState.errorEmitted = true;
        process.nextTick(emitErrorAndCloseNT, _this, err);
      } else {
        process.nextTick(emitCloseNT, _this);
      }
    } else if (cb) {
      process.nextTick(emitCloseNT, _this);
      cb(err);
    } else {
      process.nextTick(emitCloseNT, _this);
    }
  });

  return this;
}

function emitErrorAndCloseNT(self, err) {
  emitErrorNT(self, err);
  emitCloseNT(self);
}

function emitCloseNT(self) {
  if (self._writableState && !self._writableState.emitClose) return;
  if (self._readableState && !self._readableState.emitClose) return;
  self.emit('close');
}

function undestroy() {
  if (this._readableState) {
    this._readableState.destroyed = false;
    this._readableState.reading = false;
    this._readableState.ended = false;
    this._readableState.endEmitted = false;
  }

  if (this._writableState) {
    this._writableState.destroyed = false;
    this._writableState.ended = false;
    this._writableState.ending = false;
    this._writableState.finalCalled = false;
    this._writableState.prefinished = false;
    this._writableState.finished = false;
    this._writableState.errorEmitted = false;
  }
}

function emitErrorNT(self, err) {
  self.emit('error', err);
}

function errorOrDestroy(stream, err) {
  // We have tests that rely on errors being emitted
  // in the same tick, so changing this is semver major.
  // For now when you opt-in to autoDestroy we allow
  // the error to be emitted nextTick. In a future
  // semver major update we should change the default to this.
  var rState = stream._readableState;
  var wState = stream._writableState;
  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);
}

module.exports = {
  destroy: destroy,
  undestroy: undestroy,
  errorOrDestroy: errorOrDestroy
};

/***/ }),

/***/ 1086:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// Ported from https://github.com/mafintosh/end-of-stream with
// permission from the author, Mathias Buus (@mafintosh).


var ERR_STREAM_PREMATURE_CLOSE = (__webpack_require__(8106)/* .codes.ERR_STREAM_PREMATURE_CLOSE */ .q.ERR_STREAM_PREMATURE_CLOSE);

function once(callback) {
  var called = false;
  return function () {
    if (called) return;
    called = true;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    callback.apply(this, args);
  };
}

function noop() {}

function isRequest(stream) {
  return stream.setHeader && typeof stream.abort === 'function';
}

function eos(stream, opts, callback) {
  if (typeof opts === 'function') return eos(stream, null, opts);
  if (!opts) opts = {};
  callback = once(callback || noop);
  var readable = opts.readable || opts.readable !== false && stream.readable;
  var writable = opts.writable || opts.writable !== false && stream.writable;

  var onlegacyfinish = function onlegacyfinish() {
    if (!stream.writable) onfinish();
  };

  var writableEnded = stream._writableState && stream._writableState.finished;

  var onfinish = function onfinish() {
    writable = false;
    writableEnded = true;
    if (!readable) callback.call(stream);
  };

  var readableEnded = stream._readableState && stream._readableState.endEmitted;

  var onend = function onend() {
    readable = false;
    readableEnded = true;
    if (!writable) callback.call(stream);
  };

  var onerror = function onerror(err) {
    callback.call(stream, err);
  };

  var onclose = function onclose() {
    var err;

    if (readable && !readableEnded) {
      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();
      return callback.call(stream, err);
    }

    if (writable && !writableEnded) {
      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();
      return callback.call(stream, err);
    }
  };

  var onrequest = function onrequest() {
    stream.req.on('finish', onfinish);
  };

  if (isRequest(stream)) {
    stream.on('complete', onfinish);
    stream.on('abort', onclose);
    if (stream.req) onrequest();else stream.on('request', onrequest);
  } else if (writable && !stream._writableState) {
    // legacy streams
    stream.on('end', onlegacyfinish);
    stream.on('close', onlegacyfinish);
  }

  stream.on('end', onend);
  stream.on('finish', onfinish);
  if (opts.error !== false) stream.on('error', onerror);
  stream.on('close', onclose);
  return function () {
    stream.removeListener('complete', onfinish);
    stream.removeListener('abort', onclose);
    stream.removeListener('request', onrequest);
    if (stream.req) stream.req.removeListener('finish', onfinish);
    stream.removeListener('end', onlegacyfinish);
    stream.removeListener('close', onlegacyfinish);
    stream.removeListener('finish', onfinish);
    stream.removeListener('end', onend);
    stream.removeListener('error', onerror);
    stream.removeListener('close', onclose);
  };
}

module.exports = eos;

/***/ }),

/***/ 1265:
/***/ ((module) => {

module.exports = function () {
  throw new Error('Readable.from is not available in the browser')
};


/***/ }),

/***/ 6472:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// Ported from https://github.com/mafintosh/pump with
// permission from the author, Mathias Buus (@mafintosh).


var eos;

function once(callback) {
  var called = false;
  return function () {
    if (called) return;
    called = true;
    callback.apply(void 0, arguments);
  };
}

var _require$codes = (__webpack_require__(8106)/* .codes */ .q),
    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,
    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;

function noop(err) {
  // Rethrow the error if it exists to avoid swallowing it
  if (err) throw err;
}

function isRequest(stream) {
  return stream.setHeader && typeof stream.abort === 'function';
}

function destroyer(stream, reading, writing, callback) {
  callback = once(callback);
  var closed = false;
  stream.on('close', function () {
    closed = true;
  });
  if (eos === undefined) eos = __webpack_require__(1086);
  eos(stream, {
    readable: reading,
    writable: writing
  }, function (err) {
    if (err) return callback(err);
    closed = true;
    callback();
  });
  var destroyed = false;
  return function (err) {
    if (closed) return;
    if (destroyed) return;
    destroyed = true; // request.destroy just do .end - .abort is what we want

    if (isRequest(stream)) return stream.abort();
    if (typeof stream.destroy === 'function') return stream.destroy();
    callback(err || new ERR_STREAM_DESTROYED('pipe'));
  };
}

function call(fn) {
  fn();
}

function pipe(from, to) {
  return from.pipe(to);
}

function popCallback(streams) {
  if (!streams.length) return noop;
  if (typeof streams[streams.length - 1] !== 'function') return noop;
  return streams.pop();
}

function pipeline() {
  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {
    streams[_key] = arguments[_key];
  }

  var callback = popCallback(streams);
  if (Array.isArray(streams[0])) streams = streams[0];

  if (streams.length < 2) {
    throw new ERR_MISSING_ARGS('streams');
  }

  var error;
  var destroys = streams.map(function (stream, i) {
    var reading = i < streams.length - 1;
    var writing = i > 0;
    return destroyer(stream, reading, writing, function (err) {
      if (!error) error = err;
      if (err) destroys.forEach(call);
      if (reading) return;
      destroys.forEach(call);
      callback(error);
    });
  });
  return streams.reduce(pipe);
}

module.exports = pipeline;

/***/ }),

/***/ 94:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var ERR_INVALID_OPT_VALUE = (__webpack_require__(8106)/* .codes.ERR_INVALID_OPT_VALUE */ .q.ERR_INVALID_OPT_VALUE);

function highWaterMarkFrom(options, isDuplex, duplexKey) {
  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;
}

function getHighWaterMark(state, options, duplexKey, isDuplex) {
  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);

  if (hwm != null) {
    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {
      var name = isDuplex ? duplexKey : 'highWaterMark';
      throw new ERR_INVALID_OPT_VALUE(name, hwm);
    }

    return Math.floor(hwm);
  } // Default value


  return state.objectMode ? 16 : 16 * 1024;
}

module.exports = {
  getHighWaterMark: getHighWaterMark
};

/***/ }),

/***/ 3194:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(7187).EventEmitter;


/***/ }),

/***/ 2553:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



/*<replacement>*/

var Buffer = (__webpack_require__(9509).Buffer);
/*</replacement>*/

var isEncoding = Buffer.isEncoding || function (encoding) {
  encoding = '' + encoding;
  switch (encoding && encoding.toLowerCase()) {
    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':
      return true;
    default:
      return false;
  }
};

function _normalizeEncoding(enc) {
  if (!enc) return 'utf8';
  var retried;
  while (true) {
    switch (enc) {
      case 'utf8':
      case 'utf-8':
        return 'utf8';
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return 'utf16le';
      case 'latin1':
      case 'binary':
        return 'latin1';
      case 'base64':
      case 'ascii':
      case 'hex':
        return enc;
      default:
        if (retried) return; // undefined
        enc = ('' + enc).toLowerCase();
        retried = true;
    }
  }
};

// Do not cache `Buffer.isEncoding` when checking encoding names as some
// modules monkey-patch it to support additional encodings
function normalizeEncoding(enc) {
  var nenc = _normalizeEncoding(enc);
  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);
  return nenc || enc;
}

// StringDecoder provides an interface for efficiently splitting a series of
// buffers into a series of JS strings without breaking apart multi-byte
// characters.
exports.s = StringDecoder;
function StringDecoder(encoding) {
  this.encoding = normalizeEncoding(encoding);
  var nb;
  switch (this.encoding) {
    case 'utf16le':
      this.text = utf16Text;
      this.end = utf16End;
      nb = 4;
      break;
    case 'utf8':
      this.fillLast = utf8FillLast;
      nb = 4;
      break;
    case 'base64':
      this.text = base64Text;
      this.end = base64End;
      nb = 3;
      break;
    default:
      this.write = simpleWrite;
      this.end = simpleEnd;
      return;
  }
  this.lastNeed = 0;
  this.lastTotal = 0;
  this.lastChar = Buffer.allocUnsafe(nb);
}

StringDecoder.prototype.write = function (buf) {
  if (buf.length === 0) return '';
  var r;
  var i;
  if (this.lastNeed) {
    r = this.fillLast(buf);
    if (r === undefined) return '';
    i = this.lastNeed;
    this.lastNeed = 0;
  } else {
    i = 0;
  }
  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);
  return r || '';
};

StringDecoder.prototype.end = utf8End;

// Returns only complete characters in a Buffer
StringDecoder.prototype.text = utf8Text;

// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer
StringDecoder.prototype.fillLast = function (buf) {
  if (this.lastNeed <= buf.length) {
    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);
    return this.lastChar.toString(this.encoding, 0, this.lastTotal);
  }
  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);
  this.lastNeed -= buf.length;
};

// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a
// continuation byte. If an invalid byte is detected, -2 is returned.
function utf8CheckByte(byte) {
  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;
  return byte >> 6 === 0x02 ? -1 : -2;
}

// Checks at most 3 bytes at the end of a Buffer in order to detect an
// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)
// needed to complete the UTF-8 character (if applicable) are returned.
function utf8CheckIncomplete(self, buf, i) {
  var j = buf.length - 1;
  if (j < i) return 0;
  var nb = utf8CheckByte(buf[j]);
  if (nb >= 0) {
    if (nb > 0) self.lastNeed = nb - 1;
    return nb;
  }
  if (--j < i || nb === -2) return 0;
  nb = utf8CheckByte(buf[j]);
  if (nb >= 0) {
    if (nb > 0) self.lastNeed = nb - 2;
    return nb;
  }
  if (--j < i || nb === -2) return 0;
  nb = utf8CheckByte(buf[j]);
  if (nb >= 0) {
    if (nb > 0) {
      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;
    }
    return nb;
  }
  return 0;
}

// Validates as many continuation bytes for a multi-byte UTF-8 character as
// needed or are available. If we see a non-continuation byte where we expect
// one, we "replace" the validated continuation bytes we've seen so far with
// a single UTF-8 replacement character ('\ufffd'), to match v8's UTF-8 decoding
// behavior. The continuation byte check is included three times in the case
// where all of the continuation bytes for a character exist in the same buffer.
// It is also done this way as a slight performance increase instead of using a
// loop.
function utf8CheckExtraBytes(self, buf, p) {
  if ((buf[0] & 0xC0) !== 0x80) {
    self.lastNeed = 0;
    return '\ufffd';
  }
  if (self.lastNeed > 1 && buf.length > 1) {
    if ((buf[1] & 0xC0) !== 0x80) {
      self.lastNeed = 1;
      return '\ufffd';
    }
    if (self.lastNeed > 2 && buf.length > 2) {
      if ((buf[2] & 0xC0) !== 0x80) {
        self.lastNeed = 2;
        return '\ufffd';
      }
    }
  }
}

// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.
function utf8FillLast(buf) {
  var p = this.lastTotal - this.lastNeed;
  var r = utf8CheckExtraBytes(this, buf, p);
  if (r !== undefined) return r;
  if (this.lastNeed <= buf.length) {
    buf.copy(this.lastChar, p, 0, this.lastNeed);
    return this.lastChar.toString(this.encoding, 0, this.lastTotal);
  }
  buf.copy(this.lastChar, p, 0, buf.length);
  this.lastNeed -= buf.length;
}

// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a
// partial character, the character's bytes are buffered until the required
// number of bytes are available.
function utf8Text(buf, i) {
  var total = utf8CheckIncomplete(this, buf, i);
  if (!this.lastNeed) return buf.toString('utf8', i);
  this.lastTotal = total;
  var end = buf.length - (total - this.lastNeed);
  buf.copy(this.lastChar, 0, end);
  return buf.toString('utf8', i, end);
}

// For UTF-8, a replacement character is added when ending on a partial
// character.
function utf8End(buf) {
  var r = buf && buf.length ? this.write(buf) : '';
  if (this.lastNeed) return r + '\ufffd';
  return r;
}

// UTF-16LE typically needs two bytes per character, but even if we have an even
// number of bytes available, we need to check if we end on a leading/high
// surrogate. In that case, we need to wait for the next two bytes in order to
// decode the last character properly.
function utf16Text(buf, i) {
  if ((buf.length - i) % 2 === 0) {
    var r = buf.toString('utf16le', i);
    if (r) {
      var c = r.charCodeAt(r.length - 1);
      if (c >= 0xD800 && c <= 0xDBFF) {
        this.lastNeed = 2;
        this.lastTotal = 4;
        this.lastChar[0] = buf[buf.length - 2];
        this.lastChar[1] = buf[buf.length - 1];
        return r.slice(0, -1);
      }
    }
    return r;
  }
  this.lastNeed = 1;
  this.lastTotal = 2;
  this.lastChar[0] = buf[buf.length - 1];
  return buf.toString('utf16le', i, buf.length - 1);
}

// For UTF-16LE we do not explicitly append special replacement characters if we
// end on a partial character, we simply let v8 handle that.
function utf16End(buf) {
  var r = buf && buf.length ? this.write(buf) : '';
  if (this.lastNeed) {
    var end = this.lastTotal - this.lastNeed;
    return r + this.lastChar.toString('utf16le', 0, end);
  }
  return r;
}

function base64Text(buf, i) {
  var n = (buf.length - i) % 3;
  if (n === 0) return buf.toString('base64', i);
  this.lastNeed = 3 - n;
  this.lastTotal = 3;
  if (n === 1) {
    this.lastChar[0] = buf[buf.length - 1];
  } else {
    this.lastChar[0] = buf[buf.length - 2];
    this.lastChar[1] = buf[buf.length - 1];
  }
  return buf.toString('base64', i, buf.length - n);
}

function base64End(buf) {
  var r = buf && buf.length ? this.write(buf) : '';
  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);
  return r;
}

// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)
function simpleWrite(buf) {
  return buf.toString(this.encoding);
}

function simpleEnd(buf) {
  return buf && buf.length ? this.write(buf) : '';
}

/***/ }),

/***/ 7372:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var upperCase = __webpack_require__(6133)
var lowerCase = __webpack_require__(5496)

/**
 * Swap the case of a string. Manually iterate over every character and check
 * instead of replacing certain characters for better unicode support.
 *
 * @param  {String} str
 * @param  {String} [locale]
 * @return {String}
 */
module.exports = function (str, locale) {
  if (str == null) {
    return ''
  }

  var result = ''

  for (var i = 0; i < str.length; i++) {
    var c = str[i]
    var u = upperCase(c, locale)

    result += u === c ? lowerCase(c, locale) : u
  }

  return result
}


/***/ }),

/***/ 333:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var noCase = __webpack_require__(4431)
var upperCase = __webpack_require__(6133)

/**
 * Title case a string.
 *
 * @param  {string} value
 * @param  {string} [locale]
 * @return {string}
 */
module.exports = function (value, locale) {
  return noCase(value, locale).replace(/^.| ./g, function (m) {
    return upperCase(m, locale)
  })
}


/***/ }),

/***/ 6868:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var upperCase = __webpack_require__(6133)

/**
 * Upper case the first character of a string.
 *
 * @param  {String} str
 * @return {String}
 */
module.exports = function (str, locale) {
  if (str == null) {
    return ''
  }

  str = String(str)

  return upperCase(str.charAt(0), locale) + str.substr(1)
}


/***/ }),

/***/ 6133:
/***/ ((module) => {

/**
 * Special language-specific overrides.
 *
 * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt
 *
 * @type {Object}
 */
var LANGUAGES = {
  tr: {
    regexp: /[\u0069]/g,
    map: {
      '\u0069': '\u0130'
    }
  },
  az: {
    regexp: /[\u0069]/g,
    map: {
      '\u0069': '\u0130'
    }
  },
  lt: {
    regexp: /[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,
    map: {
      '\u0069\u0307': '\u0049',
      '\u006A\u0307': '\u004A',
      '\u012F\u0307': '\u012E',
      '\u0069\u0307\u0300': '\u00CC',
      '\u0069\u0307\u0301': '\u00CD',
      '\u0069\u0307\u0303': '\u0128'
    }
  }
}

/**
 * Upper case a string.
 *
 * @param  {String} str
 * @return {String}
 */
module.exports = function (str, locale) {
  var lang = LANGUAGES[locale]

  str = str == null ? '' : String(str)

  if (lang) {
    str = str.replace(lang.regexp, function (m) { return lang.map[m] })
  }

  return str.toUpperCase()
}


/***/ }),

/***/ 4927:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


/**
 * Module exports.
 */

module.exports = deprecate;

/**
 * Mark that a method should not be used.
 * Returns a modified function which warns once by default.
 *
 * If `localStorage.noDeprecation = true` is set, then it is a no-op.
 *
 * If `localStorage.throwDeprecation = true` is set, then deprecated functions
 * will throw an Error when invoked.
 *
 * If `localStorage.traceDeprecation = true` is set, then deprecated functions
 * will invoke `console.trace()` instead of `console.error()`.
 *
 * @param {Function} fn - the function to deprecate
 * @param {String} msg - the string to print to the console when `fn` is invoked
 * @returns {Function} a new "deprecated" version of `fn`
 * @api public
 */

function deprecate (fn, msg) {
  if (config('noDeprecation')) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (config('throwDeprecation')) {
        throw new Error(msg);
      } else if (config('traceDeprecation')) {
        console.trace(msg);
      } else {
        console.warn(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
}

/**
 * Checks `localStorage` for boolean values for the given `name`.
 *
 * @param {String} name
 * @returns {Boolean}
 * @api private
 */

function config (name) {
  // accessing global.localStorage can trigger a DOMException in sandboxed iframes
  try {
    if (!__webpack_require__.g.localStorage) return false;
  } catch (_) {
    return false;
  }
  var val = __webpack_require__.g.localStorage[name];
  if (null == val) return false;
  return String(val).toLowerCase() === 'true';
}


/***/ }),

/***/ 1496:
/***/ ((module) => {

if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}


/***/ }),

/***/ 384:
/***/ ((module) => {

module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}

/***/ }),

/***/ 9539:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(__webpack_require__.g.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = __webpack_require__(384);

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = __webpack_require__(1496);

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}


/***/ }),

/***/ 197:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "assets/modal_hide-2341f.ogg";

/***/ }),

/***/ 9373:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "assets/release-7c974.ogg";

/***/ }),

/***/ 3464:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "assets/snes_pop-7a6d3.ogg";

/***/ }),

/***/ 4984:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "assets/animation-074ed.gif";

/***/ }),

/***/ 93:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "assets/nuance1-c2408.ogg";

/***/ }),

/***/ 4537:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "assets/release-7c974.ogg";

/***/ }),

/***/ 6644:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "assets/snes_pop-7a6d3.ogg";

/***/ }),

/***/ 9862:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 964:
/***/ (() => {

/* (ignored) */

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/hbui-tests/";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
// extracted by mini-css-extract-plugin
/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ({});
})();

// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
// React tries to run `element instanceof win.HTMLIFrameElement`
// and crashes, because HTMLIFrameElement is undefined in HB
// see: https://github.com/facebook/react/blame/c954efa70f44a44be9c33c60c57f87bea6f40a10/packages/react-dom/src/client/ReactInputSelection.js#L46
window.HTMLIFrameElement = window.HTMLIFrameElement || function () {};
})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";

// UNUSED EXPORTS: default

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(7294);
// EXTERNAL MODULE: ./packages/react-facet/src/index.ts
var react_facet_src = __webpack_require__(7811);
// EXTERNAL MODULE: ./node_modules/classnames/index.js
var node_modules_classnames = __webpack_require__(4184);
var classnames_default = /*#__PURE__*/__webpack_require__.n(node_modules_classnames);
;// CONCATENATED MODULE: ./packages/ui/src/Typography/Typography.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Typography = ({"white":"t32e0","grey":"NZdRD","darkGrey":"TJqyJ","black":"RoJvv","red":"TTui1","green":"bCnYF","yellow":"tsXc6","center":"IaGhJ","right":"XEoek","left":"W1NXQ","verticalCenter":"JEzgR","Typography":"OIwR8","header1":"jtuPO","header2":"ZSfsQ","header3":"jxr27","header4A":"B6E4l","header4B":"Iu9d0","header5A":"u3V3F","header5B":"Z9bmJ","sectionHeader":"kjlCa","subtitle1":"PyPJl","subtitle2":"gVtt_","body":"vNlW4","paragraphs":"NQiUU","captionTiny":"UNxMi","captionShort":"_He_E","captionLong":"yhCRL","editorCaption":"UwZQy","editorHeader":"X2EMQ","primaryButton":"l6rf0","secondaryButton":"vWcLh","destructiveButton":"P1L1T","shadow":"MIuXl","fontWeightNormal":"RcOKE","fontWeightBold":"j4N5u","fontWeightBolder":"g8JjQ","fontWeightLighter":"uN1hk","fontWeightInitial":"qKtfZ","fontWeightInherit":"EDaTS","whiteSpaceNormal":"JbbH7","whiteSpaceNoWrap":"dI4g4","whiteSpacePre":"wbZka","whiteSpacePreWrap":"_FWvz"});
;// CONCATENATED MODULE: ./packages/ui/src/Typography/Typography.tsx
function Typography_extends() { Typography_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return Typography_extends.apply(this, arguments); }





const ALL_VARIANTS = ['header1', 'header2', 'header3', 'header4A', 'header4B', 'header5A', 'header5B', 'paragraphs', 'primaryButton', 'secondaryButton', 'captionTiny', 'captionShort', 'captionLong', 'subtitle1', 'subtitle2', 'body', 'destructiveButton', 'editorCaption', 'editorHeader'];
const variantStyles = {
  header1: [Typography.header1],
  header2: [Typography.header2],
  header3: [Typography.header3],
  header4A: [Typography.header4A],
  header4B: [Typography.header4B],
  header5A: [Typography.header5A],
  header5B: [Typography.header5B],
  sectionHeader: [Typography.sectionHeader],
  subtitle1: [Typography.subtitle1],
  subtitle2: [Typography.subtitle2],
  body: [Typography.body],
  paragraphs: [Typography.paragraphs],
  captionTiny: [Typography.captionTiny],
  captionShort: [Typography.captionShort],
  captionLong: [Typography.captionLong],
  primaryButton: [Typography.primaryButton],
  secondaryButton: [Typography.secondaryButton],
  destructiveButton: [Typography.destructiveButton],
  editorCaption: [Typography.editorCaption],
  editorHeader: [Typography.editorHeader]
};
const colorStyles = {
  white: [Typography.white],
  grey: [Typography.grey],
  black: [Typography.black],
  red: [Typography.red],
  green: [Typography.green],
  yellow: [Typography.yellow],
  darkGrey: [Typography.darkGrey],
  inherit: undefined
};
let FontWeight;

(function (FontWeight) {
  FontWeight[FontWeight["Normal"] = 0] = "Normal";
  FontWeight[FontWeight["Bold"] = 1] = "Bold";
  FontWeight[FontWeight["Bolder"] = 2] = "Bolder";
  FontWeight[FontWeight["Lighter"] = 3] = "Lighter";
  FontWeight[FontWeight["Initial"] = 4] = "Initial";
  FontWeight[FontWeight["Inherit"] = 5] = "Inherit";
})(FontWeight || (FontWeight = {}));

const fontWeightStyles = {
  [FontWeight.Normal]: [Typography.fontWeightNormal],
  [FontWeight.Bold]: [Typography.fontWeightBold],
  [FontWeight.Bolder]: [Typography.fontWeightBolder],
  [FontWeight.Lighter]: [Typography.fontWeightLighter],
  [FontWeight.Initial]: [Typography.fontWeightInitial],
  [FontWeight.Inherit]: [Typography.fontWeightInherit]
};
const whiteSpaceStyles = {
  normal: [Typography.whiteSpaceNormal],
  nowrap: [Typography.whiteSpaceNoWrap],
  pre: [Typography.whiteSpacePre],
  preWrap: [Typography.whiteSpacePreWrap]
};
function Typography_Typography({
  children,
  color = 'white',
  align,
  verticalAlign = 'top',
  variant,
  shadow,
  tag,
  fontWeight,
  shouldNarrate,
  whiteSpace
}) {
  const alignFacet = (0,react_facet_src.useFacetWrap)(align);
  const colorFacet = (0,react_facet_src.useFacetWrap)(color);
  const shadowFacet = (0,react_facet_src.useFacetWrap)(shadow);
  const variantFacet = (0,react_facet_src.useFacetWrap)(variant);
  const verticalAlignFacet = (0,react_facet_src.useFacetWrap)(verticalAlign);
  const fontWeightFacet = (0,react_facet_src.useFacetWrap)(fontWeight);
  const whiteSpaceFacet = (0,react_facet_src.useFacetWrap)(whiteSpace);
  const Element = tag ? tag : variant === 'paragraphs' ? 'p' : 'div';
  const classNameFacet = (0,react_facet_src.useFacetMap)((shadow, align, color, variant, verticalAlign, fontWeight, whiteSpace) => {
    // These classnames are used explicitly
    // for stylelint plugin/no-unused-selectors static check
    const variantStyle = variant ? variantStyles[variant] : undefined;
    const alignStyle = {
      [Typography.center]: align === 'center',
      [Typography.right]: align === 'right',
      [Typography.left]: align === 'left',
      [Typography.verticalCenter]: verticalAlign === 'center'
    };
    const colorStyle = color ? colorStyles[color] : undefined;
    const fontWeightStyle = fontWeight ? fontWeightStyles[fontWeight] : undefined;
    const whiteSpaceStyle = whiteSpace ? whiteSpaceStyles[whiteSpace] : undefined;
    const shadowStyle = {
      [Typography.shadow]: shadow
    };
    return classnames_default()(Typography.Typography, variantStyle, alignStyle, colorStyle, shadowStyle, fontWeightStyle, whiteSpaceStyle);
  }, [], [shadowFacet, alignFacet, colorFacet, variantFacet, verticalAlignFacet, fontWeightFacet, whiteSpaceFacet]);
  const narrateProps = shouldNarrate === true ? {
    ['data-narrate']: true
  } : {};

  if ((0,react_facet_src.isFacet)(children)) {
    if (Element === 'div') {
      return /*#__PURE__*/react.createElement("fast-div", Typography_extends({
        className: classNameFacet
      }, narrateProps), /*#__PURE__*/react.createElement("fast-text", {
        text: children
      }));
    }

    if (Element === 'p') {
      return /*#__PURE__*/react.createElement("fast-p", Typography_extends({
        className: classNameFacet
      }, narrateProps), /*#__PURE__*/react.createElement("fast-text", {
        text: children
      }));
    }

    return /*#__PURE__*/react.createElement("fast-span", Typography_extends({
      className: classNameFacet
    }, narrateProps), /*#__PURE__*/react.createElement("fast-text", {
      text: children
    }));
  }

  if (Element === 'div') {
    return /*#__PURE__*/react.createElement("fast-div", Typography_extends({
      className: classNameFacet
    }, narrateProps), children);
  }

  if (Element === 'p') {
    return /*#__PURE__*/react.createElement("fast-p", Typography_extends({
      className: classNameFacet
    }, narrateProps), children);
  }

  return /*#__PURE__*/react.createElement("fast-span", Typography_extends({
    className: classNameFacet
  }, narrateProps), children);
}
Typography_Typography.FontWeight = FontWeight;
;// CONCATENATED MODULE: ./packages/react-device-information/src/SafeZone/SafeZoneContext.ts

const safeZoneContext = (0,react.createContext)({
  top: 0,
  bottom: 0,
  left: 0,
  right: 0
});
const useSafeZone = () => (0,react.useContext)(safeZoneContext);
;// CONCATENATED MODULE: ./packages/react-gamepad/src/gamepadAdapterContext.tsx

let GamepadAdapterVersion;

(function (GamepadAdapterVersion) {
  GamepadAdapterVersion[GamepadAdapterVersion["LEGACY"] = 0] = "LEGACY";
  GamepadAdapterVersion[GamepadAdapterVersion["VISUAL"] = 1] = "VISUAL";
})(GamepadAdapterVersion || (GamepadAdapterVersion = {}));

const gamepadAdapterContext = (0,react.createContext)({
  version: GamepadAdapterVersion.LEGACY,
  setVersion: () => {}
});
const useGamepadAdapter = () => (0,react.useContext)(gamepadAdapterContext);
const GamepadAdapterProvider = ({
  children,
  version: defaultVersion
}) => {
  const [version, setVersion] = (0,react.useState)(defaultVersion);
  const value = (0,react.useMemo)(() => ({
    version,
    setVersion
  }), [version, setVersion]);
  return /*#__PURE__*/react.createElement(gamepadAdapterContext.Provider, {
    value: value
  }, children);
};
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/disabledArea.tsx


const DisabledAreaContext = (0,react_facet_src.createFacetContext)({});
const {
  Provider,
  Consumer
} = DisabledAreaContext;
const DisabledAreaProvider = (/* unused pure expression or super */ null && (Provider));
const DisabledAreaConsumer = (/* unused pure expression or super */ null && (Consumer));
function DisabledArea({
  disabled,
  hidden,
  children
}) {
  const context = (0,react.useContext)(DisabledAreaContext);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const hiddenFacet = (0,react_facet_src.useFacetWrap)(hidden);
  const value = (0,react_facet_src.useFacetMap)((context, disabled, hidden) => {
    return {
      disabled: disabled || context.disabled,
      hidden: hidden || context.hidden
    };
  }, [], [context, disabledFacet, hiddenFacet]);
  return /*#__PURE__*/react.createElement(Provider, {
    value: value
  }, children);
}
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/types.ts
/**
 * Custom alias provided by the user to identify a node in the focus tree
 * ie: "batata-frita"
 */

/**
 * This is the internal id of a node within the focus tree
 * ie: 2
 */

/**
 * This is the id set by the user to signal which node should be focused
 */
let FocusOrigin;

(function (FocusOrigin) {
  FocusOrigin[FocusOrigin["Unknown"] = -1] = "Unknown";
  FocusOrigin[FocusOrigin["Initial"] = 0] = "Initial";
  FocusOrigin[FocusOrigin["FocusInput"] = 1] = "FocusInput";
  FocusOrigin[FocusOrigin["PointerInput"] = 2] = "PointerInput";
  FocusOrigin[FocusOrigin["FocusTreeMutation"] = 3] = "FocusTreeMutation";
  FocusOrigin[FocusOrigin["URL"] = 4] = "URL";
  FocusOrigin[FocusOrigin["DebugTool"] = 5] = "DebugTool";
  FocusOrigin[FocusOrigin["ImperativeSetFocus"] = 6] = "ImperativeSetFocus";
})(FocusOrigin || (FocusOrigin = {}));

let ButtonType;

(function (ButtonType) {
  ButtonType["A"] = "A";
  ButtonType["B"] = "B";
  ButtonType["X"] = "X";
  ButtonType["Y"] = "Y";
  ButtonType["START"] = "START";
  ButtonType["SELECT"] = "SELECT";
  ButtonType["XBOX"] = "XBOX";
  ButtonType["RIGHT_TRIGGER"] = "RT";
  ButtonType["LEFT_TRIGGER"] = "LT";
  ButtonType["LEFT_BUMPER"] = "LB";
  ButtonType["RIGHT_BUMPER"] = "RB";
  ButtonType["L3"] = "L3";
  ButtonType["R3"] = "R3";
  ButtonType["LEFT"] = "LEFT";
  ButtonType["RIGHT"] = "RIGHT";
  ButtonType["UP"] = "UP";
  ButtonType["DOWN"] = "DOWN";
  ButtonType["NEXT"] = "NEXT";
  ButtonType["PREV"] = "PREV";
  ButtonType["LEFT_ANALOG_LEFT"] = "L_LEFT";
  ButtonType["LEFT_ANALOG_RIGHT"] = "L_RIGHT";
  ButtonType["LEFT_ANALOG_UP"] = "L_UP";
  ButtonType["LEFT_ANALOG_DOWN"] = "L_DOWN";
  ButtonType["RIGHT_ANALOG_LEFT"] = "R_LEFT";
  ButtonType["RIGHT_ANALOG_RIGHT"] = "R_RIGHT";
  ButtonType["RIGHT_ANALOG_UP"] = "R_UP";
  ButtonType["RIGHT_ANALOG_DOWN"] = "R_DOWN";
  ButtonType[ButtonType["LEFT_HORIZONTAL_AXIS"] = 0] = "LEFT_HORIZONTAL_AXIS";
  ButtonType[ButtonType["LEFT_VERTICAL_AXIS"] = 1] = "LEFT_VERTICAL_AXIS";
  ButtonType[ButtonType["RIGHT_HORIZONTAL_AXIS"] = 2] = "RIGHT_HORIZONTAL_AXIS";
  ButtonType[ButtonType["RIGHT_VERTICAL_AXIS"] = 3] = "RIGHT_VERTICAL_AXIS";
  ButtonType["PSEUDO_BUTTON_1"] = "PSEUDO_BUTTON_1";
  ButtonType["PSEUDO_BUTTON_2"] = "PSEUDO_BUTTON_2";
  ButtonType["PSEUDO_BUTTON_3"] = "PSEUDO_BUTTON_3";
  ButtonType["PSEUDO_BUTTON_4"] = "PSEUDO_BUTTON_4";
  ButtonType["PSEUDO_BUTTON_5"] = "PSEUDO_BUTTON_5";
  ButtonType["PSEUDO_BUTTON_6"] = "PSEUDO_BUTTON_6";
  ButtonType["PSEUDO_BUTTON_7"] = "PSEUDO_BUTTON_7";
  ButtonType["PSEUDO_BUTTON_8"] = "PSEUDO_BUTTON_8";
  ButtonType["PSEUDO_BUTTON_9"] = "PSEUDO_BUTTON_9";
  ButtonType["PSEUDO_BUTTON_10"] = "PSEUDO_BUTTON_10";
})(ButtonType || (ButtonType = {}));

const DATA_LANDMARK_ID = 'data-landmark-id';
const types_DATA_FOCUSABLE_ID = 'data-focusable-id';
const DATA_FOCUSABLE_DEBUG_ID = 'data-focusable-debug-id';
let types_FocusableType;

(function (FocusableType) {
  FocusableType[FocusableType["ITEM"] = 0] = "ITEM";
  FocusableType[FocusableType["LANDMARK"] = 1] = "LANDMARK";
  FocusableType[FocusableType["ROOT"] = 2] = "ROOT";
})(types_FocusableType || (types_FocusableType = {}));

let ScrollAxis;

(function (ScrollAxis) {
  ScrollAxis[ScrollAxis["HORIZONTAL"] = 0] = "HORIZONTAL";
  ScrollAxis[ScrollAxis["VERTICAL"] = 1] = "VERTICAL";
})(ScrollAxis || (ScrollAxis = {}));

const DEFAULT_ACTIONS = [ButtonType.A, ButtonType.B, ButtonType.LEFT, ButtonType.DOWN, ButtonType.RIGHT, ButtonType.UP];
let Arrows;

(function (Arrows) {
  Arrows[Arrows["UP"] = 0] = "UP";
  Arrows[Arrows["RIGHT"] = 1] = "RIGHT";
  Arrows[Arrows["DOWN"] = 2] = "DOWN";
  Arrows[Arrows["LEFT"] = 3] = "LEFT";
})(Arrows || (Arrows = {}));

const mapButtonToArrow = {
  [ButtonType.LEFT_ANALOG_UP]: Arrows.UP,
  [ButtonType.UP]: Arrows.UP,
  [ButtonType.LEFT_ANALOG_DOWN]: Arrows.DOWN,
  [ButtonType.DOWN]: Arrows.DOWN,
  [ButtonType.LEFT_ANALOG_LEFT]: Arrows.LEFT,
  [ButtonType.LEFT]: Arrows.LEFT,
  [ButtonType.LEFT_ANALOG_RIGHT]: Arrows.RIGHT,
  [ButtonType.RIGHT]: Arrows.RIGHT
};
const mapMouseButtonToButtonType = {
  3: ButtonType.B
};
let Direction;

(function (Direction) {
  Direction[Direction["NEXT"] = -1] = "NEXT";
  Direction[Direction["PREVIOUS"] = 1] = "PREVIOUS";
})(Direction || (Direction = {}));

let NewFocusSuggestionReason;

(function (NewFocusSuggestionReason) {
  NewFocusSuggestionReason[NewFocusSuggestionReason["DefaultDelegation"] = 0] = "DefaultDelegation";
  NewFocusSuggestionReason[NewFocusSuggestionReason["FirstFoundDelegation"] = 1] = "FirstFoundDelegation";
  NewFocusSuggestionReason[NewFocusSuggestionReason["AliasDelegation"] = 2] = "AliasDelegation";
  NewFocusSuggestionReason[NewFocusSuggestionReason["MemoryDelegation"] = 3] = "MemoryDelegation";
  NewFocusSuggestionReason[NewFocusSuggestionReason["FocusableAliasMutation"] = 4] = "FocusableAliasMutation";
})(NewFocusSuggestionReason || (NewFocusSuggestionReason = {}));

const isAvailableFocusable = element => !element.disabled && !element.hidden && element.ref != null;
const isRoot = focusable => focusable != null && focusable.type === types_FocusableType.ROOT;
const isDelegatingLandmark = focusable => focusable != null && focusable.type === types_FocusableType.LANDMARK && 'getDelegatedFocus' in focusable;
const isBindingLandmark = element => isDelegatingLandmark(element) && 'shouldBindFocus' in element && element.shouldBindFocus === true;
// EXTERNAL MODULE: ./node_modules/ramda/src/includes.js
var includes = __webpack_require__(9270);
var includes_default = /*#__PURE__*/__webpack_require__.n(includes);
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/treeQueries.tsx



function getAlias(focusTree, focusableId) {
  var _focusTree$elements$g;

  return (_focusTree$elements$g = focusTree.elements.get(focusableId)) === null || _focusTree$elements$g === void 0 ? void 0 : _focusTree$elements$g.alias;
}
function landmarkHasEnabledItems(tree, landmark) {
  var _tree$children$get;

  const childIds = (_tree$children$get = tree.children.get(landmark.id)) !== null && _tree$children$get !== void 0 ? _tree$children$get : [];

  for (const childId of childIds) {
    const child = tree.elements.get(childId);

    if (!child) {
      continue;
    }

    if (child.type === FocusableType.LANDMARK) {
      if (child.disabled || child.hidden) {
        continue;
      }

      const enabled = landmarkHasEnabledItems(tree, child);

      if (enabled) {
        return true;
      }
    } else {
      if (!child.disabled && !child.hidden) {
        return true;
      }
    }
  }

  return false;
}
function getIdFromAliasOrId(focusTree, aliasOrId) {
  if (typeof aliasOrId === 'string') {
    return focusTree.aliases.get(aliasOrId);
  }

  if (aliasOrId != null && focusTree.elements.has(aliasOrId)) {
    return aliasOrId;
  }

  return undefined;
}
function getElement(focusTree, aliasOrId) {
  const id = getIdFromAliasOrId(focusTree, aliasOrId);
  if (id == null) return;
  const element = focusTree.elements.get(id);
  return element;
}
function getAncestorIds(focusTree, elementId) {
  const parentId = focusTree.parents.get(elementId);

  if (parentId == null) {
    return [];
  }

  return [parentId, ...getAncestorIds(focusTree, parentId)];
}
function isAncestorOf(focusTree, parentId, elementId) {
  const parentElementId = focusTree.parents.get(elementId);

  if (parentElementId === parentId) {
    return true;
  }

  if (parentElementId == null) {
    return false;
  }

  return isAncestorOf(focusTree, parentId, parentElementId);
}
function getClosestDelegatingAncestor(focusTree, elementId) {
  const parentId = focusTree.parents.get(elementId);

  if (parentId == null) {
    return null;
  }

  const parentElement = focusTree.elements.get(parentId);

  if (parentElement == null) {
    return null;
  }

  if (isDelegatingLandmark(parentElement) || isRoot(parentElement)) {
    return parentElement;
  }

  return getClosestDelegatingAncestor(focusTree, parentId);
}
function doesDynastyHaveAnyEnabledItems(focusTree, dynasty) {
  for (const id of dynasty) {
    const element = focusTree.elements.get(id);

    if (!element) {
      continue;
    }

    if (isDelegatingLandmark(element) && isNodeEnabled(focusTree, id)) {
      return true;
    }

    if (element.type === types_FocusableType.ITEM && isNodeEnabled(focusTree, id)) {
      return true;
    }
  }

  return false;
}
function getClosestAncestor(focusTree, elementId, test) {
  const parentId = focusTree.parents.get(elementId);

  if (parentId == null) {
    return null;
  }

  const parentElement = focusTree.elements.get(parentId);

  if (parentElement == null) {
    return null;
  }

  if (test(parentElement)) {
    return parentElement;
  }

  return getClosestDelegatingAncestor(focusTree, parentId);
}
const getRootNodes = focusTree => {
  const rootNodes = [];

  for (const [id] of focusTree.elements) {
    if (!focusTree.parents.has(id)) {
      rootNodes.push(id);
    }
  }

  return rootNodes;
};
const getClosestAncestorIdGetter = test => {
  const getClosestParentId = (tree, elementId) => {
    const parentId = tree.parents.get(elementId);

    if (parentId == null) {
      return null;
    }

    const parent = tree.elements.get(parentId);

    if (parent == null) {
      return null;
    }

    if (test(parent)) {
      return parentId;
    }

    return getClosestParentId(tree, parentId);
  };

  return getClosestParentId;
};
const doesAnyNonSharedAncestorDelegateFocus = (tree, candidateElementId, currentFocusedElementID) => {
  const pathForCurrentFocusedElement = getAncestorIds(tree, currentFocusedElementID);
  const testResult = getClosestAncestorIdGetter(element => isDelegatingLandmark(element) && !includes_default()(element.id, pathForCurrentFocusedElement))(tree, candidateElementId);
  return testResult != null;
};
const getDisabledAncestor = getClosestAncestorIdGetter(parent => parent.disabled || parent.hidden);
const treeQueries_isAnyAncestorDisabled = (tree, elementId) => getDisabledAncestor(tree, elementId) != null;
const getBindingAncestorId = getClosestAncestorIdGetter(isBindingLandmark);
const getScrollableAncestorId = getClosestAncestorIdGetter(parent => parent.type === types_FocusableType.LANDMARK && parent.scrollAxis != null);
const hasAnyAncestorWithId = (tree, elementId, targetParentId) => {
  const parentId = tree.parents.get(elementId);

  if (parentId == null) {
    return false;
  }

  if (parentId === targetParentId) {
    return true;
  }

  return hasAnyAncestorWithId(tree, parentId, targetParentId);
};
const getEnabledBindingLandmarkDescendant = (focusTree, elementId) => {
  const enabledBindingLandmarksDescendantIds = getEnabledBindingLandmarkDescendantIds(focusTree, elementId);

  if (enabledBindingLandmarksDescendantIds != null && enabledBindingLandmarksDescendantIds.length > 0) {
    const enabledBindingLandmarksDescendantId = enabledBindingLandmarksDescendantIds[0];
    const enabledBindingLandmarksDescendant = getElement(focusTree, enabledBindingLandmarksDescendantId);
    return enabledBindingLandmarksDescendant != null && isBindingLandmark(enabledBindingLandmarksDescendant) ? enabledBindingLandmarksDescendant : undefined;
  }
};
const getEnabledBindingLandmarkDescendantIds = (focusTree, elementId) => {
  const bindingLandmarkDescendants = focusTree.bindingLandmarkDescendants.get(elementId);

  if (bindingLandmarkDescendants == null) {
    return;
  }

  const enabledBindingLandmarkDescendants = [];

  for (const itemId of bindingLandmarkDescendants) {
    if (isNodeEnabled(focusTree, itemId)) {
      enabledBindingLandmarkDescendants.push(itemId);
    }
  }

  if (false) {}

  return enabledBindingLandmarkDescendants;
};
function isNodeEnabled(focusTree, elementId) {
  const node = getElement(focusTree, elementId);
  if (node == null) return false;
  if (node.type === types_FocusableType.ROOT) return true;
  if (!isAvailableFocusable(node)) return false;
  const ancestorIds = getAncestorIds(focusTree, node.id);

  for (const id of ancestorIds) {
    const node = getElement(focusTree, id);
    if (node == null) return false;
    if (!isRoot(node) && !isAvailableFocusable(node)) return false;
  }

  return true;
}
const getDelegatedFocusFromAncestor = (focusTree, elementId) => {
  const id = getIdFromAliasOrId(focusTree, elementId);

  if (id == null) {
    return undefined;
  }

  const element = focusTree.elements.get(id);

  if (element == null) {
    return undefined;
  }

  if (element.type === types_FocusableType.ROOT || isDelegatingLandmark(element) && isNodeEnabled(focusTree, id)) {
    const delegatedFocus = element.getDelegatedFocus();
    return delegatedFocus != react_facet_src.NO_VALUE ? delegatedFocus : undefined;
  }

  return getDelegatedFocusFromAncestor(focusTree, focusTree.parents.get(id));
};
function getShortcutsFor(focusTree, aliasOrId) {
  const elementId = getIdFromAliasOrId(focusTree, aliasOrId);

  if (elementId == null) {
    return;
  }

  return focusTree.shortcuts.get(elementId);
}
function getShortcut(focusTree, elementId, buttonType) {
  const focusable = focusTree.elements.get(elementId);

  if (!focusable) {
    return;
  }

  if (isNodeEnabled(focusTree, elementId)) {
    var _focusTree$shortcuts$;

    const shortcut = (_focusTree$shortcuts$ = focusTree.shortcuts.get(elementId)) === null || _focusTree$shortcuts$ === void 0 ? void 0 : _focusTree$shortcuts$.get(buttonType);

    if (shortcut != null) {
      return shortcut;
    }
  }

  const parentId = focusTree.parents.get(elementId);

  if (parentId == null) {
    return;
  }

  return getShortcut(focusTree, parentId, buttonType);
}
function getShortcutHandler(focusTree, elementId, actionButton) {
  var _getShortcut;

  return (_getShortcut = getShortcut(focusTree, elementId, actionButton)) === null || _getShortcut === void 0 ? void 0 : _getShortcut.callback;
}
function getAncestorNodes(focusTree, elementId) {
  const ancestors = [];
  const ancestorIds = getAncestorIds(focusTree, elementId);

  for (const id of ancestorIds) {
    const ancestor = getElement(focusTree, id);
    if (ancestor == null) return ancestors;

    if (ancestor.type !== types_FocusableType.ITEM) {
      ancestors.push(ancestor);
    }
  }

  return ancestors;
}
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/treeInitialization.ts



const ROOT_NODE_ID = 1;

const createIsElementAncestorOf = (focusTree, id) => element => {
  var _element$getAttribute;

  const idAttribute = (_element$getAttribute = element.getAttribute(types_DATA_FOCUSABLE_ID)) !== null && _element$getAttribute !== void 0 ? _element$getAttribute : element.getAttribute(DATA_LANDMARK_ID);
  if (idAttribute == null) return false;
  const elementId = parseInt(idAttribute, 10);
  return id === elementId || isAncestorOf(focusTree, id, elementId);
};

const createGetDelegatedFocus = (focusTree, id) => () => {
  var _window$document$body;

  const enabledBindingLandmarkDescendant = getEnabledBindingLandmarkDescendant(focusTree, id); // We start by looking at enabled binding landmark descendants.
  // Binding landmarks take priority over any other behavior

  if (enabledBindingLandmarkDescendant != null) {
    const delegatedFocus = enabledBindingLandmarkDescendant.getDelegatedFocus();

    if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
      return delegatedFocus;
    }
  }

  const defaultDelegatedFocus = {
    id,
    reason: NewFocusSuggestionReason.DefaultDelegation
  };
  const dynasty = focusTree.dynasty.get(id);
  const elements = Array.from((_window$document$body = window.document.body.querySelectorAll(`[${types_DATA_FOCUSABLE_ID}], [${DATA_LANDMARK_ID}]`)) !== null && _window$document$body !== void 0 ? _window$document$body : []);

  if (elements.length === 0) {
    return defaultDelegatedFocus;
  }

  for (let i = 0; i < elements.length; i++) {
    const landmarkIdAttribute = elements[i].getAttribute(DATA_LANDMARK_ID);
    const focusableIdAttribute = elements[i].getAttribute(types_DATA_FOCUSABLE_ID);

    if (landmarkIdAttribute != null) {
      const landmarkId = parseInt(landmarkIdAttribute, 10);

      if (!(dynasty !== null && dynasty !== void 0 && dynasty.has(landmarkId))) {
        continue;
      }

      const landmarkElement = getElement(focusTree, landmarkId);

      if (!isDelegatingLandmark(landmarkElement)) {
        continue;
      }

      if (!isNodeEnabled(focusTree, landmarkId)) {
        continue;
      }

      const isElementAncestorOfLandmark = createIsElementAncestorOf(focusTree, landmarkId);
      const landmarkDecedentElements = elements.filter(isElementAncestorOfLandmark);
      const delegatedFocus = landmarkElement.getDelegatedFocus(landmarkDecedentElements);

      if (delegatedFocus != react_facet_src.NO_VALUE && delegatedFocus != null) {
        return delegatedFocus;
      }
    } else if (focusableIdAttribute != null) {
      const focusableId = parseInt(focusableIdAttribute, 10);

      if (dynasty !== null && dynasty !== void 0 && dynasty.has(focusableId) && isNodeEnabled(focusTree, focusableId)) {
        return {
          id: focusableId,
          reason: NewFocusSuggestionReason.FirstFoundDelegation
        };
      }
    }
  }

  return defaultDelegatedFocus;
};

const getFreshTree = () => {
  const focusTree = {
    elements: new Map(),
    children: new Map(),
    parents: new Map(),
    aliases: new Map(),
    shortcuts: new Map(),
    history: [],
    bindingLandmarkStack: [],
    dynasty: new Map(),
    bindingLandmarkDescendants: new Map()
  };
  const rootElement = {
    type: types_FocusableType.ROOT,
    id: ROOT_NODE_ID,
    alias: undefined,
    disabled: false,
    hidden: false,
    ref: null,
    scrollAxis: null,
    onDown: undefined,
    onUp: undefined,
    onRight: undefined,
    onLeft: undefined,
    onBlur: undefined,
    onFocus: undefined,
    disableScrollIntoView: undefined,
    getDelegatedFocus: createGetDelegatedFocus(focusTree, ROOT_NODE_ID)
  };
  focusTree.elements.set(ROOT_NODE_ID, rootElement);
  return focusTree;
};
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/id.tsx

let seed = ROOT_NODE_ID + 1;
const __generateId = () => seed++;
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/disableFocusBinding.ts

const Context = (0,react.createContext)(false);
const useDisableFocusBinding = () => (0,react.useContext)(Context);
const DisableFocusBindingProvider = Context.Provider;
const DisableFocusBindingConsumer = Context.Consumer;
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/focusTreeAPI.tsx


const logWarning = () => {
  if (false) {}
};

const FocusTreeAPIContext = (0,react.createContext)({
  press: () => undefined,
  isFocused: () => {
    logWarning();
    return false;
  },
  isFocusable: () => {
    logWarning();
    return false;
  },
  putNode: logWarning,
  putShortcut: logWarning,
  removeNode: logWarning,
  removeShortcut: logWarning,
  getElement: () => {
    logWarning();
    return undefined;
  },
  isAncestorOf: () => {
    logWarning();
    return false;
  },
  getDynasty: () => {
    logWarning();
    return undefined;
  },
  getEnabledBindingLandmarkDescendant: () => {
    logWarning();
    return undefined;
  }
});
const {
  Provider: focusTreeAPI_Provider,
  Consumer: focusTreeAPI_Consumer
} = FocusTreeAPIContext;
const FocusTreeAPIProvider = focusTreeAPI_Provider;
const FocusTreeAPIConsumer = (/* unused pure expression or super */ null && (focusTreeAPI_Consumer));
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/path.tsx

const path_Context = (0,react.createContext)([]);
const {
  Provider: path_Provider,
  Consumer: path_Consumer
} = path_Context;

const PathContext = path_Context;
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/refreshFocus.tsx


const refreshFocus_Context = (0,react_facet_src.createFacetContext)(undefined);
const useRefreshFocus = () => (0,react.useContext)(refreshFocus_Context);
const RefreshFocusProvider = refreshFocus_Context.Provider;
const RefreshFocusConsumer = refreshFocus_Context.Consumer;
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/setFocusedId.ts

const setFocusedIdContext = (0,react.createContext)(() => () => {});
/**
 * Hook that allows access to a function to imperatively set the focused id
 * On setting a focusedId, it returns a "restore" function that can be called to restore the focus to a previous state
 */

const setFocusedId_useSetFocusedId = () => (0,react.useContext)(setFocusedIdContext);
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/components/Landmark.tsx
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






const NO_LANDMARK_KEY = 'NO_LANDMARK_KEY';
const Landmark = ({
  children,
  disabled,
  hidden,
  alias,
  scrollAxis,
  scrollOptions,
  shouldBindFocus,
  containerRef,
  delegateFocusFirstFound,
  delegateFocusFromMemory,
  delegateFocusByAlias,
  landmarkKey
}) => {
  if (false) {}

  const id = (0,react.useMemo)(() => __generateId(), []);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const hiddenFacet = (0,react_facet_src.useFacetWrap)(hidden);
  const delegateFocusFirstFoundFacet = (0,react_facet_src.useFacetWrap)(delegateFocusFirstFound);
  const delegateFocusFromMemoryFacet = (0,react_facet_src.useFacetWrap)(delegateFocusFromMemory);
  const delegateFocusByAliasFacet = (0,react_facet_src.useFacetWrap)(delegateFocusByAlias);
  const scrollAxisFacet = (0,react_facet_src.useFacetWrap)(scrollAxis);
  const aliasFacet = (0,react_facet_src.useFacetWrap)(alias);
  const scrollOptionsFacet = (0,react_facet_src.useFacetWrap)(scrollOptions);
  const shouldBindFocusFacet = (0,react_facet_src.useFacetWrap)(shouldBindFocus);
  const landmarkKeyFacet = (0,react_facet_src.useFacetWrap)(landmarkKey);
  const disabledContextFacet = (0,react.useContext)(DisabledAreaContext);
  const disableFocusBinding = useDisableFocusBinding();
  const focusTreeAPI = (0,react.useContext)(FocusTreeAPIContext);
  const path = (0,react.useContext)(PathContext);
  const refreshFocusFacet = useRefreshFocus();
  const parentId = path[path.length - 1];
  const setFocusedId = setFocusedId_useSetFocusedId();
  const createIsElementAncestorOf = (0,react.useCallback)(id => element => {
    var _element$getAttribute;

    const idAttribute = (_element$getAttribute = element.getAttribute(types_DATA_FOCUSABLE_ID)) !== null && _element$getAttribute !== void 0 ? _element$getAttribute : element.getAttribute(DATA_LANDMARK_ID);
    if (idAttribute == null) return false;
    const elementId = parseInt(idAttribute, 10);
    return id === elementId || focusTreeAPI.isAncestorOf(id, elementId);
  }, [focusTreeAPI]);
  const getDelegatedFocus = (0,react_facet_src.useFacetCallback)((delegateFocusFirstFound, delegateFocusFromMemory) => cachedDecedentElements => {
    const enabledBindingLandmarkDescendant = focusTreeAPI.getEnabledBindingLandmarkDescendant(id); // We start by looking at enabled binding landmark descendants.
    // Binding landmarks take priority over any other behavior

    if (enabledBindingLandmarkDescendant != null) {
      const cachedDecedentElementsOfMemory = cachedDecedentElements === null || cachedDecedentElements === void 0 ? void 0 : cachedDecedentElements.filter(createIsElementAncestorOf(enabledBindingLandmarkDescendant.id));
      const delegatedFocus = enabledBindingLandmarkDescendant.getDelegatedFocus(cachedDecedentElementsOfMemory);

      if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
        return delegatedFocus;
      }
    }

    const element = focusTreeAPI.getElement(id);
    const dynasty = focusTreeAPI.getDynasty(id);
    const delegatingLandmark = isDelegatingLandmark(element) ? element : undefined; // Check memory for focusable decedent

    if (delegatingLandmark != null && delegateFocusFromMemory) {
      var _delegatingLandmark$l, _delegatingLandmark$d;

      const usedLandmarkKey = (_delegatingLandmark$l = delegatingLandmark === null || delegatingLandmark === void 0 ? void 0 : delegatingLandmark.landmarkKey) !== null && _delegatingLandmark$l !== void 0 ? _delegatingLandmark$l : NO_LANDMARK_KEY;
      const delegationMemoryStack = delegatingLandmark === null || delegatingLandmark === void 0 ? void 0 : (_delegatingLandmark$d = delegatingLandmark.delegationMemoryStack) === null || _delegatingLandmark$d === void 0 ? void 0 : _delegatingLandmark$d.get(usedLandmarkKey);

      if (delegationMemoryStack != null) {
        // Loop through the memory stack and find the first available element
        let firstAvailableMemoryElement = undefined;

        for (let i = 0; i < delegationMemoryStack.length; i++) {
          const delegationMemoryId = delegationMemoryStack[i];
          const delegationMemoryElement = focusTreeAPI.getElement(delegationMemoryId);

          if (delegationMemoryElement != null && focusTreeAPI.isFocusable(delegationMemoryElement.id) && dynasty !== null && dynasty !== void 0 && dynasty.has(delegationMemoryElement.id)) {
            firstAvailableMemoryElement = delegationMemoryElement;
            break;
          }
        }

        if (firstAvailableMemoryElement != null) {
          const memoryDelegatingLandmark = isDelegatingLandmark(firstAvailableMemoryElement) ? firstAvailableMemoryElement : undefined;

          if (memoryDelegatingLandmark != null) {
            const cachedDecedentElementsOfMemory = cachedDecedentElements === null || cachedDecedentElements === void 0 ? void 0 : cachedDecedentElements.filter(createIsElementAncestorOf(memoryDelegatingLandmark.id));
            const delegatedFocus = memoryDelegatingLandmark.getDelegatedFocus(cachedDecedentElementsOfMemory);

            if (delegatedFocus != null && delegatedFocus != react_facet_src.NO_VALUE) {
              return delegatedFocus;
            }
          } else {
            return {
              id: firstAvailableMemoryElement.id,
              reason: NewFocusSuggestionReason.MemoryDelegation
            };
          }
        }
      }
    } // Delegate by alias. We are using the element ref here instead of the delegateFocusByAliasFacet
    // since we don't want to have several sources of truths.


    if (isDelegatingLandmark(focusTreeElement.current) && focusTreeElement.current.delegateFocusByAlias != null && focusTreeElement.current.delegateFocusByAlias != '') {
      const elementByAlias = focusTreeAPI.getElement(focusTreeElement.current.delegateFocusByAlias);

      if (elementByAlias != null && dynasty !== null && dynasty !== void 0 && dynasty.has(elementByAlias.id) && focusTreeAPI.isFocusable(elementByAlias.id)) {
        if (isDelegatingLandmark(elementByAlias)) {
          const cachedDecedentElementsOfMemory = cachedDecedentElements === null || cachedDecedentElements === void 0 ? void 0 : cachedDecedentElements.filter(createIsElementAncestorOf(elementByAlias.id));
          const delegatedFocus = elementByAlias.getDelegatedFocus(cachedDecedentElementsOfMemory);

          if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
            return delegatedFocus;
          }
        } else {
          return {
            id: elementByAlias.id,
            reason: NewFocusSuggestionReason.AliasDelegation
          };
        }
      }
    } // Get first focusable decedent


    if (delegateFocusFirstFound) {
      var _containerRef$current, _containerRef$current2;

      const defaultDelegatedId = focusTreeElement.current == null || focusTreeElement.current.hidden === true || focusTreeElement.current.disabled === true ? undefined : id;
      const defaultDelegatedFocus = defaultDelegatedId != null ? {
        id: defaultDelegatedId,
        reason: NewFocusSuggestionReason.DefaultDelegation
      } : undefined;
      const elements = cachedDecedentElements !== null && cachedDecedentElements !== void 0 ? cachedDecedentElements : Array.from((_containerRef$current = (_containerRef$current2 = containerRef.current) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.querySelectorAll(`[${types_DATA_FOCUSABLE_ID}], [${DATA_LANDMARK_ID}]`)) !== null && _containerRef$current !== void 0 ? _containerRef$current : []);

      if (elements.length === 0) {
        return defaultDelegatedFocus;
      }

      for (let i = 0; i < elements.length; i++) {
        const landmarkIdAttribute = elements[i].getAttribute(DATA_LANDMARK_ID);
        const focusableIdAttribute = elements[i].getAttribute(types_DATA_FOCUSABLE_ID);

        if (landmarkIdAttribute != null) {
          const landmarkId = parseInt(landmarkIdAttribute, 10);

          if (!(dynasty !== null && dynasty !== void 0 && dynasty.has(landmarkId))) {
            continue;
          }

          const landmarkElement = focusTreeAPI.getElement(landmarkId);

          if (!isDelegatingLandmark(landmarkElement)) {
            continue;
          }

          if (!focusTreeAPI.isFocusable(landmarkId)) {
            continue;
          }

          const isElementAncestorOfLandmark = createIsElementAncestorOf(landmarkId);
          const landmarkDecedentElements = elements.filter(isElementAncestorOfLandmark);
          const delegatedFocus = landmarkElement.getDelegatedFocus(landmarkDecedentElements);

          if (delegatedFocus != react_facet_src.NO_VALUE && delegatedFocus != null) {
            return delegatedFocus;
          }
        } else if (focusableIdAttribute != null) {
          const focusableId = parseInt(focusableIdAttribute, 10);

          if (dynasty !== null && dynasty !== void 0 && dynasty.has(focusableId) && focusTreeAPI.isFocusable(focusableId)) {
            return {
              id: focusableId,
              reason: NewFocusSuggestionReason.FirstFoundDelegation
            };
          }
        }
      }

      return defaultDelegatedFocus;
    }

    return undefined;
  }, [focusTreeAPI, containerRef, createIsElementAncestorOf, id], [delegateFocusFirstFoundFacet, delegateFocusFromMemoryFacet]);
  const onFocusableOfDynastyFocused = (0,react.useCallback)((decedentId, origin) => {
    // We don't want to store the focused id for delegation memory when the focus
    // originates from a tree mutation, since we rely on the memory being stable
    // between focus tree mutations of a sub tree. Furthermore, it is arguable that
    // delegation after a focus tree mutation much rather should be calculated when
    // needed instead and isn't preferable to store.
    if (origin === FocusOrigin.FocusTreeMutation) return;
    const element = focusTreeAPI.getElement(id);
    const delegatingLandmark = isDelegatingLandmark(element) ? element : undefined;

    if ((delegatingLandmark === null || delegatingLandmark === void 0 ? void 0 : delegatingLandmark.delegationMemoryStack) != null) {
      var _delegatingLandmark$l2;

      const usedLandmarkKey = (_delegatingLandmark$l2 = delegatingLandmark === null || delegatingLandmark === void 0 ? void 0 : delegatingLandmark.landmarkKey) !== null && _delegatingLandmark$l2 !== void 0 ? _delegatingLandmark$l2 : NO_LANDMARK_KEY; // We are intentionally mutating the delegationMemoryStack here without using
      // putNode, since this is considered local state of the node itself
      // and shouldn't cause any side effects / mutations of the rest of the tree or
      // to the currently focused element. The reason why we are doing this is because
      // calling putNode is a lot unnecessary overhead in this case. If we in the future
      // will do any other mutations to the node in this place then we should
      // consider to use putNode instead.

      const delegationMemoryStack = delegatingLandmark.delegationMemoryStack.get(usedLandmarkKey) || [];

      if (delegationMemoryStack != null) {
        // If the id already exists in the stack, remove it
        const itemIndexInStack = delegationMemoryStack.indexOf(decedentId);

        if (itemIndexInStack !== -1) {
          delegationMemoryStack.splice(itemIndexInStack, 1);
        } // Add the id to the top of the stack


        delegationMemoryStack.unshift(decedentId);
        delegatingLandmark.delegationMemoryStack.set(usedLandmarkKey, delegationMemoryStack);
      }
    }
  }, [focusTreeAPI, id]);
  const unObserve = (0,react.useRef)();
  const focusTreeElement = (0,react.useRef)(undefined);
  const refWasMissingOnFirstPutNode = (0,react.useRef)(false);
  /**
   * Tries to add the container to the focus tree during the render body to make sure it is available by the time
   * any focusable is rendered.LandmarkType
   *
   * If we rely only on effects, React runs the leaves first (adding the focusables before the containers).
   */

  (0,react.useMemo)(() => {
    var _unObserve$current;

    (_unObserve$current = unObserve.current) === null || _unObserve$current === void 0 ? void 0 : _unObserve$current.call(unObserve);
    unObserve.current = (0,react_facet_src.multiObserve)((disabled, hidden, scrollAxis, alias, scrollOptions, shouldBindFocus, disabledContext, delegateFocusFirstFound, delegateFocusByAlias, delegateFocusFromMemory, landmarkKey) => {
      const previousFocusable = focusTreeAPI.getElement(id);
      const delegatingProps = delegateFocusFirstFound ? _objectSpread(_objectSpread({
        onFocusableOfDynastyFocused,
        getDelegatedFocus
      }, !disableFocusBinding && shouldBindFocus ? {
        shouldBindFocus: true
      } : {}), {}, {
        delegateFocusByAlias,
        landmarkKey,
        delegationMemoryStack: delegateFocusFromMemory === true ? isDelegatingLandmark(previousFocusable) && previousFocusable.delegationMemoryStack != null ? previousFocusable.delegationMemoryStack : new Map() : undefined
      }) : {};

      const container = _objectSpread({
        scrollAxis: scrollAxis,
        type: types_FocusableType.LANDMARK,
        id: id,
        ref: containerRef.current,
        alias: alias,
        scrollIntoViewAlign: scrollOptions === null || scrollOptions === void 0 ? void 0 : scrollOptions.scrollIntoViewAlign,
        scrollIntoViewOffset: scrollOptions === null || scrollOptions === void 0 ? void 0 : scrollOptions.scrollIntoViewOffset,
        scrollIntoViewSpeedFactor: scrollOptions === null || scrollOptions === void 0 ? void 0 : scrollOptions.scrollIntoViewSpeedFactor,
        disabled: disabled === true || disabledContext.disabled === true,
        hidden: hidden === true || disabledContext.hidden === true
      }, delegatingProps);

      focusTreeElement.current = container;
      refWasMissingOnFirstPutNode.current = containerRef.current == null;
      focusTreeAPI.putNode(container, parentId);
    }, [disabledFacet, hiddenFacet, scrollAxisFacet, aliasFacet, scrollOptionsFacet, shouldBindFocusFacet, disabledContextFacet, delegateFocusFirstFoundFacet, delegateFocusByAliasFacet, delegateFocusFromMemoryFacet, landmarkKeyFacet]);
  }, [id, focusTreeAPI, parentId, onFocusableOfDynastyFocused, containerRef, getDelegatedFocus, disableFocusBinding, disabledFacet, hiddenFacet, scrollAxisFacet, aliasFacet, scrollOptionsFacet, shouldBindFocusFacet, disabledContextFacet, delegateFocusFirstFoundFacet, delegateFocusByAliasFacet, delegateFocusFromMemoryFacet, landmarkKeyFacet]);
  (0,react.useEffect)(() => () => {
    var _unObserve$current2;

    (_unObserve$current2 = unObserve.current) === null || _unObserve$current2 === void 0 ? void 0 : _unObserve$current2.call(unObserve);
  }, []);
  (0,react.useEffect)(() => {
    if (!refWasMissingOnFirstPutNode.current) {
      return;
    }

    if (containerRef.current == null || focusTreeElement.current == null) {
      // The container ref could be missing when for example the Landmark is
      // disabled and the ref is not mounted until the Landmark is enabled.
      return;
    }

    const updatedContainer = _objectSpread(_objectSpread({}, focusTreeElement.current), {}, {
      ref: containerRef.current
    }); // We need to call putNode here again since container components can be a decedent of the Landmark component
    // and the useMemo above will run before React creates the native elements of decedent components.


    focusTreeAPI.putNode(updatedContainer, parentId); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);
  (0,react_facet_src.useFacetEffect)(refreshFocus => {
    if (focusTreeElement.current == null || focusTreeElement.current.hidden || focusTreeElement.current.disabled || refreshFocus == null) {
      return;
    }

    const delegatedFocus = getDelegatedFocus();

    if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
      setFocusedId(delegatedFocus.id, false);
    } // TODO: this didn't manage to save the memory of the child debug this

  }, [getDelegatedFocus, setFocusedId], [refreshFocusFacet]); // does nothing on mount
  // doesn't run on updates
  // remove on unmount

  (0,react.useEffect)(() => () => focusTreeAPI.removeNode(id), [focusTreeAPI, id]);
  const pathWithId = [...path, id];
  const Landmark = (0,react.useMemo)(() => ({
    children
  }) => /*#__PURE__*/react.createElement(PathContext.Provider, {
    value: pathWithId
  }, children), // Disable lint check because we actually want each value in the array
  // eslint-disable-next-line react-hooks/exhaustive-deps
  pathWithId); // This is for debugging the focus tree

  (0,react.useEffect)(() => {
    if (window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__ == null) return;
    if (containerRef.current == null) return;
    containerRef.current.setAttribute(DATA_FOCUSABLE_DEBUG_ID, `${id}`);
  }, [id, containerRef]);
  return /*#__PURE__*/react.createElement(Landmark, null, children);
};
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/apiContext.tsx


const apiContext_logWarning = () => {
  if (false) {}
};

const GamepadAPIContext = (0,react.createContext)({
  runAddNodeEffect: () => {},
  isFocusableFocused: () => {
    apiContext_logWarning();
    return false;
  },
  addOrUpdateNode: apiContext_logWarning,
  removeNode: apiContext_logWarning,
  requestAutofocus: apiContext_logWarning,
  requestFocus: apiContext_logWarning,
  addAnalogListener: () => {
    apiContext_logWarning();
    return () => {};
  },
  addDigitalListener: () => {
    apiContext_logWarning();
    return () => {};
  },
  clickFocusableAtPoint: apiContext_logWarning,
  focusFocusableAtPoint: apiContext_logWarning,
  getCurrentFocusable: () => undefined
});
const {
  Provider: apiContext_Provider,
  Consumer: apiContext_Consumer
} = GamepadAPIContext;
const GamepadAPIProvider = apiContext_Provider;
const GamepadAPIConsumer = (/* unused pure expression or super */ null && (apiContext_Consumer));
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/pathContext.tsx

const pathContext_PathContext = (0,react.createContext)([]);
const {
  Provider: pathContext_Provider,
  Consumer: pathContext_Consumer
} = pathContext_PathContext;

;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/id.tsx
// starts with 1 given 0 has a falsy value and can lead to incorrect checks
let id_seed = 1;
const id_generateId = () => id_seed++;
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/boundedFocusContext.ts

const boundedFocusContext_Context = (0,react.createContext)(true);
const useShouldBoundFocus = () => (0,react.useContext)(boundedFocusContext_Context);
const BoundedFocusProvider = boundedFocusContext_Context.Provider;
const BoundedFocusConsumer = boundedFocusContext_Context.Consumer;
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/useContainer.tsx






function useContainer(gamepad, type, ref, nodeIdRef) {
  const shouldBoundFocus = useShouldBoundFocus();
  const id = (0,react.useMemo)(() => id_generateId(), []);

  if (nodeIdRef) {
    nodeIdRef.current = id;
  }

  const gamepadFacet = (0,react_facet_src.useFacetWrap)(gamepad);
  const api = (0,react.useContext)(GamepadAPIContext);
  const path = (0,react.useContext)(pathContext_PathContext);
  /**
   * Tries to add the container to the focus tree during the render body to make sure it is available by the time
   * any focusable is rendered.
   *
   * If we rely only on effects, React runs the leaves first (adding the focusables before the containers).
   */

  const gamepadValue = gamepadFacet.get();

  if (gamepadValue != null && gamepadValue != react_facet_src.NO_VALUE) {
    const container = {
      type: type,
      id: id,
      path: path,
      bounded: shouldBoundFocus && gamepadValue.bounded,
      index: gamepadValue.index,
      defaultFocusedChildAlias: gamepadValue.defaultFocusedChildAlias,
      defaultFocusedChildBehavior: gamepadValue.defaultFocusedChildBehavior,
      disabled: gamepadValue.disabled,
      ref: ref,
      scrollWithAnalog: gamepadValue.scrollWithAnalog,
      scrollIntoView: gamepadValue.scrollIntoView,
      scrollIntoViewAlign: gamepadValue.scrollIntoViewAlign,
      scrollIntoViewOffset: gamepadValue.scrollIntoViewOffset,
      scrollIntoViewSpeedFactor: gamepadValue.scrollIntoViewSpeedFactor
    };
    api.addOrUpdateNode(container);
  }

  (0,react_facet_src.useFacetEffect)(gamepad => {
    const container = {
      type: type,
      id: id,
      path: path,
      bounded: shouldBoundFocus && gamepad.bounded,
      index: gamepad.index,
      defaultFocusedChildAlias: gamepad.defaultFocusedChildAlias,
      defaultFocusedChildBehavior: gamepad.defaultFocusedChildBehavior,
      disabled: gamepad.disabled,
      ref: ref,
      scrollWithAnalog: gamepad.scrollWithAnalog,
      scrollIntoView: gamepad.scrollIntoView,
      scrollIntoViewAlign: gamepad.scrollIntoViewAlign,
      scrollIntoViewOffset: gamepad.scrollIntoViewOffset,
      scrollIntoViewSpeedFactor: gamepad.scrollIntoViewSpeedFactor
    };
    api.addOrUpdateNode(container);
  }, [api, id, path, type, ref, shouldBoundFocus], [gamepadFacet]); // does nothing on mount
  // doesn't run on updates
  // remove on unmount

  (0,react.useEffect)(() => () => api.removeNode(id), [api, id]);
  const pathWithId = [...path, id];
  const Wrapper = (0,react.useMemo)(() => ({
    children
  }) => /*#__PURE__*/react.createElement(pathContext_Provider, {
    value: pathWithId
  }, children), // Disable lint check because we actually want each value in the array
  // eslint-disable-next-line react-hooks/exhaustive-deps
  pathWithId);
  return Wrapper;
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/useRow.tsx

function useRow(gamepad, ref, nodeIdRef) {
  return useContainer(gamepad, 'row', ref, nodeIdRef);
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/useColumn.tsx

function useColumn(gamepad, ref, nodeIdRef) {
  return useContainer(gamepad, 'column', ref, nodeIdRef);
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/deprecated.tsx




/**
 * @deprecated use Row instead
 */
function GamepadRow(props) {
  const gamepad = {
    bounded: props.bounded,
    disabled: props.disabled,
    index: props.gamepadIndex,
    defaultFocusedChildAlias: props.defaultFocusedChildAlias,
    defaultFocusedChildBehavior: props.defaultFocusedChildBehavior,
    scrollWithAnalog: props.scrollWithAnalog,
    scrollIntoView: props.scrollIntoView,
    scrollIntoViewAlign: props.scrollIntoViewAlign,
    scrollIntoViewOffset: props.scrollIntoViewOffset,
    scrollIntoViewSpeedFactor: props.scrollIntoViewSpeedFactor
  };
  const Row = useRow(gamepad, props.scrollRef, props.nodeIdRef);
  return /*#__PURE__*/react.createElement(Row, null, props.children);
}

/**
 * @deprecated use Column instead
 */
function GamepadColumn(props) {
  const gamepad = {
    bounded: props.bounded,
    disabled: props.disabled,
    index: props.gamepadIndex,
    defaultFocusedChildAlias: props.defaultFocusedChildAlias,
    defaultFocusedChildBehavior: props.defaultFocusedChildBehavior,
    scrollWithAnalog: props.scrollWithAnalog,
    scrollIntoView: props.scrollIntoView,
    scrollIntoViewAlign: props.scrollIntoViewAlign,
    scrollIntoViewOffset: props.scrollIntoViewOffset,
    scrollIntoViewSpeedFactor: props.scrollIntoViewSpeedFactor
  };
  const Column = useColumn(gamepad, props.scrollRef, props.nodeIdRef);
  return /*#__PURE__*/react.createElement(Column, null, props.children);
}
;// CONCATENATED MODULE: ./packages/react-gamepad/src/GamepadColumn.tsx
function GamepadColumn_extends() { GamepadColumn_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return GamepadColumn_extends.apply(this, arguments); }





function GamepadColumn_GamepadColumn(props) {
  const {
    version: gamepadVersion
  } = useGamepadAdapter();

  if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
    return /*#__PURE__*/react.createElement(GamepadColumn, props);
  }

  if (props.shouldSkipLandmarkInVisual) {
    return /*#__PURE__*/react.createElement(DisabledArea, {
      disabled: props.disabled
    }, props.children);
  }

  if (props.scrollAxis != null) {
    // wery weird typescript problem
    return /*#__PURE__*/react.createElement(Landmark, GamepadColumn_extends({}, props, {
      scrollAxis: props.scrollAxis,
      shouldBindFocus: props.bounded,
      containerRef: props.scrollRef,
      delegateFocusFirstFound: props.defaultFocusedChildBehavior === 'first' || props.defaultFocusedChildBehavior === 'remember' || props.bounded,
      delegateFocusFromMemory: props.defaultFocusedChildBehavior === 'remember',
      delegateFocusByAlias: props.defaultFocusedChildAlias
    }));
  }

  return /*#__PURE__*/react.createElement(Landmark, GamepadColumn_extends({}, props, {
    scrollAxis: props.scrollAxis,
    shouldBindFocus: props.bounded,
    containerRef: props.scrollRef,
    delegateFocusFirstFound: props.defaultFocusedChildBehavior === 'first' || props.defaultFocusedChildBehavior === 'remember' || props.bounded,
    delegateFocusFromMemory: props.defaultFocusedChildBehavior === 'remember',
    delegateFocusByAlias: props.defaultFocusedChildAlias
  }));
}
;// CONCATENATED MODULE: ./packages/react-gamepad/src/GamepadRow.tsx
function GamepadRow_extends() { GamepadRow_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return GamepadRow_extends.apply(this, arguments); }





function GamepadRow_GamepadRow(props) {
  const {
    version: gamepadVersion
  } = useGamepadAdapter();

  if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
    return /*#__PURE__*/react.createElement(GamepadRow, props);
  }

  if (props.shouldSkipLandmarkInVisual) {
    return /*#__PURE__*/react.createElement(DisabledArea, {
      disabled: props.disabled
    }, props.children);
  }

  if (props.scrollAxis != null) {
    // wery weird typescript problem
    return /*#__PURE__*/react.createElement(Landmark, GamepadRow_extends({}, props, {
      scrollAxis: props.scrollAxis,
      shouldBindFocus: props.bounded,
      containerRef: props.scrollRef,
      delegateFocusFirstFound: props.defaultFocusedChildBehavior === 'first' || props.defaultFocusedChildBehavior === 'remember' || props.bounded,
      delegateFocusFromMemory: props.defaultFocusedChildBehavior === 'remember',
      delegateFocusByAlias: props.defaultFocusedChildAlias
    }));
  }

  return /*#__PURE__*/react.createElement(Landmark, GamepadRow_extends({}, props, {
    scrollAxis: props.scrollAxis,
    shouldBindFocus: props.bounded,
    containerRef: props.scrollRef,
    delegateFocusFirstFound: props.defaultFocusedChildBehavior === 'first' || props.defaultFocusedChildBehavior === 'remember' || props.bounded,
    delegateFocusFromMemory: props.defaultFocusedChildBehavior === 'remember',
    delegateFocusByAlias: props.defaultFocusedChildAlias
  }));
}
// EXTERNAL MODULE: ./node_modules/events/events.js
var events = __webpack_require__(7187);
;// CONCATENATED MODULE: ./packages/react-scaling/src/useOnComponentResize.ts



/**
 * Hook that allows listening on changes of the size of a component
 *
 * @param ref ref to the DOM element being listened
 * @param onResize callback that will be called with the new sizes
 */
const useOnComponentResize_useOnComponentResize = (ref, onResize) => {
  const eventEmitter = (0,react.useContext)(resizesRecalculationContext);
  (0,react.useEffect)(() => {
    const element = ref.current;
    if (element == null) return;
    return observeResize(element, onResize, eventEmitter);
  }, [ref, onResize, eventEmitter]);
};
/**
 * Implementation based on https://github.com/batata-frita/element-rect-observer
 */

const observeResize = (element, onResize, eventEmitter) => {
  let recordedSize;
  let frameId;

  const handler = () => {
    const boundingClientRect = element.getBoundingClientRect(); // If the new bounding client rect is completely zero, that means
    // that the component got hidden. We don't want to act on that, since
    // it is not a resize: when the component gets displayed again, it will
    // have the same size as it had before it being hidden.

    if ( true && boundingClientRect.width === 0 && boundingClientRect.height === 0 && boundingClientRect.top === 0 && boundingClientRect.left === 0 && boundingClientRect.right === 0 && boundingClientRect.bottom === 0 && boundingClientRect.x === 0 && boundingClientRect.y === 0) {
      return;
    }

    if (recordedSize != null && boundingClientRect.width === recordedSize.width && boundingClientRect.height === recordedSize.height && boundingClientRect.top === recordedSize.top && boundingClientRect.left === recordedSize.left && boundingClientRect.right === recordedSize.right && boundingClientRect.bottom === recordedSize.bottom && boundingClientRect.x === recordedSize.x && boundingClientRect.y === recordedSize.y) {
      return;
    }

    recordedSize = boundingClientRect;
    onResize(recordedSize);
  };
  /**
   * Wait three frames to get the initial value, as Gameface doesn't calculate bounding rect on request.
   * On testing we don't wait so we can have snapshots.
   */


  const handlerWrapper =  false ? 0 : () => {
    frameId = requestAnimationFrame(() => {
      frameId = requestAnimationFrame(handler);
    });
  };
  const observer = new window.MutationObserver(handlerWrapper);
  window.addEventListener('resize', handlerWrapper);
  observer.observe(element, {
    attributes: true,
    childList: true,
    characterData: true,
    subtree: true
  });
  eventEmitter.addListener('recalculate', handlerWrapper);
  handlerWrapper();
  return () => {
    observer.disconnect();
    window.removeEventListener('resize', handlerWrapper);
    eventEmitter.removeListener('recalculate', handlerWrapper);
    cancelAnimationFrame(frameId);
  };
};

const resizesRecalculationContext = (0,react.createContext)(new events.EventEmitter());
/**
 * Hook that returns a function that once called will force recalculating the sizes of all
 * components we are listening on resizing.
 *
 * Can be useful on situations such as transitions or animations that causes the UI to change size unexpectedly.
 */

const useOnComponentResizeForceRecalculate = () => {
  const eventEmitter = useContext(resizesRecalculationContext);
  return useCallback(() => {
    eventEmitter.emit('recalculate');
  }, [eventEmitter]);
};
;// CONCATENATED MODULE: ./packages/react-scaling/src/ScalingProvider.tsx




let GUIScales;

(function (GUIScales) {
  GUIScales[GUIScales["SCALING_25"] = 1] = "SCALING_25";
  GUIScales[GUIScales["SCALING_50"] = 2] = "SCALING_50";
  GUIScales[GUIScales["SCALING_75"] = 3] = "SCALING_75";
  GUIScales[GUIScales["SCALING_100"] = 4] = "SCALING_100";
  GUIScales[GUIScales["SCALING_125"] = 5] = "SCALING_125";
  GUIScales[GUIScales["SCALING_150"] = 6] = "SCALING_150";
  GUIScales[GUIScales["SCALING_175"] = 7] = "SCALING_175";
  GUIScales[GUIScales["SCALING_200"] = 8] = "SCALING_200";
})(GUIScales || (GUIScales = {}));

/**
 * Private API Provider that setups scaling in the UI
 */
function ScalingProvider({
  guiScale,
  onGuiScaleApplied,
  children
}) {
  const [baseFontSize, setBaseFontSize] = (0,react_facet_src.useFacetState)(10);
  (0,react_facet_src.useFacetEffect)(guiScale => {
    setBaseFontSize(guiScale * 2.5);
  }, [setBaseFontSize], [guiScale]);
  (0,react_facet_src.useFacetEffect)((guiScale, baseFontSize) => {
    const html = document.getElementsByTagName('html')[0];
    const body = document.body;
    html.style.fontSize = `${baseFontSize}px`;
    body.style.setProperty('--baseFontSize', `${baseFontSize}px`);
    const base2Scale = Math.max(Math.round(guiScale / 4 * 2), 1);
    body.style.setProperty('--base2Scale', `${base2Scale}px`);
    body.style.setProperty('--base2ScaleNeg', `-${base2Scale}px`);
    const base1Scale = Math.max(Math.round(guiScale / 4), 1);
    body.style.setProperty('--base1Scale', `${base1Scale}px`);
    body.style.setProperty('--base1ScaleNeg', `-${base1Scale}px`);
    onGuiScaleApplied();
  }, [onGuiScaleApplied], [guiScale, baseFontSize]);
  return /*#__PURE__*/react.createElement(resizesRecalculationContext.Provider, {
    value: (0,react.useMemo)(() => new events.EventEmitter(), [])
  }, /*#__PURE__*/react.createElement(scaleContext.Provider, {
    value: guiScale
  }, /*#__PURE__*/react.createElement(baseFontSizeContext.Provider, {
    value: baseFontSize
  }, children)));
}
const baseFontSizeContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: 10
}));
const scaleContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: 4
}));
;// CONCATENATED MODULE: ./packages/react-scaling/src/useSizeInPixels.ts



/**
 * Converts a size in rems to pixels using the scaling information
 */

const useSizeInPixels = sizeInRems => {
  const baseFontSize = (0,react_facet_src.useFacetUnwrap)((0,react.useContext)(baseFontSizeContext));
  const fontSize = baseFontSize === react_facet_src.NO_VALUE ? 10 : baseFontSize;
  return sizeInRems * fontSize;
};
;// CONCATENATED MODULE: ./packages/react-scaling/src/useWindowBreakpoint.ts



/**
 * Hook that takes scaling and window size into consideration to calculate styling breakpoints
 */
const useWindowBreakpoint = (narrowBreakpointWidth = 70) => {
  const narrowBreakpoint = useSizeInPixels(narrowBreakpointWidth);
  const tabletBreakpoint = useSizeInPixels(128);
  const [breakpoint, setBreakpoint] = (0,react.useState)('desktop');
  (0,react.useEffect)(() => {
    const checkBreakpoint = () => {
      const screenWidth = window.innerWidth;

      if (screenWidth < narrowBreakpoint) {
        return 'narrow';
      }

      if (screenWidth < tabletBreakpoint) {
        return 'tablet';
      }

      return 'desktop';
    };

    const update = () => setBreakpoint(checkBreakpoint());

    update();
    window.addEventListener('resize', update);
    return () => window.removeEventListener('resize', update);
  }, [narrowBreakpoint, tabletBreakpoint]);
  return breakpoint;
};
;// CONCATENATED MODULE: ./packages/react-scaling/src/useIsWindowNarrow.ts


/**
 * Given a size in rems, taking scaling in consideration it checks if the window is smaller in width
 * than the provided size.
 *
 * @param size in rems
 * @returns if the window is narrower then the provided size
 */

const useIsWindowNarrow = (size = 100) => {
  const sizeInPixels = useSizeInPixels(size);
  const checkNarrow = (0,react.useCallback)(() => {
    return window.innerWidth < sizeInPixels;
  }, [sizeInPixels]);
  const [isNarrow, setIsNarrow] = (0,react.useState)(checkNarrow());
  (0,react.useEffect)(() => {
    const update = () => setIsNarrow(checkNarrow());

    update();
    window.addEventListener('resize', update);
    return () => window.removeEventListener('resize', update);
  }, [checkNarrow]);
  return isNarrow;
};
;// CONCATENATED MODULE: ./packages/react-scaling/src/useIsComponentSmallerThan.ts




/**
 * If "unknown', the size of the component is not yet known and the recommendation is to render a skeleton
 */

/**
 * Hook that returns a facet with the information about this component being smaller than a given size
 *
 * @param ref ref to the DOM element being listened
 * @param sizeInRem size in rems
 * @returns Facet<SmallerThanResult>
 */
const useIsComponentSmallerThan = (ref, sizeInRem) => {
  const [isSmallerFacet, setIsSmaller] = (0,react_facet_src.useFacetState)('unknown');
  const sizeInPixels = useSizeInPixels(sizeInRem);
  const onResize = (0,react.useCallback)(newSize => {
    setIsSmaller(newSize.width < sizeInPixels ? 'smaller' : 'bigger');
  }, [setIsSmaller, sizeInPixels]);
  useOnComponentResize_useOnComponentResize(ref, onResize);
  return isSmallerFacet;
};
;// CONCATENATED MODULE: ./packages/react-scaling/src/Scaling.ts





;// CONCATENATED MODULE: ./packages/react-scaling/src/index.ts


;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/NavigationBarLayout.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NavigationBarLayout = ({"NavigationBarLayout":"JAtEp","NavigationBarLayoutChildrenWrapper":"jCHoJ","NavigationBarLayoutChildren":"LH19k"});
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/constants.ts
const DEFAULT_ROLE = 'neutral';
const NEUTRAL_ROLES = [DEFAULT_ROLE, 'neutral20', 'neutral50', 'neutral60', 'neutral80', 'neutral100'];
const SEMANTIC_ROLES = ['primary', 'primaryTint', 'secondary', 'tertiary', 'success', 'successTint', 'destructive', 'destructiveTint', 'informative', 'informativeTint', 'notice', 'noticeTint'];
const PAPER_ROLE = 'paper';
const ROLES = [...NEUTRAL_ROLES, ...SEMANTIC_ROLES, PAPER_ROLE]; // Variant

const DEFAULT_FOREGROUND_VARIANT = 'regular';
const EFFECT_VARIANT = 'reversed';
const FOREGROUND_VARIANTS = ['dimmest', 'dimmer', 'stronger', 'strongest'];
const NONE_DEFAULT_VARIANTS = [...FOREGROUND_VARIANTS, EFFECT_VARIANT];
const VARIANTS = [DEFAULT_FOREGROUND_VARIANT, ...NONE_DEFAULT_VARIANTS]; // Element

const FOREGROUND_ELEMENTS = ['text', 'icon', 'border', 'caret'];
const LIGHTING_EFFECT_ELEMENTS = ['specular', 'bevel', 'highlight'];
const HIGHLIGHT_ELEMENT = 'highlight';
const BASE_ELEMENTS = ['background', 'shadow', 'outline', 'overlay', 'dropShadow'];
const ELEMENTS = [...FOREGROUND_ELEMENTS, ...BASE_ELEMENTS, ...LIGHTING_EFFECT_ELEMENTS]; // Modifier

const DEFAULT_MODIFIER = 'default';
const HOVERED = 'hovered';
const PRESSED = 'pressed';
const DISABLED = 'disabled';
const SELECTED = 'selected';
const FOCUSED = 'focused';
const INTERACTIVE_MODIFIERS = [SELECTED, FOCUSED, HOVERED, PRESSED, DISABLED];
const MODIFIERS = ['default', ...INTERACTIVE_MODIFIERS];
const PSEUDO_SELECTORS = ['hover', 'press', 'disable', 'select', 'focus', 'base', 'interactive']; // Component

const COMPONENTS = ['pressable', 'panel']; // Sound

const SOUND_EVENTS = ['reject', 'click', 'press', 'focus', 'hover', 'hoverExit', 'contract', 'expand', 'toggle', 'lift'];
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/typeGuards.ts
 // Element

const isForegroundElement = element => {
  return FOREGROUND_ELEMENTS.includes(element);
};
const isLightingEffectElement = element => {
  return LIGHTING_EFFECT_ELEMENTS.includes(element);
};
const hasVariant = (element, variant = 'regular') => typeof element !== 'undefined' && variant in element;
const isRegularModifier = element => typeof element !== 'undefined' && 'default' in element;
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/collectionToClassName.ts


const flattenCollection = collection => {
  const flattened = []; // Way too much hassle to get the types correct
  // eslint-disable-next-line @typescript-eslint/no-explicit-any

  const recurse = (value, path) => {
    if (value != null && 'default' in value) {
      MODIFIERS.forEach(modifier => {
        if (value[modifier] != null) {
          flattened.push({
            path: [...path, mapModifierToPseudoSelector[modifier]],
            value: value[modifier]
          });
        }
      });
    } else {
      for (const prop in value) {
        recurse(value[prop], [...path, prop]);
      }
    }
  };

  recurse(collection.color, [collection.id]);
  recurse(collection.component, [collection.id]);
  return flattened;
};

const generateCss = (selector, element, value) => {
  switch (element) {
    case 'background':
    case 'icon':
    case 'shadow':
    case 'highlight':
    case 'overlay':
    case 'dropShadow':
      return `${selector} { background-color: ${value}; }`;

    case 'border':
    case 'outline':
      return `${selector} { border-color: ${value}; }`;

    case 'text':
      return `${selector} { color: ${value}; }`;

    case 'specular':
    case 'bevel':
      const {
        top,
        bottom
      } = value;

      if (selector.includes('reversed')) {
        return `${selector} { border-top-color: ${bottom}; border-left-color: ${bottom}; border-bottom-color: ${top};  border-right-color: ${top} }`;
      }

      return `${selector} { border-top-color: ${top}; border-left-color: ${top}; border-bottom-color: ${bottom};  border-right-color: ${bottom} }`;

    case 'caret':
      return `${selector} { caret-color: ${value}; }`;

    case 'pressable':
    case 'panel':
      const texture = value;
      return `${selector} { border-image-slice: ${texture.slice}; border-image-width: ${texture.width}; border-image-outset: ${texture.outset}; border-image-repeat: ${texture.repeat}; border-image-source: url(${texture.source}); }`;
  }
};

const mapModifierToPseudoSelector = {
  [DEFAULT_MODIFIER]: 'base',
  [HOVERED]: 'hover',
  [PRESSED]: 'press',
  [FOCUSED]: 'focus',
  [SELECTED]: 'select',
  [DISABLED]: 'disable'
};
const mapPseudoSelectorToModifier = {
  base: DEFAULT_MODIFIER,
  hover: HOVERED,
  press: PRESSED,
  focus: FOCUSED,
  select: SELECTED,
  disable: DISABLED
};

const extractSelectorAndElement = path => {
  const element = isTexture(path) ? path[1] : path[2];
  const foregroundElement = isForegroundElement(element);
  const lightingElement = isLightingEffectElement(element);
  const modifier = path[path.length - 1];
  const state = mapPseudoSelectorToModifier[modifier]; // Note that splice will mutate path by removing variant from it

  const variant = foregroundElement ? path.splice(3, 1)[0] : undefined;
  const baseSelector = path.join('-');
  const defaultSelector = path.slice(0, -1).join('-');
  const interactiveSelector = path.slice(0, -1).concat('interactive').join('-');

  if (lightingElement) {
    const selector = modifier === 'base' ? `.${defaultSelector},.${interactiveSelector}` : `.${baseSelector}.${state},.${state} .${baseSelector},.${interactiveSelector}.${state},.${state} .${interactiveSelector}`;
    const reversedSelector = modifier === 'base' ? `.${defaultSelector}.reversed,.${interactiveSelector}.reversed` : `.${baseSelector}.reversed.${state},.${state} .${baseSelector}.reversed,.${interactiveSelector}.reversed.${state},.${state} .${interactiveSelector}.reversed`;
    return {
      element,
      selector: [selector, reversedSelector]
    };
  }

  const variantClassName = variant == null || variant === 'regular' ? '' : `.${variant}`;
  const selector = modifier === 'base' ? `.${defaultSelector}${variantClassName},.${interactiveSelector}${variantClassName}` : `.${baseSelector}${variantClassName}.${state},.${state} .${baseSelector}${variantClassName},.${interactiveSelector}${variantClassName}.${state},.${state} .${interactiveSelector}${variantClassName}`;
  return {
    element,
    selector
  };
};

const isTexture = path => path.includes('texture');

const transformToCss = arr => {
  return arr.map(({
    path,
    value
  }) => {
    const {
      element,
      selector
    } = extractSelectorAndElement(path);
    return Array.isArray(selector) ? selector.map(selector => generateCss(selector, element, value)).join('') : generateCss(selector, element, value);
  }).join('');
};

const collectionToClassName = collection => {
  const collectionFlattened = flattenCollection(collection);
  const css = transformToCss(collectionFlattened);
  return css;
};
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/SemanticRole.tsx

const SemanticRoleScopeContext = (0,react.createContext)('neutral');
const useInheritSemanticRole = () => (0,react.useContext)(SemanticRoleScopeContext);
const SemanticRoleProvider = ({
  role,
  children
}) => {
  if (role === 'inherit') {
    return /*#__PURE__*/react.createElement(react.Fragment, null, children);
  }

  return /*#__PURE__*/react.createElement(SemanticRoleScopeContext.Provider, {
    value: role
  }, children);
};
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/utils.ts
const COLLECTION_STYLE_ID_PREFIX = `semantic-tokens-collection-id-`;
const getCollectionStyleId = collectionId => `${COLLECTION_STYLE_ID_PREFIX}${collectionId}`;
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/semanticColorTokens.ts


const generateClassNames = id => {
  const classNames = {
    color: {},
    component: {},
    variant: VARIANT_CLASS_NAMES,
    modifier: MODIFIER_CLASS_NAMES // eslint-disable-next-line @typescript-eslint/no-explicit-any

  };

  for (const role of ROLES) {
    classNames.color[role] = {};

    for (const element of ELEMENTS) {
      classNames.color[role][element] = {};

      for (const pseudo of PSEUDO_SELECTORS) {
        if (id == null) {
          classNames.color[role][element][pseudo] = undefined;
        } else {
          if (pseudo === 'base') {
            classNames.color[role][element][pseudo] = `${id}-${role}-${element}`;
          } else {
            classNames.color[role][element][pseudo] = `${id}-${role}-${element}-${pseudo}`;
          }
        }
      }
    }
  }

  for (const component of COMPONENTS) {
    classNames.component[component] = {
      texture: {}
    };

    for (const role of ROLES) {
      classNames.component[component].texture[role] = {};

      for (const pseudo of PSEUDO_SELECTORS) {
        if (id == null) {
          classNames.component[component].texture[role][pseudo] = undefined;
        } else {
          if (pseudo === 'base') {
            classNames.component[component].texture[role][pseudo] = `${id}-${component}-${role}-texture`;
          } else {
            classNames.component[component].texture[role][pseudo] = `${id}-${component}-${role}-texture-${pseudo}`;
          }
        }
      }
    }
  }

  return classNames;
};

const semanticColorTokensPerId = {};
const getSemanticColorTokens = id => {
  if (id == null) return EMPTY_SEMANTIC_COLOR_TOKENS;

  if (semanticColorTokensPerId[id] == null) {
    semanticColorTokensPerId[id] = generateClassNames(id);
  }

  return semanticColorTokensPerId[id];
};

const getModifiers = () => {
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  const modifiers = {};

  for (const modifier of INTERACTIVE_MODIFIERS) {
    modifiers[modifier] = modifier;
  }

  return modifiers;
};

const MODIFIER_CLASS_NAMES = getModifiers();

const getVariants = () => {
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  const variants = {};

  for (const variant of NONE_DEFAULT_VARIANTS) {
    variants[variant] = variant;
  }

  return variants;
};

const VARIANT_CLASS_NAMES = getVariants();
const EMPTY_SEMANTIC_COLOR_TOKENS = generateClassNames();
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/semanticSoundTokens.ts


const generateSoundTokens = collection => {
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  const semanticSoundTokens = {};

  for (const role of ROLES) {
    var _collection$sound$rol, _collection$sound;

    semanticSoundTokens[role] = (_collection$sound$rol = collection === null || collection === void 0 ? void 0 : (_collection$sound = collection.sound) === null || _collection$sound === void 0 ? void 0 : _collection$sound[role]) !== null && _collection$sound$rol !== void 0 ? _collection$sound$rol : {};
  }

  return semanticSoundTokens;
};

const semanticSoundTokensPerId = {};
const getSemanticSoundTokens = collection => {
  if (collection == null) return EMPTY_SEMANTIC_SOUND_TOKENS;
  if (collection.id == null) return EMPTY_SEMANTIC_SOUND_TOKENS;

  if (semanticSoundTokensPerId[collection.id] == null) {
    semanticSoundTokensPerId[collection.id] = generateSoundTokens(collection);
  }

  return semanticSoundTokensPerId[collection.id];
};
const EMPTY_SEMANTIC_SOUND_TOKENS = generateSoundTokens();
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/SemanticTokensProvider.tsx
function SemanticTokensProvider_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function SemanticTokensProvider_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { SemanticTokensProvider_ownKeys(Object(source), true).forEach(function (key) { SemanticTokensProvider_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { SemanticTokensProvider_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function SemanticTokensProvider_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








const DEFAULT_MANAGER_CONTEXT = {
  registerCollection: () => undefined
};
const ManagerContext = (0,react.createContext)(DEFAULT_MANAGER_CONTEXT);
const DEFAULT_COLLECTION_CONTEXT = {
  id: undefined,
  tokens: SemanticTokensProvider_objectSpread(SemanticTokensProvider_objectSpread({}, EMPTY_SEMANTIC_COLOR_TOKENS), {}, {
    sound: EMPTY_SEMANTIC_SOUND_TOKENS
  })
};
const CollectionContext = (0,react.createContext)(DEFAULT_COLLECTION_CONTEXT);

const useCollection = () => {
  const ctxValue = (0,react.useContext)(CollectionContext);

  if (ctxValue.id == null) {
    console.error('Trying to use collection context outside of provider.');
  }

  return ctxValue;
};

const useSemanticTokens = () => {
  const tokens = useCollection().tokens;
  const inheritRole = useInheritSemanticRole();
  const semanticClassNamesWithInheritedRole = (0,react.useMemo)(() => {
    var _tokens$rawColors;

    return SemanticTokensProvider_objectSpread(SemanticTokensProvider_objectSpread({}, tokens), {}, {
      color: SemanticTokensProvider_objectSpread(SemanticTokensProvider_objectSpread({}, tokens.color), {}, {
        inherit: tokens.color[inheritRole]
      }),
      rawColors: SemanticTokensProvider_objectSpread(SemanticTokensProvider_objectSpread({}, tokens.rawColors || {}), {}, {
        inherit: (_tokens$rawColors = tokens.rawColors) === null || _tokens$rawColors === void 0 ? void 0 : _tokens$rawColors[inheritRole]
      }),
      sound: SemanticTokensProvider_objectSpread(SemanticTokensProvider_objectSpread({}, tokens.sound), {}, {
        inherit: tokens.sound[inheritRole]
      })
    });
  }, [tokens, inheritRole]);
  return semanticClassNamesWithInheritedRole;
};
// Query for styles added at build time
const initialStyleElementsById = Array.from(document.querySelectorAll(`head style[id^="${COLLECTION_STYLE_ID_PREFIX}"]`)).reduce((stylesMap, element) => SemanticTokensProvider_objectSpread(SemanticTokensProvider_objectSpread({}, stylesMap), {}, {
  [element.id.replace(COLLECTION_STYLE_ID_PREFIX, '')]: element
}), {});
const SemanticTokensCollectionsManager = ({
  children
}) => {
  const styleElementsById = (0,react.useRef)(initialStyleElementsById);
  const registeredCollections = (0,react.useRef)({});
  const ctxValue = (0,react.useMemo)(() => ({
    registerCollection: collection => {
      // In development we want to update styling when a collections changes, eg. for hot module reloading
      if (false) {} // In production we don't have a use case (yet) for updating styling dynamically, so ignore updates of collections


      if (true) {
        if (styleElementsById.current[collection.id] != null) {
          return;
        }
      }

      const styleId = getCollectionStyleId(collection.id); // Remove old styling (needed in Gameface)

      const oldStyleElement = document.querySelector(`head style[id="${styleId}"]`);

      if (oldStyleElement != null) {
        document.head.removeChild(oldStyleElement);
      } // Add new styling


      const style = document.createElement('style');
      style.id = styleId;
      style.innerHTML = collectionToClassName(collection);
      document.head.appendChild(style);
      styleElementsById.current[collection.id] = style;
      registeredCollections.current[collection.id] = collection;
    }
  }), []);
  return /*#__PURE__*/react.createElement(ManagerContext.Provider, {
    value: ctxValue
  }, children);
};
const SemanticTokensProvider_SemanticTokensCollectionProvider = ({
  collection,
  children
}) => {
  const managerCtx = (0,react.useContext)(ManagerContext);
  const registerCollection = managerCtx === null || managerCtx === void 0 ? void 0 : managerCtx.registerCollection;
  const parentCtx = (0,react.useContext)(CollectionContext);
  (0,react.useEffect)(() => {
    if (collection == null || registerCollection == null) {
      return;
    }

    registerCollection(collection);
  }, [collection, registerCollection]);
  const collectionCtxValue = (0,react.useMemo)(() => {
    const semanticClassNames = getSemanticColorTokens(collection === null || collection === void 0 ? void 0 : collection.id); // Fallback on other collection's colors for each role on a per element basis.
    // Note: Not sure if possible to make the below type safe, so used any + cast to correct type.

    const color = {}; // eslint-disable-next-line @typescript-eslint/no-explicit-any

    const rawColors = {};

    for (const role of ROLES) {
      const className = semanticClassNames.color[role];
      const parentClassName = parentCtx.tokens.color[role];
      color[role] = {};
      rawColors[role] = {};

      for (const element of ELEMENTS) {
        var _collection$color$rol, _collection$color$rol2, _collection$color$rol3, _parentCtx$tokens$raw, _parentCtx$tokens$raw2;

        color[role][element] = (collection === null || collection === void 0 ? void 0 : (_collection$color$rol = collection.color[role]) === null || _collection$color$rol === void 0 ? void 0 : _collection$color$rol[element]) != null ? className[element] : parentClassName[element];
        rawColors[role][element] = (collection === null || collection === void 0 ? void 0 : (_collection$color$rol2 = collection.color[role]) === null || _collection$color$rol2 === void 0 ? void 0 : _collection$color$rol2[element]) != null ? collection === null || collection === void 0 ? void 0 : (_collection$color$rol3 = collection.color[role]) === null || _collection$color$rol3 === void 0 ? void 0 : _collection$color$rol3[element] : parentCtx === null || parentCtx === void 0 ? void 0 : (_parentCtx$tokens$raw = parentCtx.tokens.rawColors) === null || _parentCtx$tokens$raw === void 0 ? void 0 : (_parentCtx$tokens$raw2 = _parentCtx$tokens$raw[role]) === null || _parentCtx$tokens$raw2 === void 0 ? void 0 : _parentCtx$tokens$raw2[element];
      }
    } // Set texture class names to undefined if not defined in collection.


    const component = COMPONENTS.reduce((acc, component) => {
      const texture = ROLES.reduce((texturesPerRole, role) => {
        var _collection$component, _collection$component2;

        texturesPerRole[role] = (collection === null || collection === void 0 ? void 0 : (_collection$component = collection.component) === null || _collection$component === void 0 ? void 0 : (_collection$component2 = _collection$component[component]) === null || _collection$component2 === void 0 ? void 0 : _collection$component2[role]) != null ? semanticClassNames.component[component].texture[role] : EMPTY_SEMANTIC_COLOR_TOKENS.component[component].texture[role];
        return texturesPerRole;
      }, {});
      acc[component] = {
        texture
      };
      return acc;
    }, {});
    const semanticSounds = getSemanticSoundTokens(collection);
    const sound = {};

    for (const role of ROLES) {
      sound[role] = {};
      const parentSound = parentCtx.tokens.sound[role];

      for (const soundEvent of SOUND_EVENTS) {
        var _semanticSounds$role$;

        sound[role][soundEvent] = (_semanticSounds$role$ = semanticSounds[role][soundEvent]) !== null && _semanticSounds$role$ !== void 0 ? _semanticSounds$role$ : parentSound[soundEvent];
      }
    }

    return {
      id: collection === null || collection === void 0 ? void 0 : collection.id,
      tokens: {
        variant: VARIANT_CLASS_NAMES,
        modifier: MODIFIER_CLASS_NAMES,
        color,
        component,
        // We expose raw values here since it is in some rare cases necessary to get those values directly,
        // eg. if a text-decoration should have the same color as the text token.
        // However, for performance reasons this should be avoided if not absolutely necessary.
        rawColors: rawColors,
        sound
      }
    };
  }, [collection, parentCtx]);

  if (!collection) {
    return /*#__PURE__*/react.createElement(react.Fragment, null, children);
  }

  return /*#__PURE__*/react.createElement(CollectionContext.Provider, {
    value: collectionCtxValue
  }, children);
};
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/testHelpers.tsx
function testHelpers_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function testHelpers_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { testHelpers_ownKeys(Object(source), true).forEach(function (key) { testHelpers_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { testHelpers_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function testHelpers_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




const emptyColorRole = ELEMENTS.reduce((acc, element) => testHelpers_objectSpread(testHelpers_objectSpread({}, acc), {}, {
  [element]: {}
}), {});

const createSoundsForRoleMock = role => SOUND_EVENTS.reduce((acc, sound) => testHelpers_objectSpread(testHelpers_objectSpread({}, acc), {}, {
  [sound]: `mockTokens.${role}.${sound}`
}), {});

const mockTokens = {
  id: 'mockTokens',
  color: ROLES.reduce((acc, role) => testHelpers_objectSpread(testHelpers_objectSpread({}, acc), {}, {
    [role]: emptyColorRole
  }), {}),
  sound: ROLES.reduce((roles, role) => testHelpers_objectSpread(testHelpers_objectSpread({}, roles), {}, {
    [role]: createSoundsForRoleMock(role)
  }), {})
};
const MockSemanticTokensCollectionProvider = ({
  children
}) => {
  return /*#__PURE__*/React.createElement(SemanticTokensCollectionProvider, {
    collection: mockTokens
  }, children);
};
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/collectionCreator.ts


const collectionCreator = collection => {
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  const collectionWithFallbacks = {
    id: collection.id,
    color: {},
    component: {},
    sound: {}
  };

  for (const role of ROLES) {
    var _collection$sound, _collection$sound2;

    collectionWithFallbacks.sound[role] = ((_collection$sound = collection.sound) === null || _collection$sound === void 0 ? void 0 : _collection$sound[role]) || ((_collection$sound2 = collection.sound) === null || _collection$sound2 === void 0 ? void 0 : _collection$sound2[DEFAULT_ROLE]) || {};

    if (!collection.color[role]) {
      continue;
    }

    collectionWithFallbacks.color[role] = {};

    for (const element of ELEMENTS) {
      var _collection$color;

      const collectionRole = collection.color[role];
      const fallbackRole = (_collection$color = collection.color) === null || _collection$color === void 0 ? void 0 : _collection$color[DEFAULT_ROLE];
      const collectionElement = collectionRole === null || collectionRole === void 0 ? void 0 : collectionRole[element];

      if (isForegroundElement(element)) {
        for (const variant of VARIANTS) {
          if (hasVariant(collectionElement, variant) || collectionElement == null && variant === DEFAULT_FOREGROUND_VARIANT) {
            var _collectionWithFallba, _fallbackRole$element, _fallbackRole$element2, _ref, _ref2, _collectionVariant$DI;

            collectionWithFallbacks.color[role][element] = (_collectionWithFallba = collectionWithFallbacks.color[role][element]) !== null && _collectionWithFallba !== void 0 ? _collectionWithFallba : {};
            const collectionVariant = collectionElement === null || collectionElement === void 0 ? void 0 : collectionElement[variant];
            const fallbackVariant = collectionElement === null || collectionElement === void 0 ? void 0 : collectionElement[DEFAULT_FOREGROUND_VARIANT];
            const fallbackRoleVariant = (fallbackRole === null || fallbackRole === void 0 ? void 0 : (_fallbackRole$element = fallbackRole[element]) === null || _fallbackRole$element === void 0 ? void 0 : _fallbackRole$element[variant]) || (fallbackRole === null || fallbackRole === void 0 ? void 0 : (_fallbackRole$element2 = fallbackRole[element]) === null || _fallbackRole$element2 === void 0 ? void 0 : _fallbackRole$element2[DEFAULT_FOREGROUND_VARIANT]);
            collectionWithFallbacks.color[role][element][variant] = (_ref = collectionVariant !== null && collectionVariant !== void 0 ? collectionVariant : fallbackVariant) !== null && _ref !== void 0 ? _ref : fallbackRoleVariant;
            const disabledValue = (_ref2 = (_collectionVariant$DI = collectionVariant === null || collectionVariant === void 0 ? void 0 : collectionVariant[DISABLED]) !== null && _collectionVariant$DI !== void 0 ? _collectionVariant$DI : fallbackVariant === null || fallbackVariant === void 0 ? void 0 : fallbackVariant[DISABLED]) !== null && _ref2 !== void 0 ? _ref2 : fallbackRoleVariant === null || fallbackRoleVariant === void 0 ? void 0 : fallbackRoleVariant[DISABLED];

            if (disabledValue != null) {
              collectionWithFallbacks.color[role][element][variant].disabled = disabledValue;
            }
          }
        }
      } else {
        if (collectionRole) {
          const collectionElementWithFallback = collectionElement !== null && collectionElement !== void 0 ? collectionElement : fallbackRole === null || fallbackRole === void 0 ? void 0 : fallbackRole[element];

          if (isRegularModifier(collectionElementWithFallback)) {
            var _collectionWithFallba2, _collectionElementWit, _fallbackRole$element3;

            collectionWithFallbacks.color[role][element] = (_collectionWithFallba2 = collectionWithFallbacks.color[role][element]) !== null && _collectionWithFallba2 !== void 0 ? _collectionWithFallba2 : {};
            collectionWithFallbacks.color[role][element] = collectionElementWithFallback;
            const disabledValue = (_collectionElementWit = collectionElementWithFallback === null || collectionElementWithFallback === void 0 ? void 0 : collectionElementWithFallback[DISABLED]) !== null && _collectionElementWit !== void 0 ? _collectionElementWit : fallbackRole === null || fallbackRole === void 0 ? void 0 : (_fallbackRole$element3 = fallbackRole[element]) === null || _fallbackRole$element3 === void 0 ? void 0 : _fallbackRole$element3[DISABLED];

            if (disabledValue != null) {
              collectionWithFallbacks.color[role][element].disabled = disabledValue;
            }
          }
        }
      }
    }
  }

  for (const component of COMPONENTS) {
    var _collection$component;

    const componentStyles = (_collection$component = collection.component) === null || _collection$component === void 0 ? void 0 : _collection$component[component];

    if (componentStyles == null) {
      continue;
    }

    collectionWithFallbacks.component[component] = {};

    for (const role of ROLES) {
      const componentStyle = componentStyles[role];

      if (componentStyle == null) {
        continue;
      }

      collectionWithFallbacks.component[component][role] = {};

      if (componentStyle.texture != null) {
        var _textureStyle$hovered, _textureStyle$pressed, _textureStyle$disable, _textureStyle$focused, _textureStyle$selecte;

        const textureStyle = componentStyle.texture;
        const defaultTexture = textureStyle.default;

        if (defaultTexture.outset == null) {
          defaultTexture.outset = '0';
        }

        if (defaultTexture.repeat == null) {
          defaultTexture.repeat = 'stretch';
        }

        collectionWithFallbacks.component[component][role].texture = {
          default: defaultTexture,
          hovered: applyBaseTexture((_textureStyle$hovered = textureStyle.hovered) !== null && _textureStyle$hovered !== void 0 ? _textureStyle$hovered : {}, defaultTexture),
          pressed: applyBaseTexture((_textureStyle$pressed = textureStyle.pressed) !== null && _textureStyle$pressed !== void 0 ? _textureStyle$pressed : {}, defaultTexture),
          disabled: applyBaseTexture((_textureStyle$disable = textureStyle.disabled) !== null && _textureStyle$disable !== void 0 ? _textureStyle$disable : {}, defaultTexture),
          focused: applyBaseTexture((_textureStyle$focused = textureStyle.focused) !== null && _textureStyle$focused !== void 0 ? _textureStyle$focused : {}, defaultTexture),
          selected: applyBaseTexture((_textureStyle$selecte = textureStyle.selected) !== null && _textureStyle$selecte !== void 0 ? _textureStyle$selecte : {}, defaultTexture)
        };
      }
    }
  }

  return collectionWithFallbacks;
};

const applyBaseTexture = (texture, baseTexture) => {
  if (texture.slice == null) {
    texture.slice = baseTexture.slice;
  }

  if (texture.width == null) {
    texture.width = baseTexture.width;
  }

  if (texture.outset == null) {
    texture.outset = baseTexture.outset;
  }

  if (texture.repeat == null) {
    texture.repeat = baseTexture.repeat;
  }

  if (texture.source == null) {
    texture.source = baseTexture.source;
  }

  return texture;
};
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/index.ts









;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/NavigationBar/NavigationBar.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NavigationBar = ({"NavigationBar":"KfhFh","NavigationBarShadow":"V4fHo","NavigationBarDropShadow":"twp35","center":"S9tQ7","left":"C0sd8","right":"m2lNR","NavigationBarSafeZoneWrapper":"xCDda"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Reflection/Reflection.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Reflection = ({"base":"VhM7i","top":"IJLgK","thin":"TlrkS","bottom":"vgsJS","left":"TayiM","right":"NnaWJ"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Reflection/Reflection.tsx
function Reflection_extends() { Reflection_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return Reflection_extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = Reflection_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function Reflection_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







const ReflectionEffect = ({
  thin,
  top = true,
  bottom = true,
  left = true,
  right = true,
  className,
  semanticStyles
}) => {
  const classList = classnames_default()(Reflection.base, semanticStyles, className, {
    [Reflection.thin]: thin
  });
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(classList, {
      [Reflection.top]: top,
      [Reflection.left]: left
    })
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(classList, {
      [Reflection.bottom]: bottom,
      [Reflection.right]: right
    })
  }));
};

const StaticReflection = (_ref) => {
  let {
    children
  } = _ref,
      props = _objectWithoutProperties(_ref, ["children"]);

  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ReflectionEffect, props), children);
};

const DynamicReflection = (_ref2) => {
  let {
    disabled,
    children
  } = _ref2,
      props = _objectWithoutProperties(_ref2, ["disabled", "children"]);

  const enabled = (0,react_facet_src.useFacetMap)(disabled => (disabled !== null && disabled !== void 0 ? disabled : false) === false, [], [(0,react_facet_src.useFacetWrap)(disabled !== null && disabled !== void 0 ? disabled : false)]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: enabled
  }, /*#__PURE__*/react.createElement(ReflectionEffect, props)), children);
};

const Reflection_Reflection = (_ref3) => {
  let {
    effect = 'specular',
    reversed,
    role = 'inherit',
    interactive = true
  } = _ref3,
      props = _objectWithoutProperties(_ref3, ["effect", "reversed", "role", "interactive"]);

  const {
    color: {
      [role]: {
        [effect]: element
      }
    },
    variant
  } = useSemanticTokens();
  const semanticStyles = classnames_default()(interactive ? element.interactive : element.base, {
    [variant.reversed]: reversed
  });
  return props.disabled != null ? /*#__PURE__*/react.createElement(DynamicReflection, Reflection_extends({
    semanticStyles: semanticStyles
  }, props)) : /*#__PURE__*/react.createElement(StaticReflection, Reflection_extends({
    semanticStyles: semanticStyles
  }, props));
};
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/NavigationBar/NavigationBar.tsx





function NavigationBar_NavigationBar({
  left,
  center,
  right,
  safeZone,
  innerRef,
  role = 'neutral20',
  showDropShadow = true
}) {
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: role
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(NavigationBar.NavigationBar, semanticClassNames.background.base)
  }, /*#__PURE__*/react.createElement("div", {
    style: {
      paddingTop: safeZone && safeZone.top + 'px',
      paddingRight: safeZone && safeZone.right + 'px',
      paddingLeft: safeZone && safeZone.left + 'px'
    }
  }, /*#__PURE__*/react.createElement("div", {
    ref: innerRef,
    className: NavigationBar.NavigationBarSafeZoneWrapper
  }, /*#__PURE__*/react.createElement("div", {
    className: NavigationBar.left
  }, left), /*#__PURE__*/react.createElement("div", {
    className: NavigationBar.center
  }, center), /*#__PURE__*/react.createElement("div", {
    className: NavigationBar.right
  }, right)), /*#__PURE__*/react.createElement(Reflection_Reflection, {
    top: false,
    right: false,
    left: false,
    role: role
  })), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(NavigationBar.NavigationBarShadow, semanticClassNames.shadow.base)
  }), showDropShadow && /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(NavigationBar.NavigationBarDropShadow)
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "bevel",
    role: role,
    top: false,
    right: false,
    left: false
  }))));
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/useShortcut.tsx





function useGlobalShortcut(gamepad, onClick) {
  useShortcut(gamepad, onClick, 'global');
}
function useParentShortcut(gamepad, onClick) {
  useShortcut(gamepad, onClick, 'parent');
}

function useShortcut(gamepad, onClick, scope) {
  const gamepadFacet = (0,react_facet_src.useFacetWrap)(gamepad);
  const id = (0,react.useMemo)(() => id_generateId(), []);
  const api = (0,react.useContext)(GamepadAPIContext);
  const path = (0,react.useContext)(pathContext_PathContext);
  (0,react_facet_src.useFacetEffect)(gamepad => {
    const shortcut = {
      type: 'shortcut',
      scope,
      id,
      path,
      onClick,
      shortcut: gamepad.button,
      inputLegend: gamepad.inputLegend,
      disabled: gamepad.disabled || false
    };
    api.addOrUpdateNode(shortcut);
  }, [id, onClick, scope, api, path], [gamepadFacet]);
  (0,react.useEffect)(() => {
    api.runAddNodeEffect();
    return () => api.removeNode(id);
  }, [api, id]);
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/GlobalShortcut.tsx

function GlobalShortcut({
  options,
  onClick
}) {
  useGlobalShortcut(options, onClick);
  return null;
}
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/hooks/useShortcut.tsx



function useShortcut_useShortcut(gamepad, callback) {
  const gamepadFacet = (0,react_facet_src.useFacetWrap)(gamepad);
  const focusTreeAPI = (0,react.useContext)(FocusTreeAPIContext);
  const path = (0,react.useContext)(PathContext);

  if (path.length === 0) {
    console.error('Parent shortcut cannot be used without a parent');
  }

  const parentId = path[path.length - 1];
  const gamepadValue = gamepadFacet.get();

  if (gamepadValue !== react_facet_src.NO_VALUE && !gamepadValue.disabled) {
    focusTreeAPI.putShortcut(parentId, gamepadValue.button, {
      callback,
      inputLegend: gamepadValue.inputLegend
    });
  } // @TODO global


  (0,react_facet_src.useFacetEffect)(gamepad => {
    const parentId = path[path.length - 1];

    if (!gamepad.disabled) {
      focusTreeAPI.putShortcut(parentId, gamepad.button, {
        callback,
        inputLegend: gamepad.inputLegend
      });
      return () => {
        focusTreeAPI.removeShortcut(parentId, gamepad.button);
      };
    }
  }, [callback, focusTreeAPI, path], [gamepadFacet]);
}
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/components/LandmarkShortcut.tsx

function LandmarkShortcut({
  options,
  onClick
}) {
  useShortcut_useShortcut(options, onClick);
  return null;
}
;// CONCATENATED MODULE: ./packages/react-gamepad/src/GlobalShortcut.tsx




function GlobalShortcut_GlobalShortcut(props) {
  const {
    version: gamepadVersion
  } = useGamepadAdapter();

  if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
    return /*#__PURE__*/react.createElement(GlobalShortcut, props);
  }

  return /*#__PURE__*/react.createElement(LandmarkShortcut, props);
}
;// CONCATENATED MODULE: ./packages/ui-primitive/src/Image/Image.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Image_Image = ({"cover":"N00gN"});
;// CONCATENATED MODULE: ./packages/ui-primitive/src/Image/Image.tsx




function Image_Image_Image({
  className,
  src,
  imageRendering,
  height,
  width,
  cover = false
}) {
  const imageRenderingFacet = (0,react_facet_src.useFacetWrap)(imageRendering);
  const srcFacet = (0,react_facet_src.useFacetWrap)(src);
  return cover === true ? /*#__PURE__*/react.createElement(BackgroundImage, {
    src: srcFacet,
    className: className,
    imageRendering: imageRenderingFacet,
    height: height,
    width: width
  }) : /*#__PURE__*/react.createElement("fast-img", {
    className: className,
    src: srcFacet,
    style: {
      height,
      width,
      imageRendering: imageRenderingFacet
    }
  });
}

function BackgroundImage({
  className,
  src,
  imageRendering,
  width,
  height
}) {
  const backgroundImage = (0,react_facet_src.useFacetMap)(src => `url(${src})`, [], [src]);
  return /*#__PURE__*/react.createElement("fast-div", {
    className: (0,react_facet_src.useFacetMap)(className => `${Image_Image.cover} ${className}`, [], [(0,react_facet_src.useFacetWrap)(className)]),
    style: {
      width,
      height,
      backgroundImage,
      imageRendering: imageRendering
    }
  });
}

const ImageResponsive = ({
  images,
  cover,
  className,
  height
}) => {
  const ref = useRef(null);
  const imagesFacet = useFacetWrap(images);
  const [containerWidth, setContainerWidth] = useFacetState(0);
  useOnComponentResize(ref, ({
    width
  }) => setContainerWidth(Math.round(width)));
  const imagesSorted = useFacetMemo(images => images.sort((a, b) => b.maxWidth - a.maxWidth), [], [imagesFacet]);
  const image = useFacetMap((images, containerWidth) => images.find(image => image.maxWidth <= containerWidth), [], [imagesSorted, containerWidth]);
  const src = useFacetMap(image => image === null || image === void 0 ? void 0 : image.src, [], [image]);
  const width = useFacetMap(image => `${image === null || image === void 0 ? void 0 : image.maxWidth}px`, [], [image]);
  return /*#__PURE__*/React.createElement("div", {
    ref: ref
  }, /*#__PURE__*/React.createElement(With, {
    data: src
  }, src => /*#__PURE__*/React.createElement(Image_Image_Image, {
    cover: cover,
    src: src,
    className: className,
    width: width,
    height: height,
    imageRendering: 'pixelated'
  })));
};
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowBack/images/arrowBack.png
const arrowBack_namespaceObject = __webpack_require__.p + "assets/arrowBack-b77b1.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowBack/IconArrowBack.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowBack = ({"iconArrowBack":"WLynF"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowBack/IconArrowBack.tsx




const IconArrowBack_IconArrowBack = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconArrowBack.iconArrowBack,
  src: arrowBack_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/react-device-information/src/types.ts
let ScreenType;

(function (ScreenType) {
  ScreenType[ScreenType["TV_SCREEN_TYPE"] = 0] = "TV_SCREEN_TYPE";
  ScreenType[ScreenType["DESKTOP_SCREEN_TYPE"] = 1] = "DESKTOP_SCREEN_TYPE";
  ScreenType[ScreenType["HANDHELD_SCREEN_TYPE"] = 2] = "HANDHELD_SCREEN_TYPE";
  ScreenType[ScreenType["VR_SCREEN_TYPE"] = 3] = "VR_SCREEN_TYPE";
})(ScreenType || (ScreenType = {}));

let HandheldDeviceType;

(function (HandheldDeviceType) {
  HandheldDeviceType[HandheldDeviceType["PHONE"] = 0] = "PHONE";
  HandheldDeviceType[HandheldDeviceType["TABLET"] = 1] = "TABLET";
})(HandheldDeviceType || (HandheldDeviceType = {}));

let types_InputMethod;

(function (InputMethod) {
  InputMethod[InputMethod["GAMEPAD"] = 0] = "GAMEPAD";
  InputMethod[InputMethod["TOUCH"] = 1] = "TOUCH";
  InputMethod[InputMethod["MOUSE"] = 2] = "MOUSE";
  InputMethod[InputMethod["MOTION"] = 3] = "MOTION";
  InputMethod[InputMethod["KEYBOARD"] = 4] = "KEYBOARD";
})(types_InputMethod || (types_InputMethod = {}));

let ARVRPlatform;

(function (ARVRPlatform) {
  ARVRPlatform[ARVRPlatform["ARVR_None"] = 0] = "ARVR_None";
  ARVRPlatform[ARVRPlatform["ARVR_Rift"] = 1] = "ARVR_Rift";
  ARVRPlatform[ARVRPlatform["ARVR_Holographic"] = 2] = "ARVR_Holographic";
  ARVRPlatform[ARVRPlatform["ARVR_WindowsMR"] = 3] = "ARVR_WindowsMR";
  ARVRPlatform[ARVRPlatform["ARVR_PSVR"] = 4] = "ARVR_PSVR";
  ARVRPlatform[ARVRPlatform["ARVR_GearVR"] = 5] = "ARVR_GearVR";
  ARVRPlatform[ARVRPlatform["ARVR_DesktopXR"] = 6] = "ARVR_DesktopXR";
})(ARVRPlatform || (ARVRPlatform = {}));

let Platform;

(function (Platform) {
  Platform[Platform["IOS"] = 0] = "IOS";
  Platform[Platform["GOOGLE"] = 1] = "GOOGLE";
  Platform[Platform["AMAZON_HANDHELD"] = 2] = "AMAZON_HANDHELD";
  Platform[Platform["UWP"] = 3] = "UWP";
  Platform[Platform["XBOX"] = 4] = "XBOX";
  Platform[Platform["NX_HANDHELD"] = 5] = "NX_HANDHELD";
  Platform[Platform["PS4"] = 6] = "PS4";
  Platform[Platform["GEARVR"] = 7] = "GEARVR";
  Platform[Platform["WIN32"] = 8] = "WIN32";
  Platform[Platform["MACOS"] = 9] = "MACOS";
  Platform[Platform["AMAZON_TV"] = 10] = "AMAZON_TV";
  Platform[Platform["NX_TV"] = 11] = "NX_TV";
  Platform[Platform["PS5"] = 12] = "PS5";
})(Platform || (Platform = {}));

let Scale;

(function (Scale) {
  Scale[Scale["SCALE_100_PERCENT"] = 4] = "SCALE_100_PERCENT";
  Scale[Scale["SCALE_125_PERCENT"] = 5] = "SCALE_125_PERCENT";
  Scale[Scale["SCALE_150_PERCENT"] = 6] = "SCALE_150_PERCENT";
  Scale[Scale["SCALE_175_PERCENT"] = 7] = "SCALE_175_PERCENT";
  Scale[Scale["SCALE_200_PERCENT"] = 8] = "SCALE_200_PERCENT";
})(Scale || (Scale = {}));

let Controller;

(function (Controller) {
  Controller[Controller["XBOX"] = 0] = "XBOX";
  Controller[Controller["PS"] = 1] = "PS";
  Controller[Controller["STEAM"] = 2] = "STEAM";
  Controller[Controller["SWITCH"] = 3] = "SWITCH";
  Controller[Controller["QUEST"] = 4] = "QUEST";
})(Controller || (Controller = {}));
;// CONCATENATED MODULE: ./packages/react-device-information/src/context.tsx



const InputMethodsContext = (0,react.createContext)({
  isPointerInputMouse: (0,react_facet_src.createStaticFacet)(false),
  isPointerInputTouch: (0,react_facet_src.createStaticFacet)(false),
  isPointerInputAvailable: (0,react_facet_src.createStaticFacet)(false),
  isFocusInputGamepad: (0,react_facet_src.createStaticFacet)(false),
  isFocusInputKeyboard: (0,react_facet_src.createStaticFacet)(false),
  isFocusInputAvailable: (0,react_facet_src.createStaticFacet)(false),
  isLastInputMouse: (0,react_facet_src.createStaticFacet)(false),
  isLastInputTouch: (0,react_facet_src.createStaticFacet)(false),
  isLastInputGamepad: (0,react_facet_src.createStaticFacet)(false),
  isLastInputKeyboard: (0,react_facet_src.createStaticFacet)(false),
  isLastInputPointer: (0,react_facet_src.createStaticFacet)(false),
  isLastInputFocus: (0,react_facet_src.createStaticFacet)(false),
  isGamepadSupported: (0,react_facet_src.createStaticFacet)(false),
  isKeyboardSupported: (0,react_facet_src.createStaticFacet)(false),
  isMouseSupported: (0,react_facet_src.createStaticFacet)(false),
  isTouchSupported: (0,react_facet_src.createStaticFacet)(false),
  isPointerSupported: (0,react_facet_src.createStaticFacet)(false),
  isFocusSupported: (0,react_facet_src.createStaticFacet)(false)
});
const platformContext = (0,react.createContext)((0,react_facet_src.createStaticFacet)(Platform.XBOX));
const VRPlatformContext = (0,react.createContext)((0,react_facet_src.createStaticFacet)(ARVRPlatform.ARVR_None));
const screenTypeContext = (0,react.createContext)((0,react_facet_src.createStaticFacet)(ScreenType.TV_SCREEN_TYPE));
const controllerContext = (0,react.createContext)((0,react_facet_src.createStaticFacet)(Controller.XBOX)); // Hooks for last used pointer input method (mouse or touch)

const useIsPointerInputMouse = () => (0,react.useContext)(InputMethodsContext).isPointerInputMouse;
const useIsPointerInputTouch = () => useContext(InputMethodsContext).isPointerInputTouch;
const useIsPointerInputAvailable = () => useContext(InputMethodsContext).isPointerInputAvailable; // Hooks for last used focus input method (keyboard or gamepad)

const useIsFocusInputGamepad = () => (0,react.useContext)(InputMethodsContext).isFocusInputGamepad;
const useIsFocusInputKeyboard = () => (0,react.useContext)(InputMethodsContext).isFocusInputKeyboard;
const useIsFocusInputAvailable = () => useContext(InputMethodsContext).isFocusInputAvailable; // Hooks for last used input method of any type

const useIsLastInputMouse = () => (0,react.useContext)(InputMethodsContext).isLastInputMouse;
const useIsLastInputTouch = () => (0,react.useContext)(InputMethodsContext).isLastInputTouch;
const useIsLastInputGamepad = () => (0,react.useContext)(InputMethodsContext).isLastInputGamepad;
const useIsLastInputKeyboard = () => (0,react.useContext)(InputMethodsContext).isLastInputKeyboard;
const useIsLastInputPointer = () => (0,react.useContext)(InputMethodsContext).isLastInputPointer;
const useIsLastInputFocus = () => (0,react.useContext)(InputMethodsContext).isLastInputFocus; // Hooks for what input methods are supported by the platform

const useIsGamepadSupported = () => useContext(InputMethodsContext).isGamepadSupported;
const useIsKeyboardSupported = () => useContext(InputMethodsContext).isKeyboardSupported;
const useIsMouseSupported = () => useContext(InputMethodsContext).isMouseSupported;
const useIsTouchSupported = () => useContext(InputMethodsContext).isTouchSupported;
const useIsPointerSupported = () => (0,react.useContext)(InputMethodsContext).isPointerSupported;
const useIsFocusSupported = () => useContext(InputMethodsContext).isFocusSupported;
const usePlatformSelected = () => (0,react.useContext)(platformContext);
const useVRPlatform = () => (0,react.useContext)(VRPlatformContext);
const useDeviceScreenType = () => (0,react.useContext)(screenTypeContext);
const useControllerSelected = () => (0,react.useContext)(controllerContext);
// EXTERNAL MODULE: ./node_modules/rtl-detect/index.js
var rtl_detect = __webpack_require__(3972);
var rtl_detect_default = /*#__PURE__*/__webpack_require__.n(rtl_detect);
;// CONCATENATED MODULE: ./packages/react-localization/src/LocalizationProvider.tsx



const noopTranslate = key => key;

const noopFormatDate = timestamp => `${timestamp}`;

const LocalizationContext = (0,react.createContext)({
  translationPrefix: 'hbui',
  translate: noopTranslate,
  formatDate: noopFormatDate,
  locale: 'en-US',
  isRtl: false
});
function LocalizationProvider({
  translationPrefix,
  translate,
  formatDate,
  children,
  locale
}) {
  const isRtl = (0,react.useMemo)(() =>  true ? rtl_detect_default().getLangDir(locale) === 'rtl' : 0, [locale]);
  const value = (0,react.useMemo)(() => ({
    translationPrefix,
    translate,
    formatDate,
    locale,
    isRtl
  }), [translationPrefix, translate, formatDate, locale, isRtl]);
  return /*#__PURE__*/react.createElement(LocalizationContext.Provider, {
    value: value
  }, children);
}
;// CONCATENATED MODULE: ./packages/react-localization/src/useLocalization.tsx


function useLocalization(namespace) {
  const {
    translationPrefix,
    translate,
    formatDate
  } = (0,react.useContext)(LocalizationContext);
  const localization = (0,react.useMemo)(() => {
    const t = (key, params) => {
      const completeKey = `${translationPrefix}${translationPrefix !== '' ? '.' : ''}${namespace}${key}`;
      const translation = translate(completeKey, params);

      if (!translation && "real" == 'fake') {}

      return translation !== null && translation !== void 0 ? translation : completeKey;
    };

    return {
      f: {
        formatDate
      },
      t
    };
  }, [translationPrefix, namespace, translate, formatDate]);
  return localization;
}
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowBackWhite/images/arrowBackWhite.png
const arrowBackWhite_namespaceObject = __webpack_require__.p + "assets/arrowBackWhite-2eb91.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowBackWhite/IconArrowBackWhite.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowBackWhite = ({"iconArrowBackWhite":"QY9oU"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowBackWhite/IconArrowBackWhite.tsx




const IconArrowBackWhite_IconArrowBackWhite = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconArrowBackWhite.iconArrowBackWhite,
  src: arrowBackWhite_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCrossWhite/images/crossWhite.png
const crossWhite_namespaceObject = __webpack_require__.p + "assets/crossWhite-0f6ce.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCrossWhite/IconCrossWhite.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconCrossWhite = ({"iconCrossWhite":"pOfo3"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCrossWhite/IconCrossWhite.tsx




const IconCrossWhite_IconCrossWhite = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconCrossWhite.iconCrossWhite,
  src: crossWhite_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-internal/src/InteractiveSiblingState/InteractiveSiblingState.tsx


const InteractiveSiblingState = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: false
}));
const useHasInteractiveSiblings = () => (0,react.useContext)(InteractiveSiblingState);
;// CONCATENATED MODULE: ./packages/ui-internal/src/Focus/Focus.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Focus = ({"focus":"Yp0em","focused":"wI0IL","inset":"L0e76","withoutBorders":"n2X5o"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Focus/Focus.tsx
function Focus_extends() { Focus_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return Focus_extends.apply(this, arguments); }

function Focus_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = Focus_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function Focus_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







const FocusEffect = ({
  semanticStyles,
  className,
  withoutBorders,
  inset
}) => {
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Focus.focus, semanticStyles, className, {
      [Focus.withoutBorders]: withoutBorders,
      [Focus.inset]: inset
    })
  });
};

const DynamicFocus = (_ref) => {
  let {
    disabled
  } = _ref,
      props = Focus_objectWithoutProperties(_ref, ["disabled"]);

  const unwrappedDisabled = (0,react_facet_src.useFacetUnwrap)(disabled);
  const disabledValue = unwrappedDisabled === react_facet_src.NO_VALUE ? false : !!unwrappedDisabled;
  return disabledValue ? null : /*#__PURE__*/react.createElement(FocusEffect, props);
};

const Focus_Focus = (_ref2) => {
  let {
    role = 'inherit',
    interactive = true
  } = _ref2,
      props = Focus_objectWithoutProperties(_ref2, ["role", "interactive"]);

  const {
    color: {
      [role]: {
        outline
      }
    }
  } = useSemanticTokens();
  const semanticStyles = interactive ? outline.interactive : outline.base;
  return props.disabled != null ? /*#__PURE__*/react.createElement(DynamicFocus, Focus_extends({
    semanticStyles: semanticStyles
  }, props)) : /*#__PURE__*/react.createElement(FocusEffect, Focus_extends({
    semanticStyles: semanticStyles
  }, props));
};
const focusClass = Focus.focused;
;// CONCATENATED MODULE: ./packages/ui-internal/src/Spacing/Spacing.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Spacing = ({"size1":"dKnsZ","size2":"jlzzq","size3":"kImvy","size4":"wuFIX","size5":"N0bYN","size6":"IhAF5","size7":"hzGpu","size8":"pqqwM"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Spacing/Spacing.tsx


function Spacing_Spacing({
  size
}) {
  return /*#__PURE__*/react.createElement("div", {
    className: Spacing[`size${size}`]
  });
}
Spacing_Spacing.displayName = 'Spacing';
;// CONCATENATED MODULE: ./packages/react-gamepad/src/useFocus.ts






function useFocus(gamepad, onClick, ref, nodeIdRef) {
  const {
    version: gamepadVersion
  } = useGamepadAdapter();
  const id = (0,react.useMemo)(() => {
    if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
      return id_generateId();
    } else {
      return __generateId();
    }
  }, [gamepadVersion]); // One use case for this is that the facet effect that calls the onFocusChanged function might not be called in time
  // if something is focused on mount. This allows the consumer to obtain the nodeIdRef as soon as we have assigned it.

  if (nodeIdRef != null) {
    nodeIdRef.current = id;
  }

  const disabledContext = (0,react.useContext)(DisabledAreaContext);
  const gamepadFacet = (0,react_facet_src.useFacetWrap)(gamepad);
  const visualApi = (0,react.useContext)(FocusTreeAPIContext);
  const visualRequestFocusIdUpdate = setFocusedId_useSetFocusedId();
  const legacyApi = (0,react.useContext)(GamepadAPIContext);
  const legacyPath = (0,react.useContext)(pathContext_PathContext);
  const visualPath = (0,react.useContext)(PathContext);
  const [isFocusedFacet, setIsFocusedFacet] = (0,react_facet_src.useFacetState)(false);
  /** This is only part of Visual API */

  const onFocus = (0,react_facet_src.useFacetCallback)(disabledContext => (origin = FocusOrigin.Unknown) => {
    if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
      legacyApi.requestFocus(id, true);
    } else if (disabledContext.disabled !== true && disabledContext.hidden !== true) {
      visualRequestFocusIdUpdate(id, false, origin);
    }
  }, [visualRequestFocusIdUpdate, id, legacyApi, gamepadVersion], [disabledContext]);
  (0,react_facet_src.useFacetEffect)((gamepad, disabledContext) => {
    const handleFocusChanged = focused => {
      if (gamepad.onFocusChanged) {
        gamepad.onFocusChanged(focused);
      }

      setIsFocusedFacet(focused);
    };

    if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
      const focusable = {
        type: 'focusable',
        id: id,
        path: legacyPath,
        alias: gamepad.alias,
        ref: ref,
        disabled: gamepad.disabled,
        autofocus: gamepad.autofocus,
        disableScrollIntoView: gamepad.disableScrollIntoView,
        scrollSpeedFactor: gamepad.scrollIntoViewSpeedFactor,
        scrollAlign: gamepad.scrollIntoViewAlign,
        scrollOffset: gamepad.scrollIntoViewOffset,
        onClick: onClick,
        onFocusedChange: handleFocusChanged,
        index: gamepad.index,
        inputLegend: gamepad.inputLegend,
        onRight: gamepad.onRight,
        onLeft: gamepad.onLeft,
        onUp: gamepad.onUp,
        onDown: gamepad.onDown
      };
      legacyApi.addOrUpdateNode(focusable);
      const isFocused = legacyApi.isFocusableFocused(id, gamepad.alias);
      setIsFocusedFacet(isFocused);
    } else {
      const focusable = {
        type: types_FocusableType.ITEM,
        id: id,
        alias: gamepad.alias,
        ref: ref.current,
        disabled: gamepad.disabled || disabledContext.disabled || false,
        hidden: gamepad.hidden || disabledContext.hidden || false,
        scrollSpeedFactor: gamepad.scrollIntoViewSpeedFactor,
        scrollAlign: gamepad.scrollIntoViewAlign,
        scrollOffset: gamepad.scrollIntoViewOffset,
        onFocus: () => {
          handleFocusChanged(true);
        },
        onBlur: () => {
          handleFocusChanged(false);
        },
        onRight: gamepad.onRight,
        onLeft: gamepad.onLeft,
        onUp: gamepad.onUp,
        onDown: gamepad.onDown
      };
      visualApi.putNode(focusable, visualPath[visualPath.length - 1]);
      visualApi.putShortcut(id, ButtonType.A, {
        callback: onClick,
        inputLegend: gamepad.inputLegend
      });
      setIsFocusedFacet(visualApi.isFocused(id, gamepad.alias));
    }
  }, [gamepadVersion, setIsFocusedFacet, legacyApi, visualApi, legacyPath, visualPath, id, onClick, ref], [gamepadFacet, disabledContext]);
  /**
   * Tries to request autofocus if disabled or autofocus options changes
   *
   * This effect must come after the effect that addOrUpdateNode
   */

  (0,react_facet_src.useFacetEffect)(autofocus => {
    if (autofocus) {
      if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
        legacyApi.requestAutofocus(id);
      } else {
        visualRequestFocusIdUpdate(id, true);
      }
    }
  }, [legacyApi, visualRequestFocusIdUpdate, id, gamepadVersion], [(0,react_facet_src.useFacetMap)(gamepad => gamepad.autofocus && !gamepad.disabled, [], [gamepadFacet])]);
  (0,react.useEffect)(() => {
    if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
      legacyApi.runAddNodeEffect();
      return () => legacyApi.removeNode(id);
    } else {
      return () => visualApi.removeNode(id);
    }
  }, [visualApi, legacyApi, gamepadVersion, id]);
  (0,react.useLayoutEffect)(() => {
    const node = ref.current;
    if (node == null) return;

    const handleFocused = () => {
      if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
        legacyApi.requestFocus(id);
      } else {
        visualRequestFocusIdUpdate(id);
      }
    };

    node.addEventListener('focusin', handleFocused);
    return () => {
      node.removeEventListener('focusin', handleFocused);
    };
  }, [ref, id, visualApi, legacyApi, gamepadVersion, visualRequestFocusIdUpdate]);
  return {
    isFocused: isFocusedFacet,
    onFocus
  };
}
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/availableInputLegends.tsx


const availableInputLegendsContext = (0,react_facet_src.createFacetContext)({});
const useAvailableInputLegends = () => (0,react.useContext)(availableInputLegendsContext);
const AvailableInputLegendsProvider = ({
  value,
  children
}) => {
  return /*#__PURE__*/react.createElement(availableInputLegendsContext.Provider, {
    value: value
  }, children);
};
;// CONCATENATED MODULE: ./packages/react-gamepad-driver-visual/src/types.ts
// TODO Create a interface for the button_map with backend

const AXIS_MAP = [[ButtonType.LEFT_ANALOG_LEFT, ButtonType.LEFT_ANALOG_RIGHT], [ButtonType.LEFT_ANALOG_UP, ButtonType.LEFT_ANALOG_DOWN], [ButtonType.RIGHT_ANALOG_LEFT, ButtonType.RIGHT_ANALOG_RIGHT], [ButtonType.RIGHT_ANALOG_UP, ButtonType.RIGHT_ANALOG_DOWN]];
/**
 * Type for buttons which can be mapped to a keyboard key
 */

const KEYBOARD_MAPPABLE_BUTTON = [ButtonType.A, ButtonType.B, ButtonType.X, ButtonType.Y, ButtonType.START, ButtonType.SELECT, ButtonType.XBOX, ButtonType.RIGHT_TRIGGER, ButtonType.LEFT_TRIGGER, ButtonType.LEFT_BUMPER, ButtonType.RIGHT_BUMPER, ButtonType.L3, ButtonType.R3, ButtonType.LEFT, ButtonType.RIGHT, ButtonType.UP, ButtonType.DOWN, ButtonType.PSEUDO_BUTTON_1, ButtonType.PSEUDO_BUTTON_2, ButtonType.PSEUDO_BUTTON_3, ButtonType.PSEUDO_BUTTON_4, ButtonType.PSEUDO_BUTTON_5, ButtonType.PSEUDO_BUTTON_6, ButtonType.PSEUDO_BUTTON_7, ButtonType.PSEUDO_BUTTON_8, ButtonType.PSEUDO_BUTTON_9, ButtonType.PSEUDO_BUTTON_10];
/**
 * Type for buttons which can be displayed on input legends
 */

const INPUT_LEGEND_BUTTONS = [ButtonType.A, ButtonType.B, ButtonType.X, ButtonType.Y, ButtonType.START, ButtonType.SELECT, ButtonType.LEFT, ButtonType.RIGHT, ButtonType.UP, ButtonType.DOWN, ButtonType.L3, ButtonType.R3, ButtonType.LEFT_ANALOG_LEFT, ButtonType.RIGHT_ANALOG_LEFT, ButtonType.LEFT_BUMPER, ButtonType.RIGHT_BUMPER, ButtonType.LEFT_TRIGGER, ButtonType.RIGHT_TRIGGER];
const ACTION_BUTTONS = [ButtonType.A, ButtonType.B, ButtonType.X, ButtonType.Y, ButtonType.START, ButtonType.SELECT, ButtonType.LEFT_BUMPER, ButtonType.RIGHT_BUMPER, ButtonType.LEFT_TRIGGER, ButtonType.RIGHT_TRIGGER, ButtonType.R3, ButtonType.L3];
const BUTTON_MAP = [ButtonType.A, ButtonType.B, ButtonType.X, ButtonType.Y, ButtonType.LEFT_BUMPER, ButtonType.RIGHT_BUMPER, ButtonType.LEFT_TRIGGER, ButtonType.RIGHT_TRIGGER, ButtonType.SELECT, ButtonType.START, ButtonType.L3, ButtonType.R3, ButtonType.UP, ButtonType.DOWN, ButtonType.LEFT, ButtonType.RIGHT, ButtonType.XBOX];
const DIRECTIONAL_BUTTONS = [ButtonType.LEFT, ButtonType.RIGHT, ButtonType.UP, ButtonType.DOWN];
const ACTION_BUTTONS_INDEX = ACTION_BUTTONS.map(string => BUTTON_MAP.indexOf(string));
const DIRECTIONAL_BUTTONS_INDEX = DIRECTIONAL_BUTTONS.map(string => BUTTON_MAP.indexOf(string));
let types_KeyboardKey;

(function (KeyboardKey) {
  KeyboardKey[KeyboardKey["BACKSPACE"] = 8] = "BACKSPACE";
  KeyboardKey[KeyboardKey["TAB"] = 9] = "TAB";
  KeyboardKey[KeyboardKey["ENTER"] = 13] = "ENTER";
  KeyboardKey[KeyboardKey["SHIFT"] = 16] = "SHIFT";
  KeyboardKey[KeyboardKey["CTRL"] = 17] = "CTRL";
  KeyboardKey[KeyboardKey["ALT"] = 18] = "ALT";
  KeyboardKey[KeyboardKey["CAPS_LOCK"] = 20] = "CAPS_LOCK";
  KeyboardKey[KeyboardKey["ESCAPE"] = 27] = "ESCAPE";
  KeyboardKey[KeyboardKey["SPACE"] = 32] = "SPACE";
  KeyboardKey[KeyboardKey["PG_UP"] = 33] = "PG_UP";
  KeyboardKey[KeyboardKey["PG_DOWN"] = 34] = "PG_DOWN";
  KeyboardKey[KeyboardKey["END"] = 35] = "END";
  KeyboardKey[KeyboardKey["LEFT"] = 37] = "LEFT";
  KeyboardKey[KeyboardKey["UP"] = 38] = "UP";
  KeyboardKey[KeyboardKey["RIGHT"] = 39] = "RIGHT";
  KeyboardKey[KeyboardKey["DOWN"] = 40] = "DOWN";
  KeyboardKey[KeyboardKey["INSERT"] = 45] = "INSERT";
  KeyboardKey[KeyboardKey["DELETE"] = 46] = "DELETE";
  KeyboardKey[KeyboardKey["KEY_0"] = 48] = "KEY_0";
  KeyboardKey[KeyboardKey["KEY_1"] = 49] = "KEY_1";
  KeyboardKey[KeyboardKey["KEY_2"] = 50] = "KEY_2";
  KeyboardKey[KeyboardKey["KEY_3"] = 51] = "KEY_3";
  KeyboardKey[KeyboardKey["KEY_4"] = 52] = "KEY_4";
  KeyboardKey[KeyboardKey["KEY_5"] = 53] = "KEY_5";
  KeyboardKey[KeyboardKey["KEY_6"] = 54] = "KEY_6";
  KeyboardKey[KeyboardKey["KEY_7"] = 55] = "KEY_7";
  KeyboardKey[KeyboardKey["KEY_8"] = 56] = "KEY_8";
  KeyboardKey[KeyboardKey["KEY_9"] = 57] = "KEY_9";
  KeyboardKey[KeyboardKey["SEMICOLON"] = 59] = "SEMICOLON";
  KeyboardKey[KeyboardKey["EQUALS"] = 61] = "EQUALS";
  KeyboardKey[KeyboardKey["KEY_A"] = 65] = "KEY_A";
  KeyboardKey[KeyboardKey["KEY_B"] = 66] = "KEY_B";
  KeyboardKey[KeyboardKey["KEY_C"] = 67] = "KEY_C";
  KeyboardKey[KeyboardKey["KEY_D"] = 68] = "KEY_D";
  KeyboardKey[KeyboardKey["KEY_E"] = 69] = "KEY_E";
  KeyboardKey[KeyboardKey["KEY_F"] = 70] = "KEY_F";
  KeyboardKey[KeyboardKey["KEY_G"] = 71] = "KEY_G";
  KeyboardKey[KeyboardKey["KEY_H"] = 72] = "KEY_H";
  KeyboardKey[KeyboardKey["KEY_I"] = 73] = "KEY_I";
  KeyboardKey[KeyboardKey["KEY_J"] = 74] = "KEY_J";
  KeyboardKey[KeyboardKey["KEY_K"] = 75] = "KEY_K";
  KeyboardKey[KeyboardKey["KEY_L"] = 76] = "KEY_L";
  KeyboardKey[KeyboardKey["KEY_M"] = 77] = "KEY_M";
  KeyboardKey[KeyboardKey["KEY_N"] = 78] = "KEY_N";
  KeyboardKey[KeyboardKey["KEY_O"] = 79] = "KEY_O";
  KeyboardKey[KeyboardKey["KEY_P"] = 80] = "KEY_P";
  KeyboardKey[KeyboardKey["KEY_Q"] = 81] = "KEY_Q";
  KeyboardKey[KeyboardKey["KEY_R"] = 82] = "KEY_R";
  KeyboardKey[KeyboardKey["KEY_S"] = 83] = "KEY_S";
  KeyboardKey[KeyboardKey["KEY_T"] = 84] = "KEY_T";
  KeyboardKey[KeyboardKey["KEY_U"] = 85] = "KEY_U";
  KeyboardKey[KeyboardKey["KEY_V"] = 86] = "KEY_V";
  KeyboardKey[KeyboardKey["KEY_W"] = 87] = "KEY_W";
  KeyboardKey[KeyboardKey["KEY_X"] = 88] = "KEY_X";
  KeyboardKey[KeyboardKey["KEY_Y"] = 89] = "KEY_Y";
  KeyboardKey[KeyboardKey["KEY_Z"] = 90] = "KEY_Z";
  KeyboardKey[KeyboardKey["NUMPAD_0"] = 96] = "NUMPAD_0";
  KeyboardKey[KeyboardKey["NUMPAD_1"] = 97] = "NUMPAD_1";
  KeyboardKey[KeyboardKey["NUMPAD_2"] = 98] = "NUMPAD_2";
  KeyboardKey[KeyboardKey["NUMPAD_3"] = 99] = "NUMPAD_3";
  KeyboardKey[KeyboardKey["NUMPAD_4"] = 100] = "NUMPAD_4";
  KeyboardKey[KeyboardKey["NUMPAD_5"] = 101] = "NUMPAD_5";
  KeyboardKey[KeyboardKey["NUMPAD_6"] = 102] = "NUMPAD_6";
  KeyboardKey[KeyboardKey["NUMPAD_7"] = 103] = "NUMPAD_7";
  KeyboardKey[KeyboardKey["NUMPAD_8"] = 104] = "NUMPAD_8";
  KeyboardKey[KeyboardKey["NUMPAD_9"] = 105] = "NUMPAD_9";
  KeyboardKey[KeyboardKey["MINUS"] = 109] = "MINUS";
  KeyboardKey[KeyboardKey["F1"] = 112] = "F1";
  KeyboardKey[KeyboardKey["F2"] = 113] = "F2";
  KeyboardKey[KeyboardKey["F3"] = 114] = "F3";
  KeyboardKey[KeyboardKey["F4"] = 115] = "F4";
  KeyboardKey[KeyboardKey["F5"] = 116] = "F5";
  KeyboardKey[KeyboardKey["F6"] = 117] = "F6";
  KeyboardKey[KeyboardKey["F7"] = 118] = "F7";
  KeyboardKey[KeyboardKey["F8"] = 119] = "F8";
  KeyboardKey[KeyboardKey["F9"] = 120] = "F9";
  KeyboardKey[KeyboardKey["F10"] = 121] = "F10";
  KeyboardKey[KeyboardKey["F11"] = 122] = "F11";
  KeyboardKey[KeyboardKey["F12"] = 123] = "F12";
  KeyboardKey[KeyboardKey["COMMA"] = 188] = "COMMA";
  KeyboardKey[KeyboardKey["PERIOD"] = 190] = "PERIOD";
  KeyboardKey[KeyboardKey["SLASH"] = 191] = "SLASH";
  KeyboardKey[KeyboardKey["GRAVE"] = 192] = "GRAVE";
  KeyboardKey[KeyboardKey["MOUSE_MOVEMENT"] = 195] = "MOUSE_MOVEMENT";
  KeyboardKey[KeyboardKey["MOUSE_BUTTON_LEFT"] = 196] = "MOUSE_BUTTON_LEFT";
  KeyboardKey[KeyboardKey["MOUSE_BUTTON_MIDDLE"] = 197] = "MOUSE_BUTTON_MIDDLE";
  KeyboardKey[KeyboardKey["MOUSE_BUTTON_RIGHT"] = 198] = "MOUSE_BUTTON_RIGHT";
  KeyboardKey[KeyboardKey["MOUSE_WHEEL"] = 199] = "MOUSE_WHEEL";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_1"] = 201] = "PSEUDO_KEY_1";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_2"] = 202] = "PSEUDO_KEY_2";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_3"] = 203] = "PSEUDO_KEY_3";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_4"] = 204] = "PSEUDO_KEY_4";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_5"] = 205] = "PSEUDO_KEY_5";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_6"] = 206] = "PSEUDO_KEY_6";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_7"] = 207] = "PSEUDO_KEY_7";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_8"] = 208] = "PSEUDO_KEY_8";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_9"] = 209] = "PSEUDO_KEY_9";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_10"] = 210] = "PSEUDO_KEY_10";
  KeyboardKey[KeyboardKey["BRACKET_OPEN"] = 219] = "BRACKET_OPEN";
  KeyboardKey[KeyboardKey["BACKSLASH"] = 220] = "BACKSLASH";
  KeyboardKey[KeyboardKey["BRACKET_CLOSE"] = 221] = "BRACKET_CLOSE";
  KeyboardKey[KeyboardKey["APOSTROPHE"] = 222] = "APOSTROPHE";
})(types_KeyboardKey || (types_KeyboardKey = {}));

let MouseButton;

(function (MouseButton) {
  MouseButton[MouseButton["Left"] = 0] = "Left";
  MouseButton[MouseButton["Middle"] = 1] = "Middle";
  MouseButton[MouseButton["Right"] = 2] = "Right";
  MouseButton[MouseButton["Back"] = 3] = "Back";
  MouseButton[MouseButton["Forward"] = 4] = "Forward";
})(MouseButton || (MouseButton = {}));
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/keyboardGamepadMap.ts




/*
 * Default mapping of keyboard keys to gamepad buttons
 */

const DEFAULT_KEYBOARD_GAMEPAD_MAP = {
  [ButtonType.UP]: [types_KeyboardKey.UP],
  [ButtonType.DOWN]: [types_KeyboardKey.DOWN],
  [ButtonType.LEFT]: [types_KeyboardKey.LEFT],
  [ButtonType.RIGHT]: [types_KeyboardKey.RIGHT],
  [ButtonType.X]: [types_KeyboardKey.KEY_X],
  [ButtonType.Y]: [types_KeyboardKey.KEY_Y],
  [ButtonType.A]: [types_KeyboardKey.ENTER, types_KeyboardKey.SPACE],
  [ButtonType.B]: [types_KeyboardKey.ESCAPE, types_KeyboardKey.BACKSPACE],
  [ButtonType.LEFT_TRIGGER]: [types_KeyboardKey.KEY_Q],
  [ButtonType.RIGHT_TRIGGER]: [types_KeyboardKey.KEY_Z],
  [ButtonType.LEFT_BUMPER]: [types_KeyboardKey.BRACKET_OPEN],
  [ButtonType.RIGHT_BUMPER]: [types_KeyboardKey.BRACKET_CLOSE],
  // TODO: Consolidate how to display joystick input legend without adding
  //       the joystick left movement to the KeyboardMappableButton list. and once that's done remove LEFT_ANALOG_LEFT and RIGHT_ANALOG_RIGHT.
  [ButtonType.LEFT_ANALOG_LEFT]: [types_KeyboardKey.KEY_9],
  [ButtonType.RIGHT_ANALOG_LEFT]: [types_KeyboardKey.KEY_0],
  [ButtonType.START]: [types_KeyboardKey.F10],
  [ButtonType.SELECT]: [types_KeyboardKey.F11],
  [ButtonType.XBOX]: [types_KeyboardKey.F1],
  [ButtonType.L3]: [types_KeyboardKey.F2],
  [ButtonType.R3]: [types_KeyboardKey.F3],
  [ButtonType.PSEUDO_BUTTON_1]: [types_KeyboardKey.PSEUDO_KEY_1],
  [ButtonType.PSEUDO_BUTTON_2]: [types_KeyboardKey.PSEUDO_KEY_2],
  [ButtonType.PSEUDO_BUTTON_3]: [types_KeyboardKey.PSEUDO_KEY_3],
  [ButtonType.PSEUDO_BUTTON_4]: [types_KeyboardKey.PSEUDO_KEY_4],
  [ButtonType.PSEUDO_BUTTON_5]: [types_KeyboardKey.PSEUDO_KEY_5],
  [ButtonType.PSEUDO_BUTTON_6]: [types_KeyboardKey.PSEUDO_KEY_6],
  [ButtonType.PSEUDO_BUTTON_7]: [types_KeyboardKey.PSEUDO_KEY_7],
  [ButtonType.PSEUDO_BUTTON_8]: [types_KeyboardKey.PSEUDO_KEY_8],
  [ButtonType.PSEUDO_BUTTON_9]: [types_KeyboardKey.PSEUDO_KEY_9],
  [ButtonType.PSEUDO_BUTTON_10]: [types_KeyboardKey.PSEUDO_KEY_10]
};
const defaultFacet = (0,react_facet_src.createStaticFacet)(DEFAULT_KEYBOARD_GAMEPAD_MAP);
const keyboardGamepadMapContext = (0,react.createContext)([defaultFacet, () => {}]);
const useKeyboardGamepadMap = () => (0,react.useContext)(keyboardGamepadMapContext);
/**
 * Hook that sets up a new keyboardGamepadMap.
 * This hook will update the keyboardGamepadMap on mount, so any changes
 * to the keyboardGamepadMap after the component is mounted will be ignored.
 *
 * @param keyboardGamepadMap the new keyboardGamepadMap
 */

const useSetKeyboardGamepadMap = (keyboardGamepadMap, hidden) => {
  const [, setKeyboardGamepadMap] = useKeyboardGamepadMap();
  useFacetEffect(hidden => {
    if (hidden !== true) {
      // This is an example of how a particular Screen can override the
      // keyboardGamepadMap set in the Application. The hook will update
      // the keyboardGamepadMap when this component is mounted.
      setKeyboardGamepadMap(keyboardGamepadMap);
    } // We disable the exhaustive-deps linting rule because we do not want to set
    // the keyboardGamepadMap again if it changes. We only want to set it on mount
    // or when being shown
    // eslint-disable-next-line react-hooks/exhaustive-deps

  }, [setKeyboardGamepadMap, keyboardGamepadMap], [hidden]);
};
;// CONCATENATED MODULE: ./packages/ui-primitive/src/InteractivePrimitive/useScheduledFunctions.ts

const useScheduledFunctions = () => {
  const timerRef = (0,react.useRef)([]);
  const cancelSchedule = (0,react.useCallback)(() => {
    timerRef.current.forEach(clearTimeout);
    timerRef.current = [];
  }, [timerRef]);
  const scheduleFunctions = (0,react.useCallback)(schedule => {
    cancelSchedule();
    let accumulatedDelay = 0;
    schedule.forEach(unit => {
      if (typeof unit === 'number') {
        accumulatedDelay += unit;
      } else {
        timerRef.current.push(setTimeout(() => unit(), accumulatedDelay));
      }
    });
  }, [cancelSchedule]);
  (0,react.useEffect)(() => {
    // Cleanup function that is triggered on component unmount to clear all the timers
    const timers = timerRef.current;
    return () => {
      timers.forEach(timeoutId => clearTimeout(timeoutId));
    };
  }, []);
  return scheduleFunctions;
};
;// CONCATENATED MODULE: ./packages/react-sound-effect/src/context.ts

const context = (0,react.createContext)(() => () => {});
const {
  Provider: context_Provider,
  Consumer: context_Consumer
} = context;

const usePlay = () => (0,react.useContext)(context);
;// CONCATENATED MODULE: ./packages/react-sound-effect/src/constants.ts
const NO_SOUND = 'react-sound-effect.NoSound';
;// CONCATENATED MODULE: ./packages/react-sound-effect/src/useSoundEffectTrigger.ts



function useSoundEffectTrigger() {
  const play = usePlay();
  const triggerSoundEffect = (0,react.useCallback)((eventName, delay = 0, volume = 1, pitch = 1) => {
    if (eventName === NO_SOUND || !eventName) return;
    play(eventName, delay, volume, pitch);
  }, [play]);
  return triggerSoundEffect;
}
;// CONCATENATED MODULE: ./packages/ui-primitive/src/InputStateOverride/InputStateOverride.tsx

const InputStateOverride_context = (0,react.createContext)(null);
const useInputStateOverride = () => (0,react.useContext)(InputStateOverride_context);
const InputStateOverride = InputStateOverride_context.Provider;
;// CONCATENATED MODULE: ./packages/react-narrator/src/context/narrationEnabled.ts

const narrationEnabledContext = (0,react.createContext)(true);
const NarrationEnabledProvider = narrationEnabledContext.Provider;
;// CONCATENATED MODULE: ./packages/react-narrator/src/hooks/useNarrationEnabled.ts


const useNarrationEnabled = () => (0,react.useContext)(narrationEnabledContext);
;// CONCATENATED MODULE: ./packages/react-narrator/src/context/narrationDriver.ts

const narrationDriverContext = (0,react.createContext)({
  narrationTree: {},
  readById: () => {},
  readText: () => {},
  clear: () => {}
});
const NarrationDriverProvider = narrationDriverContext.Provider;
;// CONCATENATED MODULE: ./packages/react-narrator/src/context/narrationContext.ts


const narrationContextContext = (0,react.createContext)((0,react_facet_src.createStaticFacet)('root'));
const NarrationContextProvider = narrationContextContext.Provider;
const useNarrationContext = () => (0,react.useContext)(narrationContextContext);
;// CONCATENATED MODULE: ./packages/react-narrator/src/hooks/useNarrationPutNode.ts
/**
 * NOTE: This hook is meant to be used only by Core components.
 * It shouldn't be considered a public API.
 *
 * In order to use it, it is exposed through the main package, but
 * the documentation for it is not in the README to avoid confusion.
 */



const useNarrationPutNode = () => {
  const {
    narrationTree
  } = (0,react.useContext)(narrationDriverContext);
  const parentNarrationIdRef = (0,react_facet_src.useFacetRef)((0,react.useContext)(narrationContextContext));
  const narrationPutNode = (0,react.useCallback)((text, shouldSkipParent = [], getSuffix) => {
    const parentNarrationId = parentNarrationIdRef.current !== react_facet_src.NO_VALUE ? parentNarrationIdRef.current : '';
    const fullNarrationId = `${parentNarrationId}-${text}`;
    narrationTree[fullNarrationId] = {
      parentNarrationId,
      text,
      shouldSkipParent,
      getSuffix
    };
    return fullNarrationId;
  }, [narrationTree, parentNarrationIdRef]); // Providing a callback to retrieve the text allows us to delay potentially
  // expensive computations used to compute the text to narrate to the moment
  // where the text will actually be read (if read)
  //
  // This is particularly useful because text is read after a delay of about
  // 300ms after the focus / hover is triggered, so that it can be canceled if
  // many focus events happen one after the other.
  //
  // This will also help keeping the frame associated with the focus event
  // small in computation time, since the computation that computes the text
  // is done asynchronously, which means the focus-related style changes
  // will be finished before it triggers.

  const narrationPutNodeWithIdAndCallback = (0,react.useCallback)((id, getText, shouldSkipParent = [], getSuffix) => {
    const parentNarrationId = parentNarrationIdRef.current !== react_facet_src.NO_VALUE ? parentNarrationIdRef.current : '';
    const fullNarrationId = `${parentNarrationId}-${id}`;
    narrationTree[fullNarrationId] = {
      parentNarrationId,
      getText,
      shouldSkipParent,
      getSuffix
    };
    return fullNarrationId;
  }, [narrationTree, parentNarrationIdRef]);
  return {
    narrationPutNode,
    narrationPutNodeWithIdAndCallback
  };
};
;// CONCATENATED MODULE: ./packages/react-narrator/src/constants.ts
const NARRATION_DEBOUNCE_DELAY = 200;
;// CONCATENATED MODULE: ./packages/react-narrator/src/hooks/useNarrateCurrentContext.ts
/**
 * NOTE: This hook is meant to be used only by Core components.
 * It shouldn't be considered a public API.
 *
 * In order to use it, it is exposed through the main package, but
 * the documentation for it is not in the README to avoid confusion.
 */




// `useNarrateCurrentContext` will narrate the content of the current narration node
// and, if necessary, all the ancestors of the current narration node.
// The goal of `useNarrateCurrentContext` is to allow the user to understand what and where the
// currently highlighted content is, for example with a focus event or with
// a mouse over event.
const useNarrateCurrentContext = () => {
  const narrateTimeoutRef = (0,react.useRef)();
  const narrationId = (0,react.useContext)(narrationContextContext);
  const {
    readById,
    narrationTree
  } = (0,react.useContext)(narrationDriverContext);
  const narrateCurrentContext = (0,react_facet_src.useFacetCallback)(narrationId => (profanityFilterContext, interruptible = true, required, playInBackground) => {
    if (Object.keys(narrationTree).length > 0) {
      narrateTimeoutRef.current = setTimeout(() => {
        readById(narrationId, profanityFilterContext ? profanityFilterContext : undefined, interruptible, required, playInBackground);
      }, NARRATION_DEBOUNCE_DELAY);
    }
  }, [readById, narrationTree], [narrationId]);
  const preventNarrateCurrentContext = (0,react.useCallback)(() => {
    if (narrateTimeoutRef.current) {
      clearTimeout(narrateTimeoutRef.current);
    }
  }, []);
  return {
    narrateCurrentContext,
    preventNarrateCurrentContext
  };
};
;// CONCATENATED MODULE: ./packages/react-narrator/src/hooks/useNarrateById.ts
/**
 * NOTE: This hook is meant to be used only by Core components.
 * It shouldn't be considered a public API.
 *
 * In order to use it, it is exposed through the main package, but
 * the documentation for it is not in the README to avoid confusion.
 */



const useNarrateById = () => {
  const narrateTimeoutRef = (0,react.useRef)();
  const {
    readById
  } = (0,react.useContext)(narrationDriverContext);
  const narrateById = (0,react.useCallback)((narrationId, interruptible = true, profanityFilterContext, required, playInBackground) => {
    narrateTimeoutRef.current = setTimeout(() => {
      readById(narrationId, profanityFilterContext, interruptible, required, playInBackground);
    }, NARRATION_DEBOUNCE_DELAY);
  }, [readById]);
  const preventNarrateById = (0,react.useCallback)(() => {
    if (narrateTimeoutRef.current) {
      clearTimeout(narrateTimeoutRef.current);
    }
  }, []);
  return {
    narrateById,
    preventNarrateById
  };
};
;// CONCATENATED MODULE: ./packages/ui-primitive/src/InteractivePrimitive/InteractivePrimitive.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const InteractivePrimitive = ({"interactivePrimitive":"BlHLJ","disabled":"OO8Fh"});
;// CONCATENATED MODULE: ./packages/ui-primitive/src/controllerSpecificButtonTranslation/controllerSpecificButtonTranslation.ts


// TODO: Should this context be part of GamepadProvider? Is it related to Navigation?
// It seems as if it could be part of the device information package instead, or something else unrelated
const controllerSpecificButtonTranslationsContext = (0,react.createContext)((0,react_facet_src.createStaticFacet)({
  keyboard: {},
  gamepad: {}
}));
const useControllerSpecificButtonTranslations = () => (0,react.useContext)(controllerSpecificButtonTranslationsContext);
;// CONCATENATED MODULE: ./packages/ui-primitive/src/InteractivePrimitive/InteractivePrimitive.tsx
function InteractivePrimitive_extends() { InteractivePrimitive_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return InteractivePrimitive_extends.apply(this, arguments); }

function InteractivePrimitive_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = InteractivePrimitive_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function InteractivePrimitive_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }















/**
 * If any parent containers want to be informed when an InteractivePrimitive
 * is mounted, they can use this context to receive a callback on mount.
 */

const InteractivePrimitiveMountCallback = (0,react.createContext)(noop);

function useMountNotification() {
  const notify = (0,react.useContext)(InteractivePrimitiveMountCallback);
  (0,react.useEffect)(notify, [notify]);
}

const DEFAULT_PRESS_DURATION = 150;
const DEFAULT_TOUCH_DETECTION_DELAY = 150;
const DEFAULT_MOUSE_OVER_HANDLER_DELAY = 50;
const TOUCH_DISTANCE_THRESHOLD = 3;
const SOUND_WAIT_DURATION = 10;
const NARRATION_SUFFIX_BUTTONS_TO_SKIP = DEFAULT_ACTIONS.map(key => `${key}`);
/**
 * The recommended abstraction to create interactive targets.
 *
 * It supports:
 * - all input methods (mouse, touch, gamepad)
 * - text-to-speech narration via an ariaLabel prop
 * - sound effect support
 *
 * All done in a better performing way for Gameface.
 */

function InteractivePrimitive_InteractivePrimitive(props) {
  const {
    onHoverChanged,
    onFocusChanged,
    onPressChanged,
    onClick,
    onGamepadClick,
    onKeyDown,
    onMouseDown,
    onUp,
    onDown,
    onLeft,
    onRight,
    touchDetectionDelay = DEFAULT_TOUCH_DETECTION_DELAY,
    focusRefOverride,
    nodeIdRef
  } = props;
  const autofocusFacet = (0,react_facet_src.useFacetWrap)(props.autofocus);
  const classNameFacet = (0,react_facet_src.useFacetWrap)(props.className);
  const dataTestIdFacet = (0,react_facet_src.useFacetWrap)(props['data-testid']);
  const classNameFocusedFacet = (0,react_facet_src.useFacetWrap)(props.classNameFocused);
  const classNameHoveredFacet = (0,react_facet_src.useFacetWrap)(props.classNameHovered);
  const classNamePressedFacet = (0,react_facet_src.useFacetWrap)(props.classNamePressed);
  const classNameDisabledFacet = (0,react_facet_src.useFacetWrap)(props.classNameDisabled);
  const delayedClickFacet = (0,react_facet_src.useFacetWrap)(props.delayedClick);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(props.disabled);
  const nonFocusableFacet = (0,react_facet_src.useFacetWrap)(props.nonFocusable);
  const hiddenFacet = (0,react_facet_src.useFacetWrap)(props.hidden);
  const disableScrollIntoViewFacet = (0,react_facet_src.useFacetWrap)(props.disableScrollIntoView);
  const gamepadAliasFacet = (0,react_facet_src.useFacetWrap)(props.gamepadAlias);
  const gamepadIndexFacet = (0,react_facet_src.useFacetWrap)(props.gamepadIndex);
  const inputLegendFacet = (0,react_facet_src.useFacetWrap)(props.inputLegend);
  const narrationTextFacet = (0,react_facet_src.useFacetWrap)('narrationText' in props ? props.narrationText : false);
  const narrationIdFacet = (0,react_facet_src.useFacetWrap)('narrationId' in props ? props.narrationId : undefined);
  const pressDurationFacet = (0,react_facet_src.useFacetWrap)(props.pressDuration);
  const soundEffectFocusedFacet = (0,react_facet_src.useFacetWrap)(props.soundEffectFocused);
  const soundEffectHoveredFacet = (0,react_facet_src.useFacetWrap)(props.soundEffectHovered);
  const soundEffectPressedFacet = (0,react_facet_src.useFacetWrap)(props.soundEffectPressed);
  const isLastInputMouse = useIsLastInputMouse();
  const isLastInputTouch = useIsLastInputTouch();
  const isLastInputGamepad = useIsLastInputGamepad();
  const isLastInputKeyboard = useIsLastInputKeyboard();
  const isLastInputKeyboardRef = (0,react_facet_src.useFacetRef)(isLastInputKeyboard);
  const localRef = (0,react.useRef)(null);
  const ref = props.innerRef || localRef;
  const lastTouchPositionRef = (0,react.useRef)({
    x: 0,
    y: 0
  });
  const stateOverride = useInputStateOverride();
  const isNarrationEnabled = useNarrationEnabled();
  const scheduleFunctions = useScheduledFunctions();
  const triggerSoundEffect = useSoundEffectTrigger();
  const availableInputLegendsFacet = useAvailableInputLegends();
  const availableInputLegendsFacetRef = (0,react_facet_src.useFacetRef)(availableInputLegendsFacet);
  const controllerSpecificButtonTranslationsFacet = useControllerSpecificButtonTranslations();
  const controllerSpecificButtonTranslationsFacetRef = (0,react_facet_src.useFacetRef)(controllerSpecificButtonTranslationsFacet);
  const currentControllerFacet = useControllerSelected();
  const currentControllerFacetRef = (0,react_facet_src.useFacetRef)(currentControllerFacet);
  const {
    narrationPutNode,
    narrationPutNodeWithIdAndCallback
  } = useNarrationPutNode();
  const {
    narrateCurrentContext,
    preventNarrateCurrentContext
  } = useNarrateCurrentContext();
  const narrationContextFacet = useNarrationContext();
  const {
    narrateById,
    preventNarrateById
  } = useNarrateById();
  const [keyboardGamepadMapFacet] = useKeyboardGamepadMap();
  const keyboardGamepadMapFacetRef = (0,react_facet_src.useFacetRef)(keyboardGamepadMapFacet);
  const hasNarrationId = ('narrationId' in props);
  const getNarrationText = 'getNarrationText' in props ? props.getNarrationText : noopString;
  const getNarrationSuffix = (0,react.useCallback)(() => {
    const currentValue = availableInputLegendsFacetRef.current;
    const currentControllerSpecificButtonTranslations = controllerSpecificButtonTranslationsFacetRef.current;
    const currentController = currentControllerFacetRef.current;
    const currentKeyboardGamepadMap = keyboardGamepadMapFacetRef.current;

    if (currentValue === react_facet_src.NO_VALUE || currentControllerSpecificButtonTranslations === react_facet_src.NO_VALUE || currentController === react_facet_src.NO_VALUE || currentKeyboardGamepadMap === react_facet_src.NO_VALUE) {
      return '';
    }

    let result = '';
    recordEntries(currentValue, (gamepadButton, narrationString) => {
      var _currentControllerSpe;

      if (NARRATION_SUFFIX_BUTTONS_TO_SKIP.indexOf(gamepadButton) !== -1) return;
      if (narrationString == null) return;
      const keyboardKey = currentKeyboardGamepadMap[gamepadButton];
      const buttonActionNarration = isLastInputKeyboardRef.current === true ? currentControllerSpecificButtonTranslations.keyboard[keyboardKey[0]] : (_currentControllerSpe = currentControllerSpecificButtonTranslations.gamepad[gamepadButton]) === null || _currentControllerSpe === void 0 ? void 0 : _currentControllerSpe[currentController];
      if (buttonActionNarration == null) return;
      result += `${buttonActionNarration}: ${narrationString} . `;
    });
    return result;
  }, [availableInputLegendsFacetRef, controllerSpecificButtonTranslationsFacetRef, currentControllerFacetRef, keyboardGamepadMapFacetRef, isLastInputKeyboardRef]);
  const getNewFullPathNarrationId = (0,react_facet_src.useFacetCallback)((narrationText, narrationId) => () => {
    if (hasNarrationId && narrationId != null) {
      return narrationPutNodeWithIdAndCallback(narrationId, getNarrationText, undefined, getNarrationSuffix);
    }

    return narrationText !== false && narrationText != null ? narrationPutNode(narrationText, undefined, getNarrationSuffix) : undefined;
  }, [narrationPutNode, hasNarrationId, narrationPutNodeWithIdAndCallback, getNarrationText, getNarrationSuffix], [narrationTextFacet, narrationIdFacet]);
  const [fullPathNarrationIdFacet, setFullPathNarrationIdFacet] = (0,react_facet_src.useFacetState)(getNewFullPathNarrationId());
  (0,react_facet_src.useFacetEffect)(() => {
    const newNarrationId = getNewFullPathNarrationId();
    setFullPathNarrationIdFacet(newNarrationId !== react_facet_src.NO_VALUE ? newNarrationId : undefined);
  }, [setFullPathNarrationIdFacet, getNewFullPathNarrationId], [narrationTextFacet, narrationContextFacet]);
  const getCurrentNarrationId = (0,react_facet_src.useFacetCallback)(narrationId => () => narrationId, [], [fullPathNarrationIdFacet]);
  const [isHoveredFacet, setIsHoveredFacet] = (0,react_facet_src.useFacetState)(false);
  const [isPressedFacet, setIsPressedFacet] = (0,react_facet_src.useFacetState)(false);
  (0,react_facet_src.useFacetEffect)(isLastInputMouse => {
    if (!isLastInputMouse) {
      setIsHoveredFacet(false);
    }
  }, [setIsHoveredFacet], [isLastInputMouse]);
  const handleMouseLeave = (0,react_facet_src.useFacetCallback)(disabled => () => {
    setIsHoveredFacet(false);
    setIsPressedFacet(false);

    if (disabled) {
      return;
    }

    onHoverChanged === null || onHoverChanged === void 0 ? void 0 : onHoverChanged(false);
    preventNarrateCurrentContext();
    preventNarrateById();
  }, [preventNarrateById, preventNarrateCurrentContext, setIsHoveredFacet, setIsPressedFacet, onHoverChanged], [disabledFacet]);
  const handleDown = (0,react_facet_src.useFacetCallback)((soundEffectPressed, disabled) => (event, ignoreHandlers) => {
    if (disabled) {
      return;
    } // Only handle primary clicks


    if (event && event.button != null && event.button > 0) {
      return;
    } // Used for if you need access to the react mouse event


    if (!ignoreHandlers && onMouseDown) {
      onMouseDown(event);
    }

    setIsPressedFacet(true);

    if (soundEffectPressed != null) {
      triggerSoundEffect(soundEffectPressed);
    }

    onPressChanged === null || onPressChanged === void 0 ? void 0 : onPressChanged(true);
  }, [triggerSoundEffect, setIsPressedFacet, onPressChanged, onMouseDown], [soundEffectPressedFacet, disabledFacet]);
  const handleMouseDown = (0,react_facet_src.useFacetCallback)(isLastInputMouse => (event, ignoreHandlers) => {
    if (!isLastInputMouse) {
      return;
    }

    handleDown(event, ignoreHandlers);
  }, [handleDown], [isLastInputMouse]);
  const handleUp = (0,react_facet_src.useFacetCallback)(disabled => event => {
    setIsPressedFacet(false);

    if (disabled) {
      return;
    } // Only handle primary clicks


    if (event && event.button > 0) {
      return;
    }

    onPressChanged === null || onPressChanged === void 0 ? void 0 : onPressChanged(false);
  }, [setIsPressedFacet, onPressChanged], [disabledFacet]);
  const handleMouseUp = (0,react_facet_src.useFacetCallback)(isLastInputMouse => event => {
    if (!isLastInputMouse) {
      return;
    }

    handleUp(event);
  }, [handleUp], [isLastInputMouse, disabledFacet]);
  const handleMouseClick = (0,react_facet_src.useFacetCallback)(disabled => event => {
    if (disabled || onClick == null) {
      return;
    }

    event.stopPropagation(); // Only handle primary clicks

    if (event.button > 0) {
      return;
    }

    return onClick();
  }, [onClick], [disabledFacet]);
  /**
   * Touch Event Handlers
   */

  const handleTouchStart = (0,react_facet_src.useFacetCallback)((isLastInputTouch, disabled) => e => {
    if (!isLastInputTouch || disabled) {
      return;
    }

    lastTouchPositionRef.current.x = e.touches[0].clientX;
    lastTouchPositionRef.current.y = e.touches[0].clientY;
    scheduleFunctions([touchDetectionDelay, () => handleDown({
      clientX: e.touches[0].clientX,
      clientY: e.touches[0].clientY
    })]);
    onPressChanged === null || onPressChanged === void 0 ? void 0 : onPressChanged(true);
  }, [touchDetectionDelay, scheduleFunctions, handleDown, onPressChanged], [isLastInputTouch, disabledFacet]);
  const handleTouchMove = (0,react_facet_src.useFacetCallback)((isLastInputTouch, disabled) => e => {
    if (!isLastInputTouch || disabled) {
      return;
    }

    if (Math.abs(lastTouchPositionRef.current.x - e.touches[0].clientX) > TOUCH_DISTANCE_THRESHOLD || Math.abs(lastTouchPositionRef.current.y - e.touches[0].clientY) > TOUCH_DISTANCE_THRESHOLD) {
      // We need to call schedule so that it cancels the handleTouchStart schedule
      scheduleFunctions([handleUp]);
    }
  }, [scheduleFunctions, handleUp], [isLastInputTouch, disabledFacet]);
  const handleTouchEnd = (0,react_facet_src.useFacetCallback)((isLastInputTouch, disabled) => () => {
    if (!isLastInputTouch || disabled) {
      return;
    } // We need to call schedule so that it cancels the handleTouchStart schedule


    scheduleFunctions([handleUp]);
    onPressChanged === null || onPressChanged === void 0 ? void 0 : onPressChanged(false);
  }, [scheduleFunctions, handleUp, onPressChanged], [isLastInputTouch, disabledFacet]);
  const handleTouchClick = (0,react_facet_src.useFacetCallback)((pressDuration, delayedClick, disabled) => event => {
    if (disabled || onClick == null) {
      return;
    }

    event.stopPropagation();
    const schedule = delayedClick ? [handleDown, SOUND_WAIT_DURATION, pressDuration !== null && pressDuration !== void 0 ? pressDuration : DEFAULT_PRESS_DURATION, handleUp, onClick] : [handleDown, SOUND_WAIT_DURATION, onClick, pressDuration !== null && pressDuration !== void 0 ? pressDuration : DEFAULT_PRESS_DURATION, handleUp];
    scheduleFunctions(schedule);
  }, [handleDown, handleUp, scheduleFunctions, onClick], [pressDurationFacet, delayedClickFacet, disabledFacet]);
  const handleGamepadOrKeyboardClick = (0,react_facet_src.useFacetCallback)((pressDuration, delayedClick, disabled) => () => {
    if (disabled || onClick == null) {
      return;
    } // If the user provided an onGamepadClick we should only call that and not the
    // onClick; this allows for specific functionality when using gamepad/keyboard.
    // Fallback to the usual onClick if no handler is provided.


    const handleClick = onGamepadClick || onClick; // We suppress the onMouseDown handler as we are calling handleMouseDown synthetically

    const handleMouseDownWithoutHandlers = () => handleDown(undefined, true);

    const schedule = delayedClick ? [handleMouseDownWithoutHandlers, SOUND_WAIT_DURATION, pressDuration !== null && pressDuration !== void 0 ? pressDuration : DEFAULT_PRESS_DURATION, handleUp, handleClick] : [handleMouseDownWithoutHandlers, SOUND_WAIT_DURATION, handleClick, pressDuration !== null && pressDuration !== void 0 ? pressDuration : DEFAULT_PRESS_DURATION, handleUp];
    scheduleFunctions(schedule);
  }, [handleDown, handleUp, scheduleFunctions, onGamepadClick, onClick], [pressDurationFacet, delayedClickFacet, disabledFacet]);
  const localIdRef = (0,react.useRef)();
  const idRef = nodeIdRef !== null && nodeIdRef !== void 0 ? nodeIdRef : localIdRef;
  const {
    isFocused: isFocusedFacet,
    onFocus
  } = useFocus((0,react_facet_src.useFacetMap)((gamepadIndex, gamepadAlias, inputLegend, disabled, hidden, nonFocusable, autofocus, disableScrollIntoView) => ({
    index: gamepadIndex !== null && gamepadIndex !== void 0 ? gamepadIndex : 0,
    alias: gamepadAlias,
    inputLegend: inputLegend === false ? undefined : inputLegend,
    disabled: disabled,
    hidden: hidden || nonFocusable,
    autofocus: autofocus,
    disableScrollIntoView: disableScrollIntoView,
    onFocusChanged,
    onUp,
    onDown,
    onLeft,
    onRight
  }), [onFocusChanged, onUp, onDown, onLeft, onRight], [gamepadIndexFacet, gamepadAliasFacet, inputLegendFacet, disabledFacet, hiddenFacet, nonFocusableFacet, autofocusFacet, disableScrollIntoViewFacet]), handleGamepadOrKeyboardClick, (focusRefOverride === null || focusRefOverride === void 0 ? void 0 : focusRefOverride.current) != null ? focusRefOverride : ref, idRef);
  /**
   * Mouse Event Handlers
   */

  const handleMouseMove = (0,react_facet_src.useFacetCallback)((isLastInputMouse, isLastInputTouch, isLastInputKeyboard, isLastInputGamepad, soundEffectHovered, disabled, isFocused, isHovered, hidden) => () => {
    if (!(isLastInputMouse || isLastInputTouch && isNarrationEnabled)) {
      return;
    }

    if (disabled || hidden || isFocused && isHovered) {
      return;
    }
    /**
     * Handle hover scenario
     */


    if (!isHovered) {
      setIsHoveredFacet(true);

      if (soundEffectHovered != null && !isFocused) {
        triggerSoundEffect(soundEffectHovered);
      } // Pointer need to narrate on every hover


      if (isLastInputMouse || isLastInputTouch) {
        const narrationId = getCurrentNarrationId();

        if (narrationId === react_facet_src.NO_VALUE || narrationId == null) {
          narrateCurrentContext();
        } else {
          narrateById(narrationId);
        }
      }

      onHoverChanged === null || onHoverChanged === void 0 ? void 0 : onHoverChanged(true);
    }
    /**
     * Handle focus scenario
     */


    if (isFocused) {
      return;
    }

    if (!(isLastInputKeyboard || isLastInputGamepad)) {
      onFocus(FocusOrigin.PointerInput);
    }
  }, [triggerSoundEffect, setIsHoveredFacet, onHoverChanged, onFocus, getCurrentNarrationId, narrateById, narrateCurrentContext, isNarrationEnabled], [isLastInputMouse, isLastInputTouch, isLastInputKeyboard, isLastInputGamepad, soundEffectHoveredFacet, disabledFacet, isFocusedFacet, isHoveredFacet, hiddenFacet]);
  const handleClick = (0,react_facet_src.useFacetCallback)((isMouse, isTouch) => event => {
    if (isMouse === true) return handleMouseClick(event);
    if (isTouch === true) return handleTouchClick(event);
  }, [handleMouseClick, handleTouchClick], [isLastInputMouse, isLastInputTouch]);
  const isFocusedAndSoundEffectFocusedFacets = (0,react_facet_src.useFacetMap)((isFocused, soundEffect) => {
    if (isFocused === true) return soundEffect;
  }, [], [isFocusedFacet, soundEffectFocusedFacet]);
  (0,react_facet_src.useFacetEffect)(soundEffectFocused => {
    // Trigger sounds
    if (soundEffectFocused != null) {
      triggerSoundEffect(soundEffectFocused);
    }
  }, [triggerSoundEffect], [isFocusedAndSoundEffectFocusedFacets]);
  (0,react_facet_src.useFacetEffect)((focused, isLastInputGamepad, isLastInputKeyboard) => {
    // Trigger narration for gamepad/keyboard (mouse/touch narration is handled in handleMouseMove)
    if (isLastInputGamepad || isLastInputKeyboard) {
      if (focused === true) {
        const narrationId = getCurrentNarrationId();

        if (narrationId == null || narrationId == react_facet_src.NO_VALUE) {
          narrateCurrentContext();
        } else {
          narrateById(narrationId);
        }
      } else {
        preventNarrateCurrentContext();
        preventNarrateById();
      }
    }
  }, [getCurrentNarrationId, narrateById, narrateCurrentContext, preventNarrateById, preventNarrateCurrentContext, onFocusChanged], [isFocusedFacet, isLastInputGamepad, isLastInputKeyboard]);
  const composedClassNameFacet = (0,react_facet_src.useFacetMap)((className, classNameHovered, classNamePressed, classNameFocused, classNameDisabled, disabledValue, isHoveredValue, isPressedValue, isFocusedValue, isLastInputKeyboard, isLastInputGamepad) => {
    const isHovered = stateOverride ? stateOverride.hovered : isHoveredValue;
    const isPressed = onClick != null && (stateOverride ? stateOverride.pressState === 'pressed' : isPressedValue);
    const isFocused = isFocusedValue && (isLastInputKeyboard || isLastInputGamepad);
    const base = className == null || className === '' ? '' : ` ${className}`;
    const hovered = isHovered ? ` ${MODIFIER_CLASS_NAMES.hovered}${classNameHovered != null ? ` ${classNameHovered}` : ''}` : '';
    const pressed = isPressed ? ` ${MODIFIER_CLASS_NAMES.pressed}${classNamePressed != null ? ` ${classNamePressed}` : ''}` : '';
    const focused = (isFocused || stateOverride !== null && stateOverride !== void 0 && stateOverride.focused) && classNameFocused != null ? ` ${MODIFIER_CLASS_NAMES.focused}${classNameFocused != null ? ` ${classNameFocused}` : ''}` : '';
    const disabled = disabledValue === true ? ` ${InteractivePrimitive.disabled}${MODIFIER_CLASS_NAMES.disabled !== InteractivePrimitive.disabled ? ' ' + MODIFIER_CLASS_NAMES.disabled : ''}` : '';
    const disabledClass = disabledValue === true && classNameDisabled != null && classNameDisabled != InteractivePrimitive.disabled ? ` ${classNameDisabled}` : '';
    return `${InteractivePrimitive.interactivePrimitive}${base}${hovered}${pressed}${focused}${disabled}${disabledClass}`;
  }, [stateOverride, onClick], [classNameFacet, classNameHoveredFacet, classNamePressedFacet, classNameFocusedFacet, classNameDisabledFacet, disabledFacet, isHoveredFacet, isPressedFacet, isFocusedFacet, isLastInputKeyboard, isLastInputGamepad]);

  if (false) {}

  useMountNotification();

  if (props.tag === 'span') {
    return /*#__PURE__*/react.createElement("fast-span", {
      ref: ref,
      className: composedClassNameFacet,
      style: props.style,
      "data-testid": dataTestIdFacet,
      onClick: handleClick,
      onTouchStart: handleTouchStart,
      onTouchMove: handleTouchMove,
      onTouchEnd: handleTouchEnd,
      onMouseDown: handleMouseDown,
      onMouseUp: handleMouseUp,
      onMouseMove: handleMouseMove,
      onMouseLeave: handleMouseLeave,
      onKeyDown: onKeyDown
    }, props.children);
  }

  return /*#__PURE__*/react.createElement("fast-div", {
    ref: ref,
    className: composedClassNameFacet,
    style: props.style,
    "data-testid": dataTestIdFacet,
    onClick: handleClick,
    onTouchStart: handleTouchStart,
    onTouchMove: handleTouchMove,
    onTouchEnd: handleTouchEnd,
    onMouseDown: handleMouseDown,
    onMouseUp: handleMouseUp,
    onMouseMove: handleMouseMove,
    onMouseLeave: handleMouseLeave,
    onKeyDown: onKeyDown
  }, props.children);
}
/**
 * InteractivePrimitive.Maybe can be used to conditionally wrap content
 * in an InteractivePrimitive. Commonly used for narration. The
 * InteractivePrimitive will only be enabled when narration is also enabled.
 */

const InteractivePrimitiveMaybe = (_ref) => {
  let {
    isInteractive,
    children,
    onClick,
    inputLegend,
    innerRef,
    className,
    classNameDisabled,
    disabled,
    style
  } = _ref,
      props = InteractivePrimitive_objectWithoutProperties(_ref, ["isInteractive", "children", "onClick", "inputLegend", "innerRef", "className", "classNameDisabled", "disabled", "style"]);

  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const classNameFacet = (0,react_facet_src.useFacetWrap)(className);
  const classNameDisabledFacet = (0,react_facet_src.useFacetWrap)(classNameDisabled);
  const childrenWrapped = (0,react_facet_src.isFacet)(children) ? /*#__PURE__*/react.createElement("fast-text", {
    text: children
  }) : /*#__PURE__*/react.createElement(react.Fragment, null, children);
  const notInteractiveClassName = (0,react_facet_src.useFacetMap)((className, disabled, classNameDisabled) => classnames_default()(className, disabled === true && MODIFIER_CLASS_NAMES.disabled !== InteractivePrimitive.disabled ? MODIFIER_CLASS_NAMES.disabled : null, disabled === true && classNameDisabled !== InteractivePrimitive.disabled ? classNameDisabled : null, disabled === true ? InteractivePrimitive.disabled : null), [], [classNameFacet, disabledFacet, classNameDisabledFacet]);
  return (0,react_facet_src.useFacetUnwrap)(isInteractive) === true ? /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, InteractivePrimitive_extends({
    onClick: onClick,
    inputLegend: inputLegend !== null && inputLegend !== void 0 ? inputLegend : false,
    innerRef: innerRef,
    className: classNameFacet,
    classNameDisabled: classNameDisabledFacet,
    disabled: disabledFacet
  }, props), childrenWrapped) : /*#__PURE__*/react.createElement("fast-div", {
    ref: innerRef,
    className: notInteractiveClassName,
    style: style
  }, childrenWrapped);
};
InteractivePrimitive_InteractivePrimitive.displayName = 'InteractivePrimitive';
InteractivePrimitive_InteractivePrimitive.Maybe = InteractivePrimitiveMaybe;

function noop() {}

function noopString() {
  return '';
}

const recordEntries = (record, callback) => {
  for (const key in record) {
    callback(key, record[key]);
  }
};
;// CONCATENATED MODULE: ./packages/ui-primitive/src/TransitionPrimitive/TransitionPrimitive.tsx


const UNMOUNTED = 'unmounted';
const EXITED = 'exited';
const ENTERING = 'entering';
const ENTERED = 'entered';
const EXITING = 'exiting';

/**
 * Some extra timing after a transition is completed to allow it some "breathing room" before we do any JavaScript operation
 * Without this extra time, we can see a small "hitch" at the end of a transition.
 */
const EXTRA_SMOOTHNESS_TIMEOUT = 100;

/**
 * Transition component based on react-transition-group, but with a much slimmer implementation
 * and without a dependency to react-dom.
 */
function TransitionPrimitive({
  visible,
  inverse = false,
  appear,
  unmountOnExit,
  timeout,
  children
}) {
  const timerIdRef = (0,react.useRef)(null); // Ref to keep track of what is the direction of a transition to be used on effects
  // See more information on its usage below

  const inverseRef = (0,react.useRef)(inverse);
  inverseRef.current = inverse; // Ref to update effects on the current value of unmountOnExit
  // without needing to re-creating them

  const unmountOnExitRef = (0,react.useRef)(unmountOnExit);
  unmountOnExitRef.current = unmountOnExit;
  const [status, setStatus] = (0,react.useState)(() => {
    if (visible && appear) return [EXITED, inverse];
    if (visible) return [ENTERED, inverse];
    return [UNMOUNTED, inverse];
  });
  const isEntering = status[0] === ENTERING;
  const isExiting = status[0] === EXITING;
  const isExited = status[0] === EXITED;
  (0,react.useEffect)(() => {
    if (isExited && unmountOnExit) {
      setStatus(status => [UNMOUNTED, status[1]]);
    }
  }, [isExited, unmountOnExit]);
  (0,react.useEffect)(() => {
    // Before we do any effect, we need to make sure to stop any scheduled state update.
    clearTimerId(timerIdRef); // Read the inverse configuration from a ref since we don't want to trigger an animation
    // just by changing its direction
    // More info: ADO 413018

    const inverse = inverseRef.current; // Only start any animation after the default press duration of a button.
    // This is to allow the user to see the press animation and to also allow React to perform any
    // rendering before we start the animation.

    const id = setTimeout(() => {
      setStatus(([currentStatus]) => {
        if (visible) {
          if (currentStatus === ENTERED) return [ENTERED, inverse];
          return [ENTERING, inverse];
        } else {
          if (currentStatus === EXITED) return [EXITED, inverse];
          if (currentStatus === UNMOUNTED) return [UNMOUNTED, inverse];
          return [EXITING, inverse];
        }
      });
    }, DEFAULT_PRESS_DURATION);
    return () => clearTimeout(id);
  }, [visible]);
  (0,react.useEffect)(() => {
    // Before we do any effect, we need to make sure to stop any scheduled state update.
    clearTimerId(timerIdRef);

    if (isEntering) {
      timerIdRef.current = setTimeout(() => setStatus(status => [ENTERED, status[1]]), timeout + EXTRA_SMOOTHNESS_TIMEOUT);
    }
  }, [isEntering, timeout]);
  (0,react.useEffect)(() => {
    // Before we do any effect, we need to make sure to stop any scheduled state update.
    clearTimerId(timerIdRef);

    if (isExiting) {
      timerIdRef.current = setTimeout(() => setStatus(status => [unmountOnExitRef.current ? UNMOUNTED : EXITED, status[1]]), timeout + EXTRA_SMOOTHNESS_TIMEOUT);
    }
  }, [isExiting, timeout]);
  (0,react.useEffect)(() => {
    // Make sure to clear any timer on unmounting this component.
    return () => clearTimerId(timerIdRef);
  }, []);
  return status[0] === UNMOUNTED ? null : children(status[0], status[1]);
}

const clearTimerId = ref => {
  if (ref.current) {
    clearTimeout(ref.current);
    ref.current = null;
  }
};
;// CONCATENATED MODULE: ./packages/ui-internal/src/animationConfiguration.ts


const animationConfiguration_context = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: true
}));
const ScreenAnimationEnabledProvider = animationConfiguration_context.Provider;
const useScreenAnimationEnabled = () => (0,react.useContext)(animationConfiguration_context);
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/MouseScrollbar.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MouseScrollbar = ({"vertical":"X5AON","disabled":"HTEVa","mouseScrollbarBackground":"I0uqP","minimal":"WfHBb","mouseScrollbarRail":"p04xH","mouseScrollbarHandler":"VOQuh","reflectionContainer":"dDEKV","mouseScrollbarHandlerBottomBevel":"ZT0PP","horizontal":"IXDlR","floating":"jHZDI","mouseScrollbarTopDetail":"FqQCr","dark":"KRqUY","horizontalIcon":"UmdPV","mouseScrollbarBottomDetail":"aEsRX"});
// EXTERNAL MODULE: ./node_modules/lodash.debounce/index.js
var lodash_debounce = __webpack_require__(1296);
var lodash_debounce_default = /*#__PURE__*/__webpack_require__.n(lodash_debounce);
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/useUpdateScrollbar.ts




 // How long to wait before notifying any listeners that scrolling has stopped

const SCROLL_STATE_CHANGE_TIMEOUT = 500;
const INPUT_LEGEND_BASE_HEIGHT = 4;
const MAX_HORIZONTAL_HANDLER_WIDTH_PERCENTAGE = 0.4;
/**
 * Hook that reads the scroll value of the container and updates the handler position
 * It does so by directly mutating the DOM element (for performance reasons)
 */

function useUpdateScrollbar(scrollingContainerRef, handlerRef, railRef, shouldListenForScrolls, scrollWrapperElement, horizontalScrolling = false, safeZonePadding = 0) {
  const [isScrolling, setIsScrolling] = (0,react_facet_src.useFacetState)(false);
  const [isBehindInputLegendFacet, setIsBehindInputLegend] = (0,react_facet_src.useFacetState)(false);
  const listenForScrolls = (0,react_facet_src.useFacetWrap)(shouldListenForScrolls !== null && shouldListenForScrolls !== void 0 ? shouldListenForScrolls : true);
  const isInitialRenderRef = (0,react.useRef)(true);
  const isFocusInputGamepad = useIsFocusInputGamepad(); // Convert rem units to pixels

  const inputLegendHeight = useSizeInPixels(INPUT_LEGEND_BASE_HEIGHT) + safeZonePadding;
  const handlerPadding = useSizeInPixels(8);
  const onScrollStart = (0,react.useMemo)(() => lodash_debounce_default()(() => setIsScrolling(true), SCROLL_STATE_CHANGE_TIMEOUT, {
    leading: true,
    trailing: false
  }), [setIsScrolling]);
  const onScrollStop = (0,react.useMemo)(() => lodash_debounce_default()(() => setIsScrolling(false), SCROLL_STATE_CHANGE_TIMEOUT, {
    leading: false,
    trailing: true
  }), [setIsScrolling]);
  /**
   * Effect that fixes the position of the scrollbar handle so that it doesn't become hidden or partially hidden behind the input legend.
   *
   * It needs to run its logic after a setTimeout to compensate for a quirk in Gameface on how getBoundingClientRect works.
   *
   * In Gameface, getBoundingClientRect should return the information from the previous frame, but unfortunately for this particular code we actually
   * need to wait a little longer before we can safely read its bounding rect.
   */

  (0,react.useEffect)(() => {
    let timeoutId = null;
    timeoutId = setTimeout(() => {
      if (!scrollWrapperElement || !scrollWrapperElement.current || horizontalScrolling) {
        return;
      }

      if (isFocusInputGamepad.get() !== true) {
        return setIsBehindInputLegend(false);
      }

      const isBehindInputLegendCurrent = window.innerHeight - scrollWrapperElement.current.getBoundingClientRect().bottom - handlerPadding < inputLegendHeight;
      setIsBehindInputLegend(isBehindInputLegendCurrent);
    }, 250);
    return () => {
      timeoutId && window.clearTimeout(timeoutId);
    };
  }, [setIsBehindInputLegend, handlerPadding, inputLegendHeight, isFocusInputGamepad, scrollWrapperElement, scrollingContainerRef, horizontalScrolling]);
  const animationFrameRef = (0,react.useRef)(null);
  const checkScroll = (0,react.useMemo)(() => {
    let previousBehindInputLegend = null;
    let previousWindowSize = null;
    let previousScroll = null;
    let shouldRerender = true;
    return () => {
      var _window$requestAnimat, _window;

      const isBehindInputLegend = isBehindInputLegendFacet.get() === true;
      const scrollingContainer = scrollingContainerRef.current;
      const handlerElement = handlerRef.current;
      const railElement = railRef.current;

      if (!scrollingContainer || !handlerElement || !railElement) {
        return;
      }

      const currentScroll = horizontalScrolling ? scrollingContainer.scrollLeft : scrollingContainer.scrollTop;
      const currentWindowSize = horizontalScrolling ? window.innerWidth : window.innerHeight; // If we detected that the scroll has changed on a previous check
      // we can update the position of affected DOM elements

      if (shouldRerender) {
        const scrollingElementRect = scrollingContainer.getBoundingClientRect(); // If we are mounting and still don't have a size for the element, we wait until the next frame

        if (!(scrollingElementRect.width === 0 || scrollingElementRect.height === 0)) {
          const inputLegendOffset = isBehindInputLegend ? inputLegendHeight : 0;
          const scrollableAreaSize = (horizontalScrolling ? scrollingElementRect.width : scrollingElementRect.height) - inputLegendOffset;
          const scrollingElementSize = horizontalScrolling ? scrollingContainer.scrollWidth : scrollingContainer.scrollHeight;
          const maxScroll = scrollingElementSize - (horizontalScrolling ? scrollingElementRect.width : scrollingElementRect.height);
          const newValue = currentScroll / maxScroll;
          const scrollViewPaddingOffset = horizontalScrolling ? scrollingContainer.getBoundingClientRect().left - scrollingElementRect.left : railElement.getBoundingClientRect().top - scrollingElementRect.top;
          const handlerFluidSize = scrollableAreaSize / scrollingElementSize * scrollableAreaSize - scrollViewPaddingOffset * 2;
          const handlerSize = Math.max(40, horizontalScrolling ? Math.min(MAX_HORIZONTAL_HANDLER_WIDTH_PERCENTAGE * scrollableAreaSize - scrollViewPaddingOffset * 2, handlerFluidSize) : handlerFluidSize);

          if (horizontalScrolling) {
            handlerElement.style.left = `${newValue * 100}%`;
            handlerElement.style.widthPX = handlerSize;
            handlerElement.style.marginLeft = `${-handlerSize / 2}px`;
            railElement.style.leftPX = handlerSize / 2;
            railElement.style.rightPX = handlerSize / 2;
          } else {
            const handlerStartPosition = newValue * (scrollableAreaSize - handlerSize - scrollViewPaddingOffset * 2);
            handlerElement.style.topPX = handlerStartPosition;
            handlerElement.style.heightPX = handlerSize;
            railElement.style.bottomPX = inputLegendOffset;
          }

          shouldRerender = false;
        }
      }

      if (isBehindInputLegend !== previousBehindInputLegend) {
        previousBehindInputLegend = isBehindInputLegend;
        shouldRerender = true;
      }

      if (currentScroll !== previousScroll) {
        if (isInitialRenderRef.current) {
          isInitialRenderRef.current = false;
        } else {
          onScrollStart();
          onScrollStop();
        }

        previousScroll = currentScroll;
        shouldRerender = true;
      }

      if (currentWindowSize !== previousWindowSize) {
        previousWindowSize = currentWindowSize;
        shouldRerender = true;
      } // Needed to be able to run visual regression testing


      animationFrameRef.current = (_window$requestAnimat = (_window = window).requestAnimationFrame) === null || _window$requestAnimat === void 0 ? void 0 : _window$requestAnimat.call(_window, checkScroll);
    };
  }, [onScrollStart, onScrollStop, horizontalScrolling, inputLegendHeight, isBehindInputLegendFacet, scrollingContainerRef, handlerRef, railRef]); // We give the user of this hook the option of providing us with a Facet<boolean>. We can use
  // that facet to determine if we should enqueue scroll checks on subsequent animation frames. If
  // the scroll view isn't visible, or we don't have a scrollbar, there is no point in putting
  // functions on every animation frame. It also scales very poorly. Unfortunately, we have to do
  // it this way because Gameface dosen't provide us with any scroll listeners - but we can at least
  // try to keep it to a minimum.

  (0,react_facet_src.useFacetEffect)(shouldListenForScrolls => {
    if (shouldListenForScrolls) {
      checkScroll();
    }

    return () => {
      var _window$cancelAnimati, _window2;

      animationFrameRef.current != null && ((_window$cancelAnimati = (_window2 = window).cancelAnimationFrame) === null || _window$cancelAnimati === void 0 ? void 0 : _window$cancelAnimati.call(_window2, animationFrameRef.current));
      onScrollStop.cancel();
      onScrollStart.cancel();
    };
  }, [checkScroll, onScrollStop, onScrollStart], [listenForScrolls]);
  return isScrolling;
}
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/useHasScrollbar.ts


/**
 * Hook that checks if there is enough content vertically to render the scrollbar
 */

function useHasScrollbar(scrollingContainerRef, horizontal = false, floating) {
  const [hasScrollbar, setHasScrollbar] = (0,react_facet_src.useFacetState)(false);
  const previousDimension = (0,react.useRef)(0);
  (0,react.useEffect)(() => {
    const check = () => {
      const scrollingElement = scrollingContainerRef.current;
      if (!scrollingElement) return;
      const {
        scrollHeight,
        scrollWidth
      } = scrollingElement; // If the container has no height then it means it is hidden
      // No need to update any state

      if (scrollHeight === 0) return;
      const {
        width,
        top,
        left,
        height
      } = scrollingElement.getBoundingClientRect();

      if (floating) {
        if (horizontal) {
          return setHasScrollbar(scrollWidth > Math.ceil(width));
        } else {
          return setHasScrollbar(scrollHeight > Math.ceil(height));
        }
      }
      /*
      If a non-floating scrollbar is used, we need to need to keep track of the dimensions of the ScrollView in order
      to not end up in a state where the scrollbar appears and re-appears.
      See https://dev.azure.com/dev-mc/Minecraft/_workitems/edit/961077 for more information.
      */


      setHasScrollbar(hasScrollbarCurrently => {
        if (hasScrollbarCurrently === true && previousDimension.current > 0) {
          if (horizontal) {
            const delta = previousDimension.current - scrollWidth;
            const position = window.innerWidth - (left + scrollWidth);

            if (position <= delta) {
              return scrollWidth > Math.ceil(width - delta);
            }
          } else {
            const delta = previousDimension.current - scrollHeight;
            const position = window.innerHeight - (top + scrollHeight);

            if (position > 0 && position <= delta) {
              return scrollHeight > Math.ceil(height - delta);
            }
          }
        }

        if (horizontal) {
          previousDimension.current = scrollWidth;
          return scrollWidth > Math.ceil(width);
        } else {
          previousDimension.current = scrollHeight;
          return scrollHeight > Math.ceil(height);
        }
      });
    };

    check();
    const intervalId = setInterval(check, 1000);
    return () => clearInterval(intervalId);
  }, [floating, horizontal, scrollingContainerRef, setHasScrollbar]);
  return hasScrollbar;
}
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/MouseScrollbar.tsx







function MouseScrollbar_MouseScrollbar({
  scrollingContainerRef,
  horizontal,
  stopCheckingForScroll,
  floating,
  darkTheme,
  minimalTheme,
  safeZonePadding
}) {
  const {
    handlerRef,
    railRef
  } = useHandlerDrag(scrollingContainerRef, horizontal);
  const handleClick = useClickToScroll(scrollingContainerRef, railRef, horizontal);
  const hasScrollbarFacet = useHasScrollbar(scrollingContainerRef, horizontal, floating);
  const stopChecking = (0,react_facet_src.useFacetWrap)(stopCheckingForScroll !== null && stopCheckingForScroll !== void 0 ? stopCheckingForScroll : false);
  const shouldListenForScrolls = (0,react_facet_src.useFacetMap)((hasScrollbar, stopChecking) => hasScrollbar && !stopChecking, [], [hasScrollbarFacet, stopChecking]);
  useUpdateScrollbar(scrollingContainerRef, handlerRef, railRef, shouldListenForScrolls, undefined, horizontal, safeZonePadding);
  const rootClassName = (0,react_facet_src.useFacetMap)(hasScrollbar => classnames_default()({
    [MouseScrollbar.vertical]: !horizontal,
    [MouseScrollbar.horizontal]: horizontal,
    [MouseScrollbar.disabled]: !hasScrollbar,
    [MouseScrollbar.floating]: floating
  }), [horizontal, floating], [hasScrollbarFacet]);
  return /*#__PURE__*/react.createElement("fast-div", {
    className: rootClassName,
    onClick: handleClick
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(MouseScrollbar.mouseScrollbarTopDetail, {
      [MouseScrollbar.horizontalIcon]: horizontal,
      [MouseScrollbar.minimal]: minimalTheme,
      [MouseScrollbar.dark]: darkTheme
    })
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(MouseScrollbar.mouseScrollbarBackground, {
      [MouseScrollbar.minimal]: minimalTheme
    })
  }), /*#__PURE__*/react.createElement("div", {
    className: MouseScrollbar.mouseScrollbarRail,
    ref: railRef
  }, /*#__PURE__*/react.createElement("div", {
    className: MouseScrollbar.mouseScrollbarHandler,
    ref: handlerRef
  }, /*#__PURE__*/react.createElement("div", {
    className: MouseScrollbar.reflectionContainer
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    role: "secondary"
  })), /*#__PURE__*/react.createElement("div", {
    className: MouseScrollbar.mouseScrollbarHandlerBottomBevel
  }))), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(MouseScrollbar.mouseScrollbarBottomDetail, {
      [MouseScrollbar.horizontalIcon]: horizontal,
      [MouseScrollbar.minimal]: minimalTheme,
      [MouseScrollbar.dark]: darkTheme
    })
  }));
}
/**
 * Hook that allows clicking anywhere in the Scrollbar to update the scroll position of the container
 */

const useClickToScroll = (scrollingContainerRef, railRef, horizontalScrollBar) => {
  return (0,react.useCallback)(event => {
    const scrollingElement = scrollingContainerRef.current;
    const railElement = railRef.current;
    if (!scrollingElement || !railElement) return;
    const railRect = railElement.getBoundingClientRect();
    const scrollingElementRect = scrollingElement.getBoundingClientRect();
    /* If it's a horizontal scrollbar the width, x and left properties of the elements should be considered, instead of height, y and top */

    if (horizontalScrollBar) {
      const scrollPercentage = (event.clientX - railRect.left) / railRect.width;
      scrollingElement.scrollLeft = scrollPercentage * (scrollingElement.scrollWidth - scrollingElementRect.width);
    } else {
      const scrollPercentage = (event.clientY - railRect.top) / railRect.height;
      scrollingElement.scrollTop = scrollPercentage * (scrollingElement.scrollHeight - scrollingElementRect.height);
    }
  }, [scrollingContainerRef, railRef, horizontalScrollBar]);
};
/**
 * Hook that allows dragging the handler to update the scroll position of the container vertically and horizontally
 * The flag horizontalScrolling is used to determine the direction of the scroll
 */


const useHandlerDrag = (scrollingContainerRef, horizontalScrolling = false) => {
  const handlerRef = (0,react.useRef)(null);
  const railRef = (0,react.useRef)(null);
  (0,react.useEffect)(() => {
    const handlerElement = handlerRef.current;
    const scrollingContainerElement = scrollingContainerRef.current;
    const railElement = railRef.current;
    if (!handlerElement || !scrollingContainerElement || !railElement) return;
    let isDragging = false;
    let delta = 0;

    const handleMouseDown = event => {
      isDragging = true;
      const rect = handlerElement.getBoundingClientRect();
      delta = horizontalScrolling ? event.clientX - rect.left : event.clientY - rect.top;
    };

    const handleMouseUp = () => {
      isDragging = false;
      delta = 0;
    };

    const handleMouseMove = event => {
      if (!isDragging) return;
      const railElementRect = railElement.getBoundingClientRect();
      const handlerElementRect = handlerElement.getBoundingClientRect();
      const scrollingContainerElementRect = scrollingContainerElement.getBoundingClientRect();
      /* If it's a horizontally scrolling scrollbar, use width, if vertical use height */

      const scrollPercentage = horizontalScrolling ? (event.clientX - delta - railElementRect.left) / (railElementRect.width - handlerElementRect.width) : (event.clientY - delta - railElementRect.top) / (railElementRect.height - handlerElementRect.height);
      /* If it's a horizontally scrolling scrollbar, use width, if vertical use height */

      if (horizontalScrolling) {
        scrollingContainerElement.scrollLeft = scrollPercentage * (scrollingContainerElement.scrollWidth - scrollingContainerElementRect.width);
      } else {
        scrollingContainerElement.scrollTop = scrollPercentage * (scrollingContainerElement.scrollHeight - scrollingContainerElementRect.height);
      }
    };

    const handleClick = event => {
      event.preventDefault();
      event.stopPropagation();
    };

    document.addEventListener('mousemove', handleMouseMove);
    document.addEventListener('mouseup', handleMouseUp);
    handlerElement.addEventListener('mousedown', handleMouseDown);
    handlerElement.addEventListener('click', handleClick);
    return () => {
      document.removeEventListener('mousemove', handleMouseMove);
      document.removeEventListener('mouseup', handleMouseUp);
      handlerElement.removeEventListener('mousedown', handleMouseDown);
      handlerElement.removeEventListener('click', handleClick);
    };
  }, [handlerRef, scrollingContainerRef, railRef, horizontalScrolling]);
  return {
    handlerRef,
    railRef
  };
};
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/AutoHidingScrollbar.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const AutoHidingScrollbar = ({"vertical":"pKafk","scrollbarNonInteractiveRail":"hhUBB","scrollbarHandlerNonInteractive":"VLAZG","horizontal":"qBOw1","scrollbarHandlerNonInteractiveActive":"VEGv3","scrollbarHandlerNonInteractiveIdle":"eC0Tu"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/AutoHidingScrollbar.tsx






function AutoHidingScrollbar_AutoHidingScrollbar({
  scrollingContainerRef,
  horizontal,
  stopCheckingForScroll,
  alwaysVisible,
  safeZonePadding
}) {
  const handlerRef = (0,react.useRef)(null);
  const railRef = (0,react.useRef)(null);
  const scrollWrapperRef = (0,react.useRef)(null);
  const isTouchingFacet = useTouchCheck(scrollingContainerRef);
  const stopChecking = (0,react_facet_src.useFacetWrap)(stopCheckingForScroll !== null && stopCheckingForScroll !== void 0 ? stopCheckingForScroll : false);
  const hasScrollbarFacet = useHasScrollbar(scrollingContainerRef, horizontal);
  const shouldListenForScrolls = (0,react_facet_src.useFacetMap)((hasScrollbar, stopChecking) => hasScrollbar && !stopChecking, [], [hasScrollbarFacet, stopChecking]);
  const isScrollingFacet = useUpdateScrollbar(scrollingContainerRef, handlerRef, railRef, shouldListenForScrolls, scrollWrapperRef, horizontal, safeZonePadding);
  const rootClassName = classnames_default()({
    [AutoHidingScrollbar.vertical]: !horizontal,
    [AutoHidingScrollbar.horizontal]: horizontal
  });
  const handlerClassName = (0,react_facet_src.useFacetMap)((isTouching, isScrolling, hasScrollbar) => {
    const isIdle = !isScrolling && !isTouching && !alwaysVisible;
    return `${AutoHidingScrollbar.scrollbarHandlerNonInteractive} ${hasScrollbar && !isIdle ? AutoHidingScrollbar.scrollbarHandlerNonInteractiveActive : AutoHidingScrollbar.scrollbarHandlerNonInteractiveIdle}`;
  }, [alwaysVisible], [isTouchingFacet, isScrollingFacet, hasScrollbarFacet]);
  return /*#__PURE__*/react.createElement("div", {
    className: rootClassName,
    ref: scrollWrapperRef
  }, /*#__PURE__*/react.createElement("div", {
    className: AutoHidingScrollbar.scrollbarNonInteractiveRail,
    ref: railRef
  }, /*#__PURE__*/react.createElement("fast-div", {
    className: handlerClassName,
    ref: handlerRef
  })));
}
const useTouchCheck = ref => {
  const [isTouching, setIsTouching] = (0,react_facet_src.useFacetState)(false);
  (0,react.useEffect)(() => {
    var _ref$current;

    const handleStart = () => setIsTouching(true);

    const handleEnd = () => setIsTouching(false);

    const element = (_ref$current = ref === null || ref === void 0 ? void 0 : ref.current) !== null && _ref$current !== void 0 ? _ref$current : window;
    element.addEventListener('touchstart', handleStart);
    element.addEventListener('touchend', handleEnd);
    return () => {
      element.removeEventListener('touchstart', handleStart);
      element.removeEventListener('touchend', handleEnd);
    };
  }, [ref, setIsTouching]);
  return isTouching;
};
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/Scrollbar.tsx






/**
 * Scrollbar component, should be used via a layout components like the FlatList
 */
function Scrollbar({
  scrollingContainerRef,
  stopCheckingForScroll,
  alwaysVisible,
  horizontal = false,
  floating,
  darkTheme,
  minimalTheme
}) {
  const isPointerMouse = useIsPointerInputMouse();
  const isPointerNotMouse = (0,react_facet_src.useFacetMap)(isMouse => !isMouse, [], [isPointerMouse]);
  const safeZone = useSafeZone();
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: isPointerMouse
  }, /*#__PURE__*/react.createElement(MouseScrollbar_MouseScrollbar, {
    horizontal: horizontal,
    scrollingContainerRef: scrollingContainerRef,
    stopCheckingForScroll: stopCheckingForScroll,
    safeZonePadding: safeZone.bottom,
    floating: floating,
    darkTheme: darkTheme,
    minimalTheme: minimalTheme
  })), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: isPointerNotMouse
  }, /*#__PURE__*/react.createElement(AutoHidingScrollbar_AutoHidingScrollbar, {
    horizontal: horizontal,
    scrollingContainerRef: scrollingContainerRef,
    stopCheckingForScroll: stopCheckingForScroll,
    safeZonePadding: safeZone.bottom,
    alwaysVisible: alwaysVisible
  })));
}
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/ScrollView.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ScrollView = ({"wrapper":"UedOa","ScrollView":"bXCZP","focusBorder":"cQvwc","emptyFocusable":"YEgzg","ScrollViewHorizontal":"NsGay","safetyPaddings":"ekhCp","safetyPaddingsHorizontal":"n60Ng","content":"OnsGF","scrollBlocker":"WFE9a","contentPaddings":"SIgu2","horizontalContent":"ze6YH","spinnerPlaceholder":"Cp7QN","animateOpacity":"Il2HF","borderedSpinner":"rxEL1","paddedSpinner":"s31Ag","hidden":"t0Ytw","hiddenContent":"AV6LH"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Spinner/Spinner.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Spinner = ({"spinner":"Dpj6m"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Spinner/Spinner.tsx



/**
 * For screenshot tests animations need to be disabled. We also want to make sure that the fixture image
 * not imported into production builds.
 */

const animation =  false ? 0 : __webpack_require__(4984);
function Spinner_Spinner() {
  return /*#__PURE__*/react.createElement(Image_Image_Image, {
    src: animation,
    className: Spinner.spinner,
    imageRendering: "pixelated"
  });
}
;// CONCATENATED MODULE: ./packages/react-narrator/src/hooks/useNarrateText.ts



// `useNarrateText` is a way of reading to the user events that are global
// and happen just once. The goal of `useNarrateText` is to be able to
// narrate something imperatively outside of the current narration node
// context. It could evolve in the future into a system for handling notifications.
// An example is dragging an item from the inventory to a crafting section, or switching a
// switch on and off.
const useNarrateText = ({
  interruptible = true,
  playInBackground = false,
  profanityFilterContext = {
    outOfGame: true,
    inGame: true
  },
  required = false
} = {}) => {
  const narrateTimeoutRef = (0,react.useRef)();
  const {
    readText
  } = (0,react.useContext)(narrationDriverContext);
  const narrateText = (0,react.useCallback)(narration => {
    narrateTimeoutRef.current = setTimeout(() => {
      readText(narration, profanityFilterContext, interruptible, required, playInBackground);
    }, NARRATION_DEBOUNCE_DELAY);
  }, [readText, profanityFilterContext, interruptible, required, playInBackground]);
  const preventNarrateText = (0,react.useCallback)(() => {
    if (narrateTimeoutRef.current) {
      clearTimeout(narrateTimeoutRef.current);
    }
  }, []);
  return {
    narrateText,
    preventNarrateText
  };
};
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/useFocusProvider.tsx

const useFocusProvider_context = (0,react.createContext)(undefined);
const FocusProvider = ({
  value,
  children
}) => {
  return /*#__PURE__*/react.createElement(useFocusProvider_context.Provider, {
    value: value
  }, children);
};
function useGamepadAPI() {
  return (0,react.useContext)(useFocusProvider_context);
}
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/ScrollView.tsx

















const Wrapper = ({
  children,
  loading,
  scrollingContainerRef,
  stopCheckingForScroll,
  renderTracker,
  alwaysVisible,
  horizontal = false,
  floating,
  darkTheme,
  minimalTheme,
  padSpinnerVertically,
  spinnerBackgroundColor,
  autofocus,
  gamepadIndex,
  showSpinnerBorder,
  showFocusOutline,
  spinnerIdRef
}) => {
  const focusContainerClassNames = (0,react_facet_src.useFacetMap)(isLastInputFocus => classnames_default()({
    [ScrollView.focusBorder]: isLastInputFocus && showFocusOutline,
    [focusClass]: isLastInputFocus && showFocusOutline
  }), [showFocusOutline], [useIsLastInputFocus()]);
  return /*#__PURE__*/react.createElement("div", {
    className: ScrollView.wrapper
  }, /*#__PURE__*/react.createElement(SpinnerPlaceholder, {
    gamepadIndex: gamepadIndex,
    autofocus: autofocus,
    hidden: (0,react_facet_src.useFacetMap)(loading => loading == null ? true : !loading, [], [loading]),
    renderTracker: renderTracker,
    padSpinnerVertically: padSpinnerVertically,
    spinnerBackgroundColor: spinnerBackgroundColor,
    showBorder: showSpinnerBorder,
    nodeIdRef: spinnerIdRef
  }), /*#__PURE__*/react.createElement("fast-div", {
    className: (0,react_facet_src.useFacetMap)((loading, animationEnabled) => classnames_default()(horizontal ? ScrollView.ScrollViewHorizontal : ScrollView.ScrollView, horizontal ? ScrollView.safetyPaddingsHorizontal : ScrollView.safetyPaddings, {
      [ScrollView.hiddenContent]: loading,
      [ScrollView.animateOpacity]: animationEnabled
    }), [horizontal], [loading, useScreenAnimationEnabled()])
  }, /*#__PURE__*/react.createElement("fast-div", {
    className: focusContainerClassNames
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    inset: true
  })), children, /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: (0,react_facet_src.useFacetMap)(loading => loading == null ? true : !loading, [], [loading])
  }, /*#__PURE__*/react.createElement(Scrollbar, {
    floating: floating,
    horizontal: horizontal,
    scrollingContainerRef: scrollingContainerRef,
    stopCheckingForScroll: stopCheckingForScroll,
    alwaysVisible: alwaysVisible,
    darkTheme: darkTheme,
    minimalTheme: minimalTheme
  }))));
};

const fallbackGamepadAPI = {
  navigate: () => {},
  focusedId: (0,react_facet_src.createFacet)({
    initialValue: ''
  })
};

function useFocusFirstFocusableAfterLoading(loadingFacet, // Reference to a wrapping container for the child content
nodeIdRef, spinnerIdRef, autofocus) {
  const isNarrationEnabled = useNarrationEnabled(); // This context is only available with the legacy gamepad navigation.

  const maybeGamepadAPI = useGamepadAPI();
  const gamepadAPI = maybeGamepadAPI !== null && maybeGamepadAPI !== void 0 ? maybeGamepadAPI : fallbackGamepadAPI;
  const listenForLoadingFinished = (0,react.useRef)(true);
  (0,react_facet_src.useFacetEffect)((loading, currentFocusId) => {
    // If we are not yet listening for loading changes and loading is true
    // we set the listenForLoadingChanges ref to true to indicate that we
    // want to know when loading becomes false.
    if (listenForLoadingFinished.current == false && loading) {
      listenForLoadingFinished.current = true;
    } // We just want to run this  block the first time loading goes from true to false.


    if (!loading && listenForLoadingFinished.current) {
      listenForLoadingFinished.current = false;

      if ( // If the user wasn't focusing anything at all and this should be autofocused
      currentFocusId == null && nodeIdRef.current != null && autofocus || // Or if user was focused on the spinner for this ScrollView
      currentFocusId != null && currentFocusId === spinnerIdRef.current && nodeIdRef.current != null) {
        return gamepadAPI.navigate(nodeIdRef.current);
      }
    }
  }, [isNarrationEnabled, gamepadAPI, spinnerIdRef, nodeIdRef, autofocus], [loadingFacet, gamepadAPI.focusedId]);
}

const ScrollView_ScrollView = ({
  children,
  loading,
  renderTracker,
  gamepadIndex,
  scrollIntoViewAlign = 'center',
  scrollIntoView = true,
  scrollIntoViewSpeedFactor,
  defaultFocusedChildBehavior,
  autofocusFocusable,
  horizontal = false,
  innerRef,
  floating,
  darkTheme,
  minimalTheme,
  padSpinnerVertically,
  spinnerBackgroundColor,
  disableScrolling,
  showSpinnerBorder,
  stopCheckingForScroll,
  emptyFocusableGamepadAlias,
  emptyFocusableNarrationText,
  nodeIdRef,
  autofocus = false
}) => {
  const localRef = (0,react.useRef)(null);
  const ref = innerRef || localRef;
  const [alwaysVisibleAutoHidingScrollbar, setAlwaysVisibleAutoHidingScrollbar] = (0,react.useState)(false);
  const loadingFacet = (0,react_facet_src.useFacetWrap)(loading);
  const scrollable = useHasScrollbar(ref, horizontal, floating);
  const isNarrationEnabled = useNarrationEnabled();
  const GamepadContainer = horizontal ? GamepadRow_GamepadRow : GamepadColumn_GamepadColumn; // Used to focus the first thing within the GamePadContainer after the loading is completed

  const localIdRef = (0,react.useRef)();
  const idRef = nodeIdRef !== null && nodeIdRef !== void 0 ? nodeIdRef : localIdRef;
  const spinnerIdRef = (0,react.useRef)();
  useFocusFirstFocusableAfterLoading(loadingFacet, idRef, spinnerIdRef, autofocus);
  const isScrollingDisabledFacet = (0,react_facet_src.useFacetWrap)(disableScrolling !== null && disableScrolling !== void 0 ? disableScrolling : false);
  const contentClassNames = (0,react_facet_src.useFacetMap)(isScrollingDisabled => classnames_default()(horizontal ? ScrollView.horizontalContent : ScrollView.content, isScrollingDisabled ? ScrollView.scrollBlocker : null, ScrollView.contentPaddings, horizontal ? ScrollView.safetyPaddingsHorizontal : ScrollView.safetyPaddings), [horizontal], [isScrollingDisabledFacet]);
  const [hasChildFocusable, setHasChildFocusable] = (0,react_facet_src.useFacetState)(false);
  const mountEmptyFocusable = (0,react_facet_src.useFacetMap)((hasChildFocusable, scrollable) => isNarrationEnabled && !hasChildFocusable || !hasChildFocusable && scrollable, [isNarrationEnabled], [hasChildFocusable, scrollable]);
  return (
    /*#__PURE__*/
    // Set a flag if we contain any focusable children
    react.createElement(InteractivePrimitiveMountCallback.Provider, {
      value: (0,react.useCallback)(() => setHasChildFocusable(true), [setHasChildFocusable])
    }, /*#__PURE__*/react.createElement(InteractiveSiblingState.Provider, {
      value: hasChildFocusable
    }, /*#__PURE__*/react.createElement(Wrapper, {
      floating: floating,
      horizontal: horizontal,
      scrollingContainerRef: ref,
      stopCheckingForScroll: stopCheckingForScroll,
      loading: loadingFacet,
      renderTracker: renderTracker,
      alwaysVisible: alwaysVisibleAutoHidingScrollbar,
      darkTheme: darkTheme,
      minimalTheme: minimalTheme,
      padSpinnerVertically: padSpinnerVertically,
      spinnerBackgroundColor: spinnerBackgroundColor,
      showSpinnerBorder: showSpinnerBorder,
      showFocusOutline: alwaysVisibleAutoHidingScrollbar && floating === true,
      autofocus: autofocus,
      gamepadIndex: gamepadIndex,
      spinnerIdRef: spinnerIdRef
    }, /*#__PURE__*/react.createElement("fast-div", {
      className: contentClassNames,
      ref: ref,
      "data-testid": "scroll-view"
    }, /*#__PURE__*/react.createElement(GamepadContainer, {
      disabled: (0,react_facet_src.useFacetUnwrap)(loading) === true,
      scrollIntoView: scrollIntoView,
      scrollIntoViewAlign: scrollIntoViewAlign,
      scrollWithAnalog: true,
      scrollIntoViewSpeedFactor: scrollIntoViewSpeedFactor,
      gamepadIndex: gamepadIndex,
      defaultFocusedChildBehavior: defaultFocusedChildBehavior,
      scrollRef: ref,
      scrollAxis: horizontal ? ScrollAxis.HORIZONTAL : ScrollAxis.VERTICAL,
      nodeIdRef: idRef
    }, children, /*#__PURE__*/react.createElement(react_facet_src.Mount, {
      when: mountEmptyFocusable
    }, /*#__PURE__*/react.createElement(EmptyFocusable, {
      autofocus: !!autofocusFocusable,
      onFocusChanged: setAlwaysVisibleAutoHidingScrollbar,
      gamepadAlias: emptyFocusableGamepadAlias,
      narrationText: emptyFocusableNarrationText
    })))))))
  );
};
const DEFAULT_SPINNER_BG_COLOR = 'rgba(0, 0, 0, 0.4)';

function SpinnerPlaceholder({
  gamepadIndex,
  autofocus,
  hidden,
  renderTracker,
  spinnerBackgroundColor,
  padSpinnerVertically,
  showBorder = true,
  nodeIdRef
}) {
  const {
    t
  } = useLocalization('ScrollView');
  const {
    narrateText
  } = useNarrateText();
  const [hasFocus, setHasFocus] = (0,react_facet_src.useFacetState)(false);
  const hiddenValue = (0,react_facet_src.useFacetUnwrap)(hidden);
  const animationEnabled = (0,react_facet_src.useFacetUnwrap)(useScreenAnimationEnabled());
  const visible = hiddenValue === react_facet_src.NO_VALUE ? true : !hiddenValue; // We need to know if the spinner has focus so we can narrate 'Loading' again after X seconds.

  const repeatLoadingAfterMs = 10000;
  (0,react_facet_src.useFacetEffect)((isHidden, hasFocus) => {
    let intervalId;

    if (!isHidden && hasFocus) {
      intervalId = setInterval(narrateText.bind(null, t('.loadingState')), repeatLoadingAfterMs);
    } else if (intervalId != null) {
      clearInterval(intervalId);
    }

    return () => intervalId != null && clearInterval(intervalId);
  }, [narrateText, t, repeatLoadingAfterMs], [hidden, hasFocus]);
  return /*#__PURE__*/react.createElement(TransitionPrimitive, {
    visible: visible,
    timeout: 500
  }, status => /*#__PURE__*/react.createElement(react.Fragment, null, status !== 'exited' && /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    autofocus: autofocus,
    gamepadIndex: gamepadIndex,
    narrationText: [t('.narrationScrollViewComponentType'), t('.loadingState')].join(' . '),
    className: classnames_default()(ScrollView.spinnerPlaceholder, {
      [ScrollView.paddedSpinner]: padSpinnerVertically,
      [ScrollView.hidden]: status === 'exiting',
      [ScrollView.borderedSpinner]: showBorder,
      [ScrollView.animateOpacity]: animationEnabled === true
    }),
    classNameFocused: focusClass,
    onFocusChanged: setHasFocus,
    onHoverChanged: setHasFocus,
    style: {
      backgroundColor: spinnerBackgroundColor !== null && spinnerBackgroundColor !== void 0 ? spinnerBackgroundColor : DEFAULT_SPINNER_BG_COLOR
    },
    inputLegend: false,
    onClick: () => {},
    nodeIdRef: nodeIdRef
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    inset: true
  }), /*#__PURE__*/react.createElement(Spinner_Spinner, null)), renderTracker && renderTracker(status === 'exited')));
}

const ScrollView_noop = () => {};

const EmptyFocusable = ({
  autofocus,
  onFocusChanged,
  gamepadAlias,
  narrationText = false
}) => {
  return (
    /*#__PURE__*/

    /**
     * We wrap this empty focusable in a InteractivePrimitiveMountCallback to catch the
     * callback. The ScrollView wraps itself in a InteractivePrimitiveMountCallback so it
     * can detect if any children are focusable and adjust the narration/focusability
     * accordingly. We do not want this focusable to have any affect on that behavior.
     */
    react.createElement(InteractivePrimitiveMountCallback.Provider, {
      value: ScrollView_noop
    }, /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
      className: ScrollView.emptyFocusable,
      gamepadIndex: 0,
      onClick: ScrollView_noop,
      autofocus: autofocus,
      onFocusChanged: onFocusChanged,
      inputLegend: false,
      gamepadAlias: gamepadAlias,
      narrationText: narrationText
    }))
  );
};
/**
 * Can be used to receive a callback if InteractivePrimitives are nested within a ScrollView.
 * Doesn't have many use cases, but can be useful when setting up narration with composable content.
 */


const SiblingState = ({
  callback
}) => {
  const hasSiblings = useHasInteractiveSiblings();
  (0,react_facet_src.useFacetEffect)(hasSiblings => {
    callback(hasSiblings);
  }, [callback], [hasSiblings]);
  return null;
};

ScrollView_ScrollView.SiblingState = SiblingState;
ScrollView_ScrollView.useHasScrollbar = useHasScrollbar;
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/useSetFocusedId.tsx


const useSetFocusedId_setFocusedIdContext = (0,react.createContext)(() => () => {});
/**
 * Hook that allows access to a function to imperatively set the focused id
 * On setting a focusedId, it returns a "restore" function that can be called to restore the focus to a previous state
 */

const useSetFocusedId_useSetFocusedId = () => (0,react.useContext)(useSetFocusedId_setFocusedIdContext);

/**
 * Provider to be used internally in the GamepadProvider
 * (not a public API)
 */
const SetFocusedIdProvider = ({
  onFocusedIdChange,
  children,
  focusedId
}) => {
  const setFocusedId = (0,react_facet_src.useFacetCallback)(oldFocusedId => newFocusedId => {
    onFocusedIdChange(newFocusedId);
    return () => onFocusedIdChange(oldFocusedId);
  }, [onFocusedIdChange], [focusedId]);
  return /*#__PURE__*/react.createElement(useSetFocusedId_setFocusedIdContext.Provider, {
    value: setFocusedId
  }, children);
};
;// CONCATENATED MODULE: ./packages/react-gamepad/src/useSetFocusedId.tsx



const src_useSetFocusedId_useSetFocusedId = () => {
  const setFocusedIdLegacy = useSetFocusedId_useSetFocusedId();
  const setFocusedIdVisual = setFocusedId_useSetFocusedId();
  const {
    version: gamepadVersion
  } = useGamepadAdapter();

  if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
    return setFocusedIdLegacy;
  }

  return setFocusedIdVisual;
};
;// CONCATENATED MODULE: ./packages/react-gamepad/src/DisabledAreaWrapper.tsx



function DisabledAreaWrapper({
  options,
  children
}) {
  const optionsFacet = (0,react_facet_src.useFacetWrap)(options);
  const disabled = (0,react_facet_src.useFacetMap)(options => options.disabled, [], [optionsFacet]);
  return /*#__PURE__*/react.createElement(DisabledArea, {
    disabled: disabled
  }, children);
}
;// CONCATENATED MODULE: ./packages/react-gamepad/src/LandmarkWrapper.tsx



function LandmarkWrapper(props) {
  const optionsFacet = (0,react_facet_src.useFacetWrap)(props.options);
  const bounded = (0,react_facet_src.useFacetMap)(options => options.bounded, [], [optionsFacet]);
  const delegateFocusFirstFound = (0,react_facet_src.useFacetMap)(options => options.defaultFocusedChildBehavior === 'first' || options.defaultFocusedChildBehavior === 'remember', [], [optionsFacet]);
  const delegateFocusFromMemory = (0,react_facet_src.useFacetMap)(options => options.defaultFocusedChildBehavior === 'remember', [], [optionsFacet]);
  const disabled = (0,react_facet_src.useFacetMap)(options => options.disabled, [], [optionsFacet]);

  if (props.scrollAxis != null) {
    return /*#__PURE__*/react.createElement(Landmark, {
      scrollAxis: props.scrollAxis,
      disabled: disabled,
      shouldBindFocus: bounded,
      delegateFocusFirstFound: delegateFocusFirstFound,
      delegateFocusFromMemory: delegateFocusFromMemory,
      containerRef: props.scrollRef
    }, props.children);
  }

  return /*#__PURE__*/react.createElement(Landmark, {
    disabled: disabled,
    shouldBindFocus: bounded,
    delegateFocusFirstFound: delegateFocusFirstFound,
    delegateFocusFromMemory: delegateFocusFromMemory,
    containerRef: props.scrollRef
  }, props.children);
}
;// CONCATENATED MODULE: ./packages/react-gamepad/src/Column.tsx





function Column(props) {
  const {
    version: gamepadVersion
  } = useGamepadAdapter();

  if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
    return /*#__PURE__*/react.createElement(ColumnLegacy, props);
  }

  if (props.shouldSkipLandmarkInVisual) {
    return /*#__PURE__*/react.createElement(DisabledAreaWrapper, {
      options: props.options
    }, props.children);
  }

  return /*#__PURE__*/react.createElement(LandmarkWrapper, props);
}

function ColumnLegacy({
  options,
  children,
  scrollRef
}) {
  const Column = useColumn(options, scrollRef);
  return /*#__PURE__*/react.createElement(Column, null, children);
}
;// CONCATENATED MODULE: ./packages/react-narrator/src/components/NarrationContext.tsx
function NarrationContext_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = NarrationContext_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function NarrationContext_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






const NarrationContext_noopString = () => '';

const NarrationContext = (_ref) => {
  let {
    children,
    shouldSkipParent = []
  } = _ref,
      props = NarrationContext_objectWithoutProperties(_ref, ["children", "shouldSkipParent"]);

  const textFacet = (0,react_facet_src.useFacetWrap)('text' in props ? props.text : '');
  const idFacet = (0,react_facet_src.useFacetWrap)('id' in props ? props.id : '');
  const getText = 'getText' in props ? props.getText : NarrationContext_noopString;
  const {
    narrationPutNode,
    narrationPutNodeWithIdAndCallback
  } = useNarrationPutNode();
  const [fullPathNarrationId, setFullPathNarrationId] = (0,react_facet_src.useFacetState)('');
  const unObserve = (0,react.useRef)();
  (0,react.useMemo)(() => {
    var _unObserve$current;

    (_unObserve$current = unObserve.current) === null || _unObserve$current === void 0 ? void 0 : _unObserve$current.call(unObserve);
    unObserve.current = (0,react_facet_src.multiObserve)((text, id) => {
      if (id != null && id !== '') {
        setFullPathNarrationId(narrationPutNodeWithIdAndCallback(id, getText, shouldSkipParent));
      } else {
        setFullPathNarrationId(narrationPutNode(text, shouldSkipParent));
      }
    }, [textFacet, idFacet]);
  }, [textFacet, idFacet, getText, narrationPutNode, narrationPutNodeWithIdAndCallback, shouldSkipParent, setFullPathNarrationId]);
  (0,react.useEffect)(() => () => {
    var _unObserve$current2;

    (_unObserve$current2 = unObserve.current) === null || _unObserve$current2 === void 0 ? void 0 : _unObserve$current2.call(unObserve);
  }, []);
  return /*#__PURE__*/react.createElement(NarrationContextProvider, {
    value: fullPathNarrationId
  }, children);
};
;// CONCATENATED MODULE: ./packages/ui/src/Modal/Modal.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Modal = ({"container":"icsZi","header":"azoiR","headerShadow":"HJx2A","headerButton":"hiz9d","hide":"yLSeP","spacer":"S2J9J","textContent":"qXm9P","paragraphsWrapper":"MHiRD","paragraphPadding":"Q3Zed","wordWrap":"BPMWS","centerOneLineText":"Rm818","listTextContent":"kxZXz","contentScrollable":"GHU0b","buttons":"kc2Fb","buttonsHorizontal":"IVSIi","wrapper":"UvzEX","overlay":"VT1Tw","progress":"OGKKM","spinner":"YkW5u"});
;// CONCATENATED MODULE: ./packages/ui/src/Checkbox/Checkbox.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Checkbox = ({"Checkbox":"tIO8N","main":"jw1g3","textWrapper":"GSYTw","small":"sSJaW","description":"vEsZy"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCheckGrey/images/checkGrey.png
const checkGrey_namespaceObject = __webpack_require__.p + "assets/checkGrey-a9d8c.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCheckGrey/IconCheckGrey.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconCheckGrey = ({"iconCheckGrey":"SBc3u"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCheckGrey/IconCheckGrey.tsx




const IconCheckGrey_IconCheckGrey = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconCheckGrey.iconCheckGrey,
  src: checkGrey_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCheckWhite/images/checkWhite.png
const checkWhite_namespaceObject = __webpack_require__.p + "assets/checkWhite-bcfbf.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCheckWhite/IconCheckWhite.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconCheckWhite = ({"iconCheckWhite":"ycpq0"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconCheckWhite/IconCheckWhite.tsx




const IconCheckWhite_IconCheckWhite = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconCheckWhite.iconCheckWhite,
  src: checkWhite_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseCheckbox/BaseCheckbox.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseCheckbox = ({"box":"r3OGg","boxCheck":"em21X","boxDisabled":"h2XVN"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseCheckbox/BaseCheckbox.tsx









function BaseCheckbox_BaseCheckbox({
  value,
  disabled,
  gamepad,
  narrationText,
  onClick,
  soundEffectPressed,
  checkedRole = 'primary',
  uncheckedRole = 'neutral50'
}) {
  const {
    color: {
      [checkedRole]: semanticClassNamesChecked,
      [uncheckedRole]: semanticClassNamesUnchecked
    },
    sound: {
      inherit: semanticSound
    }
  } = useSemanticTokens();
  const valueFacet = (0,react_facet_src.useFacetWrap)(value);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const onClickHandler = (0,react_facet_src.useFacetCallback)(value => () => onClick === null || onClick === void 0 ? void 0 : onClick(!value), [onClick], [valueFacet]);
  const boxClassName = (0,react_facet_src.useFacetMap)(value => {
    return classnames_default()(BaseCheckbox.box, value ? [semanticClassNamesChecked.background.interactive, semanticClassNamesChecked.border.interactive] : [semanticClassNamesUnchecked.background.interactive, semanticClassNamesUnchecked.border.interactive]);
  }, [semanticClassNamesChecked, semanticClassNamesUnchecked], [valueFacet]);
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive.Maybe, {
    narrationText: narrationText,
    isInteractive: typeof onClick === 'function',
    gamepadIndex: gamepad.index,
    classNameFocused: focusClass,
    classNameDisabled: BaseCheckbox.boxDisabled,
    disabled: disabled,
    onClick: onClickHandler,
    soundEffectPressed: soundEffectPressed !== null && soundEffectPressed !== void 0 ? soundEffectPressed : semanticSound.toggle
  }, /*#__PURE__*/react.createElement("fast-div", {
    className: boxClassName
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    disabled: disabled
  }), /*#__PURE__*/react.createElement(Reflection_Reflection, {
    disabled: disabled
  }), /*#__PURE__*/react.createElement("fast-div", {
    style: {
      display: (0,react_facet_src.useFacetMap)(value => value ? 'flex' : 'none', [], [valueFacet])
    },
    className: BaseCheckbox.boxCheck
  }, /*#__PURE__*/react.createElement("fast-div", {
    style: {
      display: (0,react_facet_src.useFacetMap)(disabled => disabled ? 'flex' : 'none', [], [disabledFacet])
    }
  }, /*#__PURE__*/react.createElement(IconCheckGrey_IconCheckGrey, null)), /*#__PURE__*/react.createElement("fast-div", {
    style: {
      display: (0,react_facet_src.useFacetMap)(disabled => !disabled ? 'flex' : 'none', [], [disabledFacet])
    }
  }, /*#__PURE__*/react.createElement(IconCheckWhite_IconCheckWhite, null)))));
}
;// CONCATENATED MODULE: ./packages/ui/src/Checkbox/Checkbox.tsx











const Checkbox_noop = () => {};

function Checkbox_Checkbox({
  gamepad,
  onChange = Checkbox_noop,
  value,
  title,
  description,
  disabled,
  small = false,
  soundEffectPressed,
  wrapperRole = 'neutral'
}) {
  const {
    color: {
      [wrapperRole]: semanticClassNames
    },
    variant,
    sound: {
      [wrapperRole]: semanticSound
    }
  } = useSemanticTokens();
  const titleFacet = (0,react_facet_src.useFacetWrap)(title);
  const descriptionFacet = (0,react_facet_src.useFacetWrap)(description !== null && description !== void 0 ? description : '');
  const valueFacet = (0,react_facet_src.useFacetWrap)(value);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const onClick = (0,react_facet_src.useFacetCallback)(value => () => onChange(!value), [onChange], [valueFacet]);
  const {
    t
  } = useLocalization('Checkbox');
  const narrationText = (0,react_facet_src.useFacetMap)((value, title, description) => [t('.elementType'), title, description, value ? t('.labelChecked') : t('.labelUnChecked')].join(' . '), [t], [valueFacet, titleFacet, descriptionFacet]);
  const className = (0,react_facet_src.useFacetWrap)(classnames_default()(Checkbox.Checkbox, semanticClassNames.background.base, {
    [Checkbox.small]: small
  }));
  return /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: wrapperRole
  }, /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    className: className,
    inputLegend: t('.toggle'),
    gamepadIndex: gamepad.index,
    onClick: onClick,
    disabled: disabledFacet,
    narrationText: narrationText,
    soundEffectPressed: soundEffectPressed !== null && soundEffectPressed !== void 0 ? soundEffectPressed : semanticSound.toggle,
    classNameFocused: focusClass
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    role: wrapperRole,
    effect: "bevel",
    left: false,
    right: false
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement("div", {
    className: Checkbox.main
  }, /*#__PURE__*/react.createElement(BaseCheckbox_BaseCheckbox, {
    value: valueFacet,
    narrationText: false,
    disabled: disabledFacet,
    gamepad: gamepad
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Checkbox.textWrapper, semanticClassNames.text.base)
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    color: 'inherit'
  }, titleFacet), Boolean(description) && /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Checkbox.description, semanticClassNames.text.base, variant.dimmer)
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: 'inherit'
  }, descriptionFacet)))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  })));
}
;// CONCATENATED MODULE: ./packages/react-gamepad-driver/src/types.ts
// TODO Create a interface for the button_map with backend
let types_ButtonType;

(function (ButtonType) {
  ButtonType["A"] = "A";
  ButtonType["B"] = "B";
  ButtonType["X"] = "X";
  ButtonType["Y"] = "Y";
  ButtonType["START"] = "START";
  ButtonType["SELECT"] = "SELECT";
  ButtonType["XBOX"] = "XBOX";
  ButtonType["RIGHT_TRIGGER"] = "RT";
  ButtonType["LEFT_TRIGGER"] = "LT";
  ButtonType["LEFT_BUMPER"] = "LB";
  ButtonType["RIGHT_BUMPER"] = "RB";
  ButtonType["L3"] = "L3";
  ButtonType["R3"] = "R3";
  ButtonType["LEFT"] = "LEFT";
  ButtonType["RIGHT"] = "RIGHT";
  ButtonType["UP"] = "UP";
  ButtonType["DOWN"] = "DOWN";
  ButtonType["NEXT"] = "NEXT";
  ButtonType["PREV"] = "PREV";
  ButtonType["LEFT_ANALOG_LEFT"] = "L_LEFT";
  ButtonType["LEFT_ANALOG_RIGHT"] = "L_RIGHT";
  ButtonType["LEFT_ANALOG_UP"] = "L_UP";
  ButtonType["LEFT_ANALOG_DOWN"] = "L_DOWN";
  ButtonType["RIGHT_ANALOG_LEFT"] = "R_LEFT";
  ButtonType["RIGHT_ANALOG_RIGHT"] = "R_RIGHT";
  ButtonType["RIGHT_ANALOG_UP"] = "R_UP";
  ButtonType["RIGHT_ANALOG_DOWN"] = "R_DOWN";
  ButtonType[ButtonType["LEFT_HORIZONTAL_AXIS"] = 0] = "LEFT_HORIZONTAL_AXIS";
  ButtonType[ButtonType["LEFT_VERTICAL_AXIS"] = 1] = "LEFT_VERTICAL_AXIS";
  ButtonType[ButtonType["RIGHT_HORIZONTAL_AXIS"] = 2] = "RIGHT_HORIZONTAL_AXIS";
  ButtonType[ButtonType["RIGHT_VERTICAL_AXIS"] = 3] = "RIGHT_VERTICAL_AXIS";
  ButtonType["PSEUDO_BUTTON_1"] = "PSEUDO_BUTTON_1";
  ButtonType["PSEUDO_BUTTON_2"] = "PSEUDO_BUTTON_2";
  ButtonType["PSEUDO_BUTTON_3"] = "PSEUDO_BUTTON_3";
  ButtonType["PSEUDO_BUTTON_4"] = "PSEUDO_BUTTON_4";
  ButtonType["PSEUDO_BUTTON_5"] = "PSEUDO_BUTTON_5";
  ButtonType["PSEUDO_BUTTON_6"] = "PSEUDO_BUTTON_6";
  ButtonType["PSEUDO_BUTTON_7"] = "PSEUDO_BUTTON_7";
  ButtonType["PSEUDO_BUTTON_8"] = "PSEUDO_BUTTON_8";
  ButtonType["PSEUDO_BUTTON_9"] = "PSEUDO_BUTTON_9";
  ButtonType["PSEUDO_BUTTON_10"] = "PSEUDO_BUTTON_10";
})(types_ButtonType || (types_ButtonType = {}));

const types_AXIS_MAP = [[types_ButtonType.LEFT_ANALOG_LEFT, types_ButtonType.LEFT_ANALOG_RIGHT], [types_ButtonType.LEFT_ANALOG_UP, types_ButtonType.LEFT_ANALOG_DOWN], [types_ButtonType.RIGHT_ANALOG_LEFT, types_ButtonType.RIGHT_ANALOG_RIGHT], [types_ButtonType.RIGHT_ANALOG_UP, types_ButtonType.RIGHT_ANALOG_DOWN]];
/**
 * Type for buttons which can be mapped to a keyboard key
 */

const types_KEYBOARD_MAPPABLE_BUTTON = [types_ButtonType.A, types_ButtonType.B, types_ButtonType.X, types_ButtonType.Y, types_ButtonType.START, types_ButtonType.SELECT, types_ButtonType.XBOX, types_ButtonType.RIGHT_TRIGGER, types_ButtonType.LEFT_TRIGGER, types_ButtonType.LEFT_BUMPER, types_ButtonType.RIGHT_BUMPER, types_ButtonType.L3, types_ButtonType.R3, types_ButtonType.LEFT, types_ButtonType.RIGHT, types_ButtonType.UP, types_ButtonType.DOWN, types_ButtonType.PSEUDO_BUTTON_1, types_ButtonType.PSEUDO_BUTTON_2, types_ButtonType.PSEUDO_BUTTON_3, types_ButtonType.PSEUDO_BUTTON_4, types_ButtonType.PSEUDO_BUTTON_5, types_ButtonType.PSEUDO_BUTTON_6, types_ButtonType.PSEUDO_BUTTON_7, types_ButtonType.PSEUDO_BUTTON_8, types_ButtonType.PSEUDO_BUTTON_9, types_ButtonType.PSEUDO_BUTTON_10];
/**
 * Type for buttons which can be displayed on input legends
 */

const types_INPUT_LEGEND_BUTTONS = [types_ButtonType.A, types_ButtonType.B, types_ButtonType.X, types_ButtonType.Y, types_ButtonType.START, types_ButtonType.SELECT, types_ButtonType.LEFT, types_ButtonType.RIGHT, types_ButtonType.UP, types_ButtonType.DOWN, types_ButtonType.L3, types_ButtonType.R3, types_ButtonType.LEFT_ANALOG_LEFT, types_ButtonType.RIGHT_ANALOG_LEFT, types_ButtonType.LEFT_BUMPER, types_ButtonType.RIGHT_BUMPER, types_ButtonType.LEFT_TRIGGER, types_ButtonType.RIGHT_TRIGGER];
const types_ACTION_BUTTONS = [types_ButtonType.A, types_ButtonType.B, types_ButtonType.X, types_ButtonType.Y, types_ButtonType.START, types_ButtonType.SELECT, types_ButtonType.LEFT_BUMPER, types_ButtonType.RIGHT_BUMPER, types_ButtonType.LEFT_TRIGGER, types_ButtonType.RIGHT_TRIGGER, types_ButtonType.R3, types_ButtonType.L3];
const types_BUTTON_MAP = [types_ButtonType.A, types_ButtonType.B, types_ButtonType.X, types_ButtonType.Y, types_ButtonType.LEFT_BUMPER, types_ButtonType.RIGHT_BUMPER, types_ButtonType.LEFT_TRIGGER, types_ButtonType.RIGHT_TRIGGER, types_ButtonType.SELECT, types_ButtonType.START, types_ButtonType.L3, types_ButtonType.R3, types_ButtonType.UP, types_ButtonType.DOWN, types_ButtonType.LEFT, types_ButtonType.RIGHT, types_ButtonType.XBOX];
const types_DIRECTIONAL_BUTTONS = [types_ButtonType.LEFT, types_ButtonType.RIGHT, types_ButtonType.UP, types_ButtonType.DOWN];
const types_ACTION_BUTTONS_INDEX = types_ACTION_BUTTONS.map(string => types_BUTTON_MAP.indexOf(string));
const types_DIRECTIONAL_BUTTONS_INDEX = types_DIRECTIONAL_BUTTONS.map(string => types_BUTTON_MAP.indexOf(string));
let src_types_KeyboardKey;

(function (KeyboardKey) {
  KeyboardKey[KeyboardKey["BACKSPACE"] = 8] = "BACKSPACE";
  KeyboardKey[KeyboardKey["TAB"] = 9] = "TAB";
  KeyboardKey[KeyboardKey["ENTER"] = 13] = "ENTER";
  KeyboardKey[KeyboardKey["SHIFT"] = 16] = "SHIFT";
  KeyboardKey[KeyboardKey["CTRL"] = 17] = "CTRL";
  KeyboardKey[KeyboardKey["ALT"] = 18] = "ALT";
  KeyboardKey[KeyboardKey["CAPS_LOCK"] = 20] = "CAPS_LOCK";
  KeyboardKey[KeyboardKey["ESCAPE"] = 27] = "ESCAPE";
  KeyboardKey[KeyboardKey["SPACE"] = 32] = "SPACE";
  KeyboardKey[KeyboardKey["PG_UP"] = 33] = "PG_UP";
  KeyboardKey[KeyboardKey["PG_DOWN"] = 34] = "PG_DOWN";
  KeyboardKey[KeyboardKey["END"] = 35] = "END";
  KeyboardKey[KeyboardKey["LEFT"] = 37] = "LEFT";
  KeyboardKey[KeyboardKey["UP"] = 38] = "UP";
  KeyboardKey[KeyboardKey["RIGHT"] = 39] = "RIGHT";
  KeyboardKey[KeyboardKey["DOWN"] = 40] = "DOWN";
  KeyboardKey[KeyboardKey["INSERT"] = 45] = "INSERT";
  KeyboardKey[KeyboardKey["DELETE"] = 46] = "DELETE";
  KeyboardKey[KeyboardKey["KEY_0"] = 48] = "KEY_0";
  KeyboardKey[KeyboardKey["KEY_1"] = 49] = "KEY_1";
  KeyboardKey[KeyboardKey["KEY_2"] = 50] = "KEY_2";
  KeyboardKey[KeyboardKey["KEY_3"] = 51] = "KEY_3";
  KeyboardKey[KeyboardKey["KEY_4"] = 52] = "KEY_4";
  KeyboardKey[KeyboardKey["KEY_5"] = 53] = "KEY_5";
  KeyboardKey[KeyboardKey["KEY_6"] = 54] = "KEY_6";
  KeyboardKey[KeyboardKey["KEY_7"] = 55] = "KEY_7";
  KeyboardKey[KeyboardKey["KEY_8"] = 56] = "KEY_8";
  KeyboardKey[KeyboardKey["KEY_9"] = 57] = "KEY_9";
  KeyboardKey[KeyboardKey["SEMICOLON"] = 59] = "SEMICOLON";
  KeyboardKey[KeyboardKey["EQUALS"] = 61] = "EQUALS";
  KeyboardKey[KeyboardKey["KEY_A"] = 65] = "KEY_A";
  KeyboardKey[KeyboardKey["KEY_B"] = 66] = "KEY_B";
  KeyboardKey[KeyboardKey["KEY_C"] = 67] = "KEY_C";
  KeyboardKey[KeyboardKey["KEY_D"] = 68] = "KEY_D";
  KeyboardKey[KeyboardKey["KEY_E"] = 69] = "KEY_E";
  KeyboardKey[KeyboardKey["KEY_F"] = 70] = "KEY_F";
  KeyboardKey[KeyboardKey["KEY_G"] = 71] = "KEY_G";
  KeyboardKey[KeyboardKey["KEY_H"] = 72] = "KEY_H";
  KeyboardKey[KeyboardKey["KEY_I"] = 73] = "KEY_I";
  KeyboardKey[KeyboardKey["KEY_J"] = 74] = "KEY_J";
  KeyboardKey[KeyboardKey["KEY_K"] = 75] = "KEY_K";
  KeyboardKey[KeyboardKey["KEY_L"] = 76] = "KEY_L";
  KeyboardKey[KeyboardKey["KEY_M"] = 77] = "KEY_M";
  KeyboardKey[KeyboardKey["KEY_N"] = 78] = "KEY_N";
  KeyboardKey[KeyboardKey["KEY_O"] = 79] = "KEY_O";
  KeyboardKey[KeyboardKey["KEY_P"] = 80] = "KEY_P";
  KeyboardKey[KeyboardKey["KEY_Q"] = 81] = "KEY_Q";
  KeyboardKey[KeyboardKey["KEY_R"] = 82] = "KEY_R";
  KeyboardKey[KeyboardKey["KEY_S"] = 83] = "KEY_S";
  KeyboardKey[KeyboardKey["KEY_T"] = 84] = "KEY_T";
  KeyboardKey[KeyboardKey["KEY_U"] = 85] = "KEY_U";
  KeyboardKey[KeyboardKey["KEY_V"] = 86] = "KEY_V";
  KeyboardKey[KeyboardKey["KEY_W"] = 87] = "KEY_W";
  KeyboardKey[KeyboardKey["KEY_X"] = 88] = "KEY_X";
  KeyboardKey[KeyboardKey["KEY_Y"] = 89] = "KEY_Y";
  KeyboardKey[KeyboardKey["KEY_Z"] = 90] = "KEY_Z";
  KeyboardKey[KeyboardKey["NUMPAD_0"] = 96] = "NUMPAD_0";
  KeyboardKey[KeyboardKey["NUMPAD_1"] = 97] = "NUMPAD_1";
  KeyboardKey[KeyboardKey["NUMPAD_2"] = 98] = "NUMPAD_2";
  KeyboardKey[KeyboardKey["NUMPAD_3"] = 99] = "NUMPAD_3";
  KeyboardKey[KeyboardKey["NUMPAD_4"] = 100] = "NUMPAD_4";
  KeyboardKey[KeyboardKey["NUMPAD_5"] = 101] = "NUMPAD_5";
  KeyboardKey[KeyboardKey["NUMPAD_6"] = 102] = "NUMPAD_6";
  KeyboardKey[KeyboardKey["NUMPAD_7"] = 103] = "NUMPAD_7";
  KeyboardKey[KeyboardKey["NUMPAD_8"] = 104] = "NUMPAD_8";
  KeyboardKey[KeyboardKey["NUMPAD_9"] = 105] = "NUMPAD_9";
  KeyboardKey[KeyboardKey["MINUS"] = 109] = "MINUS";
  KeyboardKey[KeyboardKey["F1"] = 112] = "F1";
  KeyboardKey[KeyboardKey["F2"] = 113] = "F2";
  KeyboardKey[KeyboardKey["F3"] = 114] = "F3";
  KeyboardKey[KeyboardKey["F4"] = 115] = "F4";
  KeyboardKey[KeyboardKey["F5"] = 116] = "F5";
  KeyboardKey[KeyboardKey["F6"] = 117] = "F6";
  KeyboardKey[KeyboardKey["F7"] = 118] = "F7";
  KeyboardKey[KeyboardKey["F8"] = 119] = "F8";
  KeyboardKey[KeyboardKey["F9"] = 120] = "F9";
  KeyboardKey[KeyboardKey["F10"] = 121] = "F10";
  KeyboardKey[KeyboardKey["F11"] = 122] = "F11";
  KeyboardKey[KeyboardKey["F12"] = 123] = "F12";
  KeyboardKey[KeyboardKey["COMMA"] = 188] = "COMMA";
  KeyboardKey[KeyboardKey["PERIOD"] = 190] = "PERIOD";
  KeyboardKey[KeyboardKey["SLASH"] = 191] = "SLASH";
  KeyboardKey[KeyboardKey["GRAVE"] = 192] = "GRAVE";
  KeyboardKey[KeyboardKey["MOUSE_MOVEMENT"] = 195] = "MOUSE_MOVEMENT";
  KeyboardKey[KeyboardKey["MOUSE_BUTTON_LEFT"] = 196] = "MOUSE_BUTTON_LEFT";
  KeyboardKey[KeyboardKey["MOUSE_BUTTON_MIDDLE"] = 197] = "MOUSE_BUTTON_MIDDLE";
  KeyboardKey[KeyboardKey["MOUSE_BUTTON_RIGHT"] = 198] = "MOUSE_BUTTON_RIGHT";
  KeyboardKey[KeyboardKey["MOUSE_WHEEL"] = 199] = "MOUSE_WHEEL";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_1"] = 201] = "PSEUDO_KEY_1";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_2"] = 202] = "PSEUDO_KEY_2";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_3"] = 203] = "PSEUDO_KEY_3";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_4"] = 204] = "PSEUDO_KEY_4";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_5"] = 205] = "PSEUDO_KEY_5";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_6"] = 206] = "PSEUDO_KEY_6";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_7"] = 207] = "PSEUDO_KEY_7";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_8"] = 208] = "PSEUDO_KEY_8";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_9"] = 209] = "PSEUDO_KEY_9";
  KeyboardKey[KeyboardKey["PSEUDO_KEY_10"] = 210] = "PSEUDO_KEY_10";
  KeyboardKey[KeyboardKey["BRACKET_OPEN"] = 219] = "BRACKET_OPEN";
  KeyboardKey[KeyboardKey["BACKSLASH"] = 220] = "BACKSLASH";
  KeyboardKey[KeyboardKey["BRACKET_CLOSE"] = 221] = "BRACKET_CLOSE";
  KeyboardKey[KeyboardKey["APOSTROPHE"] = 222] = "APOSTROPHE";
})(src_types_KeyboardKey || (src_types_KeyboardKey = {}));

let types_MouseButton;

(function (MouseButton) {
  MouseButton[MouseButton["Left"] = 0] = "Left";
  MouseButton[MouseButton["Middle"] = 1] = "Middle";
  MouseButton[MouseButton["Right"] = 2] = "Right";
  MouseButton[MouseButton["Back"] = 3] = "Back";
  MouseButton[MouseButton["Forward"] = 4] = "Forward";
})(types_MouseButton || (types_MouseButton = {}));
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/ParentShortcut.tsx

function ParentShortcut({
  options,
  onClick
}) {
  useParentShortcut(options, onClick);
  return null;
}
;// CONCATENATED MODULE: ./packages/react-gamepad/src/ParentShortcut.tsx




function ParentShortcut_ParentShortcut(props) {
  const {
    version: gamepadVersion
  } = useGamepadAdapter();

  if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
    return /*#__PURE__*/react.createElement(ParentShortcut, props);
  }

  return /*#__PURE__*/react.createElement(LandmarkShortcut, props);
}
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconMagnifyingGlass/images/magnifyingGlass.png
const magnifyingGlass_namespaceObject = __webpack_require__.p + "assets/magnifyingGlass-52f96.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconMagnifyingGlass/IconMagnifyingGlass.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconMagnifyingGlass = ({"iconMagnifyingGlass":"TmKO0"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconMagnifyingGlass/IconMagnifyingGlass.tsx




const IconMagnifyingGlass_IconMagnifyingGlass = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconMagnifyingGlass.iconMagnifyingGlass,
  src: magnifyingGlass_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-primitive/src/EllipsisPrimitive/EllipsisPrimitive.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const EllipsisPrimitive = ({"ellipsis":"nTLvV","browser":"tkVAm"});
;// CONCATENATED MODULE: ./packages/ui-primitive/src/EllipsisPrimitive/EllipsisPrimitive.tsx




const EllipsisPrimitive_EllipsisPrimitive = ({
  children,
  innerRef,
  className
}) => {
  if ((0,react_facet_src.isFacet)(children)) {
    return /*#__PURE__*/react.createElement("fast-div", {
      ref: innerRef,
      className: classnames_default()(EllipsisPrimitive.ellipsis,  false ? 0 : '', className)
    }, /*#__PURE__*/react.createElement("fast-text", {
      text: children
    }));
  }

  return /*#__PURE__*/react.createElement("div", {
    ref: innerRef,
    className: classnames_default()(EllipsisPrimitive.ellipsis,  false ? 0 : '', className)
  }, children);
};
;// CONCATENATED MODULE: ./packages/ui-internal/src/InputChangesOverride/InputChangesOverride.ts

const InputChangesOverride_context = (0,react.createContext)(null);
const useInputChangesOverride = () => (0,react.useContext)(InputChangesOverride_context);
const InputChangesOverrideProvider = InputChangesOverride_context.Provider;
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseTextField/context/onGlobalChange.ts

function createEmptyTextInputChange() {
  return {
    addedChars: '',
    removedChars: '',
    invalidChars: '',
    index: -1
  };
}
const textFieldOnChangeContext = (0,react.createContext)(null);
const useKeyboardEventCallbacks = () => (0,react.useContext)(textFieldOnChangeContext);
const OnChangeProvider = textFieldOnChangeContext.Provider;
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseTextField/component/BaseTextField.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseTextField = ({"textFieldWrapper":"ZyW_9","textField":"d9dd2","textFieldWrapperShadow":"oC3bl","textFieldBrowserOnly":"PZ6ir","textFieldType":"uHy0P","textFieldPlaceholder":"YuTSL","textFieldTextArea":"DYvK2","disabled":"ezdmG","placeholderAdjustedWithIcon":"_08EUe","textFieldContentWrapper":"v2fnz","textFieldIcon":"b4wn_","textFieldClearInteractive":"mHHfZ"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseTextField/component/BaseTextField.tsx














let PlaceholderIcon;

(function (PlaceholderIcon) {
  PlaceholderIcon[PlaceholderIcon["MagnifyingGlass"] = 0] = "MagnifyingGlass";
})(PlaceholderIcon || (PlaceholderIcon = {}));

const getPlaceholderIcon = placeholderIcon => {
  switch (placeholderIcon) {
    case PlaceholderIcon.MagnifyingGlass:
      return /*#__PURE__*/react.createElement(IconMagnifyingGlass_IconMagnifyingGlass, null);

    default:
      return /*#__PURE__*/react.createElement(IconMagnifyingGlass_IconMagnifyingGlass, null);
  }
};

function BaseTextField_BaseTextField(props) {
  const {
    autofocus,
    gamepadAlias,
    gamepadIndex,
    value,
    disabled = false,
    label,
    className,
    // We set the default maxLength value to 50000 as this is the default value in Bedrock
    // and we must set a max length. This is just to make sure that the Gameface and Bedrock
    // input matches and does not go out of sync
    maxLength = 50000,
    narrationText,
    onBlur,
    onFocus,
    onHover,
    onKeyDown,
    onKeyUp,
    onChange,
    onSelectedChange,
    placeholder = '',
    rows = 1,
    shouldBlurOnEnter,
    shouldBlurOnEscape,
    onTab,
    isNumber,
    placeholderIcon,
    showClearOptionWhenValueExists,
    onClear,
    hasShadow = true,
    role = 'neutral80'
  } = props;
  const {
    t
  } = useLocalization('BaseTextField');
  const [isFocusedFacet, setIsFocusedFacet] = (0,react_facet_src.useFacetState)(false);
  const [isSelectedFacet, setIsSelectedFacet] = (0,react_facet_src.useFacetState)(false);
  const valueFacet = (0,react_facet_src.useFacetWrap)(value);
  const disabledValue = (0,react_facet_src.useFacetUnwrap)(disabled);
  const {
    narrateText,
    preventNarrateText
  } = useNarrateText();
  const stateOverrideFacet = (0,react_facet_src.useFacetWrap)(useInputStateOverride());
  const inputChangesOverride = useInputChangesOverride();
  const classNameFacet = (0,react_facet_src.useFacetWrap)(className);
  const inputTypeFacet = (0,react_facet_src.useFacetMap)(isNumber => isNumber ? 'number' : 'text', [], [(0,react_facet_src.useFacetWrap)(isNumber)]);
  const autofocusRef = (0,react.useRef)(autofocus);
  const {
    color: {
      [role]: semanticColor
    },
    variant
  } = useSemanticTokens();
  const ref = (0,react.useRef)(null);
  const previousFocusState = (0,react.useRef)(false); // When the TextField becomes focused the role and text field label should be read as a hint

  (0,react_facet_src.useFacetEffect)((focused, label) => {
    // The ref is used to prevent the narrateText to fire on every char entry on touch
    // The software keyboard loses and regains focus for each char, triggering this effect again and again
    if (focused && !previousFocusState.current) {
      previousFocusState.current = true;
      narrateText(`${t('.selected')} . ${t('.hint', [`${label}`])}`);
    } else if (!focused) {
      previousFocusState.current = false;
    }
  }, [narrateText, t], [isFocusedFacet, (0,react_facet_src.useFacetWrap)(label !== null && label !== void 0 ? label : '')]);
  (0,react.useEffect)(() => {
    if (!ref.current) return;

    if (autofocusRef.current) {
      ref.current.focus();
    }
  }, []);
  const onKeyboardEvent = useKeyboardEventCallbacks();
  const handleGlobalChange = (0,react.useCallback)(inputChanges => {
    if (ref.current && document.activeElement === ref.current) {
      const narration = inputChangesToNarration(ref.current.value, inputChanges !== null && inputChanges !== void 0 ? inputChanges : inputChangesOverride, t);
      preventNarrateText();

      if (narration != null) {
        narrateText(narration);
      }

      onChange && onChange(ref.current.value, inputChanges !== null && inputChanges !== void 0 ? inputChanges : inputChangesOverride);
    }
  }, [onChange, inputChangesOverride, narrateText, t, preventNarrateText]);
  const handleTab = (0,react.useCallback)(() => {
    if (ref.current && document.activeElement === ref.current) {
      onTab && onTab();
    }
  }, [onTab]);
  const handleSelected = (0,react.useCallback)(selected => {
    setIsSelectedFacet(selected);
    onSelectedChange && onSelectedChange(selected);
  }, [setIsSelectedFacet, onSelectedChange]);
  const handleBlur = (0,react.useCallback)(reselect => {
    if (ref.current) {
      setIsFocusedFacet(false);

      if (onBlur != null) {
        // This handler sets the value of the text field, both by manipulating the dom and by calling the onChange handler.
        // This is unfortunately currently needed since the virtual keyboard integration sets the value of the dom element
        // directly when submitting a value. If we would in a validation in the onBlur handler have used a setter of the facet
        // holding the current value instead, then setting it back to the current facet value would not trigger a change and
        // the input would keep the invalid value, even though the facet will have the correct value.
        const setValue = (newValue = '') => {
          if (ref.current) {
            ref.current.value = newValue;

            if (onChange != null) {
              onChange(newValue, inputChangesOverride !== null && inputChangesOverride !== void 0 ? inputChangesOverride : createEmptyTextInputChange());
            }
          }
        };

        onBlur(ref.current.value, setValue);
      }

      if (Boolean(reselect)) {
        handleSelected(true);
      } else {
        handleSelected(false);
      }
    }
  }, [onBlur, setIsFocusedFacet, handleSelected, onChange, inputChangesOverride]);
  const handleDismissed = (0,react.useCallback)(() => {
    if (ref.current && document.activeElement === ref.current) {
      ref.current.blur();
      handleBlur(true);
    }
  }, [handleBlur]);
  const handleSubmit = (0,react.useCallback)(() => {
    if (ref.current && document.activeElement === ref.current) {
      handleDismissed();
    }
  }, [handleDismissed]);
  (0,react.useEffect)(() => {
    if (!onKeyboardEvent) return;
    const cleanupCallbacks = [onKeyboardEvent.changedCB(handleGlobalChange), onKeyboardEvent.tabbedCB(handleTab), onKeyboardEvent.submittedCB(handleSubmit), onKeyboardEvent.dismissedCB(handleDismissed)];
    return () => {
      cleanupCallbacks.forEach(cb => cb());
    };
  }, [onKeyboardEvent, handleGlobalChange, handleDismissed, handleTab, handleSubmit]);
  const handleClick = (0,react.useCallback)(() => {
    if (!ref.current) return;
    ref.current.focus();
  }, []);
  const handleKeyUp = (0,react.useCallback)(event => {
    onKeyUp && onKeyUp(event); // Don't prevent narration if the user is initially focusing the field

    if (!previousFocusState.current) {
      if ('target' in event) {
        const narration = inputChangesToNarration(event.target.value, inputChangesOverride !== null && inputChangesOverride !== void 0 ? inputChangesOverride : createEmptyTextInputChange(), t);
        preventNarrateText();

        if (narration != null) {
          narrateText(narration);
        }
      }
    }

    onChange && onChange(event.target.value, inputChangesOverride !== null && inputChangesOverride !== void 0 ? inputChangesOverride : createEmptyTextInputChange());
  }, [onChange, onKeyUp, inputChangesOverride, t, narrateText, preventNarrateText]);
  const inputClassName = (0,react_facet_src.useFacetMap)((isFocused, isSelected, stateOverride, classNameValue) => {
    return classnames_default()(BaseTextField.textField, BaseTextField.textFieldType, semanticColor.border.interactive, semanticColor.text.interactive, semanticColor.caret.base, classNameValue, {
      [BaseTextField.textFieldBrowserOnly]: "gameface" === 'browser',
      [BaseTextField.textFieldFocused]: stateOverride && stateOverride.focused || isFocused,
      [BaseTextField.disabled]: disabledValue,
      [BaseTextField.textFieldTextArea]: rows > 1
    });
  }, [disabledValue, rows, semanticColor], [isFocusedFacet, isSelectedFacet, stateOverrideFacet, classNameFacet]);
  const focusedClass = (0,react_facet_src.useFacetMap)((isFocused, isSelected, stateOverride) => {
    return classnames_default()({
      [focusClass]: stateOverride && stateOverride.focused || isSelected && !isFocused
    });
  }, [], [isFocusedFacet, isSelectedFacet, stateOverrideFacet]);
  const handleKeyDown = (0,react.useCallback)(event => {
    if (!ref.current) return;

    if (event.keyCode === src_types_KeyboardKey.ESCAPE && document.activeElement === ref.current) {
      if (shouldBlurOnEscape) {
        // Deselect on ESCAPE key down as in legacy Bedrock fields
        ref.current.blur();
        handleBlur(true);
        event.stopPropagation();
      }
    } else if (event.keyCode === src_types_KeyboardKey.ENTER && document.activeElement === ref.current && rows === 1) {
      if (shouldBlurOnEnter) {
        // Deselect on ENTER key down if not multiline as in legacy Bedrock fields
        // setTimeout is here to not let the gamepad click handler to refocus the field immediately
        setTimeout(() => {
          ref.current && ref.current.blur();
          handleBlur(true);
        }, 0);
        event.preventDefault();
      }
    }
  }, [rows, shouldBlurOnEnter, shouldBlurOnEscape, handleBlur]);
  const handleFocus = (0,react.useCallback)(() => {
    setIsFocusedFacet(true);
    onFocus && onFocus();
    handleSelected(true);
  }, [onFocus, setIsFocusedFacet, handleSelected]);
  const gamepadFacet = (0,react_facet_src.useFacetMap)(isFocused => ({
    button: ButtonType.B,
    inputLegend: t('.deselect'),
    disabled: !isFocused
  }), [t], [isFocusedFacet]);
  const isValueNotNullOrEmptyFacet = (0,react_facet_src.useFacetMap)(value => {
    return value != null && value !== '';
  }, [], [valueFacet]);
  const placeholderDisplay = (0,react_facet_src.useFacetMap)((value, isFocused) => {
    return (value == null || value === '') && !isFocused ? 'flex' : 'none';
  }, [], [valueFacet, isFocusedFacet]);
  const placeholderElement = /*#__PURE__*/react.createElement("fast-div", {
    className: classnames_default()(BaseTextField.textFieldType, BaseTextField.textFieldPlaceholder, semanticColor.text.interactive, variant.dimmest, {
      [BaseTextField.placeholderAdjustedWithIcon]: placeholderIcon != null
    }),
    style: {
      display: placeholderDisplay
    }
  }, placeholderIcon != null ? /*#__PURE__*/react.createElement("div", {
    className: BaseTextField.textFieldContentWrapper
  }, /*#__PURE__*/react.createElement("div", {
    className: BaseTextField.textFieldIcon
  }, getPlaceholderIcon(placeholderIcon)), /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, placeholder)) : /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, placeholder));
  const inputElement = rows > 1 ? /*#__PURE__*/react.createElement("fast-textarea", {
    ref: ref,
    rows: rows,
    className: inputClassName,
    maxLength: maxLength,
    value: valueFacet,
    onFocus: handleFocus,
    onKeyDown: onKeyDown,
    onKeyUp: handleKeyUp,
    onBlur: () => {
      handleBlur(false);
    }
  }) : /*#__PURE__*/react.createElement("fast-input", {
    ref: ref,
    type: inputTypeFacet,
    className: inputClassName,
    maxLength: maxLength,
    value: valueFacet,
    onFocus: handleFocus,
    onKeyDown: onKeyDown,
    onKeyUp: handleKeyUp,
    onBlur: () => {
      handleBlur(false);
    }
  });

  const content = () => {
    if (disabledValue !== react_facet_src.NO_VALUE && disabledValue) {
      return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
        className: classnames_default()(BaseTextField.textFieldWrapper, semanticColor.background.interactive, {
          [BaseTextField.disabled]: disabledValue
        }),
        "data-testid": props['data-testid'],
        key: "disabled",
        narrationText: narrationText,
        inputLegend: false,
        disabled: true,
        gamepadIndex: gamepadIndex !== null && gamepadIndex !== void 0 ? gamepadIndex : 0,
        onFocusChanged: handleSelected,
        onKeyDown: handleKeyDown,
        onClick: handleClick,
        gamepadAlias: gamepadAlias
      }, /*#__PURE__*/react.createElement("div", {
        className: classnames_default()(hasShadow ? semanticColor.shadow.interactive : undefined, {
          [BaseTextField.textFieldWrapperShadow]: hasShadow
        })
      }), placeholderElement, /*#__PURE__*/react.createElement("fast-div", {
        className: inputClassName
      }, /*#__PURE__*/react.createElement("span", null, /*#__PURE__*/react.createElement("span", null, /*#__PURE__*/react.createElement("fast-text", {
        text: valueFacet
      })), ' ')));
    }

    return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
      key: "enabled",
      className: classnames_default()(BaseTextField.textFieldWrapper, semanticColor.background.base, semanticColor.background.disable),
      "data-testid": props['data-testid'],
      narrationText: narrationText,
      gamepadIndex: gamepadIndex !== null && gamepadIndex !== void 0 ? gamepadIndex : 0,
      inputLegend: t('.select'),
      onFocusChanged: handleSelected,
      classNameFocused: focusedClass,
      onKeyDown: handleKeyDown,
      onClick: handleClick,
      gamepadAlias: gamepadAlias,
      onHoverChanged: onHover
    }, /*#__PURE__*/react.createElement("div", {
      className: classnames_default()(hasShadow ? semanticColor.shadow.interactive : undefined, {
        [BaseTextField.textFieldWrapperShadow]: hasShadow
      })
    }), placeholderElement, inputElement, /*#__PURE__*/react.createElement(Focus_Focus, {
      role: role
    }), showClearOptionWhenValueExists && /*#__PURE__*/react.createElement(react_facet_src.Mount, {
      when: isValueNotNullOrEmptyFacet
    }, /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
      className: BaseTextField.textFieldClearInteractive,
      gamepadIndex: 0,
      narrationText: false,
      inputLegend: '',
      onClick: () => onClear != null && onClear()
    }, /*#__PURE__*/react.createElement(IconCrossWhite_IconCrossWhite, null))));
  };

  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: gamepadFacet,
    onClick: () => {
      if (ref.current && document.activeElement === ref.current) {
        ref.current.blur();
        handleBlur(true);
      }
    }
  }), content());
}

const inputChangesToNarration = (value, inputChanges, t) => {
  const added = inputChanges.addedChars.split('').join(' ');
  const removed = inputChanges.removedChars.split('').join(' ');
  const invalid = inputChanges.invalidChars.split('').join(' ');
  const invalidText = invalid !== '' ? ` ${invalid} ${t('.invalidNarration')}` : '';
  const valueWithPause = value.length !== 0 ? ` . . ${value}` : '';

  if (added !== '') {
    if (removed !== '') {
      return `${removed} ${t('.replacedNarration')} ${added}${invalidText}${valueWithPause}`;
    }

    return `${added} ${t('.addedNarration')}${invalidText}${valueWithPause}`;
  }

  if (removed !== '') {
    return `${removed} ${t('.removedNarration')}${valueWithPause}`;
  }

  return null;
};
;// CONCATENATED MODULE: ./packages/ui-internal/src/Panel/Panel.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Panel = ({"Panel":"eUpFO","compactPanel":"lMcuz","transparent":"oTQSA","panelFocus":"H7Hc9"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Panel/Panel.tsx
function Panel_extends() { Panel_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return Panel_extends.apply(this, arguments); }

function Panel_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = Panel_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function Panel_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










function Panel_Panel(_ref) {
  let {
    children,
    isTransparent,
    compact = false,
    focusable = false,
    narrationText = false,
    inputLegend = false,
    shouldDisplayFocus = true,
    onClick,
    gamepadIndex,
    role = 'neutral',
    disabled
  } = _ref,
      rest = Panel_objectWithoutProperties(_ref, ["children", "isTransparent", "compact", "focusable", "narrationText", "inputLegend", "shouldDisplayFocus", "onClick", "gamepadIndex", "role", "disabled"]);

  const focusableFacet = (0,react_facet_src.useFacetWrap)(focusable);
  const gamepadIndexFacet = (0,react_facet_src.useFacetWrap)(gamepadIndex);
  const narrationTextFacet = (0,react_facet_src.useFacetWrap)(narrationText);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const {
    color: {
      [role]: {
        background
      }
    },
    component: {
      panel: {
        texture
      }
    }
  } = useSemanticTokens();
  const inheritedRole = useInheritSemanticRole();
  const textureForRole = texture[role === 'inherit' ? inheritedRole : role].base;
  const isTransparentFacet = (0,react_facet_src.useFacetWrap)(isTransparent);
  const className = (0,react_facet_src.useFacetMap)(transparent => {
    return classnames_default()(Panel.Panel, {
      [Panel.transparent]: transparent,
      [Panel.compactPanel]: compact
    }, textureForRole != null ? textureForRole : background.base);
  }, [compact, background.base, textureForRole], [isTransparentFacet]);
  const classNameFocused = (0,react_facet_src.useFacetMap)(className => classnames_default()(className, focusClass), [], [className]);
  const content = /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: role
  }, !compact && textureForRole == null && /*#__PURE__*/react.createElement(Reflection_Reflection, {
    interactive: false,
    effect: "bevel",
    left: false,
    right: false
  }), !compact && /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 3
  }), children, !compact && /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 3
  }));
  const isMountedFacet = (0,react_facet_src.useFacetMap)((focusable, gamepadIndex, narrationText, disabled) => onClick != null && disabled !== true || focusable === true && gamepadIndex != null && narrationText != null, [onClick], [focusableFacet, gamepadIndexFacet, narrationTextFacet, disabledFacet]);
  const shouldNotDisplayFocusFacet = (0,react_facet_src.useFacetMap)(shouldDisplayFocus => !shouldDisplayFocus, [], [(0,react_facet_src.useFacetWrap)(shouldDisplayFocus)]);
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive.Maybe, Panel_extends({
    isInteractive: isMountedFacet,
    gamepadIndex: gamepadIndex,
    className: className,
    classNameFocused: classNameFocused,
    narrationText: narrationText,
    inputLegend: inputLegend,
    onClick: onClick !== null && onClick !== void 0 ? onClick : Panel_noop
  }, rest), content, /*#__PURE__*/react.createElement(Focus_Focus, {
    className: Panel.panelFocus,
    interactive: false,
    disabled: shouldNotDisplayFocusFacet,
    role: role
  }));
}

function Panel_noop() {}
;// CONCATENATED MODULE: ./packages/ui-internal/src/Panel/PanelLabel.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PanelLabel = ({"panelLabel":"i_2FG"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Panel/PanelLabel.tsx





function PanelLabel_PanelLabel({
  children,
  disabled,
  role = 'inherit',
  className
}) {
  const {
    color: {
      [role]: {
        text
      }
    },
    modifier,
    variant
  } = useSemanticTokens();
  const childrenFacet = (0,react_facet_src.useFacetWrap)(children);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const classNameFacet = (0,react_facet_src.useFacetWrap)(className);
  const labelClassName = (0,react_facet_src.useFacetMap)((isDisabled, className) => // Setting text to sub role dimmer when disabled is not ideal, but is needed in order to retrofit the semantic tokens
  classnames_default()(PanelLabel.panelLabel, text.base, {
    [modifier.disabled]: isDisabled,
    [variant.dimmer]: isDisabled
  }, className), [modifier, text, variant], [disabledFacet, classNameFacet]);
  return /*#__PURE__*/react.createElement("fast-span", {
    className: labelClassName
  }, /*#__PURE__*/react.createElement("fast-text", {
    text: childrenFacet
  }));
}
;// CONCATENATED MODULE: ./packages/ui-internal/src/Panel/PanelDescription.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PanelDescription = ({"panelDescription":"rycle"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Panel/PanelDescription.tsx





const PanelDescription_PanelDescription = ({
  children,
  disabled,
  role = 'inherit'
}) => {
  const {
    color: {
      [role]: {
        text
      }
    },
    variant,
    modifier
  } = useSemanticTokens();
  const childrenFacet = (0,react_facet_src.useFacetWrap)(children);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const className = (0,react_facet_src.useFacetMap)(isDisabled => classnames_default()(PanelDescription.panelDescription, text.base, variant.dimmer, {
    [modifier.disabled]: isDisabled
  }), [modifier, text, variant], [disabledFacet]);
  return /*#__PURE__*/react.createElement("fast-div", {
    className: className
  }, /*#__PURE__*/react.createElement("fast-text", {
    text: childrenFacet
  }));
};
;// CONCATENATED MODULE: ./packages/ui/src/TextField/TextFieldWrapper.tsx




function TextFieldWrapper({
  disabled,
  label: labelFacet,
  description,
  children,
  gamepadIndex,
  transparent,
  disabledNarrationText
}) {
  const isNarrationEnabled = useNarrationEnabled();
  const panelIsFocusable = (0,react_facet_src.useFacetMap)(disabled => disabled && isNarrationEnabled, [isNarrationEnabled], [disabled]);
  return /*#__PURE__*/react.createElement(Panel_Panel, {
    focusable: panelIsFocusable,
    gamepadIndex: gamepadIndex !== null && gamepadIndex !== void 0 ? gamepadIndex : 0,
    isTransparent: transparent,
    narrationText: disabledNarrationText
  }, /*#__PURE__*/react.createElement(PanelLabel_PanelLabel, {
    disabled: disabled
  }, labelFacet), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 1
  }), children, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 1
  }), /*#__PURE__*/react.createElement(PanelDescription_PanelDescription, {
    disabled: disabled
  }, description));
}
;// CONCATENATED MODULE: ./packages/react-gamepad/src/Row.tsx





function Row(props) {
  const {
    version: gamepadVersion
  } = useGamepadAdapter();

  if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
    return /*#__PURE__*/react.createElement(RowLegacy, props);
  }

  if (props.shouldSkipLandmarkInVisual) {
    return /*#__PURE__*/react.createElement(DisabledAreaWrapper, {
      options: props.options
    }, props.children);
  }

  return /*#__PURE__*/react.createElement(LandmarkWrapper, props);
}

function RowLegacy({
  options,
  children,
  scrollRef
}) {
  const Row = useRow(options, scrollRef);
  return /*#__PURE__*/react.createElement(Row, null, children);
}
;// CONCATENATED MODULE: ./packages/ui/src/Button/Button.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Button = ({"labelContainer":"dGKbF","container":"Mc7_w","focused":"f98RG","elevated":"LtoW3","elevatedAndPressed":"fYLl1","image":"f84oF"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Pressable/Pressable.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Pressable = ({"box":"ZFCMh","elevated":"gm_hk","elevatedAndPressed":"_63rL","horizontal":"z1z73","raised":"jUUof","boxBorder":"S54bt","shine":"NMcbo","shineText":"OdSfJ","bottomOffset":"h4_9h"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Pressable/Pressable.tsx
function Pressable_extends() { Pressable_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return Pressable_extends.apply(this, arguments); }








function BoxBorder(props) {
  const propsRef = (0,react.useRef)(props);
  propsRef.current = props;
  const className = classnames_default()(Pressable.box, Pressable.boxBorder, propsRef.current.className != null ? propsRef.current.className : undefined);
  const classNameFocused = classnames_default()(focusClass, propsRef.current.classNameFocused != null ? propsRef.current.classNameFocused : undefined);
  const classNameHovered = classnames_default()(propsRef.current.classNameHovered != null ? propsRef.current.classNameHovered : undefined);
  const classNamePressed = classnames_default()(propsRef.current.classNamePressed != null ? propsRef.current.classNamePressed : undefined);
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, Pressable_extends({
    autofocus: propsRef.current.autofocus,
    disabled: propsRef.current.disabled,
    disableScrollIntoView: propsRef.current.disableScrollIntoView,
    className: className,
    "data-testid": propsRef.current['data-testid'],
    classNameFocused: classNameFocused,
    classNameHovered: classNameHovered,
    classNamePressed: classNamePressed,
    classNameDisabled: propsRef.current.classNameDisabled,
    delayedClick: propsRef.current.delayedClick,
    gamepadAlias: propsRef.current.gamepadAlias,
    gamepadIndex: propsRef.current.gamepadIndex,
    inputLegend: propsRef.current.inputLegend,
    innerRef: propsRef.current.innerRef,
    onClick: propsRef.current.onClick,
    onFocusChanged: propsRef.current.onFocusChanged,
    onHoverChanged: propsRef.current.onHoverChanged,
    onPressChanged: propsRef.current.onPressChanged,
    soundEffectHovered: propsRef.current.soundEffectHovered,
    soundEffectFocused: propsRef.current.soundEffectFocused,
    soundEffectPressed: propsRef.current.soundEffectPressed,
    pressDuration: propsRef.current.pressDuration
  }, 'narrationText' in propsRef.current ? {
    narrationText: propsRef.current.narrationText
  } : {
    getNarrationText: propsRef.current.getNarrationText,
    narrationId: propsRef.current.narrationId
  }), props.children);
}
function Pressable_Pressable(props) {
  var _propsRef$current$cla, _propsRef$current$cla2, _propsRef$current$sou, _propsRef$current$sou2, _propsRef$current$sou3, _propsRef$current$ref;

  const propsRef = (0,react.useRef)(props);
  propsRef.current = props;
  const interactivePrimitiveRef = (0,react.useRef)(null);
  const classNameElevated = (_propsRef$current$cla = propsRef.current.classNameElevated) !== null && _propsRef$current$cla !== void 0 ? _propsRef$current$cla : Pressable.elevated;
  const {
    color: {
      [propsRef.current.variant]: {
        shadow,
        background,
        text,
        border
      }
    },
    sound: {
      [propsRef.current.variant]: semanticSound
    },
    component: {
      pressable: {
        texture
      }
    }
  } = useSemanticTokens();
  const inheritedRole = useInheritSemanticRole();
  const textureForRole = texture[propsRef.current.variant !== 'inherit' ? propsRef.current.variant : inheritedRole].interactive;
  const classNameElevatedAndPressed = classnames_default()({
    [(_propsRef$current$cla2 = propsRef.current.classNameElevatedAndPressed) !== null && _propsRef$current$cla2 !== void 0 ? _propsRef$current$cla2 : Pressable.elevatedAndPressed]: propsRef.current.shouldNotDepressWhenPressed !== true
  });
  const className = classnames_default()(...(textureForRole != null ? [textureForRole] : [shadow.interactive, border.interactive]), {
    [classNameElevated]: propsRef.current.isElevated,
    [Pressable.horizontal]: propsRef.current.horizontal
  });
  const classNameShine = classnames_default()(Pressable.shine, Pressable.shineBackground, Pressable.shineText, propsRef.current.className != null ? propsRef.current.className : undefined, textureForRole != null ? undefined : background.interactive, text.interactive);
  const classNameFocused = classnames_default()(focusClass, propsRef.current.classNameFocused);
  return /*#__PURE__*/react.createElement(BoxBorder, Pressable_extends({
    autofocus: propsRef.current.autofocus,
    disabled: propsRef.current.disabled,
    disableScrollIntoView: propsRef.current.disableScrollIntoView,
    className: className,
    classNameFocused: classNameFocused,
    classNameHovered: propsRef.current.classNameHovered,
    "data-testid": propsRef.current['data-testid'],
    classNamePressed: propsRef.current.isElevated ? classNameElevatedAndPressed : undefined,
    delayedClick: propsRef.current.delayedClick,
    gamepadAlias: propsRef.current.gamepadAlias,
    gamepadIndex: propsRef.current.gamepadIndex,
    innerRef: interactivePrimitiveRef,
    inputLegend: propsRef.current.inputLegend,
    onClick: propsRef.current.onClick,
    onFocusChanged: propsRef.current.onFocusChanged,
    onHoverChanged: propsRef.current.onHoverChanged,
    soundEffectHovered: (_propsRef$current$sou = propsRef.current.soundEffectHovered) !== null && _propsRef$current$sou !== void 0 ? _propsRef$current$sou : semanticSound.hover,
    soundEffectFocused: (_propsRef$current$sou2 = propsRef.current.soundEffectFocused) !== null && _propsRef$current$sou2 !== void 0 ? _propsRef$current$sou2 : semanticSound.focus,
    soundEffectPressed: (_propsRef$current$sou3 = propsRef.current.soundEffectPressed) !== null && _propsRef$current$sou3 !== void 0 ? _propsRef$current$sou3 : semanticSound.press,
    pressDuration: propsRef.current.pressDuration
  }, 'narrationText' in propsRef.current ? {
    narrationText: propsRef.current.narrationText
  } : {
    getNarrationText: propsRef.current.getNarrationText,
    narrationId: propsRef.current.narrationId
  }), textureForRole == null && (propsRef.current.focusStateOnElevatedFace ? /*#__PURE__*/react.createElement("div", {
    className: Pressable.bottomOffset
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    role: propsRef.current.variant,
    disabled: propsRef.current.disabled
  })) : /*#__PURE__*/react.createElement(Focus_Focus, {
    role: propsRef.current.variant,
    disabled: propsRef.current.disabled
  })), /*#__PURE__*/react.createElement("div", {
    className: classNameShine,
    style: propsRef.current.height != null ? {
      height: `${propsRef.current.height}rem`
    } : undefined
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, Pressable_extends({
    effect: propsRef.current.reflection,
    disabled: textureForRole != null || propsRef.current.disabled,
    role: propsRef.current.variant
  }, (_propsRef$current$ref = propsRef.current.reflectionConfig) !== null && _propsRef$current$ref !== void 0 ? _propsRef$current$ref : {})), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Pressable.raised, Pressable.shine)
  }, props.children)));
}
;// CONCATENATED MODULE: ./packages/ui/src/Button/Button.tsx








const Button_noop = () => {};

const getVariant = variant => {
  switch (variant) {
    case 'primary':
    case 'secondary':
      return 'secondaryButton';

    case 'destructive':
      return 'destructiveButton';

    default:
      return 'primaryButton';
  }
};

const Button_Button = props => {
  const {
    children,
    variant = 'secondary',
    imgSrc,
    onClick = Button_noop,
    narrationPrefix: accessibilityPrefix = children,
    narrationSuffix: accessibilitySuffix = '',
    disabled,
    soundEffectPressed,
    soundEffectHovered,
    soundEffectFocused,
    delayedClick,
    horizontal,
    linebreak = false,
    isElevated = true,
    autofocus,
    gamepadIndex = 0,
    gamepadAlias,
    disableScrollIntoView,
    inputLegend,
    onFocusChanged,
    disabledTextOverride
  } = props;
  const {
    t
  } = useLocalization('Button');
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const hasShadowFacet = (0,react_facet_src.useFacetMap)(disabled => variant === 'hero' && !disabled, [variant], [disabledFacet]);
  const narrationText = (0,react_facet_src.useFacetMap)((prefix, suffix) => `${prefix} . ${t('.button')} . ${suffix}`, [t], [(0,react_facet_src.useFacetWrap)(accessibilityPrefix), (0,react_facet_src.useFacetWrap)(accessibilitySuffix)]);
  const hasImg = (0,react_facet_src.useFacetMap)(imgSrc => imgSrc != null, [], [(0,react_facet_src.useFacetWrap)(imgSrc)]);
  return /*#__PURE__*/react.createElement(Pressable_Pressable, {
    isElevated: isElevated,
    delayedClick: delayedClick,
    narrationText: narrationText,
    className: Button.container,
    "data-testid": props['data-testid'],
    classNameHovered: Button.hovered,
    classNameFocused: Button.focused,
    classNamePressed: Button.pressed,
    classNameElevated: Button.elevated,
    classNameElevatedAndPressed: Button.elevatedAndPressed,
    disabled: disabled,
    gamepadIndex: gamepadIndex,
    inputLegend: inputLegend,
    autofocus: autofocus,
    gamepadAlias: gamepadAlias,
    disableScrollIntoView: disableScrollIntoView,
    onClick: onClick,
    soundEffectPressed: soundEffectPressed,
    soundEffectHovered: soundEffectHovered,
    soundEffectFocused: soundEffectFocused,
    horizontal: horizontal,
    variant: variant !== 'hero' ? variant : 'primary',
    onFocusChanged: onFocusChanged
  }, /*#__PURE__*/react.createElement("fast-div", {
    className: Button.labelContainer
  }, /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: hasImg
  }, /*#__PURE__*/react.createElement(Image_Image_Image, {
    imageRendering: "pixelated",
    className: Button.image,
    src: imgSrc
  })), /*#__PURE__*/react.createElement(Typography_Typography, {
    align: linebreak ? 'center' : undefined,
    variant: getVariant(variant),
    color: "inherit",
    shadow: hasShadowFacet,
    children: linebreak ? // Don't wrap this in a fragment or it breaks when rendering facet children
    disabledTextOverride !== null && disabledTextOverride !== void 0 ? disabledTextOverride : children : /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, disabledTextOverride !== null && disabledTextOverride !== void 0 ? disabledTextOverride : children)
  })));
};
;// CONCATENATED MODULE: ./packages/ui/src/TextField/TextFieldWithButton.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const TextFieldWithButton = ({"textFieldWithButtonWrapper":"L6uh_","textFieldWithButtonInput":"XpDm4","textFieldWithButtonButtonWrapper":"JA_ZQ"});
;// CONCATENATED MODULE: ./packages/ui/src/useAnimation/animations.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const animations = ({"shake":"NFMf6","shakeAnimation":"o50Eb"});
;// CONCATENATED MODULE: ./packages/ui/src/useAnimation/useAnimation.ts



let AnimationType;

(function (AnimationType) {
  AnimationType[AnimationType["HORIZONTAL_SHAKE"] = 0] = "HORIZONTAL_SHAKE";
})(AnimationType || (AnimationType = {}));

const useAnimation_animations = {
  [AnimationType.HORIZONTAL_SHAKE]: {
    className: animations.shake,
    duration: 200
  }
};
const NO_ANIMATION_CLASSNAME = '';
function useAnimation(type = AnimationType.HORIZONTAL_SHAKE) {
  const [classNameFacet, setClassNameFacet] = (0,react_facet_src.useFacetState)(NO_ANIMATION_CLASSNAME);
  const timeoutRef = (0,react.useRef)();
  const trigger = (0,react.useCallback)(() => {
    const animation = useAnimation_animations[type];
    setClassNameFacet(animation.className);
    timeoutRef.current = setTimeout(() => {
      setClassNameFacet(NO_ANIMATION_CLASSNAME);
    }, animation.duration);
  }, [type, setClassNameFacet]);
  (0,react.useEffect)(() => () => clearTimeout(timeoutRef.current), []);
  return [trigger, classNameFacet];
}
;// CONCATENATED MODULE: ./packages/ui/src/TextField/TextFieldValidation.ts
let TextFieldValidationResult;

(function (TextFieldValidationResult) {
  TextFieldValidationResult[TextFieldValidationResult["VALID"] = 0] = "VALID";
  TextFieldValidationResult[TextFieldValidationResult["INVALID"] = 1] = "INVALID";
})(TextFieldValidationResult || (TextFieldValidationResult = {}));
;// CONCATENATED MODULE: ./packages/ui/src/TextField/narration.ts

// Helper function for ordering the narration of disabled text input
function useDisabledNarration(t, label, value, description, placeholder, // Used to narrate more context on how to enable the text field
disabledNarrationSuffix) {
  return (0,react_facet_src.useFacetMap)((label, value, description, disabledNarrationSuffix) => [label, t('.narrationComponentType'), t('.disabled'), value || placeholder != null && placeholder || t('.empty'), description, disabledNarrationSuffix].filter(token => token != null).join(' - '), [t, placeholder], [label, value, description, (0,react_facet_src.useFacetWrap)(disabledNarrationSuffix !== null && disabledNarrationSuffix !== void 0 ? disabledNarrationSuffix : '')]);
} // Helper function for ordering the narration of text input

function useNarration(t, label, value, description, placeholder) {
  return (0,react_facet_src.useFacetMap)((label, value, description) => [label, t('.narrationComponentType'), value || placeholder != null && placeholder || t('.empty'), description].filter(token => token != null).join(' - '), [t, placeholder], [label, value, description]);
}
;// CONCATENATED MODULE: ./packages/ui/src/TextField/TextFieldWithButton.tsx
function TextFieldWithButton_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = TextFieldWithButton_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function TextFieldWithButton_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }














const TextFieldWithButton_noop = () => {};
/**
 * TextFieldWithButton
 * -
 * This component shares similarities with the default TextField, with the addition
 * of a secondary Button after the input. We could abstract out the facets/narration
 * to avoid code duplication, but I think that will be over-engineering the problem
 * given that the behaviour of the component may need to differ from the default
 * TextField in the future.
 */


function TextFieldWithButton_TextFieldWithButton({
  autofocus,
  gamepadAlias,
  value,
  disabled = false,
  label,
  maxLength = 50000,
  onChange = TextFieldWithButton_noop,
  onBlur,
  placeholder,
  description = '',
  rows = 1,
  gamepadIndex,
  // Button narration hint that is more descriptive than the field label
  buttonNarrationHint,
  // Used to narrate more context on why this component is disabled
  disabledNarrationSuffix,
  isNumber,
  textDisabled = false,
  buttonText,
  buttonInputLegend = '',
  buttonDisabled = false,
  buttonOnClick = TextFieldWithButton_noop,
  soundEffectButtonPressed
}) {
  const {
    t
  } = useLocalization('TextField');
  const {
    t: t2
  } = useLocalization('TextFieldWithButton');
  const valueFacet = (0,react_facet_src.useFacetWrap)(value);
  const disabledNarrationSuffixFacet = (0,react_facet_src.useFacetWrap)(disabledNarrationSuffix !== null && disabledNarrationSuffix !== void 0 ? disabledNarrationSuffix : '');
  const narrationEnabled = useNarrationEnabled();
  const labelFacet = (0,react_facet_src.useFacetWrap)(label);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const descriptionFacet = (0,react_facet_src.useFacetWrap)(description);
  const descriptionWithNavigationHint = (0,react_facet_src.useFacetMap)(description => `${description} . ${t2('.navigationHint')}`, [t2], [descriptionFacet]);
  const textDisabledFacet = (0,react_facet_src.useFacetWrap)(textDisabled);
  const buttonDisabledFacet = (0,react_facet_src.useFacetWrap)(buttonDisabled);
  const [triggerShakeAnimation, animationClassName] = useAnimation(AnimationType.HORIZONTAL_SHAKE);
  const ref = (0,react.useRef)(null);
  const narrationTextFacet = useNarration(t, labelFacet, valueFacet, descriptionWithNavigationHint, placeholder);
  const disabledNarration = useDisabledNarration(t, labelFacet, valueFacet, descriptionWithNavigationHint, placeholder, disabledNarrationSuffixFacet);
  const rowOptions = (0,react_facet_src.useFacetMap)(disabled => ({
    index: gamepadIndex,
    disabled: narrationEnabled && disabled,
    defaultFocusedChildBehavior: 'first'
  }), [narrationEnabled, gamepadIndex], [disabledFacet]);
  const onBlurHandler = (0,react.useCallback)((value, setValue) => {
    if (onBlur != null) {
      const validationResult = onBlur(value, setValue);

      switch (validationResult) {
        case TextFieldValidationResult.INVALID:
          triggerShakeAnimation();
      }
    }
  }, [onBlur, triggerShakeAnimation]);
  return /*#__PURE__*/react.createElement(TextFieldWrapper, {
    disabled: disabledFacet,
    label: labelFacet,
    gamepadIndex: gamepadIndex,
    description: descriptionFacet,
    disabledNarrationText: disabledNarration
  }, /*#__PURE__*/react.createElement(MaybeRow, {
    shouldSkipLandmarkInVisual: true,
    scrollRef: ref,
    options: rowOptions,
    disabled: disabledFacet
  }, /*#__PURE__*/react.createElement("div", {
    className: TextFieldWithButton.textFieldWithButtonWrapper
  }, /*#__PURE__*/react.createElement("div", {
    className: TextFieldWithButton.textFieldWithButtonInput
  }, /*#__PURE__*/react.createElement(BaseTextField_BaseTextField, {
    className: animationClassName,
    autofocus: autofocus,
    placeholder: placeholder,
    disabled: (0,react_facet_src.useFacetMap)((textDisabled, disabled) => textDisabled || disabled, [], [textDisabledFacet, disabledFacet]),
    label: labelFacet,
    gamepadAlias: gamepadAlias,
    gamepadIndex: 0,
    maxLength: maxLength,
    narrationText: narrationTextFacet,
    value: value,
    onChange: onChange,
    onBlur: onBlurHandler,
    isNumber: isNumber,
    rows: rows,
    shouldBlurOnEnter: true,
    shouldBlurOnEscape: true
  })), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement("div", {
    className: TextFieldWithButton.textFieldWithButtonButtonWrapper
  }, /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 1,
    inputLegend: buttonInputLegend,
    disabled: (0,react_facet_src.useFacetMap)((buttonDisabled, disabled) => buttonDisabled || disabled, [], [buttonDisabledFacet, disabledFacet]),
    onClick: buttonOnClick,
    soundEffectPressed: soundEffectButtonPressed,
    narrationSuffix: buttonNarrationHint
  }, buttonText)))));
}

const MaybeRow = (_ref) => {
  let {
    children,
    disabled
  } = _ref,
      props = TextFieldWithButton_objectWithoutProperties(_ref, ["children", "disabled"]);

  const isNarrationEnabled = useNarrationEnabled();
  const disabledValue = (0,react_facet_src.useFacetUnwrap)(disabled) === true;
  return isNarrationEnabled || disabledValue === false ? /*#__PURE__*/react.createElement(Row, props, children) : /*#__PURE__*/react.createElement(react.Fragment, null, children);
};
;// CONCATENATED MODULE: ./packages/ui/src/TextField/TextField.tsx










const TextField_noop = () => {};

function TextField({
  autofocus,
  gamepadAlias,
  value,
  disabled = false,
  // We set the default maxLength value to 50000 as this is the default value in Bedrock
  // and we must set a max length. This is just to make sure that the Gameface and Bedrock
  // input matches and does not go out of sync
  maxLength = 50000,
  onChange = TextField_noop,
  onBlur,
  placeholder,
  description = '',
  label,
  rows = 1,
  gamepadIndex,
  disabledNarrationSuffix,
  isNumber,
  transparent
}) {
  const {
    t
  } = useLocalization('TextField');
  const valueFacet = (0,react_facet_src.useFacetWrap)(value);
  const disabledNarrationSuffixFacet = (0,react_facet_src.useFacetWrap)(disabledNarrationSuffix !== null && disabledNarrationSuffix !== void 0 ? disabledNarrationSuffix : '');
  const descriptionFacet = (0,react_facet_src.useFacetWrap)(description);
  const labelFacet = (0,react_facet_src.useFacetWrap)(label);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const transparentFacet = (0,react_facet_src.useFacetWrap)(transparent);
  const [triggerShakeAnimation, animationClassName] = useAnimation(AnimationType.HORIZONTAL_SHAKE);
  const narrationTextFacet = useNarration(t, labelFacet, valueFacet, descriptionFacet, placeholder);
  const disabledNarration = useDisabledNarration(t, labelFacet, valueFacet, descriptionFacet, placeholder, disabledNarrationSuffixFacet);
  const onBlurHandler = (0,react.useCallback)((value, setValue) => {
    if (onBlur != null) {
      const validationResult = onBlur(value, setValue);

      switch (validationResult) {
        case TextFieldValidationResult.INVALID:
          triggerShakeAnimation();
      }
    }
  }, [onBlur, triggerShakeAnimation]);
  return /*#__PURE__*/react.createElement(TextFieldWrapper, {
    disabled: disabledFacet,
    label: labelFacet,
    gamepadIndex: gamepadIndex,
    description: descriptionFacet,
    transparent: transparentFacet // The disabled narration in the TextFieldWrapper allows the user to listen to all relevant
    // field information even though the inner TextField is not interactive
    ,
    disabledNarrationText: disabledNarration
  }, /*#__PURE__*/react.createElement(BaseTextField_BaseTextField, {
    className: animationClassName,
    autofocus: autofocus,
    placeholder: placeholder,
    disabled: disabled,
    label: labelFacet,
    gamepadAlias: gamepadAlias,
    gamepadIndex: gamepadIndex,
    maxLength: maxLength,
    narrationText: narrationTextFacet,
    value: value,
    onChange: onChange,
    rows: rows,
    onBlur: onBlurHandler,
    isNumber: isNumber,
    shouldBlurOnEnter: true,
    shouldBlurOnEscape: true
  }));
}
TextField.WithButton = TextFieldWithButton_TextFieldWithButton;
TextField.ValidationResult = TextFieldValidationResult;
;// CONCATENATED MODULE: ./packages/ui/src/ProgressBar/ProgressBar.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ProgressBar = ({"progressBarWrapper":"q6zFV","progressBar":"oOBki","tall":"f6wZX"});
;// CONCATENATED MODULE: ./packages/ui/src/ProgressBar/ProgressBar.tsx





/**
 * Base types
 */

function ProgressBar_ProgressBar({
  percentage,
  tall = false,
  // Hardcoding the hex value below, because vars don't work with inline styles in Gameface
  fillColor = '#2e6be5',
  fillColorThresholds
}) {
  const percentageFacet = (0,react_facet_src.useFacetWrap)(percentage);
  const tallFacet = (0,react_facet_src.useFacetWrap)(tall);

  if ((percentage < 0 || percentage > 1) && "production" !== 'test') {
    console.warn('Percentage needs to be a valid number from 0 to 1');
  }

  const thresholdsSorted = (0,react.useMemo)(() => fillColorThresholds != null ? Object.keys(fillColorThresholds).map(x => x).sort((a, b) => a > b ? 1 : -1) : undefined, [fillColorThresholds]);
  const barBackgroundColor = (0,react_facet_src.useFacetMap)((fillColor, percentage) => {
    // If there are no thresholds, use the given fillColor
    if (thresholdsSorted == null || fillColorThresholds == null) {
      return fillColor;
    } // If there are no thresholds, return the default color.


    if (thresholdsSorted.length === 0) {
      console.warn('Empty thresholds object passed to ProgressBar.');
      return fillColor;
    } // Loop down all the thresholds until we find one we're
    // higher than, then use that color.


    for (let i = thresholdsSorted.length; i >= 0; i--) {
      if (percentage >= thresholdsSorted[i]) {
        return fillColorThresholds[thresholdsSorted[i]];
      }
    } // If the percentage was never greater than any of the thresholds, return the default fillColor.


    return fillColor;
  }, [fillColorThresholds, thresholdsSorted], [(0,react_facet_src.useFacetWrap)(fillColor), percentageFacet]);
  return /*#__PURE__*/react.createElement("fast-div", {
    className: (0,react_facet_src.useFacetMap)(tall => classnames_default()(ProgressBar.progressBarWrapper, {
      [ProgressBar.tall]: tall
    }), [], [tallFacet])
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "bevel",
    thin: true,
    reversed: true
  }), /*#__PURE__*/react.createElement("fast-div", {
    className: (0,react_facet_src.useFacetMap)(tall => classnames_default()(ProgressBar.progressBar, {
      [ProgressBar.tall]: tall
    }), [], [tallFacet]),
    style: {
      width: (0,react_facet_src.useFacetMap)(percentage => `${Math.max(Math.min(Math.round(percentage * 100), 100), 0)}%`, [], [percentageFacet]),
      backgroundColor: barBackgroundColor
    }
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "bevel",
    thin: true,
    right: false
  })));
}
;// CONCATENATED MODULE: ./packages/ui/src/NavigationButton/NavigationButton.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NavigationButton = ({"button":"GbrtL","disabled":"Jw526"});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationButton/NavigationButton.tsx







const NavigationButton_NavigationButton = ({
  narrationText,
  inputLegend,
  disabled,
  onClick,
  children,
  gamepadIndex,
  gamepadAlias,
  role = 'inherit',
  soundEffectPressed,
  className
}) => {
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const {
    color: {
      [role]: semanticClassNames
    },
    sound: {
      [role]: semanticSound
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    narrationText: narrationText,
    className: classnames_default()(NavigationButton.button, semanticClassNames.background.interactive, semanticClassNames.text.interactive, className),
    classNameFocused: focusClass,
    classNameDisabled: NavigationButton.disabled,
    gamepadIndex: gamepadIndex,
    gamepadAlias: gamepadAlias,
    inputLegend: inputLegend,
    onClick: onClick,
    disabled: disabledFacet,
    soundEffectPressed: soundEffectPressed !== null && soundEffectPressed !== void 0 ? soundEffectPressed : semanticSound.press
  }, children, /*#__PURE__*/react.createElement(Focus_Focus, {
    inset: true,
    role: role
  }));
};
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/buttonMap.ts

const buttonMap_Context = (0,react.createContext)({
  swapABButtons: false,
  swapXYButtons: false
});
const useButtonMap = () => (0,react.useContext)(buttonMap_Context);
const ButtonMapProvider = buttonMap_Context.Provider;
const ButtonMapConsumer = buttonMap_Context.Consumer;
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/invokeCurrentCallback.tsx

const invokeCurrentCallbackContext = (0,react.createContext)(undefined);
const useInputLegendCallback = () => (0,react.useContext)(invokeCurrentCallbackContext);
const InvokeCurrentCallbackProvider = ({
  value,
  children
}) => {
  return /*#__PURE__*/react.createElement(invokeCurrentCallbackContext.Provider, {
    value: value
  }, children);
};
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/InputLegend.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const InputLegend = ({"InputLegend":"FGHxt","hidden":"mdtlU"});
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/Wrapper.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const InputLegend_Wrapper = ({"Custom":"_iCp3","wrapper":"HvYsi","leftContainer":"gB3x9","rightContainer":"Gehqy"});
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/constants.ts
const constants_INPUT_LEGEND_BASE_HEIGHT = 4;
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/Wrapper.tsx





function InputLegendWrapper({
  safeZone: safeZoneOverride,
  left,
  right
}) {
  const originalSafeZone = useSafeZone();
  const safeZone = safeZoneOverride || originalSafeZone;
  return /*#__PURE__*/react.createElement("div", {
    className: InputLegend_Wrapper.Custom,
    style: {
      height: `calc(${constants_INPUT_LEGEND_BASE_HEIGHT}rem + ${safeZone.bottom}px)`
    }
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "specular",
    thin: true,
    left: false,
    right: false,
    bottom: false
  }), /*#__PURE__*/react.createElement("div", {
    className: InputLegend_Wrapper.wrapper,
    style: {
      height: `${constants_INPUT_LEGEND_BASE_HEIGHT}rem`,
      paddingRight: safeZone.right + 'px',
      paddingLeft: safeZone.left + 'px'
    }
  }, left != null ? /*#__PURE__*/react.createElement("div", {
    className: InputLegend_Wrapper.leftContainer
  }, left) : null, right != null ? /*#__PURE__*/react.createElement("div", {
    className: InputLegend_Wrapper.rightContainer
  }, right) : null));
}
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/Space.tsx





function InputLegendSpace({
  extraSpace,
  children
}) {
  const wrapperClassName = (0,react_facet_src.useFacetMap)(isGamepad => {
    return isGamepad ? '' : InputLegend.hidden;
  }, [], [useIsFocusInputGamepad()]);
  const safeZone = useSafeZone();
  return /*#__PURE__*/react.createElement("fast-div", {
    className: wrapperClassName
  }, /*#__PURE__*/react.createElement("div", {
    style: {
      height: `calc(${constants_INPUT_LEGEND_BASE_HEIGHT}rem + ${safeZone.bottom}px)`
    }
  }, children), extraSpace);
}
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/XboxImages/XboxIcons.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const XboxIcons = ({"XboxButtonA":"OHrZ8","small":"vMjA2","XboxButtonB":"fg2E4","XboxButtonX":"iQyId","XboxButtonY":"pxPk9","XboxButtonStart":"oDCN0","XboxButtonLT":"WyyoK","XboxButtonRT":"aOFj8","XboxButtonLB":"GS50F","XboxButtonRB":"mKs6r","XboxButtonLeft":"pDhLW","XboxButtonRight":"wK3Xd","XboxButtonUp":"nlvNB","XboxButtonDown":"J9MtE","XboxButtonSelect":"QvCIw","XboxButtonL3":"Fqdok","XboxButtonR3":"yqVFC","XboxButtonLS":"v0Ce5","XboxButtonRS":"i4uVO","large":"aItg1","iconSize":"liriy","ABXY":"VLERn","triggers":"UoTWb","bumpers":"l5n3u","flatTriggers":"_U_vn","dButton":"xN6WQ","startXbox":"eVmaS","toggleViewXbox":"RjcUU","stick":"eMLrL"});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/XboxImages/index.ts



const XboxImages = {
  [ButtonType.A]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonA, XboxIcons.ABXY),
  [ButtonType.B]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonB, XboxIcons.ABXY),
  [ButtonType.X]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonX, XboxIcons.ABXY),
  [ButtonType.Y]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonY, XboxIcons.ABXY),
  [ButtonType.START]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonStart, XboxIcons.startXbox),
  [ButtonType.LEFT_TRIGGER]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonLT, XboxIcons.triggers),
  [ButtonType.RIGHT_TRIGGER]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonRT, XboxIcons.triggers),
  [ButtonType.LEFT_BUMPER]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonLB, XboxIcons.bumpers),
  [ButtonType.RIGHT_BUMPER]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonRB, XboxIcons.bumpers),
  [ButtonType.LEFT]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonLeft, XboxIcons.dButton),
  [ButtonType.RIGHT]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonRight, XboxIcons.dButton),
  [ButtonType.UP]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonUp, XboxIcons.dButton),
  [ButtonType.DOWN]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonDown, XboxIcons.dButton),
  [ButtonType.SELECT]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonSelect, XboxIcons.toggleViewXbox),
  [ButtonType.L3]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonL3, XboxIcons.stick),
  [ButtonType.R3]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonR3, XboxIcons.stick),
  [ButtonType.LEFT_ANALOG_LEFT]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonLS, XboxIcons.stick),
  [ButtonType.RIGHT_ANALOG_LEFT]: classnames_default()(XboxIcons.iconSize, XboxIcons.XboxButtonRS, XboxIcons.stick),
  ['large']: XboxIcons.large,
  ['small']: XboxIcons.small
};
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PS4Images/PS4Icons.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PS4Icons = ({"PS4ButtonA":"saRDS","small":"VqfCS","PS4ButtonB":"fq1Wt","PS4ButtonX":"KeNau","PS4ButtonY":"e7md4","PS4ButtonStart":"kqt1L","PS4ButtonLT":"DckFK","PS4ButtonRT":"RYAZU","PS4ButtonLB":"U6swu","PS4ButtonRB":"G58dQ","PS4ButtonLeft":"huNm8","PS4ButtonRight":"JHI_T","PS4ButtonUp":"dkG8m","PS4ButtonDown":"xESXG","PS4ButtonTouchpad":"Ep0S5","PS4ButtonL3":"Khy_Q","PS4ButtonR3":"W_0vF","PS4ButtonLS":"JoHy1","PS4ButtonRS":"xI7dX","large":"OQ6xf","iconSize":"YQeSi","ABXY":"at3wP","triggers":"z4huI","bumpers":"hjYMG","flatTriggers":"bSrtd","dButton":"pdEm6","optionsPS4":"TvAgE","sharePS4":"TbNT7","stick":"FkFaw"});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PS4Images/index.ts



const PS4Images = {
  [ButtonType.A]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonA, PS4Icons.ABXY),
  [ButtonType.B]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonB, PS4Icons.ABXY),
  [ButtonType.X]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonX, PS4Icons.ABXY),
  [ButtonType.Y]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonY, PS4Icons.ABXY),
  [ButtonType.START]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonStart, PS4Icons.optionsPS4),
  [ButtonType.LEFT_TRIGGER]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonLT, PS4Icons.flatTriggers),
  [ButtonType.RIGHT_TRIGGER]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonRT, PS4Icons.flatTriggers),
  [ButtonType.LEFT_BUMPER]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonLB, PS4Icons.bumpers),
  [ButtonType.RIGHT_BUMPER]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonRB, PS4Icons.bumpers),
  [ButtonType.LEFT]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonLeft, PS4Icons.dButton),
  [ButtonType.RIGHT]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonRight, PS4Icons.dButton),
  [ButtonType.UP]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonUp, PS4Icons.dButton),
  [ButtonType.DOWN]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonDown, PS4Icons.dButton),
  [ButtonType.SELECT]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonTouchpad, PS4Icons.sharePS4),
  [ButtonType.L3]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonL3, PS4Icons.stick),
  [ButtonType.R3]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonR3, PS4Icons.stick),
  [ButtonType.LEFT_ANALOG_LEFT]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonLS, PS4Icons.stick),
  [ButtonType.RIGHT_ANALOG_LEFT]: classnames_default()(PS4Icons.iconSize, PS4Icons.PS4ButtonRS, PS4Icons.stick),
  ['large']: PS4Icons.large,
  ['small']: PS4Icons.small
};
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PS5Images/PS5Icons.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PS5Icons = ({"PS5ButtonA":"s5WBf","small":"z6TF3","PS5ButtonB":"Kv7uC","PS5ButtonX":"kYWOu","PS5ButtonY":"WtpwV","PS5ButtonStart":"lACg4","PS5ButtonLT":"wxIDB","PS5ButtonRT":"X2Vmd","PS5ButtonLB":"tHBmF","PS5ButtonRB":"n1nsL","PS5ButtonLeft":"FOhDs","PS5ButtonRight":"xALny","PS5ButtonUp":"h2Qqa","PS5ButtonDown":"f8TY5","PS5ButtonTouchpad":"f2Ygw","PS5ButtonL3":"qxa8S","PS5ButtonR3":"KhF5i","PS5ButtonLS":"lEWFT","PS5ButtonRS":"GcMtB","large":"YG8U4","iconSize":"oYpoG","ABXY":"rgQQy","triggers":"HSGw6","bumpers":"NHxos","flatTriggers":"bWa3v","dButton":"bkeIb","optionsPS5":"M2OrT","sharePS5":"M_q6y","stick":"EtpTm"});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PS5Images/index.ts



const PS5Images = {
  [ButtonType.A]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonA, PS5Icons.ABXY),
  [ButtonType.B]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonB, PS5Icons.ABXY),
  [ButtonType.X]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonX, PS5Icons.ABXY),
  [ButtonType.Y]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonY, PS5Icons.ABXY),
  [ButtonType.START]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonStart, PS5Icons.optionsPS5),
  [ButtonType.LEFT_TRIGGER]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonLT, PS5Icons.flatTriggers),
  [ButtonType.RIGHT_TRIGGER]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonRT, PS5Icons.flatTriggers),
  [ButtonType.LEFT_BUMPER]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonLB, PS5Icons.bumpers),
  [ButtonType.RIGHT_BUMPER]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonRB, PS5Icons.bumpers),
  [ButtonType.LEFT]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonLeft, PS5Icons.dButton),
  [ButtonType.RIGHT]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonRight, PS5Icons.dButton),
  [ButtonType.UP]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonUp, PS5Icons.dButton),
  [ButtonType.DOWN]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonDown, PS5Icons.dButton),
  [ButtonType.SELECT]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonTouchpad, PS5Icons.sharePS5),
  [ButtonType.L3]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonL3, PS5Icons.stick),
  [ButtonType.R3]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonR3, PS5Icons.stick),
  [ButtonType.LEFT_ANALOG_LEFT]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonLS, PS5Icons.stick),
  [ButtonType.RIGHT_ANALOG_LEFT]: classnames_default()(PS5Icons.iconSize, PS5Icons.PS5ButtonRS, PS5Icons.stick),
  ['large']: PS5Icons.large,
  ['small']: PS5Icons.small
};
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/NintendoImages/NintendoIcons.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NintendoIcons = ({"NintendoButtonA":"qRaP6","small":"P1SbE","NintendoButtonB":"AI6pj","NintendoButtonX":"_MHws","NintendoButtonY":"B5rVg","NintendoButtonStart":"sp3nW","NintendoButtonLT":"Vdaoj","NintendoButtonRT":"_O7W7","NintendoButtonLB":"oQWb_","NintendoButtonRB":"u1YVo","NintendoButtonLeft":"tkRUh","NintendoButtonRight":"e3hRs","NintendoButtonUp":"znMgA","NintendoButtonDown":"Ghttt","NintendoButtonSelect":"jyA7I","NintendoButtonL3":"ejTg5","NintendoButtonR3":"wIh1n","NintendoButtonLS":"uxDU0","NintendoButtonRS":"RBEvC","iconSize":"K_Ucb","ABXY":"MC54K","triggers":"BXc9M","bumpers":"Yh8am","flatTriggers":"f12Q1","dButton":"chFOJ","homeNintendo":"lfQSn","minusNintendo":"gnCaZ","stick":"ApnkV","large":"h7tik"});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/NintendoImages/index.ts



const NintendoImages = {
  [ButtonType.A]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonA, NintendoIcons.ABXY),
  [ButtonType.B]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonB, NintendoIcons.ABXY),
  [ButtonType.X]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonX, NintendoIcons.ABXY),
  [ButtonType.Y]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonY, NintendoIcons.ABXY),
  [ButtonType.START]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonStart, NintendoIcons.homeNintendo),
  [ButtonType.LEFT_TRIGGER]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonLT, NintendoIcons.flatTriggers),
  [ButtonType.RIGHT_TRIGGER]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonRT, NintendoIcons.flatTriggers),
  [ButtonType.LEFT_BUMPER]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonLB, NintendoIcons.bumpers),
  [ButtonType.RIGHT_BUMPER]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonRB, NintendoIcons.bumpers),
  [ButtonType.LEFT]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonLeft, NintendoIcons.dButton),
  [ButtonType.RIGHT]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonRight, NintendoIcons.dButton),
  [ButtonType.UP]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonUp, NintendoIcons.dButton),
  [ButtonType.DOWN]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonDown, NintendoIcons.dButton),
  [ButtonType.SELECT]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonSelect, NintendoIcons.minusNintendo),
  [ButtonType.L3]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonL3, NintendoIcons.stick),
  [ButtonType.R3]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonR3, NintendoIcons.stick),
  [ButtonType.LEFT_ANALOG_LEFT]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonLS, NintendoIcons.stick),
  [ButtonType.RIGHT_ANALOG_LEFT]: classnames_default()(NintendoIcons.iconSize, NintendoIcons.NintendoButtonRS, NintendoIcons.stick),
  ['large']: NintendoIcons.large,
  ['small']: NintendoIcons.small
};
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/Gamepad.tsx








function ButtonIconGamepad({
  button,
  theme = 'light'
}) {
  const platformSelected = usePlatformSelected();
  const buttonFacet = (0,react_facet_src.useFacetWrap)(button);
  const buttonClassnames = (0,react_facet_src.useFacetMap)((buttonValue, platformSelected) => {
    const platformAssets = mapPlatformEnumToImages(platformSelected);

    if (!platformAssets[buttonValue]) {
      return '';
    }

    return classnames_default()(platformAssets[buttonValue], {
      [platformAssets['large']]: theme === 'large',
      [platformAssets['small']]: theme === 'small'
    });
  }, [theme], [buttonFacet, platformSelected]);
  return /*#__PURE__*/react.createElement("fast-div", {
    className: buttonClassnames
  });
}

const mapPlatformEnumToImages = platform => {
  if (platform === Platform.XBOX) {
    return XboxImages;
  }

  if (platform === Platform.PS4) {
    return PS4Images;
  }

  if (platform === Platform.PS5) {
    return PS5Images;
  }

  if (platform === Platform.NX_HANDHELD || platform === Platform.NX_TV) {
    return NintendoImages;
  }

  return XboxImages;
};
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/Keyboard.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Keyboard = ({"ButtonIconKeyboard":"bWVyX"});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PCImages/PCImages.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PCImages = ({"KeyboardKeyW":"auvwE","small":"roch1","KeyboardKeyA":"tBb_V","KeyboardKeyV":"iCLcl","KeyboardKeyS":"YOlJ6","KeyboardKeyT":"oMhZB","KeyboardKeyD":"VyL1w","KeyboardKeyQ":"tafjE","KeyboardKeyZ":"Hoaaj","KeyboardKeyE":"tpVOe","KeyboardKeyM":"Drtqa","KeyboardKeyR":"Zb3UU","KeyboardKeyX":"QxQ1Y","KeyboardKeyY":"QrQyh","KeyboardKeyF":"q9B4F","KeyboardKeyC":"tz71H","KeyboardKey1":"cuPgL","KeyboardKey2":"e5wNF","KeyboardKey3":"ppvtq","KeyboardKey4":"Y81IB","KeyboardKey5":"m3hWH","KeyboardKey6":"_2osj","KeyboardKey7":"GKXym","KeyboardKey8":"czhOA","KeyboardKey9":"qHgTt","KeyboardKey0":"TbhIT","KeyboardKeyUp":"b7nKj","KeyboardKeyRight":"Lz1in","KeyboardKeyDown":"j_BNz","KeyboardKeyLeft":"OE2P1","KeyboardKeyESC":"Smnr0","KeyboardKeyBracketOpen":"uSqYm","KeyboardKeyBracketClose":"ekxWu","KeyboardKeyTab":"w8Ue4","KeyboardKeyShift":"PnyQi","KeyboardKeyEnter":"DaFVW","KeyboardKeySpace":"s89WE","KeyboardKeyCtrl":"sWwMn","darkTheme":"XJCBH","KeyboardKeyMouseLeft":"JqJ5A","KeyboardKeyMouseRight":"P_s1j","KeyboardKeyMouseCenter":"SWSY_","KeyboardKeyMouseScroll":"m3IeL","KeyboardKeyMouse":"T27KG","ButtonIconKeyboard":"BsHaW","ButtonIconKeyboardKey":"G7Zxr","large":"Gnnm7","ButtonIconKeyboardSpecialKey":"PITVu","ButtonIconKeyboardMouseButton":"SRDuY"});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PCImages/index.ts



const PCImages_PCImages = {
  [src_types_KeyboardKey.TAB]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyTab, PCImages.ButtonIconKeyboardSpecialKey),
  [src_types_KeyboardKey.ENTER]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyEnter, PCImages.ButtonIconKeyboardSpecialKey),
  [src_types_KeyboardKey.SHIFT]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyShift, PCImages.ButtonIconKeyboardSpecialKey),
  [src_types_KeyboardKey.ESCAPE]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyESC, PCImages.ButtonIconKeyboardSpecialKey),
  [src_types_KeyboardKey.SPACE]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeySpace, PCImages.ButtonIconKeyboardSpecialKey),
  [src_types_KeyboardKey.CTRL]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyCtrl, PCImages.ButtonIconKeyboardSpecialKey),
  [src_types_KeyboardKey.BRACKET_OPEN]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyBracketOpen),
  [src_types_KeyboardKey.BRACKET_CLOSE]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyBracketClose),
  [src_types_KeyboardKey.UP]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyUp),
  [src_types_KeyboardKey.RIGHT]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyRight),
  [src_types_KeyboardKey.DOWN]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyDown),
  [src_types_KeyboardKey.LEFT]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyLeft),
  [src_types_KeyboardKey.KEY_0]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey0),
  [src_types_KeyboardKey.KEY_1]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey1),
  [src_types_KeyboardKey.KEY_2]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey2),
  [src_types_KeyboardKey.KEY_3]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey3),
  [src_types_KeyboardKey.KEY_4]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey4),
  [src_types_KeyboardKey.KEY_5]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey5),
  [src_types_KeyboardKey.KEY_6]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey6),
  [src_types_KeyboardKey.KEY_7]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey7),
  [src_types_KeyboardKey.KEY_8]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey8),
  [src_types_KeyboardKey.KEY_9]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKey9),
  [src_types_KeyboardKey.KEY_A]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyA),
  [src_types_KeyboardKey.KEY_C]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyC),
  [src_types_KeyboardKey.KEY_D]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyD),
  [src_types_KeyboardKey.KEY_E]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyE),
  [src_types_KeyboardKey.KEY_F]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyF),
  [src_types_KeyboardKey.KEY_M]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyM),
  [src_types_KeyboardKey.KEY_Q]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyQ),
  [src_types_KeyboardKey.KEY_R]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyR),
  [src_types_KeyboardKey.KEY_S]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyS),
  [src_types_KeyboardKey.KEY_T]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyT),
  [src_types_KeyboardKey.KEY_V]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyV),
  [src_types_KeyboardKey.KEY_W]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyW),
  [src_types_KeyboardKey.KEY_X]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyX),
  [src_types_KeyboardKey.KEY_Y]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyY),
  [src_types_KeyboardKey.KEY_Z]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyZ),
  [src_types_KeyboardKey.MOUSE_MOVEMENT]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyMouse, PCImages.ButtonIconKeyboardMouseButton),
  [src_types_KeyboardKey.MOUSE_BUTTON_LEFT]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyMouseLeft, PCImages.ButtonIconKeyboardMouseButton),
  [src_types_KeyboardKey.MOUSE_BUTTON_MIDDLE]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyMouseCenter, PCImages.ButtonIconKeyboardMouseButton),
  [src_types_KeyboardKey.MOUSE_BUTTON_RIGHT]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyMouseRight, PCImages.ButtonIconKeyboardMouseButton),
  [src_types_KeyboardKey.MOUSE_WHEEL]: classnames_default()(PCImages.ButtonIconKeyboardKey, PCImages.KeyboardKeyMouseScroll, PCImages.ButtonIconKeyboardMouseButton),
  [-2]: PCImages.large,
  // large icon sizing
  [-3]: PCImages.small // small icon sizing

};
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/Keyboard.tsx





const ButtonIconKeyboard = ({
  keyCode,
  theme = 'light'
}) => {
  const keyCodeFacet = (0,react_facet_src.useFacetWrap)(keyCode);
  const classnameFacet = (0,react_facet_src.useFacetMap)(keyCode => {
    return PCImages_PCImages[keyCode] != null ? classnames_default()(PCImages_PCImages[keyCode], {
      [PCImages_PCImages[-2]]: theme === 'large',
      [PCImages_PCImages[-3]]: theme === 'small'
    }) : Keyboard.ButtonIconKeyboard;
  }, [theme], [keyCodeFacet]);
  const textFacet = (0,react_facet_src.useFacetMap)(keyCode => {
    return PCImages_PCImages[keyCode] == null ? String.fromCharCode(keyCode) : '';
  }, [], [keyCodeFacet]);
  return /*#__PURE__*/react.createElement("fast-div", {
    className: classnameFacet
  }, /*#__PURE__*/react.createElement("fast-text", {
    text: textFacet
  }));
};
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/index.ts


const ButtonIcon = {
  Gamepad: ButtonIconGamepad,
  Keyboard: ButtonIconKeyboard
};
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/InputHint.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const InputHint = ({"InputHint":"r2rQH","hovered":"LJ0gR","pressed":"MMiKH","hintKeyBox":"X7C6X","hintGutter":"lX5qc","hidden":"Ob6kp"});
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/InputHint.tsx






function InputHint_InputHint(props) {
  const {
    label,
    theme = 'light',
    hidden = false,
    onClick,
    onHoverChanged
  } = props;
  const classNames = (0,react_facet_src.useFacetMap)(isHidden => classnames_default()(InputHint.InputHint, {
    [InputHint.hidden]: isHidden
  }), [], [(0,react_facet_src.useFacetWrap)(hidden)]);
  const content = /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    className: InputHint.hintKeyBox
  }, 'button' in props ? /*#__PURE__*/react.createElement(ButtonIcon.Gamepad, {
    button: props.button,
    theme: theme
  }) : /*#__PURE__*/react.createElement(ButtonIcon.Keyboard, {
    keyCode: props.keyCode,
    theme: theme
  })), /*#__PURE__*/react.createElement("div", {
    className: InputHint.hintGutter
  }), /*#__PURE__*/react.createElement("fast-text", {
    text: label
  }));

  if (onClick) {
    return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
      gamepadIndex: 0,
      narrationText: label,
      inputLegend: label,
      onHoverChanged: onHoverChanged,
      onClick: onClick,
      className: classNames,
      classNameHovered: InputHint.hovered,
      classNamePressed: InputHint.pressed,
      nonFocusable: true
    }, content);
  }

  return /*#__PURE__*/react.createElement("fast-div", {
    className: classNames
  }, content);
}
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/InputLegend.tsx








const InputLegend_INPUT_LEGEND_BASE_HEIGHT = 4;
function InputLegend_InputLegend({
  shouldDisplayKeyboard,
  isClickable = false
}) {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(KeyboardInputLegend, {
    isClickable: isClickable,
    visible: (0,react_facet_src.useFacetMap)(isKeyboard => isKeyboard && !!shouldDisplayKeyboard, [shouldDisplayKeyboard], [useIsFocusInputKeyboard()])
  }), /*#__PURE__*/react.createElement(GamepadInputLegend, {
    isClickable: isClickable,
    visible: useIsFocusInputGamepad()
  }));
}

function KeyboardInputLegend({
  isClickable,
  visible
}) {
  const {
    swapABButtons,
    swapXYButtons
  } = useButtonMap();
  const inputLegends = useAvailableInputLegends();
  const callback = useInputLegendCallback();
  const [keyboardGamepadMapFacet] = useKeyboardGamepadMap();
  const keyboardGamepadMapValue = (0,react_facet_src.useFacetUnwrap)(keyboardGamepadMapFacet);
  const keyboardGamepadMap = keyboardGamepadMapValue === react_facet_src.NO_VALUE ? DEFAULT_KEYBOARD_GAMEPAD_MAP : keyboardGamepadMapValue;
  return /*#__PURE__*/react.createElement("fast-div", {
    className: (0,react_facet_src.useFacetMap)(visible => visible ? InputLegend.InputLegend : InputLegend.hidden, [], [visible])
  }, /*#__PURE__*/react.createElement(InputLegend_InputLegend.Wrapper, {
    left: /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[swapABButtons ? ButtonType.A : ButtonType.B][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT;

        return (_inputLegends$ButtonT = inputLegends[ButtonType.B]) !== null && _inputLegends$ButtonT !== void 0 ? _inputLegends$ButtonT : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.B) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.B] != null, [], [inputLegends])
    }),
    right: /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[ButtonType.LEFT][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT2;

        return (_inputLegends$ButtonT2 = inputLegends[ButtonType.LEFT]) !== null && _inputLegends$ButtonT2 !== void 0 ? _inputLegends$ButtonT2 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.LEFT) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.LEFT] != null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[ButtonType.RIGHT][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT3;

        return (_inputLegends$ButtonT3 = inputLegends[ButtonType.RIGHT]) !== null && _inputLegends$ButtonT3 !== void 0 ? _inputLegends$ButtonT3 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.RIGHT) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.RIGHT] != null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[ButtonType.UP][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT4;

        return (_inputLegends$ButtonT4 = inputLegends[ButtonType.UP]) !== null && _inputLegends$ButtonT4 !== void 0 ? _inputLegends$ButtonT4 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.UP) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.UP] != null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[ButtonType.DOWN][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT5;

        return (_inputLegends$ButtonT5 = inputLegends[ButtonType.DOWN]) !== null && _inputLegends$ButtonT5 !== void 0 ? _inputLegends$ButtonT5 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.DOWN) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.DOWN] != null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[swapXYButtons ? ButtonType.Y : ButtonType.X][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT6;

        return (_inputLegends$ButtonT6 = inputLegends[ButtonType.X]) !== null && _inputLegends$ButtonT6 !== void 0 ? _inputLegends$ButtonT6 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.X) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.X] != null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[swapXYButtons ? ButtonType.X : ButtonType.Y][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT7;

        return (_inputLegends$ButtonT7 = inputLegends[ButtonType.Y]) !== null && _inputLegends$ButtonT7 !== void 0 ? _inputLegends$ButtonT7 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.Y) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.Y] != null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[ButtonType.START][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT8;

        return (_inputLegends$ButtonT8 = inputLegends[ButtonType.START]) !== null && _inputLegends$ButtonT8 !== void 0 ? _inputLegends$ButtonT8 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.START) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.START] != null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      keyCode: keyboardGamepadMap[swapABButtons ? ButtonType.B : ButtonType.A][0],
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT9;

        return (_inputLegends$ButtonT9 = inputLegends[ButtonType.A]) !== null && _inputLegends$ButtonT9 !== void 0 ? _inputLegends$ButtonT9 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.A) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.A] != null, [], [inputLegends])
    }))
  }));
}

function GamepadInputLegend({
  isClickable,
  visible
}) {
  const {
    swapABButtons,
    swapXYButtons
  } = useButtonMap();
  const inputLegends = useAvailableInputLegends();
  const callback = useInputLegendCallback();
  return /*#__PURE__*/react.createElement("fast-div", {
    className: (0,react_facet_src.useFacetMap)(visible => visible ? InputLegend.InputLegend : InputLegend.hidden, [], [visible])
  }, /*#__PURE__*/react.createElement(InputLegend_InputLegend.Wrapper, {
    left: /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: swapABButtons ? ButtonType.A : ButtonType.B,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT10;

        return (_inputLegends$ButtonT10 = inputLegends[ButtonType.B]) !== null && _inputLegends$ButtonT10 !== void 0 ? _inputLegends$ButtonT10 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.A) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.B] == null, [], [inputLegends])
    }),
    right: /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: ButtonType.LEFT,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT11;

        return (_inputLegends$ButtonT11 = inputLegends[ButtonType.LEFT]) !== null && _inputLegends$ButtonT11 !== void 0 ? _inputLegends$ButtonT11 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.LEFT) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.LEFT] == null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: ButtonType.RIGHT,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT12;

        return (_inputLegends$ButtonT12 = inputLegends[ButtonType.RIGHT]) !== null && _inputLegends$ButtonT12 !== void 0 ? _inputLegends$ButtonT12 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.RIGHT) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.RIGHT] == null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: ButtonType.UP,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT13;

        return (_inputLegends$ButtonT13 = inputLegends[ButtonType.UP]) !== null && _inputLegends$ButtonT13 !== void 0 ? _inputLegends$ButtonT13 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.UP) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.UP] == null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: ButtonType.DOWN,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT14;

        return (_inputLegends$ButtonT14 = inputLegends[ButtonType.DOWN]) !== null && _inputLegends$ButtonT14 !== void 0 ? _inputLegends$ButtonT14 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.DOWN) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.DOWN] == null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: swapXYButtons ? ButtonType.Y : ButtonType.X,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT15;

        return (_inputLegends$ButtonT15 = inputLegends[ButtonType.X]) !== null && _inputLegends$ButtonT15 !== void 0 ? _inputLegends$ButtonT15 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.X) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.X] == null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: swapXYButtons ? ButtonType.X : ButtonType.Y,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT16;

        return (_inputLegends$ButtonT16 = inputLegends[ButtonType.Y]) !== null && _inputLegends$ButtonT16 !== void 0 ? _inputLegends$ButtonT16 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.Y) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.Y] == null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: ButtonType.START,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT17;

        return (_inputLegends$ButtonT17 = inputLegends[ButtonType.START]) !== null && _inputLegends$ButtonT17 !== void 0 ? _inputLegends$ButtonT17 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.START) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.START] == null, [], [inputLegends])
    }), /*#__PURE__*/react.createElement(InputHint_InputHint, {
      button: swapABButtons ? ButtonType.B : ButtonType.A,
      label: (0,react_facet_src.useFacetMap)(inputLegends => {
        var _inputLegends$ButtonT18;

        return (_inputLegends$ButtonT18 = inputLegends[ButtonType.A]) !== null && _inputLegends$ButtonT18 !== void 0 ? _inputLegends$ButtonT18 : '';
      }, [], [inputLegends]),
      onClick: isClickable ? () => callback === null || callback === void 0 ? void 0 : callback(ButtonType.A) : undefined,
      hidden: (0,react_facet_src.useFacetMap)(inputLegends => inputLegends[ButtonType.A] == null, [], [inputLegends])
    }))
  }));
}

InputLegend_InputLegend.displayName = 'InputLegend';
InputLegend_InputLegend.Wrapper = InputLegendWrapper;
InputLegend_InputLegend.InputHint = InputHint_InputHint;
InputLegend_InputLegend.Space = InputLegendSpace;
;// CONCATENATED MODULE: ./packages/ui/src/Modal/Modal.tsx
function Modal_extends() { Modal_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return Modal_extends.apply(this, arguments); }

/**
 * Narration for modals with children that are added/removed dynamically will not
 * work entirely correct. This is planned to be addressed at a later date.
 * More info: https://github.com/Mojang/minecraft-ui/pull/3278#discussion_r854986350
 */


















const preventEventPropagation = e => {
  e.stopPropagation();
};

const Modal_noop = () => {};
/**
 * ModalManagerProvider
 * -
 * Handles focus states when moving through multiple modals.
 * It currently only supports a one directional flow (so no going back to previous modals).
 *
 * onMount can be used to keep track of which Modals are mounted so we can manage
 * focusable state when going between them.
 *
 * isModalVisible can be used to inform parts of the app whether or not
 * they're behind a modal so they can do things like disable GlobalShortcuts.
 */


const ModalMountContext = (0,react.createContext)({
  isModalVisible: (0,react_facet_src.createFacet)({
    initialValue: false
  }),
  onMount: () => Modal_noop
});

function useOnModalMount(defaultFocusAlias) {
  const {
    onMount
  } = (0,react.useContext)(ModalMountContext);
  (0,react.useEffect)(() => onMount(defaultFocusAlias), [onMount, defaultFocusAlias]);
}

function useIsAnyModalVisible() {
  return (0,react.useContext)(ModalMountContext).isModalVisible;
}

function ModalFocusManagerProvider({
  children
}) {
  const [modalFocusableId, setModalFocusableId] = (0,react_facet_src.useFacetState)(undefined);
  const [isModalVisible, setIsModalVisible] = (0,react_facet_src.useFacetState)(false);
  const setFocusedId = src_useSetFocusedId_useSetFocusedId();
  const restoreFocusRef = (0,react.useRef)(Modal_noop);
  const value = (0,react.useMemo)(() => ({
    isModalVisible,
    onMount: defaultFocusAlias => {
      setIsModalVisible(true); // Focus the preferred child in the modal.

      if (defaultFocusAlias != null) {
        const restoreFocus = setFocusedId(defaultFocusAlias); // If this is the first modal being mounted, then save a reference to
        // the restoreFocus so we can get back to the original focusable when it closes.

        if (modalFocusableId.get() == null) {
          restoreFocusRef.current = restoreFocus != react_facet_src.NO_VALUE ? restoreFocus : Modal_noop;
        }
      } // Save a reference to this modal so we can decide later when it unmounts
      // if we should return to the original focusable.


      setModalFocusableId(defaultFocusAlias); // Unmount

      return () => {
        // If the modal being unmounted is the most recently mounted one
        if (modalFocusableId.get() === defaultFocusAlias) {
          // Then restore focus back to the original focusable before we stacked modals.
          restoreFocusRef.current(); // Unset our reference

          setModalFocusableId(undefined);
          setIsModalVisible(false);
        }
      };
    }
  }), [isModalVisible, modalFocusableId, setFocusedId, setIsModalVisible, setModalFocusableId]);
  return /*#__PURE__*/react.createElement(ModalMountContext.Provider, {
    value: value
  }, children);
}
/**
 * Modal Narration
 */


const ModalNarrationApi = (0,react.createContext)({
  getId: () => 0,
  set: () => {}
});

const useModalNarrationApi = () => (0,react.useContext)(ModalNarrationApi);

const ModalTitleText = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: ''
}));

const useModalTitleText = () => (0,react.useContext)(ModalTitleText);

const ModalBodyText = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: ''
}));

const useModalBodyText = () => (0,react.useContext)(ModalBodyText);
/**
 * Modal
 */


function Modal_Modal({
  children,
  defaultFocusAlias,
  narrationId,
  overlay = true,
  onOverlayClick,
  role = 'neutral'
}) {
  const {
    t
  } = useLocalization('Modal');
  const childId = (0,react.useRef)(0);
  const [narrationText, setNarrationText] = (0,react_facet_src.useFacetState)([]);
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  const [initialNarrationText, setInitialNarrationText] = (0,react_facet_src.useFacetState)('');
  const initialNarrationTextRef = (0,react_facet_src.useFacetRef)(initialNarrationText); // Keep a constantly updated reference to the body text. In situations where the
  // Modal.Content has no InteractivePrimitives, this body copy will be used as
  // a NarrationContext wrapper on Modal.Content.

  const bodyNarrationText = (0,react_facet_src.useFacetMap)(text => {
    const cleaned = text.filter(str => str.length > 0);
    const withComponentType = cleaned.slice(1);
    const result = withComponentType.join(' . ');
    return result;
  }, [], [narrationText]); // Take a snapshot of the body text on initial mount for initial contextual narration

  (0,react_facet_src.useFacetEffect)(text => {
    const cleaned = text.filter(str => str.length > 0);
    const withComponentType = [cleaned[0], t('.narrationModalComponentType'), ...cleaned.slice(1)];
    const result = withComponentType.join(' . ');
    setInitialNarrationText(result);
  }, [setInitialNarrationText, t], [narrationText]);
  const ref = (0,react.useRef)(null);
  const titleText = (0,react_facet_src.useFacetMemo)(text => text[0], [], [narrationText]);
  useOnModalMount(defaultFocusAlias);
  const getNarrationText = (0,react.useCallback)(() => initialNarrationTextRef.current !== react_facet_src.NO_VALUE ? initialNarrationTextRef.current : '', [initialNarrationTextRef]);
  const ConditionalOverlay = overlay ? Modal_Modal.Overlay : react.Fragment;
  const overlayProps = overlay ? {
    onClick: onOverlayClick
  } : {};
  return /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: role
  }, /*#__PURE__*/react.createElement(ConditionalOverlay, overlayProps, /*#__PURE__*/react.createElement(ModalTitleText.Provider, {
    value: titleText
  }, /*#__PURE__*/react.createElement(ModalBodyText.Provider, {
    value: bodyNarrationText
  }, /*#__PURE__*/react.createElement(ModalNarrationApi.Provider, {
    value: (0,react.useMemo)(() => ({
      getId: () => childId.current++,
      set: (childId, text) => setNarrationText(prev => {
        if (prev === react_facet_src.NO_VALUE) {
          return []; // Shouldn't ever happen as we default to an array
        }

        prev[childId] = text === false ? '' : text;
        return prev;
      })
    }), [setNarrationText])
  }, /*#__PURE__*/react.createElement(NarrationContext, {
    getText: getNarrationText,
    id: `modal-${narrationId}`
  }, /*#__PURE__*/react.createElement("div", {
    ref: ref,
    className: classnames_default()(Modal.container, semanticClassNames.border.base),
    onClick: preventEventPropagation
  }, /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    scrollRef: ref,
    bounded: true
  }, children))))))));
}
/**
 * This hook should be used on child Modal components (eg. Modal.Text) to
 * help configure the narration text. It receives a unique id from the Modal
 * and uses this as an key to set the narration text at a higher level.
 */

const useSetModalNarrationText = (text, throttleThresholdMs = 0) => {
  const modalNarrationApi = useModalNarrationApi();
  const [id, setId] = (0,react_facet_src.useFacetState)(react_facet_src.NO_VALUE); // Get a unique id for this child

  (0,react.useEffect)(() => {
    // Exit early if we have an id (shouldn't happen)
    if (id.get() != react_facet_src.NO_VALUE) return;
    setId(modalNarrationApi.getId());
  }, [id, setId, modalNarrationApi]);
  const updatedAt = (0,react.useRef)(); // Set the narration text against our unique id

  (0,react_facet_src.useFacetEffect)((id, text) => {
    if (updatedAt.current == null || Date.now() - updatedAt.current > throttleThresholdMs) {
      modalNarrationApi.set(id, text);
      updatedAt.current = Date.now();
    }
  }, [modalNarrationApi, throttleThresholdMs], [id, (0,react_facet_src.useFacetWrap)(text)]);
};
/**
 * Modal Header
 */


const ModalHeader = ({
  children,
  onBack,
  onClose,
  closeButtonGamepadAlias,
  hideCloseButton,
  role = 'inherit'
}) => {
  var _ref;

  const {
    t
  } = useLocalization('Modal'); // Set up narration context in Modal

  useSetModalNarrationText(children);
  const closeInputLegendLoc = t('.closeInputLegend');
  const backInputLegendLoc = t('.backInputLegend');
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  const wrappedHideCloseButton = (0,react_facet_src.useFacetWrap)(hideCloseButton !== null && hideCloseButton !== void 0 ? hideCloseButton : false);
  const headerButtonClassName = (0,react_facet_src.useFacetMap)(hide => hide ? Modal.hide : Modal.headerButton, [], [wrappedHideCloseButton]);
  const shortcutOptions = (0,react_facet_src.useFacetMap)(hideCloseButton => ({
    button: ButtonType.B,
    inputLegend: onBack != null ? backInputLegendLoc : closeInputLegendLoc,
    disabled: hideCloseButton === true
  }), [onBack, closeInputLegendLoc, backInputLegendLoc], [wrappedHideCloseButton]);
  const closeButtonInputLegend = (0,react_facet_src.useFacetMap)(hideCloseButton => hideCloseButton ? false : closeInputLegendLoc, [closeInputLegendLoc], [wrappedHideCloseButton]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Modal.header, semanticClassNames.background.base, semanticClassNames.text.base)
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "specular"
  }), /*#__PURE__*/react.createElement(GlobalShortcut_GlobalShortcut, {
    options: shortcutOptions,
    onClick: (_ref = onBack !== null && onBack !== void 0 ? onBack : onClose) !== null && _ref !== void 0 ? _ref : Modal_noop
  }), /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: -2
  }, /*#__PURE__*/react.createElement("div", {
    className: Modal.headerButton
  }, onBack && /*#__PURE__*/react.createElement(NavigationButton_NavigationButton // Hardcoding this role until the Modal is
  // updated to work with semantic tokens.
  , {
    role: "neutral",
    inputLegend: backInputLegendLoc,
    narrationText: t('.backNarration'),
    onClick: onBack,
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(IconArrowBackWhite_IconArrowBackWhite, null))), /*#__PURE__*/react.createElement("div", {
    className: Modal.spacer
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body"
  }, /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, children)), /*#__PURE__*/react.createElement("div", {
    className: Modal.spacer
  }), /*#__PURE__*/react.createElement("fast-div", {
    className: headerButtonClassName
  }, onClose && /*#__PURE__*/react.createElement(NavigationButton_NavigationButton // Hardcoding this role until the Modal is
  // updated to work with semantic tokens.
  , {
    role: "neutral",
    inputLegend: closeButtonInputLegend,
    narrationText: t('.closeNarration'),
    onClick: onClose,
    gamepadIndex: 1,
    gamepadAlias: closeButtonGamepadAlias
  }, /*#__PURE__*/react.createElement(IconCrossWhite_IconCrossWhite, null))))), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Modal.headerShadow, semanticClassNames.shadow.base)
  }));
};
/**
 * Modal Text
 */


const ModalText = ({
  image,
  children,
  gamepadIndex,
  narrationText,
  center = false
}) => {
  const hasInteractiveSibling = useHasInteractiveSiblings(); // Set up narration context in Modal

  useSetModalNarrationText(narrationText);
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive.Maybe, {
    isInteractive: hasInteractiveSibling,
    gamepadIndex: gamepadIndex,
    narrationText: narrationText,
    className: classnames_default()(Modal.textContent, {
      [Modal.centerOneLineText]: center
    }),
    classNameFocused: focusClass
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    inset: true
  }), image == null ? null : /*#__PURE__*/react.createElement(react.Fragment, null, image, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  })), /*#__PURE__*/react.createElement("span", {
    className: Modal.wordWrap
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionLong",
    align: center ? 'center' : 'left'
  }, children)));
};
/**
 * Modal Paragraph
 */


const ModalParagraphs = ({
  children,
  narrationText,
  spaceBetweenParagraphs = 5,
  gamepadIndex
}) => {
  const hasInteractiveSibling = useHasInteractiveSiblings(); // Set up narration context in Modal

  useSetModalNarrationText(narrationText); // Filter out conditionally rendered paragraphs passed in as false

  const filteredChildren = children.filter(child => child);
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive.Maybe, {
    isInteractive: hasInteractiveSibling,
    gamepadIndex: gamepadIndex,
    narrationText: narrationText,
    className: Modal.paragraphsWrapper
  }, filteredChildren.map((child, index) => /*#__PURE__*/react.createElement(react.Fragment, {
    key: index
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Modal.paragraphPadding, Modal.wordWrap)
  }, child), spaceBetweenParagraphs != null && index < filteredChildren.length - 1 && /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: spaceBetweenParagraphs
  }))));
};
/**
 * Modal List
 */


const ModalList = ({
  items,
  gamepadIndex
}) => {
  return /*#__PURE__*/react.createElement(MaybeColumn, {
    gamepadIndex: gamepadIndex
  }, /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(react_facet_src.Map, {
    array: items
  }, (item, index) => {
    return /*#__PURE__*/react.createElement(ModalListInner, {
      items: items,
      item: item,
      index: index
    });
  })));
};

const ModalListInner = ({
  items,
  item,
  index
}) => {
  const showSpacing = (0,react_facet_src.useFacetMap)(items => items.length - 1 !== index, [index], [items]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ModalListItem, {
    gamepadIndex: index,
    text: item
  }), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: showSpacing
  }, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  })));
};

const MaybeColumn = ({
  children,
  gamepadIndex
}) => {
  const hasInteractiveSibling = (0,react_facet_src.useFacetUnwrap)(useHasInteractiveSiblings());
  return hasInteractiveSibling === true ? /*#__PURE__*/react.createElement(Column, {
    shouldSkipLandmarkInVisual: true,
    options: {
      index: gamepadIndex
    }
  }, children) : /*#__PURE__*/react.createElement(react.Fragment, null, children);
};

const ModalListItem = ({
  gamepadIndex,
  text
}) => {
  const textWithBullet = (0,react_facet_src.useFacetMap)(text => `• ${text}`, [], [text]);
  const hasInteractiveSibling = useHasInteractiveSiblings(); // Set up narration context in Modal

  useSetModalNarrationText(text);
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive.Maybe, {
    isInteractive: hasInteractiveSibling,
    gamepadIndex: gamepadIndex,
    narrationText: text,
    className: Modal.listTextContent
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionLong",
    align: "left"
  }, textWithBullet));
};
/**
 * Modal Content
 */


const Content = ({
  children,
  gamepadAlias,
  scrollable = true,
  role = 'neutral80'
}) => {
  const modalTitleText = useModalTitleText();
  const modalBodyText = useModalBodyText();
  const [hasChildInteractivePrimitives, setHasChildInteractivePrimitives] = (0,react.useState)(false);
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement(NarrationContext, {
    text: modalTitleText
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(semanticClassNames.background.base, semanticClassNames.text.base, {
      [Modal.contentScrollable]: scrollable
    })
  }, scrollable ? /*#__PURE__*/react.createElement(ScrollView_ScrollView, {
    gamepadIndex: -1,
    floating: true,
    emptyFocusableGamepadAlias: gamepadAlias,
    emptyFocusableNarrationText: hasChildInteractivePrimitives ? '' : modalBodyText
  }, children, /*#__PURE__*/react.createElement(ScrollView_ScrollView.SiblingState, {
    callback: setHasChildInteractivePrimitives
  })) : children));
};
/**
 * Modal Buttons
 */


const Buttons = ({
  children,
  horizontal = false,
  role = 'inherit',
  header
}) => {
  const GamepadContainer = horizontal ? GamepadRow_GamepadRow : GamepadColumn_GamepadColumn;
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement(GamepadContainer, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 1000
  }, header, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Modal.buttons, semanticClassNames.background.base, {
      [Modal.buttonsHorizontal]: horizontal
    })
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "bevel",
    left: false,
    right: false
  }), children));
};
/**
 * Modal Overlay
 */


const Overlay = ({
  onClick,
  children,
  role = 'inherit'
}) => {
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Modal.overlay, semanticClassNames.overlay.base),
    onClick: onClick
  }, /*#__PURE__*/react.createElement("div", {
    className: Modal.wrapper
  }, children, /*#__PURE__*/react.createElement(InputLegend_InputLegend.Space, null)));
};
/**
 * Modal Progress
 */


function ModalProgress({
  percentage
}) {
  const {
    t
  } = useLocalization('Modal');
  const percentageFacet = (0,react_facet_src.useFacetWrap)(percentage);
  const percentageText = (0,react_facet_src.useFacetMap)(percentageValue => t('.progressPercentage', [`${Math.round(percentageValue * 100)}`]), [t], [percentageFacet]); // Set up narration context in Modal

  useSetModalNarrationText(percentageText, 2000);
  return /*#__PURE__*/react.createElement("div", {
    className: Modal.progress
  }, /*#__PURE__*/react.createElement(ProgressBar_ProgressBar, {
    percentage: percentageFacet
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionLong",
    align: "center"
  }, percentageText));
}
/**
 * Modal Spinner
 */


const ModalSpinner = () => {
  return /*#__PURE__*/react.createElement("div", {
    className: Modal.spinner
  }, /*#__PURE__*/react.createElement(Spinner_Spinner, null));
};
/**
 * Modal Checkbox
 */


const ModalCheckbox = props => {
  var _props$gamepadIndex;

  return /*#__PURE__*/react.createElement(Checkbox_Checkbox, Modal_extends({}, props, {
    gamepad: {
      index: (_props$gamepadIndex = props.gamepadIndex) !== null && _props$gamepadIndex !== void 0 ? _props$gamepadIndex : 0
    },
    small: true
  }));
};
/**
 * Modal Text Field
 */


const ModalTextField = props => {
  return /*#__PURE__*/react.createElement(TextField, Modal_extends({}, props, {
    transparent: true
  }));
};

Modal_Modal.Header = ModalHeader;
Modal_Modal.Text = ModalText;
Modal_Modal.Paragraphs = ModalParagraphs;
Modal_Modal.List = ModalList;
Modal_Modal.Content = Content;
Modal_Modal.Buttons = Buttons;
Modal_Modal.Overlay = Overlay;
Modal_Modal.Progress = ModalProgress;
Modal_Modal.Spinner = ModalSpinner;
Modal_Modal.Checkbox = ModalCheckbox;
Modal_Modal.TextField = ModalTextField;
Modal_Modal.FocusManager = ModalFocusManagerProvider;
Modal_Modal.useIsAnyModalVisible = useIsAnyModalVisible;
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/BackButton/BackButton.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BackButton = ({"emptySpace":"QZTxX"});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/BackButton/BackButton.tsx










function BackButton_BackButton({
  onClick,
  disabled,
  showEmptySpaceWhenGamepad = false,
  role = 'inherit'
}) {
  const isPointerSupported = useIsPointerSupported();
  const isFocusInputGamepad = useIsFocusInputGamepad();
  const showBackButton = (0,react_facet_src.useFacetMap)((isPointerInputSupported, isFocusInputGamepad) => isPointerInputSupported || !isFocusInputGamepad, [], [isPointerSupported, isFocusInputGamepad]);
  const showEmptySpace = (0,react_facet_src.useFacetMap)(showBackButton => showEmptySpaceWhenGamepad && !showBackButton, [showEmptySpaceWhenGamepad], [showBackButton]);
  const {
    t
  } = useLocalization('BackButton');
  const shortcutOptions = (0,react_facet_src.useFacetMap)(isAnyModalVisible => ({
    button: ButtonType.B,
    inputLegend: t('.back'),
    disabled: isAnyModalVisible
  }), [t], [Modal_Modal.useIsAnyModalVisible()]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(GlobalShortcut_GlobalShortcut, {
    options: shortcutOptions,
    onClick: onClick
  }), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: showBackButton
  }, /*#__PURE__*/react.createElement(DefaultBackButton, {
    onClick: onClick,
    disabled: disabled,
    role: role
  })), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: showEmptySpace
  }, /*#__PURE__*/react.createElement("div", {
    className: BackButton.emptySpace
  })));
}

function DefaultBackButton({
  onClick,
  disabled,
  role = 'inherit'
}) {
  const {
    t
  } = useLocalization('BackButton');
  const {
    sound: {
      [role]: semanticSound
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement(NavigationButton_NavigationButton, {
    narrationText: [t('.narrationGoBack'), t('.narrationComponentType')].join(' . '),
    gamepadIndex: 0,
    inputLegend: t('.back'),
    onClick: onClick,
    disabled: disabled,
    soundEffectPressed: semanticSound.press,
    role: role
  }, /*#__PURE__*/react.createElement(IconArrowBack_IconArrowBack, null));
}
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/MenuButton/images/filter.png
const filter_namespaceObject = __webpack_require__.p + "assets/filter-93196.png";
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/MenuButton/images/hamburger.png
const hamburger_namespaceObject = __webpack_require__.p + "assets/hamburger-3fe0f.png";
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/MenuButton/MenuButton.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MenuButton = ({"burger":"ATA6g","selected":"G44L7","highlighted":"flc7y","touchedDown":"QCYoq","focused":"jSYWL","icon":"w6_7m"});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/MenuButton/MenuButton.tsx









function MenuButton_MenuButton({
  onClick,
  selected,
  type = 'hamburger',
  gamepadIndex
}) {
  const {
    t
  } = useLocalization('MenuButton');
  return /*#__PURE__*/react.createElement(react.Fragment, null, type === 'hamburger' && /*#__PURE__*/react.createElement(GlobalShortcut_GlobalShortcut, {
    options: {
      button: ButtonType.START,
      inputLegend: t('.menu')
    },
    onClick: onClick
  }), /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    narrationText: false,
    className: classnames_default()(MenuButton.burger, {
      [MenuButton.selected]: selected
    }),
    classNamePressed: MenuButton.touchedDown,
    classNameHovered: MenuButton.highlighted,
    classNameFocused: MenuButton.focused,
    gamepadIndex: gamepadIndex,
    inputLegend: t('.toggle'),
    onClick: onClick
  }, selected && /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "bevel",
    reversed: true
  }), /*#__PURE__*/react.createElement(Image_Image_Image, {
    className: MenuButton.icon,
    imageRendering: "pixelated",
    src: type === 'filter' ? filter_namespaceObject : hamburger_namespaceObject
  })));
}
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/CollapsableSideBar/CollapsableSideBar.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const CollapsableSideBar = ({"collapsableSideBar":"G1xD7","collapsableSideBarDark":"deJBY","collapsed":"eknQ4","borderRight":"sJUSR","borderLeft":"d5YO7","floatingRight":"b8Law","floatingLeft":"efBI4"});
;// CONCATENATED MODULE: ./packages/ui/src/GlassPane/GlassPane.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const GlassPane = ({"glassPane":"mneRL"});
;// CONCATENATED MODULE: ./packages/ui/src/GlassPane/GlassPane.tsx




function GlassPane_GlassPane({
  onClick,
  innerRef,
  children,
  role = 'neutral50'
}) {
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  const glassPaneClassNames = classnames_default()(GlassPane.glassPane, semanticClassNames.overlay.base);
  return children != null ? /*#__PURE__*/react.createElement("div", {
    onClick: onClick,
    className: glassPaneClassNames,
    ref: innerRef
  }, children) : /*#__PURE__*/react.createElement("div", {
    onClick: onClick,
    className: glassPaneClassNames,
    ref: innerRef
  });
}
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/CollapsableSideBar/CollapsableSideBar.tsx






function CollapsableSideBar_CollapsableSideBar({
  children,
  collapsed = false,
  floating = false,
  onDismiss,
  gamepadIndex,
  align = 'left'
}) {
  const ref = (0,react.useRef)(null);
  const handleOnClick = (0,react.useCallback)(event => {
    event.stopPropagation();
  }, []);
  const collapsableSideBar = /*#__PURE__*/react.createElement(Column, {
    options: {
      defaultFocusedChildBehavior: 'remember',
      index: gamepadIndex
    },
    shouldSkipLandmarkInVisual: true
  }, /*#__PURE__*/react.createElement("div", {
    ref: ref,
    onClick: handleOnClick,
    className: classnames_default()({
      [CollapsableSideBar.collapsed]: collapsed,
      [CollapsableSideBar.collapsableSideBar]: align === 'left',
      [CollapsableSideBar.collapsableSideBarDark]: align === 'right',
      [CollapsableSideBar.borderRight]: align === 'left',
      [CollapsableSideBar.borderLeft]: align === 'right'
    })
  }, /*#__PURE__*/react.createElement(ScrollView_ScrollView, {
    gamepadIndex: 0
  }, children)));
  return floating ? /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()({
      [CollapsableSideBar.floatingRight]: align === 'right',
      [CollapsableSideBar.floatingLeft]: align === 'left',
      [CollapsableSideBar.collapsed]: collapsed
    })
  }, collapsableSideBar), !collapsed && /*#__PURE__*/react.createElement(GlassPane_GlassPane, {
    onClick: onDismiss
  })) : collapsableSideBar;
}
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/NavigationBarLayout.tsx











function NavigationBarLayout_NavigationBarLayout({
  children,
  collapsedLeftSidebar = true,
  collapsedRightSidebar = true,
  onToggleCollapsedLeftSidebar = NavigationBarLayout_noop,
  onToggleCollapsedRightSidebar = NavigationBarLayout_noop,
  innerRef,
  left,
  center,
  right,
  leftSidebar,
  rightSidebar,
  footer,
  narrationText,
  navigationBarRole,
  navigationBarShowDropShadow = true
}) {
  const narrationTextFacet = (0,react_facet_src.useFacetMap)(text => text !== null && text !== void 0 ? text : '', [], [(0,react_facet_src.useFacetWrap)(narrationText)]);
  const safeZone = useSafeZone();
  const isNarrow = useIsWindowNarrow();
  const ref = (0,react.useRef)(null);
  const navigationBarRef = (0,react.useRef)(null);
  const {
    version: gamepadAdapterVersion
  } = useGamepadAdapter();
  const defaultFocusedChildBehavior = gamepadAdapterVersion === GamepadAdapterVersion.VISUAL ? undefined : !collapsedRightSidebar ? 'last' : 'first';
  return /*#__PURE__*/react.createElement(NarrationContext, {
    text: narrationTextFacet
  }, /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement("div", {
    ref: innerRef,
    className: NavigationBarLayout.NavigationBarLayout
  }, /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
    scrollRef: navigationBarRef,
    defaultFocusedChildBehavior: "first",
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(NavigationBar_NavigationBar, {
    innerRef: navigationBarRef,
    left: /*#__PURE__*/react.createElement(react.Fragment, null, left, isNarrow && leftSidebar != null && /*#__PURE__*/react.createElement(NavigationBarLayout_NavigationBarLayout.MenuButton, {
      selected: !collapsedLeftSidebar,
      onClick: onToggleCollapsedLeftSidebar,
      gamepadIndex: 0
    })),
    center: center,
    right: /*#__PURE__*/react.createElement(react.Fragment, null, right, rightSidebar != null && /*#__PURE__*/react.createElement(NavigationBarLayout_NavigationBarLayout.MenuButton, {
      type: "filter",
      selected: !collapsedRightSidebar,
      onClick: onToggleCollapsedRightSidebar,
      gamepadIndex: 1
    })),
    safeZone: safeZone,
    role: navigationBarRole,
    showDropShadow: navigationBarShowDropShadow
  })), /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
    scrollRef: ref,
    gamepadIndex: 1,
    defaultFocusedChildBehavior: defaultFocusedChildBehavior
  }, /*#__PURE__*/react.createElement("div", {
    ref: ref,
    className: NavigationBarLayout.NavigationBarLayoutChildrenWrapper
  }, /*#__PURE__*/react.createElement("div", {
    className: NavigationBarLayout.NavigationBarLayoutChildren,
    style: {
      left: safeZone.left + 'px',
      right: safeZone.right + 'px',
      bottom: safeZone.bottom + 'px'
    }
  }, leftSidebar != null && /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 0,
    disabled: collapsedLeftSidebar && isNarrow
  }, /*#__PURE__*/react.createElement(CollapsableSideBar_CollapsableSideBar, {
    align: "left",
    onDismiss: onToggleCollapsedLeftSidebar,
    floating: isNarrow,
    collapsed: isNarrow && collapsedLeftSidebar,
    gamepadIndex: 0
  }, leftSidebar)), /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 1,
    disabled: !collapsedLeftSidebar && isNarrow && Boolean(leftSidebar)
  }, children), rightSidebar != null && /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 2,
    disabled: collapsedRightSidebar
  }, /*#__PURE__*/react.createElement(CollapsableSideBar_CollapsableSideBar, {
    align: "right",
    onDismiss: onToggleCollapsedRightSidebar,
    floating: isNarrow,
    collapsed: collapsedRightSidebar,
    gamepadIndex: 0
  }, rightSidebar)))), footer))));
}
NavigationBarLayout_NavigationBarLayout.displayName = 'NavigationBarLayout';
NavigationBarLayout_NavigationBarLayout.BackButton = BackButton_BackButton;
NavigationBarLayout_NavigationBarLayout.MenuButton = MenuButton_MenuButton;

const NavigationBarLayout_noop = () => {};
;// CONCATENATED MODULE: ./packages/react-render-tracking/src/RouteActiveProvider.tsx


const RouteActiveProvider_context = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: false
}));
function RouteActiveProvider({
  children,
  active
}) {
  return /*#__PURE__*/react.createElement(RouteActiveProvider_context.Provider, {
    value: active
  }, children);
}
const useRouteActive = () => (0,react.useContext)(RouteActiveProvider_context);
;// CONCATENATED MODULE: ./packages/react-render-tracking/src/apiContext.ts

const RenderTrackingApiContext = (0,react.createContext)({
  block: () => {},
  unblock: () => {},
  contentfulPaint: () => {},
  meaningfulPaint: () => {}
});
;// CONCATENATED MODULE: ./packages/react-render-tracking/src/useRenderTrackingApi.ts


function useRenderTrackingApi() {
  return (0,react.useContext)(RenderTrackingApiContext);
}
;// CONCATENATED MODULE: ./packages/react-render-tracking/src/RenderTrackingEvent.tsx




/**
 * Used to fire a contentful (the page is starting to show something) or meaningful (the page is useable) paint event.
 */
function RenderTrackingEvent({
  type,
  renderingCompleted
}) {
  const renderTrackingApi = useRenderTrackingApi();
  const isRouteActive = useRouteActive();
  const renderingCompletedFacet = (0,react_facet_src.useFacetWrap)(renderingCompleted);
  (0,react_facet_src.useFacetEffect)((isRouteActive, renderingCompleted) => {
    if (!renderingCompleted || !isRouteActive) return; // We fire this after a frame to allow for any
    // <RenderTrackingDelay> components to initialise

    const rafId = requestAnimationFrame(() => {
      if (type === 'contentful') {
        renderTrackingApi.contentfulPaint();
      } else {
        renderTrackingApi.meaningfulPaint();
      }
    });
    return () => {
      cancelAnimationFrame(rafId);
    };
  }, [renderTrackingApi, type], [isRouteActive, renderingCompletedFacet]);
  return null;
}
;// CONCATENATED MODULE: ./packages/themes/src/context.ts

const interactiveThemeContext = (0,react.createContext)({
  theme: "vanilla" || 0,
  onSetTheme: () => {}
});
const context_InteractiveThemeProvider = interactiveThemeContext.Provider;
const useInteractiveTheme = () => useContext(interactiveThemeContext).theme;
;// CONCATENATED MODULE: ./packages/themes/src/Provider/ThemeProvider.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ThemeProvider = ({"themeProvider":"N1Tqo"});
;// CONCATENATED MODULE: ./packages/ui/src/Button/Button.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Button_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/NintendoImages/NintendoIcons.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NintendoIcons_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PCImages/PCImages.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PCImages_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PS4Images/PS4Icons.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PS4Icons_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/PS5Images/PS5Icons.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PS5Icons_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/ButtonIcon/XboxImages/XboxIcons.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const XboxIcons_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/Divider/Divider.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Divider_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/InputLegend/InputLegend.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const InputLegend_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/Link/Link.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Link_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/ListItem/ListItem.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ListItem_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/BackButton/BackButton.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BackButton_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/MenuButton/MenuButton.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MenuButton_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/NavigationBar/NavigationBar.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NavigationBar_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationButton/NavigationButton.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NavigationButton_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/ProgressBar/ProgressBar.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ProgressBar_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/RadioGroup/RadioBox.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const RadioBox_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/SideMenu/SideMenu.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const SideMenu_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/Slider/Slider.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Slider_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/Switch/Switch.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Switch_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/TabBar/TabBar.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const TabBar_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/Toggles/Toggle.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Toggle_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/UIProvider/UIProvider.tokens.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const UIProvider_tokens_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/Window/Window.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Window_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/Divider/Divider.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Divider_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/Link/Link.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Link_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/BackButton/BackButton.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BackButton_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/MenuButton/MenuButton.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MenuButton_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationBarLayout/NavigationBar/NavigationBar.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NavigationBar_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/NavigationButton/NavigationButton.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const NavigationButton_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/UIProvider/UIProvider.tokens.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const UIProvider_tokens_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui/src/themeVariables.ts
// Vanilla tokens






















 // Docs tokens









const toClassNamesFlatList = (...styles) => {
  return styles.reduce((flatStyles, currentStyles) => {
    flatStyles = flatStyles.concat(Object.values(currentStyles));
    return flatStyles;
  }, []);
};

const themeVariables = {
  docs: toClassNamesFlatList(Divider_theme_docs_variables, Link_theme_docs_variables, BackButton_theme_docs_variables, MenuButton_theme_docs_variables, NavigationBar_theme_docs_variables, NavigationButton_theme_docs_variables, UIProvider_tokens_theme_docs_variables),
  vanilla: toClassNamesFlatList(Button_theme_vanilla_variables, NintendoIcons_theme_vanilla_variables, PCImages_theme_vanilla_variables, PS4Icons_theme_vanilla_variables, PS5Icons_theme_vanilla_variables, XboxIcons_theme_vanilla_variables, Divider_theme_vanilla_variables, InputLegend_theme_vanilla_variables, Link_theme_vanilla_variables, ListItem_theme_vanilla_variables, BackButton_theme_vanilla_variables, MenuButton_theme_vanilla_variables, NavigationBar_theme_vanilla_variables, NavigationButton_theme_vanilla_variables, ProgressBar_theme_vanilla_variables, RadioBox_theme_vanilla_variables, SideMenu_theme_vanilla_variables, Slider_theme_vanilla_variables, Switch_theme_vanilla_variables, TabBar_theme_vanilla_variables, Toggle_theme_vanilla_variables, UIProvider_tokens_theme_vanilla_variables, Window_theme_vanilla_variables)
};
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseDropdown/BaseDropdown.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseDropdown_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseSlider/BaseSlider.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseSlider_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseTextField/component/BaseTextField.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseTextField_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Pressable/Pressable.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Pressable_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/MouseScrollbar.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MouseScrollbar_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/ScrollView.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ScrollView_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseDropdown/BaseDropdown.theme.badger.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseDropdown_theme_badger_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseSlider/BaseSlider.theme.badger.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseSlider_theme_badger_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseTextField/component/BaseTextField.theme.badger.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseTextField_theme_badger_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/Pressable/Pressable.theme.badger.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Pressable_theme_badger_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/MouseScrollbar.theme.badger.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MouseScrollbar_theme_badger_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/ScrollView/MouseScrollbar.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MouseScrollbar_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-internal/src/themeVariables.ts
// Vanilla tokens





 // Badger tokens





 // Docs tokens



const themeVariables_toClassNamesFlatList = (...styles) => {
  return styles.reduce((flatStyles, currentStyles) => {
    flatStyles = flatStyles.concat(Object.values(currentStyles));
    return flatStyles;
  }, []);
};

const themeVariables_themeVariables = {
  vanilla: themeVariables_toClassNamesFlatList(BaseDropdown_theme_vanilla_variables, BaseSlider_theme_vanilla_variables, BaseTextField_theme_vanilla_variables, Pressable_theme_vanilla_variables, MouseScrollbar_theme_vanilla_variables, ScrollView_theme_vanilla_variables),
  badger: themeVariables_toClassNamesFlatList(BaseDropdown_theme_badger_variables, BaseSlider_theme_badger_variables, BaseTextField_theme_badger_variables, Pressable_theme_badger_variables, MouseScrollbar_theme_badger_variables),
  docs: themeVariables_toClassNamesFlatList(MouseScrollbar_theme_docs_variables)
};
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowBack/IconArrowBack.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowBack_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowForward/IconArrowForward.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowForward_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowBack/IconArrowBack.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowBack_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowForward/IconArrowForward.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowForward_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/ui-icons/src/themeVariables.ts
// Vanilla

 // Docs




const src_themeVariables_toClassNamesFlatList = (...styles) => {
  return styles.reduce((flatStyles, currentStyles) => {
    flatStyles = flatStyles.concat(Object.values(currentStyles));
    return flatStyles;
  }, []);
};

const src_themeVariables_themeVariables = {
  vanilla: src_themeVariables_toClassNamesFlatList(IconArrowBack_theme_vanilla_variables, IconArrowForward_theme_vanilla_variables),
  docs: src_themeVariables_toClassNamesFlatList(IconArrowBack_theme_docs_variables, IconArrowForward_theme_docs_variables)
};
;// CONCATENATED MODULE: ./packages/react-component-playground/src/AlgoliaSearch/AlgoliaSearch.theme.docs.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const AlgoliaSearch_theme_docs_variables = ({});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/AlgoliaSearch/AlgoliaSearch.theme.vanilla.variables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const AlgoliaSearch_theme_vanilla_variables = ({});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/themeVariables.ts



const react_component_playground_src_themeVariables_toClassNamesFlatList = (...styles) => {
  return styles.reduce((flatStyles, currentStyles) => {
    flatStyles = flatStyles.concat(Object.values(currentStyles));
    return flatStyles;
  }, []);
};

const react_component_playground_src_themeVariables_themeVariables = {
  docs: react_component_playground_src_themeVariables_toClassNamesFlatList(AlgoliaSearch_theme_docs_variables),
  vanilla: react_component_playground_src_themeVariables_toClassNamesFlatList(AlgoliaSearch_theme_vanilla_variables)
};
;// CONCATENATED MODULE: ./packages/themes/src/Provider/docs.theme.ts




const docs = [...themeVariables.docs, ...themeVariables_themeVariables.docs, ...src_themeVariables_themeVariables.docs, ...react_component_playground_src_themeVariables_themeVariables.docs];
;// CONCATENATED MODULE: ./packages/themes/src/Provider/vanilla.theme.ts




const vanilla = [...themeVariables.vanilla, ...themeVariables_themeVariables.vanilla, ...src_themeVariables_themeVariables.vanilla, ...react_component_playground_src_themeVariables_themeVariables.vanilla];
;// CONCATENATED MODULE: ./games/vanilla/theme/src/palette.ts
const palette = {
  green10: '#a0e081',
  green20: '#86d562',
  green30: '#6cc349',
  green40: '#52a535',
  green50: '#3c8527',
  green60: '#2a641c',
  green70: '#1d4d13',
  green80: '#153a0e',
  green90: '#112f0b',
  green100: '#0f2b0a',
  white: '#ffffff',
  black: '#000000',
  gray10: '#f4f6f9',
  gray20: '#e6e8eb',
  gray30: '#d0d1d4',
  gray40: '#b1b2b5',
  gray50: '#8c8d90',
  gray60: '#58585a',
  gray70: '#48494a',
  gray80: '#313233',
  gray90: '#242425',
  gray100: '#1e1e1f',
  red10: '#ff8080',
  red20: '#d93636',
  red30: '#b31b1b',
  red40: '#d54242',
  red50: '#ca3636',
  red60: '#c02d2d',
  red70: '#b62525',
  red80: '#ad1d1d',
  red90: '#a31616',
  red100: '#990f0f',
  orange10: '#ffb366',
  orange20: '#d3791f',
  orange30: '#a65b11',
  yellow10: '#ffe866',
  yellow20: '#e5c317',
  yellow30: '#8a7500',
  gold10: '#fff0c5',
  gold20: '#ffd783',
  gold30: '#f8af2b',
  gold40: '#ce8706',
  gold50: '#ae7100',
  blue10: '#8cb3ff',
  blue20: '#2e6be5',
  blue30: '#1452cc',
  blackOpacity10: 'rgba(0, 0, 0, 0.1)',
  blackOpacity20: 'rgba(0, 0, 0, 0.2)',
  blackOpacity25: 'rgba(0, 0, 0, 0.25)',
  blackOpacity30: 'rgba(0, 0, 0, 0.3)',
  blackOpacity40: 'rgba(0, 0, 0, 0.4)',
  blackOpacity50: 'rgba(0, 0, 0, 0.5)',
  blackOpacity60: 'rgba(0, 0, 0, 0.6)',
  blackOpacity70: 'rgba(0, 0, 0, 0.7)',
  blackOpacity80: 'rgba(0, 0, 0, 0.8)',
  blackOpacity90: 'rgba(0, 0, 0, 0.9)',
  blackOpacity100: 'rgba(0, 0, 0, 1)',
  whiteOpacity10: 'rgba(255, 255, 255, 0.1)',
  whiteOpacity20: 'rgba(255, 255, 255, 0.2)',
  whiteOpacity30: 'rgba(255, 255, 255, 0.3)',
  whiteOpacity40: 'rgba(255, 255, 255, 0.4)',
  whiteOpacity50: 'rgba(255, 255, 255, 0.5)',
  whiteOpacity60: 'rgba(255, 255, 255, 0.6)',
  whiteOpacity70: 'rgba(255, 255, 255, 0.7)',
  whiteOpacity80: 'rgba(255, 255, 255, 0.8)',
  whiteOpacity90: 'rgba(255, 255, 255, 0.9)',
  pink10: '#FB95E2',
  pink20: '#FFB1EC',
  pink30: '#E159C2',
  pink40: '#F877DC',
  purple40: '#643ACB',
  deepBlue10: '#AC90F3',
  deepBlue20: '#9471E0',
  deepBlue40: '#8557F8',
  deepBlue50: '#7345E5',
  deepBlue60: '#5D2CC6',
  deepBlue70: '#4A1CAC',
  deepBlue100: '#050029',
  deepBlueOpacity50: 'rgba(5, 0, 41, 0.5)'
};
;// CONCATENATED MODULE: ./games/vanilla/theme/src/index.ts

;// CONCATENATED MODULE: ./support/docs/theme/src/palette.ts

;// CONCATENATED MODULE: ./support/docs/theme/src/index.ts

;// CONCATENATED MODULE: ./games/edu/theme/src/palette.ts

;// CONCATENATED MODULE: ./games/edu/theme/src/index.ts

;// CONCATENATED MODULE: ./games/example/theme/src/palette.ts

;// CONCATENATED MODULE: ./games/example/theme/src/index.ts

;// CONCATENATED MODULE: ./support/test-screens/theme/src/palette.ts

;// CONCATENATED MODULE: ./support/test-screens/theme/src/index.ts

;// CONCATENATED MODULE: ./palettes.ts





const palettes_docs = (/* unused pure expression or super */ null && (docsPalette));
const edu = (/* unused pure expression or super */ null && (eduPalette));
const example = (/* unused pure expression or super */ null && (examplePalette));
const testScreens = (/* unused pure expression or super */ null && (testScreensPalette));
const palettes_vanilla = (/* unused pure expression or super */ null && (vanillaPalette));
;// CONCATENATED MODULE: ./packages/themes/src/Provider/ThemeProvider.dynamic.tsx







const themes = {
  docs: docs,
  legacy: [],
  vanilla: vanilla
};
const defaultTheme = (/* unused pure expression or super */ null && ("vanilla" || 0));
/**
 * Theme provider that loads all the available themes and let them be selected dynamically at runtime.
 * This component should not be used by the "production build" of game screens.
 *
 * This is toggled by a configuration flag within `loom` (webpack config)
 */

function ThemeProvider_dynamic_ThemeProvider({
  children,
  theme = defaultTheme
}) {
  const ref = useRef(null);
  const [currentTheme, setCurrentTheme] = useState(theme);
  const themeClasses = themes[currentTheme];
  const vanillaThemeClasses = themes['vanilla'];
  useEffect(() => {
    if (ref.current == null) return;
    const palette = palettes[theme];
    const style = ref.current.style;

    for (const key in palette) {
      style.setProperty(`--${key}`, palette[key]);
    }
  }, [ref, theme]); // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions

  if (!themeClasses && "production" === 'development') {}

  useEffect(() => {
    setCurrentTheme(theme);
  }, [theme]);
  return /*#__PURE__*/React.createElement(InteractiveThemeProvider, {
    value: {
      theme: currentTheme,
      onSetTheme: setCurrentTheme
    }
  }, /*#__PURE__*/React.createElement("div", {
    ref: ref,
    className: classnames(styles.themeProvider, vanillaThemeClasses)
  }, /*#__PURE__*/React.createElement("div", {
    className: classnames(styles.themeProvider, themeClasses)
  }, children)));
}
;// CONCATENATED MODULE: ./packages/themes/src/Provider/ThemeProvider.static.tsx


const ThemeProvider_static_defaultTheme = "vanilla" || 0;
/**
 * Dummy component that is used to not have any dynamic theme being applied (has a static theme)
 * This is toggled by a configuration flag within `loom` (webpack config)
 */

function ThemeProvider_static_ThemeProvider({
  children
}) {
  return /*#__PURE__*/react.createElement(context_InteractiveThemeProvider, {
    value: {
      theme: ThemeProvider_static_defaultTheme,
      onSetTheme: () => {}
    }
  }, children);
}
;// CONCATENATED MODULE: ./packages/themes/src/Provider/index.ts



;// CONCATENATED MODULE: ./packages/themes/src/index.ts




;// CONCATENATED MODULE: ./packages/react-component-playground/src/ComponentOverview/componentOverviewContext.ts

const componentOverviewContext_context = (0,react.createContext)({
  onEntryClick: () => {},
  groups: []
});
const useComponentOverviewContext = () => useContext(componentOverviewContext_context);
const ComponentOverviewProvider = componentOverviewContext_context.Provider;
;// CONCATENATED MODULE: ./packages/ui/src/TreeView/TreeView.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const TreeView = ({"item":"fJ_Ts","itemSelected":"vXifO","indicatorSelected":"UIosj","indicatorUnSelected":"bWHyO","itemHovered":"l_VLg","itemFocused":"uVnzq","itemChildren":"jdVcp","itemChildrenExpanded":"QZ_Ro","itemDepth0":"dyEfW","itemDepth1":"s6PjU","itemDepth2":"SM3GD","itemDepth3":"I_l4r","separator":"OZLLz"});
;// CONCATENATED MODULE: ./packages/ui-hooks/src/useAnimationState.ts
 // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unused-vars

const useAnimationState_noop = (...args) => undefined;
/**
 * @deprecated use InteractivePrimitive instead
 */


function useAnimationState({
  onClick = useAnimationState_noop,
  resetDelay = 200,
  animationLength = 0,
  touchUpDelay = 200
} = {}) {
  const [clicked, setClicked] = useState(false);
  const [touchedUp, setTouchedUp] = useState(false);
  const [touchedDown, setTouchedDown] = useState(false);
  const setTimeoutRef = useRef(); // eslint-disable-next-line @typescript-eslint/no-explicit-any

  const wrappedOnClick = (...args) => {
    setTouchedDown(true);
    setTimeoutRef.current = setTimeout(() => {
      setTouchedUp(true);
      setTimeoutRef.current = setTimeout(() => {
        setClicked(true);
        onClick(...args);
        setTimeoutRef.current = setTimeout(() => {
          setTouchedDown(false);
          setTouchedUp(false);
          setClicked(false);
          setTimeoutRef.current = undefined;
        }, Math.max(0, resetDelay - animationLength));
      }, animationLength);
    }, touchUpDelay);
  };

  useEffect(() => () => setTimeoutRef.current && clearTimeout(setTimeoutRef.current), [setTimeoutRef]);
  return {
    clicked,
    touchedUp,
    touchedDown,
    wrappedOnClick
  };
}
;// CONCATENATED MODULE: ./packages/ui-hooks/src/useLangDirection.ts

function useLangDirection(isRtl) {
  (0,react.useEffect)(() => {
    if (false) {}
    const html = document.getElementsByTagName('html')[0];
    const cssLink = document.querySelector('link[rel="stylesheet"]');

    if (cssLink == null) {
      console.error('No stylesheet link tag found, RTL is not applied');
      return;
    }

    const cssHref = cssLink.getAttribute('href');

    if (cssHref == null) {
      console.error('Something wrong with style attribute, RTL is not applied');
      return;
    }

    const cssFileName = cssHref.substring(0, cssHref.length - 4).replace('.rtl', '');
    const suffix = isRtl ? '.rtl' : '';
    const transformedLink = cssFileName + suffix + '.css';

    if (isRtl) {
      html.setAttribute('dir', 'rtl');
    } else {
      html.removeAttribute('dir');
    }

    cssLink.setAttribute('href', transformedLink);
  }, [isRtl]);
}
;// CONCATENATED MODULE: ./packages/ui-hooks/src/useOnChange.ts

function useOnChange(value, onChange) {
  const previousValueRef = (0,react.useRef)(value);
  (0,react.useEffect)(() => {
    if (previousValueRef.current !== value) {
      previousValueRef.current = value;
      onChange();
    }
  }, [value, onChange]);
}
;// CONCATENATED MODULE: ./packages/ui-hooks/src/useOnClickOutside.ts

function useOnClickOutside(ref, callback, isOpen = true) {
  const isOpenFacet = (0,react_facet_src.useFacetWrap)(isOpen);
  (0,react_facet_src.useFacetEffect)(isOpen => {
    if (!isOpen) return;

    const listener = event => {
      if (!(ref.current && ref.current.contains(event.target))) {
        callback();
      }
    };

    document.addEventListener('click', listener, true);
    return () => {
      document.removeEventListener('click', listener, true);
    };
  }, [ref, callback], [isOpenFacet]);
}
;// CONCATENATED MODULE: ./packages/ui-hooks/src/useUniqueIdentifier.ts

let counter = 0;
const useUniqueIdentifier = () => {
  return (0,react.useMemo)(() => `unique-identifier${counter++}`, []);
};
;// CONCATENATED MODULE: ./packages/ui-hooks/src/useRestoreFocus.ts



const useRestoreFocus = (captureFocus, targetGamepadAlias) => {
  const setFocusedId = useSetFocusedId();
  const restoreFocusedId = useRef(useRestoreFocus_noop);
  useFacetEffect(captureFocus => {
    if (captureFocus) {
      const restoreFocusedIdValue = setFocusedId(targetGamepadAlias);

      if (restoreFocusedIdValue !== NO_VALUE) {
        restoreFocusedId.current = restoreFocusedIdValue;
      }
    } else {
      restoreFocusedId.current();
    }
  }, [setFocusedId, targetGamepadAlias], [captureFocus]);
};

function useRestoreFocus_noop() {}
;// CONCATENATED MODULE: ./packages/ui-hooks/src/index.ts






;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowUp/images/arrowUp.png
const arrowUp_namespaceObject = __webpack_require__.p + "assets/arrowUp-2e751.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowUp/IconArrowUp.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowUp = ({"iconArrowUp":"FqFkv"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowUp/IconArrowUp.tsx




const IconArrowUp_IconArrowUp = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconArrowUp.iconArrowUp,
  src: arrowUp_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowDown/images/arrowDown.png
const arrowDown_namespaceObject = __webpack_require__.p + "assets/arrowDown-8543c.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowDown/IconArrowDown.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowDown = ({"iconArrowDown":"fYSEY"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowDown/IconArrowDown.tsx




const IconArrowDown_IconArrowDown = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconArrowDown.iconArrowDown,
  src: arrowDown_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui/src/Divider/Divider.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Divider = ({"divider":"Fk8ro","innerDivider":"TPz7W"});
;// CONCATENATED MODULE: ./packages/ui/src/Divider/Divider.tsx




function Divider_Divider({
  role = 'inherit'
}) {
  const {
    color,
    variant
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement("fast-div", {
    className: Divider.divider
  }, /*#__PURE__*/react.createElement("fast-div", {
    className: classnames_default()(Divider.innerDivider, color[role].bevel.base, variant.reversed)
  }));
}
;// CONCATENATED MODULE: ./packages/ui/src/TreeView/TreeView.tsx










function TreeView_TreeView({
  children,
  gamepadIndex
}) {
  return /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: gamepadIndex
  }, children);
}

function splitCamelCase(camelCaseString, parent) {
  if (camelCaseString == null || camelCaseString.length <= 0 || (parent === null || parent === void 0 ? void 0 : parent.toLowerCase()) === 'packages' || camelCaseString.toLowerCase() === 'packages') {
    return camelCaseString;
  } // Use a regular expression to find all lowercase characters followed by uppercase characters


  const regex = /([a-z])([A-Z])/g; // Replace each match with a space and the matched characters

  const spacedString = camelCaseString.replace(regex, '$1 $2'); // Capitalize the first letter of the modified string

  const capitalizedString = spacedString.charAt(0).toUpperCase() + spacedString.slice(1);
  return capitalizedString;
}

TreeView_TreeView.Item = function TreeViewItem({
  label,
  gamepadIndex,
  onClick,
  children,
  selectedItem = false,
  autofocus = false,
  defaultExpanded = false,
  parent
}) {
  const depth = useDepth();
  const [expanded, setExpanded] = (0,react.useState)(defaultExpanded);
  const hasChildren = children != null;
  const {
    t
  } = useLocalization('TreeView');
  const handleOnClick = (0,react.useCallback)(() => {
    if (!hasChildren && onClick) return onClick();
    setExpanded(expanded => !expanded);
  }, [hasChildren, onClick]);
  useOnChange(defaultExpanded, () => {
    if (expanded === false && expanded !== defaultExpanded) {
      setExpanded(defaultExpanded);
    }
  });
  const formattedLabel = (0,react.useMemo)(() => splitCamelCase(label, parent), [label, parent]);
  return /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: gamepadIndex
  }, /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    className: classnames_default()(TreeView.item, {
      [TreeView.itemSelected]: selectedItem,
      [TreeView.itemDepth0]: depth === 0,
      [TreeView.itemDepth1]: depth === 1,
      [TreeView.itemDepth2]: depth === 2,
      [TreeView.itemDepth3]: depth === 3
    }),
    classNameHovered: TreeView.itemHovered,
    classNameFocused: TreeView.itemFocused,
    narrationText: formattedLabel,
    gamepadIndex: 0,
    inputLegend: hasChildren ? expanded ? t('.collapse') : t('.expand') : t('.open'),
    autofocus: autofocus,
    onClick: handleOnClick
  }, /*#__PURE__*/react.createElement("div", {
    className: selectedItem ? TreeView.indicatorSelected : TreeView.indicatorUnSelected
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    color: "black",
    variant: "body",
    verticalAlign: "center"
  }, /*#__PURE__*/react.createElement("span", {
    style: {
      lineHeight: '2.0rem',
      paddingTop: '0.8rem',
      paddingBottom: '0.8rem'
    }
  }, formattedLabel)), children != null ? expanded ? /*#__PURE__*/react.createElement(IconArrowUp_IconArrowUp, null) : /*#__PURE__*/react.createElement(IconArrowDown_IconArrowDown, null) : null), /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 1,
    disabled: !expanded
  }, /*#__PURE__*/react.createElement(DepthProvider, {
    value: depth + 1
  }, children != null ? /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(TreeView.itemChildren, {
      [TreeView.itemChildrenExpanded]: expanded
    })
  }, children) : null)));
};

TreeView_TreeView.Separator = function TreeViewSeparator({
  label
}) {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    className: TreeView.separator
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    color: "darkGrey",
    variant: "body"
  }, label)), /*#__PURE__*/react.createElement(Divider_Divider, {
    role: "neutral20"
  }));
};

TreeView_TreeView.displayName = 'TreeView';
const depthContext = (0,react.createContext)(0);
const DepthProvider = depthContext.Provider;

const useDepth = () => (0,react.useContext)(depthContext);
// EXTERNAL MODULE: ./node_modules/ramda/src/update.js
var update = __webpack_require__(7964);
var update_default = /*#__PURE__*/__webpack_require__.n(update);
// EXTERNAL MODULE: ./node_modules/ramda/src/set.js
var set = __webpack_require__(5994);
var set_default = /*#__PURE__*/__webpack_require__.n(set);
// EXTERNAL MODULE: ./node_modules/ramda/src/append.js
var append = __webpack_require__(9576);
var append_default = /*#__PURE__*/__webpack_require__.n(append);
// EXTERNAL MODULE: ./node_modules/ramda/src/reduce.js
var reduce = __webpack_require__(793);
var reduce_default = /*#__PURE__*/__webpack_require__.n(reduce);
// EXTERNAL MODULE: ./node_modules/ramda/src/propEq.js
var propEq = __webpack_require__(8371);
var propEq_default = /*#__PURE__*/__webpack_require__.n(propEq);
// EXTERNAL MODULE: ./node_modules/ramda/src/findIndex.js
var findIndex = __webpack_require__(3523);
var findIndex_default = /*#__PURE__*/__webpack_require__.n(findIndex);
// EXTERNAL MODULE: ./node_modules/ramda/src/sort.js
var sort = __webpack_require__(6218);
var sort_default = /*#__PURE__*/__webpack_require__.n(sort);
// EXTERNAL MODULE: ./node_modules/ramda/src/contains.js
var contains = __webpack_require__(1949);
var contains_default = /*#__PURE__*/__webpack_require__.n(contains);
// EXTERNAL MODULE: ./node_modules/ramda/src/map.js
var map = __webpack_require__(1894);
var map_default = /*#__PURE__*/__webpack_require__.n(map);
// EXTERNAL MODULE: ./node_modules/ramda/src/pipe.js
var pipe = __webpack_require__(4603);
var pipe_default = /*#__PURE__*/__webpack_require__.n(pipe);
// EXTERNAL MODULE: ./node_modules/ramda/src/filter.js
var filter = __webpack_require__(1383);
var filter_default = /*#__PURE__*/__webpack_require__.n(filter);
// EXTERNAL MODULE: ./node_modules/ramda/src/pathOr.js
var pathOr = __webpack_require__(4782);
var pathOr_default = /*#__PURE__*/__webpack_require__.n(pathOr);
// EXTERNAL MODULE: ./node_modules/ramda/src/propOr.js
var propOr = __webpack_require__(3176);
var propOr_default = /*#__PURE__*/__webpack_require__.n(propOr);
// EXTERNAL MODULE: ./node_modules/ramda/src/lensProp.js
var lensProp = __webpack_require__(5677);
var lensProp_default = /*#__PURE__*/__webpack_require__.n(lensProp);
// EXTERNAL MODULE: ./node_modules/change-case/change-case.js
var change_case = __webpack_require__(7159);
;// CONCATENATED MODULE: ./packages/gameface-hacks/src/localeCompare.ts
function localeCompare_localeCompare(a, b) {
  return a === b ? 0 : a > b ? 1 : -1;
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Navigation/sorting.ts
















const isEntry = item => item.hasOwnProperty('name'); // Which libraries belong to their own particular game

const gameLibraries = ['games-overview', 'bedrock', 'creator-editor', 'badger', 'docs']; // User friendly labels to use for categories on the sidebar

const groupLabels = {
  bedrock: 'Bedrock',
  'creator-editor': 'Creator Editor',
  badger: 'Badger',
  docs: 'Docs',
  overview: 'Overview',
  'games-overview': 'Overview',
  'get-started': 'Get Started',
  'design-guidelines': 'Design Guidelines',
  'technical-guidelines': 'Technical Guidelines',
  packages: 'Packages',
  button: 'Buttons',
  component: 'Components',
  screen: 'Screens',
  modal: 'Modals',
  design: 'Design Foundation',
  content: 'Content',
  control: 'Controls',
  layout: 'Layout',
  navigation: 'Navigation & Filtering',
  message: 'Messages',
  loading: 'Loading & Progress',
  internal: 'Internals',
  primitive: 'Primitives',
  other: 'Other'
}; // Order of categories for top level documentation (eg. Get Started, Designers..)

const topLevelCategories = ['get-started', 'design-guidelines', 'technical-guidelines', 'packages']; // Order of sub-categories for the 'Get Started' section

const getStartedOrdering = ['introduction', 'designerIntroduction', 'developerIntroduction', 'quickStartExamples', 'workflowExpectations', 'internalTools', 'uiReleaseProcess', 'featureBugLifecycle']; // Order of categories for 'general components'

const generalComponentCategories = ['overview', 'design', 'layout', 'button', 'control', 'navigation', 'message', 'loading', 'primitive', 'internal', 'content'];

const itemsLens = lensProp_default()('items');

const entryItems = propOr_default()([], 'items');

const entryHasThemes = pathOr_default()(false, ['metadata', 'themes']);

const entryIsTopLevelPage = pathOr_default()(false, ['metadata', 'topLevelPage']);

const entryCategory = pathOr_default()('other', ['metadata', 'category']);

const entryLibrary = pathOr_default()('other', ['metadata', 'library']);

const entryStatus = pathOr_default()('experimental', ['metadata', 'status']);

const groupTopLevelEntries = entries => {
  // Would love to pipe all of this, but there's a bug with the filter typings :(
  // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/25581
  const topLevelEntries = filter_default()(isTopLevelCategory, entries);

  return pipe_default()(groupComponentsByCategory, sortTopLevelCategories, sortGetStarted, sortPackages, setTopLevelEntryLabels)(topLevelEntries);
};
const groupGeneralComponentEntries = entries => {
  const generalComponents = filter_default()(entry => isGeneralComponent(entry) && !isDeprecated(entry), entries);

  return pipe_default()(groupComponentsByCategory, sortGeneralCategories, setOverviewLabel)(generalComponents);
};
const groupGameComponentEntries = entries => {
  const gameComponents = filter_default()(isGameComponent, entries);

  const result = pipe_default()(groupComponentsByLibrary, groupLibraryCategories, setOverviewLabel, sortItemsAscending, sortGames)(gameComponents);

  return result;
};

const setTopLevelEntryLabels = map_default()(group => {
  if (group.id === 'packages') return group;
  group.items.forEach(item => {
    const itemCasted = item;
    itemCasted.label = change_case.sentenceCase(itemCasted.name);
  });
  return group;
});

const setTopLevelPageLabel = (label, group) => {
  group.items[0].label = label;

  if (group.items[0].items != null) {
    setTopLevelPageLabel(label, group.items[0]);
  }
};

const setOverviewLabel = map_default()(group => {
  if (group.forcePage) {
    var _groupLabels$group$id;

    setTopLevelPageLabel((_groupLabels$group$id = groupLabels[group.id]) !== null && _groupLabels$group$id !== void 0 ? _groupLabels$group$id : group.id, group);
  }

  return group;
});

const isTopLevelCategory = entry => entryLibrary(entry) === 'global';

const isGameComponent = entry => contains_default()(entryLibrary(entry), gameLibraries);
const isGeneralComponent = entry => entryLibrary(entry) === 'general';

const isDeprecated = entry => entryStatus(entry) === 'deprecated';

const sortByProp = prop => (a, b) => {
  return localeCompare_localeCompare(propOr_default()('', prop, a), propOr_default()('', prop, b));
};

const sortByLabel = sortByProp('label');
const sortByName = sortByProp('name');
const sortGames = sort_default()((a, b) => gameLibraries.indexOf(a.id) - gameLibraries.indexOf(b.id));

const sortItemsAscending = libraryGroups => {
  return map_default()(library => {
    library.items.sort(sortByLabel);
    library.items.forEach(entry => {
      const items = entryItems(entry);
      items.sort(sortByName);
    });
    return library;
  }, libraryGroups);
};

const sortGeneralCategories = sort_default()((a, b) => generalComponentCategories.indexOf(a.id) - generalComponentCategories.indexOf(b.id));

const sortTopLevelCategories = sort_default()((a, b) => topLevelCategories.indexOf(a.id) - topLevelCategories.indexOf(b.id));

const sortGetStarted = groups => {
  const getStartedIndex = findIndex_default()(propEq_default()('id', 'get-started'), groups);

  groups[getStartedIndex].items.sort((a, b) => getStartedOrdering.indexOf(propOr_default()('', 'name', a)) - getStartedOrdering.indexOf(propOr_default()('', 'name', b)));
  const firstMenuItemInGetStarted = groups[getStartedIndex].items[0];

  if (firstMenuItemInGetStarted.name !== 'introduction') {
    throw new Error('Introduction should be the first menu item in the Get Started category');
  }

  return groups;
};

const sortPackages = groups => {
  const getStartedIndex = findIndex_default()(propEq_default()('id', 'packages'), groups);

  const items = entryItems(groups[getStartedIndex]);
  items.sort(sortByName);
  return groups;
};

const groupComponentsBySelector = selector => reduce_default()((grouped, entry) => {
  // If it doesn't have metadata, and it isn't a parent group
  // then we don't know what to do with it
  if (!isEntry(entry)) return grouped;
  const groupingId = selector(entry);

  let groupIndex = findIndex_default()(item => item.id === groupingId)(grouped);

  const forcePage = entryIsTopLevelPage(entry); // Create a new group if it doesn't exist already

  if (!~groupIndex) {
    groupIndex = grouped.length;
    grouped = append_default()({
      id: groupingId,
      label: propOr_default()(groupingId, groupingId, groupLabels),
      forcePage,
      group: true,
      items: []
    }, grouped);
  }

  const updatedItems = append_default()(entry, entryItems(grouped[groupIndex]));

  const updatedEntry = set_default()(itemsLens, updatedItems, grouped[groupIndex]);

  return update_default()(groupIndex, updatedEntry, grouped);
}, []);

const groupComponentsByCategory = groupComponentsBySelector(entryCategory);
const groupComponentsByLibrary = groupComponentsBySelector(entryLibrary);

const groupLibraryCategories = map_default()(library => set_default()(itemsLens, groupComponentsByCategory(entryItems(library)), library));
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js

function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  _setPrototypeOf(subClass, superClass);
}
// EXTERNAL MODULE: ./node_modules/prop-types/index.js
var prop_types = __webpack_require__(5697);
var prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
function extends_extends() {
  extends_extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return extends_extends.apply(this, arguments);
}
;// CONCATENATED MODULE: ./node_modules/resolve-pathname/esm/resolve-pathname.js
function isAbsolute(pathname) {
  return pathname.charAt(0) === '/';
}

// About 1.5x faster than the two-arg version of Array#splice()
function spliceOne(list, index) {
  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {
    list[i] = list[k];
  }

  list.pop();
}

// This implementation is based heavily on node's url.parse
function resolvePathname(to, from) {
  if (from === undefined) from = '';

  var toParts = (to && to.split('/')) || [];
  var fromParts = (from && from.split('/')) || [];

  var isToAbs = to && isAbsolute(to);
  var isFromAbs = from && isAbsolute(from);
  var mustEndAbs = isToAbs || isFromAbs;

  if (to && isAbsolute(to)) {
    // to is absolute
    fromParts = toParts;
  } else if (toParts.length) {
    // to is relative, drop the filename
    fromParts.pop();
    fromParts = fromParts.concat(toParts);
  }

  if (!fromParts.length) return '/';

  var hasTrailingSlash;
  if (fromParts.length) {
    var last = fromParts[fromParts.length - 1];
    hasTrailingSlash = last === '.' || last === '..' || last === '';
  } else {
    hasTrailingSlash = false;
  }

  var up = 0;
  for (var i = fromParts.length; i >= 0; i--) {
    var part = fromParts[i];

    if (part === '.') {
      spliceOne(fromParts, i);
    } else if (part === '..') {
      spliceOne(fromParts, i);
      up++;
    } else if (up) {
      spliceOne(fromParts, i);
      up--;
    }
  }

  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');

  if (
    mustEndAbs &&
    fromParts[0] !== '' &&
    (!fromParts[0] || !isAbsolute(fromParts[0]))
  )
    fromParts.unshift('');

  var result = fromParts.join('/');

  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';

  return result;
}

/* harmony default export */ const resolve_pathname = (resolvePathname);

;// CONCATENATED MODULE: ./node_modules/history/esm/history.js






function addLeadingSlash(path) {
  return path.charAt(0) === '/' ? path : '/' + path;
}
function stripLeadingSlash(path) {
  return path.charAt(0) === '/' ? path.substr(1) : path;
}
function hasBasename(path, prefix) {
  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;
}
function stripBasename(path, prefix) {
  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;
}
function stripTrailingSlash(path) {
  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;
}
function parsePath(path) {
  var pathname = path || '/';
  var search = '';
  var hash = '';
  var hashIndex = pathname.indexOf('#');

  if (hashIndex !== -1) {
    hash = pathname.substr(hashIndex);
    pathname = pathname.substr(0, hashIndex);
  }

  var searchIndex = pathname.indexOf('?');

  if (searchIndex !== -1) {
    search = pathname.substr(searchIndex);
    pathname = pathname.substr(0, searchIndex);
  }

  return {
    pathname: pathname,
    search: search === '?' ? '' : search,
    hash: hash === '#' ? '' : hash
  };
}
function createPath(location) {
  var pathname = location.pathname,
      search = location.search,
      hash = location.hash;
  var path = pathname || '/';
  if (search && search !== '?') path += search.charAt(0) === '?' ? search : "?" + search;
  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : "#" + hash;
  return path;
}

function history_createLocation(path, state, key, currentLocation) {
  var location;

  if (typeof path === 'string') {
    // Two-arg form: push(path, state)
    location = parsePath(path);
    location.state = state;
  } else {
    // One-arg form: push(location)
    location = extends_extends({}, path);
    if (location.pathname === undefined) location.pathname = '';

    if (location.search) {
      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;
    } else {
      location.search = '';
    }

    if (location.hash) {
      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;
    } else {
      location.hash = '';
    }

    if (state !== undefined && location.state === undefined) location.state = state;
  }

  try {
    location.pathname = decodeURI(location.pathname);
  } catch (e) {
    if (e instanceof URIError) {
      throw new URIError('Pathname "' + location.pathname + '" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');
    } else {
      throw e;
    }
  }

  if (key) location.key = key;

  if (currentLocation) {
    // Resolve incomplete/relative pathname relative to current location.
    if (!location.pathname) {
      location.pathname = currentLocation.pathname;
    } else if (location.pathname.charAt(0) !== '/') {
      location.pathname = resolve_pathname(location.pathname, currentLocation.pathname);
    }
  } else {
    // When there is no prior location and pathname is empty, set it to /
    if (!location.pathname) {
      location.pathname = '/';
    }
  }

  return location;
}
function history_locationsAreEqual(a, b) {
  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);
}

function createTransitionManager() {
  var prompt = null;

  function setPrompt(nextPrompt) {
     false ? 0 : void 0;
    prompt = nextPrompt;
    return function () {
      if (prompt === nextPrompt) prompt = null;
    };
  }

  function confirmTransitionTo(location, action, getUserConfirmation, callback) {
    // TODO: If another transition starts while we're still confirming
    // the previous one, we may end up in a weird state. Figure out the
    // best way to handle this.
    if (prompt != null) {
      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;

      if (typeof result === 'string') {
        if (typeof getUserConfirmation === 'function') {
          getUserConfirmation(result, callback);
        } else {
           false ? 0 : void 0;
          callback(true);
        }
      } else {
        // Return false from a transition hook to cancel the transition.
        callback(result !== false);
      }
    } else {
      callback(true);
    }
  }

  var listeners = [];

  function appendListener(fn) {
    var isActive = true;

    function listener() {
      if (isActive) fn.apply(void 0, arguments);
    }

    listeners.push(listener);
    return function () {
      isActive = false;
      listeners = listeners.filter(function (item) {
        return item !== listener;
      });
    };
  }

  function notifyListeners() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    listeners.forEach(function (listener) {
      return listener.apply(void 0, args);
    });
  }

  return {
    setPrompt: setPrompt,
    confirmTransitionTo: confirmTransitionTo,
    appendListener: appendListener,
    notifyListeners: notifyListeners
  };
}

var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);
function getConfirmation(message, callback) {
  callback(window.confirm(message)); // eslint-disable-line no-alert
}
/**
 * Returns true if the HTML5 history API is supported. Taken from Modernizr.
 *
 * https://github.com/Modernizr/Modernizr/blob/master/LICENSE
 * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js
 * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586
 */

function supportsHistory() {
  var ua = window.navigator.userAgent;
  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;
  return window.history && 'pushState' in window.history;
}
/**
 * Returns true if browser fires popstate on hash change.
 * IE10 and IE11 do not.
 */

function supportsPopStateOnHashChange() {
  return window.navigator.userAgent.indexOf('Trident') === -1;
}
/**
 * Returns false if using go(n) with hash history causes a full page reload.
 */

function supportsGoWithoutReloadUsingHash() {
  return window.navigator.userAgent.indexOf('Firefox') === -1;
}
/**
 * Returns true if a given popstate event is an extraneous WebKit event.
 * Accounts for the fact that Chrome on iOS fires real popstate events
 * containing undefined state when pressing the back button.
 */

function isExtraneousPopstateEvent(event) {
  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;
}

var PopStateEvent = 'popstate';
var HashChangeEvent = 'hashchange';

function getHistoryState() {
  try {
    return window.history.state || {};
  } catch (e) {
    // IE 11 sometimes throws when accessing window.history.state
    // See https://github.com/ReactTraining/history/pull/289
    return {};
  }
}
/**
 * Creates a history object that uses the HTML5 history API including
 * pushState, replaceState, and the popstate event.
 */


function createBrowserHistory(props) {
  if (props === void 0) {
    props = {};
  }

  !canUseDOM ?  false ? 0 : invariant(false) : void 0;
  var globalHistory = window.history;
  var canUseHistory = supportsHistory();
  var needsHashChangeListener = !supportsPopStateOnHashChange();
  var _props = props,
      _props$forceRefresh = _props.forceRefresh,
      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,
      _props$getUserConfirm = _props.getUserConfirmation,
      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,
      _props$keyLength = _props.keyLength,
      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;
  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';

  function getDOMLocation(historyState) {
    var _ref = historyState || {},
        key = _ref.key,
        state = _ref.state;

    var _window$location = window.location,
        pathname = _window$location.pathname,
        search = _window$location.search,
        hash = _window$location.hash;
    var path = pathname + search + hash;
     false ? 0 : void 0;
    if (basename) path = stripBasename(path, basename);
    return history_createLocation(path, state, key);
  }

  function createKey() {
    return Math.random().toString(36).substr(2, keyLength);
  }

  var transitionManager = createTransitionManager();

  function setState(nextState) {
    _extends(history, nextState);

    history.length = globalHistory.length;
    transitionManager.notifyListeners(history.location, history.action);
  }

  function handlePopState(event) {
    // Ignore extraneous popstate events in WebKit.
    if (isExtraneousPopstateEvent(event)) return;
    handlePop(getDOMLocation(event.state));
  }

  function handleHashChange() {
    handlePop(getDOMLocation(getHistoryState()));
  }

  var forceNextPop = false;

  function handlePop(location) {
    if (forceNextPop) {
      forceNextPop = false;
      setState();
    } else {
      var action = 'POP';
      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
        if (ok) {
          setState({
            action: action,
            location: location
          });
        } else {
          revertPop(location);
        }
      });
    }
  }

  function revertPop(fromLocation) {
    var toLocation = history.location; // TODO: We could probably make this more reliable by
    // keeping a list of keys we've seen in sessionStorage.
    // Instead, we just default to 0 for keys we don't know.

    var toIndex = allKeys.indexOf(toLocation.key);
    if (toIndex === -1) toIndex = 0;
    var fromIndex = allKeys.indexOf(fromLocation.key);
    if (fromIndex === -1) fromIndex = 0;
    var delta = toIndex - fromIndex;

    if (delta) {
      forceNextPop = true;
      go(delta);
    }
  }

  var initialLocation = getDOMLocation(getHistoryState());
  var allKeys = [initialLocation.key]; // Public interface

  function createHref(location) {
    return basename + createPath(location);
  }

  function push(path, state) {
     false ? 0 : void 0;
    var action = 'PUSH';
    var location = history_createLocation(path, state, createKey(), history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var href = createHref(location);
      var key = location.key,
          state = location.state;

      if (canUseHistory) {
        globalHistory.pushState({
          key: key,
          state: state
        }, null, href);

        if (forceRefresh) {
          window.location.href = href;
        } else {
          var prevIndex = allKeys.indexOf(history.location.key);
          var nextKeys = allKeys.slice(0, prevIndex + 1);
          nextKeys.push(location.key);
          allKeys = nextKeys;
          setState({
            action: action,
            location: location
          });
        }
      } else {
         false ? 0 : void 0;
        window.location.href = href;
      }
    });
  }

  function replace(path, state) {
     false ? 0 : void 0;
    var action = 'REPLACE';
    var location = history_createLocation(path, state, createKey(), history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var href = createHref(location);
      var key = location.key,
          state = location.state;

      if (canUseHistory) {
        globalHistory.replaceState({
          key: key,
          state: state
        }, null, href);

        if (forceRefresh) {
          window.location.replace(href);
        } else {
          var prevIndex = allKeys.indexOf(history.location.key);
          if (prevIndex !== -1) allKeys[prevIndex] = location.key;
          setState({
            action: action,
            location: location
          });
        }
      } else {
         false ? 0 : void 0;
        window.location.replace(href);
      }
    });
  }

  function go(n) {
    globalHistory.go(n);
  }

  function goBack() {
    go(-1);
  }

  function goForward() {
    go(1);
  }

  var listenerCount = 0;

  function checkDOMListeners(delta) {
    listenerCount += delta;

    if (listenerCount === 1 && delta === 1) {
      window.addEventListener(PopStateEvent, handlePopState);
      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);
    } else if (listenerCount === 0) {
      window.removeEventListener(PopStateEvent, handlePopState);
      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);
    }
  }

  var isBlocked = false;

  function block(prompt) {
    if (prompt === void 0) {
      prompt = false;
    }

    var unblock = transitionManager.setPrompt(prompt);

    if (!isBlocked) {
      checkDOMListeners(1);
      isBlocked = true;
    }

    return function () {
      if (isBlocked) {
        isBlocked = false;
        checkDOMListeners(-1);
      }

      return unblock();
    };
  }

  function listen(listener) {
    var unlisten = transitionManager.appendListener(listener);
    checkDOMListeners(1);
    return function () {
      checkDOMListeners(-1);
      unlisten();
    };
  }

  var history = {
    length: globalHistory.length,
    action: 'POP',
    location: initialLocation,
    createHref: createHref,
    push: push,
    replace: replace,
    go: go,
    goBack: goBack,
    goForward: goForward,
    block: block,
    listen: listen
  };
  return history;
}

var HashChangeEvent$1 = 'hashchange';
var HashPathCoders = {
  hashbang: {
    encodePath: function encodePath(path) {
      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);
    },
    decodePath: function decodePath(path) {
      return path.charAt(0) === '!' ? path.substr(1) : path;
    }
  },
  noslash: {
    encodePath: stripLeadingSlash,
    decodePath: addLeadingSlash
  },
  slash: {
    encodePath: addLeadingSlash,
    decodePath: addLeadingSlash
  }
};

function stripHash(url) {
  var hashIndex = url.indexOf('#');
  return hashIndex === -1 ? url : url.slice(0, hashIndex);
}

function getHashPath() {
  // We can't use window.location.hash here because it's not
  // consistent across browsers - Firefox will pre-decode it!
  var href = window.location.href;
  var hashIndex = href.indexOf('#');
  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);
}

function pushHashPath(path) {
  window.location.hash = path;
}

function replaceHashPath(path) {
  window.location.replace(stripHash(window.location.href) + '#' + path);
}

function createHashHistory(props) {
  if (props === void 0) {
    props = {};
  }

  !canUseDOM ?  false ? 0 : invariant(false) : void 0;
  var globalHistory = window.history;
  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();
  var _props = props,
      _props$getUserConfirm = _props.getUserConfirmation,
      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,
      _props$hashType = _props.hashType,
      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;
  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';
  var _HashPathCoders$hashT = HashPathCoders[hashType],
      encodePath = _HashPathCoders$hashT.encodePath,
      decodePath = _HashPathCoders$hashT.decodePath;

  function getDOMLocation() {
    var path = decodePath(getHashPath());
     false ? 0 : void 0;
    if (basename) path = stripBasename(path, basename);
    return history_createLocation(path);
  }

  var transitionManager = createTransitionManager();

  function setState(nextState) {
    _extends(history, nextState);

    history.length = globalHistory.length;
    transitionManager.notifyListeners(history.location, history.action);
  }

  var forceNextPop = false;
  var ignorePath = null;

  function locationsAreEqual$$1(a, b) {
    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;
  }

  function handleHashChange() {
    var path = getHashPath();
    var encodedPath = encodePath(path);

    if (path !== encodedPath) {
      // Ensure we always have a properly-encoded hash.
      replaceHashPath(encodedPath);
    } else {
      var location = getDOMLocation();
      var prevLocation = history.location;
      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.

      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.

      ignorePath = null;
      handlePop(location);
    }
  }

  function handlePop(location) {
    if (forceNextPop) {
      forceNextPop = false;
      setState();
    } else {
      var action = 'POP';
      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
        if (ok) {
          setState({
            action: action,
            location: location
          });
        } else {
          revertPop(location);
        }
      });
    }
  }

  function revertPop(fromLocation) {
    var toLocation = history.location; // TODO: We could probably make this more reliable by
    // keeping a list of paths we've seen in sessionStorage.
    // Instead, we just default to 0 for paths we don't know.

    var toIndex = allPaths.lastIndexOf(createPath(toLocation));
    if (toIndex === -1) toIndex = 0;
    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));
    if (fromIndex === -1) fromIndex = 0;
    var delta = toIndex - fromIndex;

    if (delta) {
      forceNextPop = true;
      go(delta);
    }
  } // Ensure the hash is encoded properly before doing anything else.


  var path = getHashPath();
  var encodedPath = encodePath(path);
  if (path !== encodedPath) replaceHashPath(encodedPath);
  var initialLocation = getDOMLocation();
  var allPaths = [createPath(initialLocation)]; // Public interface

  function createHref(location) {
    var baseTag = document.querySelector('base');
    var href = '';

    if (baseTag && baseTag.getAttribute('href')) {
      href = stripHash(window.location.href);
    }

    return href + '#' + encodePath(basename + createPath(location));
  }

  function push(path, state) {
     false ? 0 : void 0;
    var action = 'PUSH';
    var location = history_createLocation(path, undefined, undefined, history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var path = createPath(location);
      var encodedPath = encodePath(basename + path);
      var hashChanged = getHashPath() !== encodedPath;

      if (hashChanged) {
        // We cannot tell if a hashchange was caused by a PUSH, so we'd
        // rather setState here and ignore the hashchange. The caveat here
        // is that other hash histories in the page will consider it a POP.
        ignorePath = path;
        pushHashPath(encodedPath);
        var prevIndex = allPaths.lastIndexOf(createPath(history.location));
        var nextPaths = allPaths.slice(0, prevIndex + 1);
        nextPaths.push(path);
        allPaths = nextPaths;
        setState({
          action: action,
          location: location
        });
      } else {
         false ? 0 : void 0;
        setState();
      }
    });
  }

  function replace(path, state) {
     false ? 0 : void 0;
    var action = 'REPLACE';
    var location = history_createLocation(path, undefined, undefined, history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var path = createPath(location);
      var encodedPath = encodePath(basename + path);
      var hashChanged = getHashPath() !== encodedPath;

      if (hashChanged) {
        // We cannot tell if a hashchange was caused by a REPLACE, so we'd
        // rather setState here and ignore the hashchange. The caveat here
        // is that other hash histories in the page will consider it a POP.
        ignorePath = path;
        replaceHashPath(encodedPath);
      }

      var prevIndex = allPaths.indexOf(createPath(history.location));
      if (prevIndex !== -1) allPaths[prevIndex] = path;
      setState({
        action: action,
        location: location
      });
    });
  }

  function go(n) {
     false ? 0 : void 0;
    globalHistory.go(n);
  }

  function goBack() {
    go(-1);
  }

  function goForward() {
    go(1);
  }

  var listenerCount = 0;

  function checkDOMListeners(delta) {
    listenerCount += delta;

    if (listenerCount === 1 && delta === 1) {
      window.addEventListener(HashChangeEvent$1, handleHashChange);
    } else if (listenerCount === 0) {
      window.removeEventListener(HashChangeEvent$1, handleHashChange);
    }
  }

  var isBlocked = false;

  function block(prompt) {
    if (prompt === void 0) {
      prompt = false;
    }

    var unblock = transitionManager.setPrompt(prompt);

    if (!isBlocked) {
      checkDOMListeners(1);
      isBlocked = true;
    }

    return function () {
      if (isBlocked) {
        isBlocked = false;
        checkDOMListeners(-1);
      }

      return unblock();
    };
  }

  function listen(listener) {
    var unlisten = transitionManager.appendListener(listener);
    checkDOMListeners(1);
    return function () {
      checkDOMListeners(-1);
      unlisten();
    };
  }

  var history = {
    length: globalHistory.length,
    action: 'POP',
    location: initialLocation,
    createHref: createHref,
    push: push,
    replace: replace,
    go: go,
    goBack: goBack,
    goForward: goForward,
    block: block,
    listen: listen
  };
  return history;
}

function clamp(n, lowerBound, upperBound) {
  return Math.min(Math.max(n, lowerBound), upperBound);
}
/**
 * Creates a history object that stores locations in memory.
 */


function createMemoryHistory(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      getUserConfirmation = _props.getUserConfirmation,
      _props$initialEntries = _props.initialEntries,
      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,
      _props$initialIndex = _props.initialIndex,
      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,
      _props$keyLength = _props.keyLength,
      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;
  var transitionManager = createTransitionManager();

  function setState(nextState) {
    extends_extends(history, nextState);

    history.length = history.entries.length;
    transitionManager.notifyListeners(history.location, history.action);
  }

  function createKey() {
    return Math.random().toString(36).substr(2, keyLength);
  }

  var index = clamp(initialIndex, 0, initialEntries.length - 1);
  var entries = initialEntries.map(function (entry) {
    return typeof entry === 'string' ? history_createLocation(entry, undefined, createKey()) : history_createLocation(entry, undefined, entry.key || createKey());
  }); // Public interface

  var createHref = createPath;

  function push(path, state) {
     false ? 0 : void 0;
    var action = 'PUSH';
    var location = history_createLocation(path, state, createKey(), history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var prevIndex = history.index;
      var nextIndex = prevIndex + 1;
      var nextEntries = history.entries.slice(0);

      if (nextEntries.length > nextIndex) {
        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);
      } else {
        nextEntries.push(location);
      }

      setState({
        action: action,
        location: location,
        index: nextIndex,
        entries: nextEntries
      });
    });
  }

  function replace(path, state) {
     false ? 0 : void 0;
    var action = 'REPLACE';
    var location = history_createLocation(path, state, createKey(), history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      history.entries[history.index] = location;
      setState({
        action: action,
        location: location
      });
    });
  }

  function go(n) {
    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);
    var action = 'POP';
    var location = history.entries[nextIndex];
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (ok) {
        setState({
          action: action,
          location: location,
          index: nextIndex
        });
      } else {
        // Mimic the behavior of DOM histories by
        // causing a render after a cancelled POP.
        setState();
      }
    });
  }

  function goBack() {
    go(-1);
  }

  function goForward() {
    go(1);
  }

  function canGo(n) {
    var nextIndex = history.index + n;
    return nextIndex >= 0 && nextIndex < history.entries.length;
  }

  function block(prompt) {
    if (prompt === void 0) {
      prompt = false;
    }

    return transitionManager.setPrompt(prompt);
  }

  function listen(listener) {
    return transitionManager.appendListener(listener);
  }

  var history = {
    length: entries.length,
    action: 'POP',
    location: entries[index],
    index: index,
    entries: entries,
    createHref: createHref,
    push: push,
    replace: replace,
    go: go,
    goBack: goBack,
    goForward: goForward,
    canGo: canGo,
    block: block,
    listen: listen
  };
  return history;
}



;// CONCATENATED MODULE: ./node_modules/mini-create-react-context/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js
function setPrototypeOf_setPrototypeOf(o, p) {
  setPrototypeOf_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };
  return setPrototypeOf_setPrototypeOf(o, p);
}
;// CONCATENATED MODULE: ./node_modules/mini-create-react-context/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js

function inheritsLoose_inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  setPrototypeOf_setPrototypeOf(subClass, superClass);
}
;// CONCATENATED MODULE: ./node_modules/mini-create-react-context/dist/esm/index.js





var MAX_SIGNED_31_BIT_INT = 1073741823;
var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : {};

function getUniqueId() {
  var key = '__global_unique_id__';
  return commonjsGlobal[key] = (commonjsGlobal[key] || 0) + 1;
}

function objectIs(x, y) {
  if (x === y) {
    return x !== 0 || 1 / x === 1 / y;
  } else {
    return x !== x && y !== y;
  }
}

function createEventEmitter(value) {
  var handlers = [];
  return {
    on: function on(handler) {
      handlers.push(handler);
    },
    off: function off(handler) {
      handlers = handlers.filter(function (h) {
        return h !== handler;
      });
    },
    get: function get() {
      return value;
    },
    set: function set(newValue, changedBits) {
      value = newValue;
      handlers.forEach(function (handler) {
        return handler(value, changedBits);
      });
    }
  };
}

function onlyChild(children) {
  return Array.isArray(children) ? children[0] : children;
}

function createReactContext(defaultValue, calculateChangedBits) {
  var _Provider$childContex, _Consumer$contextType;

  var contextProp = '__create-react-context-' + getUniqueId() + '__';

  var Provider = /*#__PURE__*/function (_Component) {
    inheritsLoose_inheritsLoose(Provider, _Component);

    function Provider() {
      var _this;

      _this = _Component.apply(this, arguments) || this;
      _this.emitter = createEventEmitter(_this.props.value);
      return _this;
    }

    var _proto = Provider.prototype;

    _proto.getChildContext = function getChildContext() {
      var _ref;

      return _ref = {}, _ref[contextProp] = this.emitter, _ref;
    };

    _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
      if (this.props.value !== nextProps.value) {
        var oldValue = this.props.value;
        var newValue = nextProps.value;
        var changedBits;

        if (objectIs(oldValue, newValue)) {
          changedBits = 0;
        } else {
          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;

          if (false) {}

          changedBits |= 0;

          if (changedBits !== 0) {
            this.emitter.set(nextProps.value, changedBits);
          }
        }
      }
    };

    _proto.render = function render() {
      return this.props.children;
    };

    return Provider;
  }(react.Component);

  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = (prop_types_default()).object.isRequired, _Provider$childContex);

  var Consumer = /*#__PURE__*/function (_Component2) {
    inheritsLoose_inheritsLoose(Consumer, _Component2);

    function Consumer() {
      var _this2;

      _this2 = _Component2.apply(this, arguments) || this;
      _this2.state = {
        value: _this2.getValue()
      };

      _this2.onUpdate = function (newValue, changedBits) {
        var observedBits = _this2.observedBits | 0;

        if ((observedBits & changedBits) !== 0) {
          _this2.setState({
            value: _this2.getValue()
          });
        }
      };

      return _this2;
    }

    var _proto2 = Consumer.prototype;

    _proto2.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
      var observedBits = nextProps.observedBits;
      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;
    };

    _proto2.componentDidMount = function componentDidMount() {
      if (this.context[contextProp]) {
        this.context[contextProp].on(this.onUpdate);
      }

      var observedBits = this.props.observedBits;
      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;
    };

    _proto2.componentWillUnmount = function componentWillUnmount() {
      if (this.context[contextProp]) {
        this.context[contextProp].off(this.onUpdate);
      }
    };

    _proto2.getValue = function getValue() {
      if (this.context[contextProp]) {
        return this.context[contextProp].get();
      } else {
        return defaultValue;
      }
    };

    _proto2.render = function render() {
      return onlyChild(this.props.children)(this.state.value);
    };

    return Consumer;
  }(react.Component);

  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = (prop_types_default()).object, _Consumer$contextType);
  return {
    Provider: Provider,
    Consumer: Consumer
  };
}

var index = react.createContext || createReactContext;

/* harmony default export */ const esm = (index);

;// CONCATENATED MODULE: ./node_modules/tiny-invariant/dist/tiny-invariant.esm.js
var isProduction = "production" === 'production';
var prefix = 'Invariant failed';
function tiny_invariant_esm_invariant(condition, message) {
    if (condition) {
        return;
    }
    if (isProduction) {
        throw new Error(prefix);
    }
    throw new Error(prefix + ": " + (message || ''));
}

/* harmony default export */ const tiny_invariant_esm = (tiny_invariant_esm_invariant);

// EXTERNAL MODULE: ./node_modules/react-router/node_modules/path-to-regexp/index.js
var path_to_regexp = __webpack_require__(9658);
var path_to_regexp_default = /*#__PURE__*/__webpack_require__.n(path_to_regexp);
// EXTERNAL MODULE: ./node_modules/react-is/index.js
var react_is = __webpack_require__(9864);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
function objectWithoutPropertiesLoose_objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}
// EXTERNAL MODULE: ./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js
var hoist_non_react_statics_cjs = __webpack_require__(8679);
;// CONCATENATED MODULE: ./node_modules/react-router/esm/react-router.js













// TODO: Replace with React.createContext once we can assume React 16+

var createNamedContext = function createNamedContext(name) {
  var context = esm();
  context.displayName = name;
  return context;
};

var react_router_context =
/*#__PURE__*/
createNamedContext("Router");

/**
 * The public API for putting history on context.
 */

var Router =
/*#__PURE__*/
function (_React$Component) {
  _inheritsLoose(Router, _React$Component);

  Router.computeRootMatch = function computeRootMatch(pathname) {
    return {
      path: "/",
      url: "/",
      params: {},
      isExact: pathname === "/"
    };
  };

  function Router(props) {
    var _this;

    _this = _React$Component.call(this, props) || this;
    _this.state = {
      location: props.history.location
    }; // This is a bit of a hack. We have to start listening for location
    // changes here in the constructor in case there are any <Redirect>s
    // on the initial render. If there are, they will replace/push when
    // they mount and since cDM fires in children before parents, we may
    // get a new location before the <Router> is mounted.

    _this._isMounted = false;
    _this._pendingLocation = null;

    if (!props.staticContext) {
      _this.unlisten = props.history.listen(function (location) {
        if (_this._isMounted) {
          _this.setState({
            location: location
          });
        } else {
          _this._pendingLocation = location;
        }
      });
    }

    return _this;
  }

  var _proto = Router.prototype;

  _proto.componentDidMount = function componentDidMount() {
    this._isMounted = true;

    if (this._pendingLocation) {
      this.setState({
        location: this._pendingLocation
      });
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    if (this.unlisten) this.unlisten();
  };

  _proto.render = function render() {
    return react.createElement(react_router_context.Provider, {
      children: this.props.children || null,
      value: {
        history: this.props.history,
        location: this.state.location,
        match: Router.computeRootMatch(this.state.location.pathname),
        staticContext: this.props.staticContext
      }
    });
  };

  return Router;
}(react.Component);

if (false) {}

/**
 * The public API for a <Router> that stores location in memory.
 */

var MemoryRouter =
/*#__PURE__*/
function (_React$Component) {
  _inheritsLoose(MemoryRouter, _React$Component);

  function MemoryRouter() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;
    _this.history = createMemoryHistory(_this.props);
    return _this;
  }

  var _proto = MemoryRouter.prototype;

  _proto.render = function render() {
    return react.createElement(Router, {
      history: this.history,
      children: this.props.children
    });
  };

  return MemoryRouter;
}(react.Component);

if (false) {}

var Lifecycle =
/*#__PURE__*/
function (_React$Component) {
  _inheritsLoose(Lifecycle, _React$Component);

  function Lifecycle() {
    return _React$Component.apply(this, arguments) || this;
  }

  var _proto = Lifecycle.prototype;

  _proto.componentDidMount = function componentDidMount() {
    if (this.props.onMount) this.props.onMount.call(this, this);
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    if (this.props.onUpdate) this.props.onUpdate.call(this, this, prevProps);
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    if (this.props.onUnmount) this.props.onUnmount.call(this, this);
  };

  _proto.render = function render() {
    return null;
  };

  return Lifecycle;
}(react.Component);

/**
 * The public API for prompting the user before navigating away from a screen.
 */

function Prompt(_ref) {
  var message = _ref.message,
      _ref$when = _ref.when,
      when = _ref$when === void 0 ? true : _ref$when;
  return React.createElement(react_router_context.Consumer, null, function (context) {
    !context ?  false ? 0 : invariant(false) : void 0;
    if (!when || context.staticContext) return null;
    var method = context.history.block;
    return React.createElement(Lifecycle, {
      onMount: function onMount(self) {
        self.release = method(message);
      },
      onUpdate: function onUpdate(self, prevProps) {
        if (prevProps.message !== message) {
          self.release();
          self.release = method(message);
        }
      },
      onUnmount: function onUnmount(self) {
        self.release();
      },
      message: message
    });
  });
}

if (false) { var messageType; }

var cache = {};
var cacheLimit = 10000;
var cacheCount = 0;

function compilePath(path) {
  if (cache[path]) return cache[path];
  var generator = pathToRegexp.compile(path);

  if (cacheCount < cacheLimit) {
    cache[path] = generator;
    cacheCount++;
  }

  return generator;
}
/**
 * Public API for generating a URL pathname from a path and parameters.
 */


function generatePath(path, params) {
  if (path === void 0) {
    path = "/";
  }

  if (params === void 0) {
    params = {};
  }

  return path === "/" ? path : compilePath(path)(params, {
    pretty: true
  });
}

/**
 * The public API for navigating programmatically with a component.
 */

function Redirect(_ref) {
  var computedMatch = _ref.computedMatch,
      to = _ref.to,
      _ref$push = _ref.push,
      push = _ref$push === void 0 ? false : _ref$push;
  return React.createElement(react_router_context.Consumer, null, function (context) {
    !context ?  false ? 0 : invariant(false) : void 0;
    var history = context.history,
        staticContext = context.staticContext;
    var method = push ? history.push : history.replace;
    var location = createLocation(computedMatch ? typeof to === "string" ? generatePath(to, computedMatch.params) : _extends({}, to, {
      pathname: generatePath(to.pathname, computedMatch.params)
    }) : to); // When rendering in a static context,
    // set the new location immediately.

    if (staticContext) {
      method(location);
      return null;
    }

    return React.createElement(Lifecycle, {
      onMount: function onMount() {
        method(location);
      },
      onUpdate: function onUpdate(self, prevProps) {
        var prevLocation = createLocation(prevProps.to);

        if (!locationsAreEqual(prevLocation, _extends({}, location, {
          key: prevLocation.key
        }))) {
          method(location);
        }
      },
      to: to
    });
  });
}

if (false) {}

var cache$1 = {};
var cacheLimit$1 = 10000;
var cacheCount$1 = 0;

function compilePath$1(path, options) {
  var cacheKey = "" + options.end + options.strict + options.sensitive;
  var pathCache = cache$1[cacheKey] || (cache$1[cacheKey] = {});
  if (pathCache[path]) return pathCache[path];
  var keys = [];
  var regexp = path_to_regexp_default()(path, keys, options);
  var result = {
    regexp: regexp,
    keys: keys
  };

  if (cacheCount$1 < cacheLimit$1) {
    pathCache[path] = result;
    cacheCount$1++;
  }

  return result;
}
/**
 * Public API for matching a URL pathname to a path.
 */


function matchPath(pathname, options) {
  if (options === void 0) {
    options = {};
  }

  if (typeof options === "string" || Array.isArray(options)) {
    options = {
      path: options
    };
  }

  var _options = options,
      path = _options.path,
      _options$exact = _options.exact,
      exact = _options$exact === void 0 ? false : _options$exact,
      _options$strict = _options.strict,
      strict = _options$strict === void 0 ? false : _options$strict,
      _options$sensitive = _options.sensitive,
      sensitive = _options$sensitive === void 0 ? false : _options$sensitive;
  var paths = [].concat(path);
  return paths.reduce(function (matched, path) {
    if (!path && path !== "") return null;
    if (matched) return matched;

    var _compilePath = compilePath$1(path, {
      end: exact,
      strict: strict,
      sensitive: sensitive
    }),
        regexp = _compilePath.regexp,
        keys = _compilePath.keys;

    var match = regexp.exec(pathname);
    if (!match) return null;
    var url = match[0],
        values = match.slice(1);
    var isExact = pathname === url;
    if (exact && !isExact) return null;
    return {
      path: path,
      // the path used to match
      url: path === "/" && url === "" ? "/" : url,
      // the matched portion of the URL
      isExact: isExact,
      // whether or not we matched exactly
      params: keys.reduce(function (memo, key, index) {
        memo[key.name] = values[index];
        return memo;
      }, {})
    };
  }, null);
}

function isEmptyChildren(children) {
  return React.Children.count(children) === 0;
}

function evalChildrenDev(children, props, path) {
  var value = children(props);
   false ? 0 : void 0;
  return value || null;
}
/**
 * The public API for matching a single path and rendering.
 */


var Route =
/*#__PURE__*/
function (_React$Component) {
  _inheritsLoose(Route, _React$Component);

  function Route() {
    return _React$Component.apply(this, arguments) || this;
  }

  var _proto = Route.prototype;

  _proto.render = function render() {
    var _this = this;

    return react.createElement(react_router_context.Consumer, null, function (context$1) {
      !context$1 ?  false ? 0 : tiny_invariant_esm(false) : void 0;
      var location = _this.props.location || context$1.location;
      var match = _this.props.computedMatch ? _this.props.computedMatch // <Switch> already computed the match for us
      : _this.props.path ? matchPath(location.pathname, _this.props) : context$1.match;

      var props = extends_extends({}, context$1, {
        location: location,
        match: match
      });

      var _this$props = _this.props,
          children = _this$props.children,
          component = _this$props.component,
          render = _this$props.render; // Preact uses an empty array as children by
      // default, so use null if that's the case.

      if (Array.isArray(children) && children.length === 0) {
        children = null;
      }

      return react.createElement(react_router_context.Provider, {
        value: props
      }, props.match ? children ? typeof children === "function" ?  false ? 0 : children(props) : children : component ? react.createElement(component, props) : render ? render(props) : null : typeof children === "function" ?  false ? 0 : children(props) : null);
    });
  };

  return Route;
}(react.Component);

if (false) {}

function react_router_addLeadingSlash(path) {
  return path.charAt(0) === "/" ? path : "/" + path;
}

function addBasename(basename, location) {
  if (!basename) return location;
  return extends_extends({}, location, {
    pathname: react_router_addLeadingSlash(basename) + location.pathname
  });
}

function react_router_stripBasename(basename, location) {
  if (!basename) return location;
  var base = react_router_addLeadingSlash(basename);
  if (location.pathname.indexOf(base) !== 0) return location;
  return extends_extends({}, location, {
    pathname: location.pathname.substr(base.length)
  });
}

function createURL(location) {
  return typeof location === "string" ? location : createPath(location);
}

function staticHandler(methodName) {
  return function () {
      false ? 0 : tiny_invariant_esm(false) ;
  };
}

function react_router_noop() {}
/**
 * The public top-level API for a "static" <Router>, so-called because it
 * can't actually change the current location. Instead, it just records
 * location changes in a context object. Useful mainly in testing and
 * server-rendering scenarios.
 */


var StaticRouter =
/*#__PURE__*/
function (_React$Component) {
  _inheritsLoose(StaticRouter, _React$Component);

  function StaticRouter() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;

    _this.handlePush = function (location) {
      return _this.navigateTo(location, "PUSH");
    };

    _this.handleReplace = function (location) {
      return _this.navigateTo(location, "REPLACE");
    };

    _this.handleListen = function () {
      return react_router_noop;
    };

    _this.handleBlock = function () {
      return react_router_noop;
    };

    return _this;
  }

  var _proto = StaticRouter.prototype;

  _proto.navigateTo = function navigateTo(location, action) {
    var _this$props = this.props,
        _this$props$basename = _this$props.basename,
        basename = _this$props$basename === void 0 ? "" : _this$props$basename,
        _this$props$context = _this$props.context,
        context = _this$props$context === void 0 ? {} : _this$props$context;
    context.action = action;
    context.location = addBasename(basename, history_createLocation(location));
    context.url = createURL(context.location);
  };

  _proto.render = function render() {
    var _this$props2 = this.props,
        _this$props2$basename = _this$props2.basename,
        basename = _this$props2$basename === void 0 ? "" : _this$props2$basename,
        _this$props2$context = _this$props2.context,
        context = _this$props2$context === void 0 ? {} : _this$props2$context,
        _this$props2$location = _this$props2.location,
        location = _this$props2$location === void 0 ? "/" : _this$props2$location,
        rest = objectWithoutPropertiesLoose_objectWithoutPropertiesLoose(_this$props2, ["basename", "context", "location"]);

    var history = {
      createHref: function createHref(path) {
        return react_router_addLeadingSlash(basename + createURL(path));
      },
      action: "POP",
      location: react_router_stripBasename(basename, history_createLocation(location)),
      push: this.handlePush,
      replace: this.handleReplace,
      go: staticHandler("go"),
      goBack: staticHandler("goBack"),
      goForward: staticHandler("goForward"),
      listen: this.handleListen,
      block: this.handleBlock
    };
    return react.createElement(Router, extends_extends({}, rest, {
      history: history,
      staticContext: context
    }));
  };

  return StaticRouter;
}(react.Component);

if (false) {}

/**
 * The public API for rendering the first <Route> that matches.
 */

var Switch =
/*#__PURE__*/
function (_React$Component) {
  _inheritsLoose(Switch, _React$Component);

  function Switch() {
    return _React$Component.apply(this, arguments) || this;
  }

  var _proto = Switch.prototype;

  _proto.render = function render() {
    var _this = this;

    return react.createElement(react_router_context.Consumer, null, function (context) {
      !context ?  false ? 0 : tiny_invariant_esm(false) : void 0;
      var location = _this.props.location || context.location;
      var element, match; // We use React.Children.forEach instead of React.Children.toArray().find()
      // here because toArray adds keys to all child elements and we do not want
      // to trigger an unmount/remount for two <Route>s that render the same
      // component at different URLs.

      react.Children.forEach(_this.props.children, function (child) {
        if (match == null && react.isValidElement(child)) {
          element = child;
          var path = child.props.path || child.props.from;
          match = path ? matchPath(location.pathname, extends_extends({}, child.props, {
            path: path
          })) : context.match;
        }
      });
      return match ? react.cloneElement(element, {
        location: location,
        computedMatch: match
      }) : null;
    });
  };

  return Switch;
}(react.Component);

if (false) {}

/**
 * A public higher-order component to access the imperative API
 */

function withRouter(Component) {
  var displayName = "withRouter(" + (Component.displayName || Component.name) + ")";

  var C = function C(props) {
    var wrappedComponentRef = props.wrappedComponentRef,
        remainingProps = _objectWithoutPropertiesLoose(props, ["wrappedComponentRef"]);

    return React.createElement(react_router_context.Consumer, null, function (context) {
      !context ?  false ? 0 : invariant(false) : void 0;
      return React.createElement(Component, _extends({}, remainingProps, context, {
        ref: wrappedComponentRef
      }));
    });
  };

  C.displayName = displayName;
  C.WrappedComponent = Component;

  if (false) {}

  return hoistStatics(C, Component);
}

var react_router_useContext = react.useContext;
function useHistory() {
  if (false) {}

  return react_router_useContext(react_router_context).history;
}
function react_router_useLocation() {
  if (false) {}

  return react_router_useContext(react_router_context).location;
}
function useParams() {
  if (false) {}

  var match = react_router_useContext(react_router_context).match;
  return match ? match.params : {};
}
function useRouteMatch(path) {
  if (false) {}

  return path ? matchPath(react_router_useLocation().pathname, path) : react_router_useContext(react_router_context).match;
}

if (false) { var secondaryBuildName, initialBuildName, buildNames, key, global; }


//# sourceMappingURL=react-router.js.map

// EXTERNAL MODULE: ./node_modules/ramda/src/without.js
var without = __webpack_require__(6290);
var without_default = /*#__PURE__*/__webpack_require__.n(without);
;// CONCATENATED MODULE: ./packages/engine/src/facets/routerFacet.ts


/**
 * Constant shared with the backend to indicate that even though the Gameface view is initialized,
 * we don't have any active routes.
 */
const ROUTER_INVALID_ROUTE = '/__INVALID_ROUTE__';
const ROUTER_FACET = 'core.router';
/**
 * React Hook that requests the facet
 */

const routerFacet = (0,react_facet_src.sharedFacet)(ROUTER_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/createEngineHistory.ts



function createEngineHistory(historyReadyCallback, sharedFacetDriver) {
  let proxy;

  const update = routerFacet => {
    if (proxy == null) {
      proxy = buildHistoryProxy(routerFacet);
      historyReadyCallback(proxy.history);
    } else {
      proxy.notifyListeners();
    }
  };

  sharedFacetDriver(ROUTER_FACET, update, undefined, error => {
    throw new Error(error);
  });
}

function buildHistoryProxy(routerFacet) {
  let listeners = []; // setup the engine transitions to a default value of 800

  routerFacet.engineUITransitionTime = 800;
  const history = {
    // --- Frontend methods ---
    createHref: createPath,
    block: () => () => {},
    listen: listener => {
      listeners = [...listeners, listener];
      return () => {
        listeners = without_default()([listener], listeners);
      };
    },

    //--- Backend methods ---
    get length() {
      return routerFacet.history.length;
    },

    get action() {
      return routerFacet.history.action;
    },

    get location() {
      // TODO: fix this is the backend
      return cleanLocation(routerFacet.history.location);
    },

    go: steps => {
      routerFacet.history.go(steps);
    },
    goBack: () => {
      routerFacet.history.goBack();
    },
    goForward: () => {
      routerFacet.history.goForward();
    },
    push: location => {
      if (typeof location === 'object') {
        const url = `${location.pathname}${location.search}${location.hash}`;
        routerFacet.history.push(url, '');
      } else if (typeof location === 'string') {
        routerFacet.history.push(location, '');
      }
    },
    replace: location => {
      if (typeof location === 'object') {
        const url = `${location.pathname}${location.search}${location.hash}`;
        routerFacet.history.replace(url, '');
      } else if (typeof location === 'string') {
        routerFacet.history.replace(location, '');
      }
    }
  };
  let previousPathname = null;

  const notifyListeners = () => {
    const newPathname = history.location.pathname; // Important to store the pathname here since it can change when running the listeners.

    if (previousPathname == null || previousPathname !== newPathname) {
      listeners.forEach(listener => listener(history.location, history.action));
    }

    previousPathname = newPathname;
  };

  return {
    history,
    notifyListeners
  };
}

function cleanLocation(location) {
  const [searchPathname, search] = location.pathname.split('?');
  const [pathname, hash] = searchPathname.split('#');
  return {
    hash: hash || location.hash || '',
    pathname: pathname,
    search: search || location.search || '',
    state: location.state
  };
}
;// CONCATENATED MODULE: ./node_modules/@ungap/url-search-params/esm/index.js
/*! (c) Andrea Giammarchi - ISC */
var esm_self = undefined || /* istanbul ignore next */ {};
try {
  (function (URLSearchParams, plus) {
    if (
      new URLSearchParams('q=%2B').get('q') !== plus ||
      new URLSearchParams({q: plus}).get('q') !== plus ||
      new URLSearchParams([['q', plus]]).get('q') !== plus ||
      new URLSearchParams('q=\n').toString() !== 'q=%0A' ||
      new URLSearchParams({q: ' &'}).toString() !== 'q=+%26' ||
      new URLSearchParams({q: '%zx'}).toString() !== 'q=%25zx'
    )
      throw URLSearchParams;
    esm_self.URLSearchParams = URLSearchParams;
  }(URLSearchParams, '+'));
} catch(URLSearchParams) {
  (function (Object, String, isArray) {'use strict';
    var create = Object.create;
    var defineProperty = Object.defineProperty;
    var find = /[!'\(\)~]|%20|%00/g;
    var findPercentSign = /%(?![0-9a-fA-F]{2})/g;
    var plus = /\+/g;
    var replace = {
      '!': '%21',
      "'": '%27',
      '(': '%28',
      ')': '%29',
      '~': '%7E',
      '%20': '+',
      '%00': '\x00'
    };
    var proto = {
      append: function (key, value) {
        appendTo(this._ungap, key, value);
      },
      delete: function (key) {
        delete this._ungap[key];
      },
      get: function (key) {
        return this.has(key) ? this._ungap[key][0] : null;
      },
      getAll: function (key) {
        return this.has(key) ? this._ungap[key].slice(0) : [];
      },
      has: function (key) {
        return key in this._ungap;
      },
      set: function (key, value) {
        this._ungap[key] = [String(value)];
      },
      forEach: function (callback, thisArg) {
        var self = this;
        for (var key in self._ungap)
          self._ungap[key].forEach(invoke, key);
        function invoke(value) {
          callback.call(thisArg, value, String(key), self);
        }
      },
      toJSON: function () {
        return {};
      },
      toString: function () {
        var query = [];
        for (var key in this._ungap) {
          var encoded = encode(key);
          for (var
            i = 0,
            value = this._ungap[key];
            i < value.length; i++
          ) {
            query.push(encoded + '=' + encode(value[i]));
          }
        }
        return query.join('&');
      }
    };
    for (var key in proto)
      defineProperty(URLSearchParams.prototype, key, {
        configurable: true,
        writable: true,
        value: proto[key]
      });
    esm_self.URLSearchParams = URLSearchParams;
    function URLSearchParams(query) {
      var dict = create(null);
      defineProperty(this, '_ungap', {value: dict});
      switch (true) {
        case !query:
          break;
        case typeof query === 'string':
          if (query.charAt(0) === '?') {
            query = query.slice(1);
          }
          for (var
            pairs = query.split('&'),
            i = 0,
            length = pairs.length; i < length; i++
          ) {
            var value = pairs[i];
            var index = value.indexOf('=');
            if (-1 < index) {
              appendTo(
                dict,
                decode(value.slice(0, index)),
                decode(value.slice(index + 1))
              );
            } else if (value.length){
              appendTo(
                dict,
                decode(value),
                ''
              );
            }
          }
          break;
        case isArray(query):
          for (var
            i = 0,
            length = query.length; i < length; i++
          ) {
            var value = query[i];
            appendTo(dict, value[0], value[1]);
          }
          break;
        case 'forEach' in query:
          query.forEach(addEach, dict);
          break;
        default:
          for (var key in query)
            appendTo(dict, key, query[key]);
      }
    }

    function addEach(value, key) {
      appendTo(this, key, value);
    }

    function appendTo(dict, key, value) {
      var res = isArray(value) ? value.join(',') : value;
      if (key in dict)
        dict[key].push(res);
      else
        dict[key] = [res];
    }

    function decode(str) {
      return decodeURIComponent(str.replace(findPercentSign, '%25').replace(plus, ' '));
    }

    function encode(str) {
      return encodeURIComponent(str).replace(find, replacer);
    }

    function replacer(match) {
      return replace[match];
    }

  }(Object, String, Array.isArray));
}

(function (URLSearchParamsProto) {

  var iterable = false;
  try { iterable = !!Symbol.iterator; } catch (o_O) {}

  /* istanbul ignore else */
  if (!('forEach' in URLSearchParamsProto)) {
    URLSearchParamsProto.forEach = function forEach(callback, thisArg) {
      var self = this;
      var names = Object.create(null);
      this.toString()
          .replace(/=[\s\S]*?(?:&|$)/g, '=')
          .split('=')
          .forEach(function (name) {
            if (!name.length || name in names)
              return;
            (names[name] = self.getAll(name)).forEach(function(value) {
              callback.call(thisArg, value, name, self);
            });
          });
    };
  }

  /* istanbul ignore else */
  if (!('keys' in URLSearchParamsProto)) {
    URLSearchParamsProto.keys = function keys() {
      return iterator(this, function(value, key) { this.push(key); });
    };
  }

   /* istanbul ignore else */
  if (!('values' in URLSearchParamsProto)) {
    URLSearchParamsProto.values = function values() {
      return iterator(this, function(value, key) { this.push(value); });
    };
  }

  /* istanbul ignore else */
  if (!('entries' in URLSearchParamsProto)) {
    URLSearchParamsProto.entries = function entries() {
      return iterator(this, function(value, key) { this.push([key, value]); });
    };
  }

  /* istanbul ignore else */
  if (iterable && !(Symbol.iterator in URLSearchParamsProto)) {
    URLSearchParamsProto[Symbol.iterator] = URLSearchParamsProto.entries;
  }

  /* istanbul ignore else */
  if (!('sort' in URLSearchParamsProto)) {
    URLSearchParamsProto.sort = function sort() {
      var
        entries = this.entries(),
        entry = entries.next(),
        done = entry.done,
        keys = [],
        values = Object.create(null),
        i, key, value
      ;
      while (!done) {
        value = entry.value;
        key = value[0];
        keys.push(key);
        if (!(key in values)) {
          values[key] = [];
        }
        values[key].push(value[1]);
        entry = entries.next();
        done = entry.done;
      }
      // not the champion in efficiency
      // but these two bits just do the job
      keys.sort();
      for (i = 0; i < keys.length; i++) {
        this.delete(keys[i]);
      }
      for (i = 0; i < keys.length; i++) {
        key = keys[i];
        this.append(key, values[key].shift());
      }
    };
  }

  function iterator(self, callback) {
    var items = [];
    self.forEach(callback, items);
    /* istanbul ignore next */
    return iterable ?
      items[Symbol.iterator]() :
      {
        next: function() {
          var value = items.shift();
          return {done: value === void 0, value: value};
        }
      };
  }

  /* istanbul ignore next */
  (function (Object) {
    var
      dP = Object.defineProperty,
      gOPD = Object.getOwnPropertyDescriptor,
      createSearchParamsPollute = function (search) {
        function append(name, value) {
          URLSearchParamsProto.append.call(this, name, value);
          name = this.toString();
          search.set.call(this._usp, name ? ('?' + name) : '');
        }
        function del(name) {
          URLSearchParamsProto.delete.call(this, name);
          name = this.toString();
          search.set.call(this._usp, name ? ('?' + name) : '');
        }
        function set(name, value) {
          URLSearchParamsProto.set.call(this, name, value);
          name = this.toString();
          search.set.call(this._usp, name ? ('?' + name) : '');
        }
        return function (sp, value) {
          sp.append = append;
          sp.delete = del;
          sp.set = set;
          return dP(sp, '_usp', {
            configurable: true,
            writable: true,
            value: value
          });
        };
      },
      createSearchParamsCreate = function (polluteSearchParams) {
        return function (obj, sp) {
          dP(
            obj, '_searchParams', {
              configurable: true,
              writable: true,
              value: polluteSearchParams(sp, obj)
            }
          );
          return sp;
        };
      },
      updateSearchParams = function (sp) {
        var append = sp.append;
        sp.append = URLSearchParamsProto.append;
        URLSearchParams.call(sp, sp._usp.search.slice(1));
        sp.append = append;
      },
      verifySearchParams = function (obj, Class) {
        if (!(obj instanceof Class)) throw new TypeError(
          "'searchParams' accessed on an object that " +
          "does not implement interface " + Class.name
        );
      },
      upgradeClass = function (Class) {
        var
          ClassProto = Class.prototype,
          searchParams = gOPD(ClassProto, 'searchParams'),
          href = gOPD(ClassProto, 'href'),
          search = gOPD(ClassProto, 'search'),
          createSearchParams
        ;
        if (!searchParams && search && search.set) {
          createSearchParams = createSearchParamsCreate(
            createSearchParamsPollute(search)
          );
          Object.defineProperties(
            ClassProto,
            {
              href: {
                get: function () {
                  return href.get.call(this);
                },
                set: function (value) {
                  var sp = this._searchParams;
                  href.set.call(this, value);
                  if (sp) updateSearchParams(sp);
                }
              },
              search: {
                get: function () {
                  return search.get.call(this);
                },
                set: function (value) {
                  var sp = this._searchParams;
                  search.set.call(this, value);
                  if (sp) updateSearchParams(sp);
                }
              },
              searchParams: {
                get: function () {
                  verifySearchParams(this, Class);
                  return this._searchParams || createSearchParams(
                    this,
                    new URLSearchParams(this.search.slice(1))
                  );
                },
                set: function (sp) {
                  verifySearchParams(this, Class);
                  createSearchParams(this, sp);
                }
              }
            }
          );
        }
      }
    ;
    try {
      upgradeClass(HTMLAnchorElement);
      if (/^function|object$/.test(typeof URL) && URL.prototype)
        upgradeClass(URL);
    } catch (meh) {}
  }(Object));

}(esm_self.URLSearchParams.prototype, Object));
/* harmony default export */ const url_search_params_esm = (esm_self.URLSearchParams);

;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/urlFocusedId.tsx
function urlFocusedId_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function urlFocusedId_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { urlFocusedId_ownKeys(Object(source), true).forEach(function (key) { urlFocusedId_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { urlFocusedId_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function urlFocusedId_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


/**
 * TODO: There is currently a bug with the router facet (on the back-end) which
 * doesn't behave correctly with hash URL fragments, so we will enforce using
 * query strings until it is fixed
 */

const isHashBugFixed = false;
const useHashForFocusState = isHashBugFixed && "gameface" === 'gameface';
function getFocusedIdFromLocation(location, useHash = useHashForFocusState) {
  const params = new url_search_params_esm(useHash ? location.hash : location.search);
  const alias = params.get('alias');
  if (typeof alias === 'string' && alias.length !== 0) return alias;
  const nodeId = params.get('nodeId');
  if (nodeId == null) return undefined;
  return parseInt(nodeId, 10);
}

function parseUrlHashParams(hash) {
  return hash.substr(1).split('&').reduce((res, item) => {
    const parts = item.split('=');
    res.set(parts[0], parts[1]);
    return res;
  }, new Map());
}

function encodeUrlHashParams(hashParams) {
  return Array.from(hashParams.entries()).filter(item => item[1] != null).map(([key, value]) => `${key}=${value}`).join('&');
}

function getURLWithFocusedId(location, newFocusedId, useHash = useHashForFocusState) {
  const hashParams = parseUrlHashParams(location.hash);
  hashParams.delete('nodeId');
  hashParams.delete('alias');
  const searchParams = new url_search_params_esm(location.search);
  searchParams.delete('nodeId');
  searchParams.delete('alias');
  const params = useHash ? hashParams : searchParams;

  if (typeof newFocusedId === 'string') {
    params.set('alias', newFocusedId);
  } else if (typeof newFocusedId === 'number') {
    params.set('nodeId', newFocusedId.toString());
  }

  const hashString = encodeUrlHashParams(hashParams);
  const searchString = searchParams.toString();
  return urlFocusedId_objectSpread(urlFocusedId_objectSpread({}, location), {}, {
    search: searchString.length ? `?${searchString}` : '',
    hash: hashString.length ? `#${hashString}` : ''
  });
}
// EXTERNAL MODULE: ./node_modules/ramda/src/union.js
var union = __webpack_require__(275);
var union_default = /*#__PURE__*/__webpack_require__.n(union);
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/focusTree.tsx



function focusTree_getFreshTree() {
  return {
    focusableCount: 0,
    parentShortcutCount: 0,
    metadata: new Map(),
    focusableChildren: new Map(),
    containerChildren: new Map(),
    shortcutChildren: new Map(),
    parents: new Map(),
    aliases: new Map(),
    globalShortcuts: []
  };
}

function updateCount(focusTree, node, increment) {
  if (node.type === 'focusable') {
    focusTree.focusableCount += increment;
  }

  if (node.type === 'shortcut' && node.scope === 'parent') {
    focusTree.parentShortcutCount += increment;
  }
}

function hasInteractiveNode(focusTree) {
  return focusTree.focusableCount > 0 || focusTree.parentShortcutCount > 0 || focusTree.globalShortcuts.length > 0;
}
/**
 *
 * @returns true if was added
 */

function addOrUpdateNode(focusTree, node) {
  const previousNode = getNode(focusTree, node.id);

  if (previousNode) {
    if (node.type === 'focusable') {
      const originalAlias = focusTree_getAlias(focusTree, node.id);
      const newAlias = node.alias;

      if (originalAlias !== newAlias) {
        // remove old alias
        if (originalAlias != null) {
          focusTree.aliases.delete(originalAlias);
        } // new alias


        if (newAlias != null) {
          focusTree.aliases.set(newAlias, node.id);
        }
      }
    }

    focusTree.metadata.set(node.id, node);
    return false;
  } else {
    if (false) {}

    focusTree.metadata.set(node.id, node);
    updateCount(focusTree, node, 1);

    if (node.type === 'focusable' && node.alias != null) {
      focusTree.aliases.set(node.alias, node.id);
    }

    if (node.type === 'shortcut' && node.scope === 'global') {
      focusTree.globalShortcuts = union_default()([node.id], focusTree.globalShortcuts);
      return true;
    }

    node.path.forEach((id, index) => {
      const childrenGroup = index < node.path.length - 1 ? 'containerChildren' : node.type === 'focusable' ? 'focusableChildren' : node.type === 'shortcut' ? 'shortcutChildren' : 'containerChildren';
      const children = focusTree[childrenGroup].get(id) || [];
      const nextChild = index === node.path.length - 1 ? node.id : node.path[index + 1];
      focusTree[childrenGroup].set(id, union_default()(children, [nextChild]));
      focusTree.parents.set(nextChild, id);
    });
    return true;
  }
}

const logErrorOnDuplicatedAlias = (focusTree, alias) => {
  for (const entry of focusTree.metadata) {
    if (entry[1].type === 'focusable' && entry[1].alias === alias) {
      console.warn(`The gamepad focus alias ${alias} is duplicated. Duplicated aliases might causes issues with focus and gamepad navigation.`);
    }
  }
};

function removeNode(focusTree, nodeId) {
  const node = getNode(focusTree, nodeId);
  if (!node) return;
  updateCount(focusTree, node, -1);
  const parent = getParentId(focusTree, nodeId);

  if (node.type === 'focusable' && node.alias != null) {
    focusTree.aliases.delete(node.alias);
  }

  if (node.type === 'shortcut' && node.scope === 'global') {
    focusTree.globalShortcuts = without_default()([nodeId], focusTree.globalShortcuts);
  } else if (parent != null) {
    if (node.type === 'shortcut' && node.scope === 'parent') {
      const parentChildren = focusTree.shortcutChildren.get(parent);

      if (parentChildren) {
        focusTree.shortcutChildren.set(parent, without_default()([nodeId], parentChildren));
      }
    } else if (node.type === 'focusable') {
      const parentChildren = focusTree.focusableChildren.get(parent);

      if (parentChildren) {
        focusTree.focusableChildren.set(parent, without_default()([nodeId], parentChildren));
      }
    } else {
      const parentChildren = focusTree.containerChildren.get(parent);

      if (parentChildren) {
        focusTree.containerChildren.set(parent, without_default()([nodeId], parentChildren));
      }
    }
  }

  focusTree.parents.delete(nodeId);
  focusTree.metadata.delete(nodeId);
}
function focusTree_getAlias(focusTree, nodeId) {
  const focusable = getFocusable(focusTree, nodeId);
  if (focusable) return focusable.alias;
}
/**
 * Given a focusedId, it uses the alias information to find the NodeId of what should be considered focused
 */

function findNodeIdFromFocusedId(focusTree, focusedId) {
  if (focusedId == null) {
    return undefined;
  } // convert from an alias (if provided)


  const nodeId = typeof focusedId === 'string' ? focusTree.aliases.get(focusedId) : focusedId; // check if the node exists, and if it is enabled

  if (nodeId != null && focusTree_isNodeEnabled(focusTree, nodeId)) return nodeId;
  return undefined;
}
/**
 * Finds a fallback NodeId that can hold focus
 *
 * To be used when a provided focusedId doesn't resolve in a valid NodeID
 * which could cause the UI to be stuck.
 *
 * Having a fallback NodeId allows the user to navigate if something goes wrong
 */

function findFallbackNodeId(focusTree) {
  const anythingElse = find(focusTree.metadata, (node, id) => {
    return node.type === 'focusable' && focusTree_isNodeEnabled(focusTree, id);
  });

  if (anythingElse) {
    return anythingElse.id;
  }
}

function find(map, predicate) {
  for (const [key, value] of map) {
    if (predicate(value, key)) return value;
  }
}

function findClickableFocusableAtPoint(focusTree, x, y) {
  return findNode(focusTree, metadata => {
    if (metadata.type !== 'focusable' || metadata.disabled || !metadata.onClick || !metadata.ref || !metadata.ref.current) return false;
    const rect = metadata.ref.current.getBoundingClientRect();
    return x >= rect.left && x <= rect.left + rect.width && y >= rect.top && y <= rect.top + rect.height;
  });
}
function focusTree_isNodeEnabled(focusTree, nodeId) {
  const node = getNode(focusTree, nodeId);
  if (node == null) return false;
  if (node.disabled) return false;
  const ancestors = focusTree_getAncestorIds(focusTree, nodeId);

  for (let i = 0; i < ancestors.length; i++) {
    const node = getNode(focusTree, ancestors[i]);

    if (node == null || !!node.disabled) {
      return false;
    }
  }

  return true;
}
function getNode(focusTree, nodeId) {
  return focusTree.metadata.get(nodeId);
}
function getFocusable(focusTree, nodeId) {
  const node = getNode(focusTree, nodeId);

  if (node && node.type === 'focusable') {
    return node;
  }
}
const containerTypes = ['column', 'row'];
function isContainer(node) {
  return containerTypes.includes(node.type);
}
function focusTree_getShortcut(focusTree, nodeId) {
  const node = getNode(focusTree, nodeId);

  if (node && node.type === 'shortcut') {
    return node;
  }
}
function getParentId(focusTree, nodeId) {
  return focusTree.parents.get(nodeId);
}
function focusTree_getAncestorIds(focusTree, nodeId) {
  const parent = getParentId(focusTree, nodeId);

  if (parent == null) {
    return [];
  }

  return [parent, ...focusTree_getAncestorIds(focusTree, parent)];
}
function focusTree_getAncestorNodes(focusTree, nodeId) {
  return focusTree_getAncestorIds(focusTree, nodeId).map(id => getNode(focusTree, id)).filter(node => node != null);
}
function getChildrenIds(focusTree, nodeId) {
  return [...(focusTree.containerChildren.get(nodeId) || []), ...(focusTree.focusableChildren.get(nodeId) || [])];
}
function getLeafIds(focusTree, nodeId) {
  const children = getChildrenIds(focusTree, nodeId);
  if (children.length === 0) return [nodeId];
  return children.map(childId => getLeafIds(focusTree, childId)).reduce((leaves, all) => [...leaves, ...all], []);
}
function findNode(focusTree, predicate) {
  return find(focusTree.metadata, predicate);
}
/**
 * Find shortcuts as well as the current focused node
 * to be displayed as hints in the InputLegend.
 *
 * Note that the nodes without an inputLegend are not included in the output.
 */

function findInputLegends(focusTree, nodeId) {
  const focusable = nodeId != null ? getFocusable(focusTree, nodeId) : undefined;
  const result = {};

  for (const buttonType of types_INPUT_LEGEND_BUTTONS) {
    var _findInputLegendNode$, _findInputLegendNode;

    result[buttonType] = (_findInputLegendNode$ = (_findInputLegendNode = findInputLegendNode(focusTree, nodeId, buttonType)) === null || _findInputLegendNode === void 0 ? void 0 : _findInputLegendNode.inputLegend) !== null && _findInputLegendNode$ !== void 0 ? _findInputLegendNode$ : buttonType === ButtonType.A ? focusable === null || focusable === void 0 ? void 0 : focusable.inputLegend : undefined;
  }

  return result;
}
function findInputLegendNode(focusTree, nodeId, button) {
  const predicate = node => node.shortcut === button && node.inputLegend != null && !node.disabled;

  const shortcutId = findShortcutId(focusTree, nodeId, predicate);
  if (shortcutId == null) return;
  const shortcut = getNode(focusTree, shortcutId);
  if (shortcut == null || !('shortcut' in shortcut) || shortcut.inputLegend == null) return;
  return shortcut;
}
function findShortcut(focusTree, nodeId, button) {
  const predicate = node => node.shortcut === button && !node.disabled;

  const shortcutId = findShortcutId(focusTree, nodeId, predicate);
  if (shortcutId == null) return;
  const shortcut = getNode(focusTree, shortcutId);
  if (shortcut == null || !('shortcut' in shortcut)) return;
  return shortcut;
}
function findShortcutId(focusTree, nodeId, predicate) {
  const parentShortcutId = nodeId != null ? findParentShortcutId(focusTree, nodeId, predicate) : undefined;
  return parentShortcutId !== null && parentShortcutId !== void 0 ? parentShortcutId : findGlobalShortcutId(focusTree, predicate);
}

function findParentShortcutId(focusTree, nodeId, predicate) {
  const parentId = getParentId(focusTree, nodeId);
  if (parentId == null) return undefined;
  const shortcutChildren = focusTree.shortcutChildren.get(parentId);
  if (shortcutChildren == null) return findParentShortcutId(focusTree, parentId, predicate);
  const shortcutId = shortcutChildren.find(id => {
    const shortcut = focusTree_getShortcut(focusTree, id);
    return shortcut ? predicate(shortcut) : undefined;
  });
  return shortcutId != null ? shortcutId : findParentShortcutId(focusTree, parentId, predicate);
}

function findGlobalShortcutId(focusTree, predicate) {
  return focusTree.globalShortcuts.find(id => {
    const shortcut = getNode(focusTree, id);
    return shortcut != null ? predicate(shortcut) : undefined;
  });
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/GamepadProvider/hooks/useInputLegends.ts



/**
 * Hook that keeps the logic to re-calculate the "input legends" given the currently focused node
 *
 * Because the "input legends" can also change if the "focus tree" changes, this also keeps track lastKnownTreeUpdate
 */
function useInputLegends(providerState, focusedId, lastKnownTreeUpdate) {
  return (0,react_facet_src.useFacetMemo)(focusedId => {
    const focusedNodeId = findNodeIdFromFocusedId(providerState.focusTree, focusedId);
    return findInputLegends(providerState.focusTree, focusedNodeId);
  }, [providerState], // listen for the lastKnownTreeUpdate so we can recalculate the input legends when a component gets mounted, for example
  [focusedId, lastKnownTreeUpdate], equalInputLegends);
}
/**
 * Purposefully made comparison function done for performance reasons
 */

const equalInputLegends = () => {
  /**
   * We need to set the initial value as uninitialized otherwise the equalityCheck will prevent the
   * initial value of the input legends facet (everything with undefined) to be propagated.
   */
  let A = '---uninitialized---';
  let B = '---uninitialized---';
  let START = '---uninitialized---';
  let X = '---uninitialized---';
  let Y = '---uninitialized---';
  return current => {
    if (current.A === A && current.B === B && current.START === START && current.X === X && current.Y === Y) return true;
    A = current.A;
    B = current.B;
    START = current.START;
    X = current.X;
    Y = current.Y;
    return false;
  };
};
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/GamepadProvider/hooks/useInvokeCurrentCallback.ts


function useInvokeCurrentCallback(providerState, focusedId) {
  return (0,react_facet_src.useFacetCallback)(focusedId => actionButton => {
    const focusedNodeId = findNodeIdFromFocusedId(providerState.focusTree, focusedId);
    const node = findShortcut(providerState.focusTree, focusedNodeId, actionButton);
    node === null || node === void 0 ? void 0 : node.onClick();
  }, [providerState], [focusedId]);
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/navigate.tsx



function canNavigate(type, direction) {
  if (type === 'column' && (direction === 'right' || direction === 'left')) {
    return false;
  }

  if (type === 'row' && (direction === 'up' || direction === 'down')) {
    return false;
  }

  return true;
}

function isStartDirection(direction) {
  return direction === 'left' || direction === 'up' || direction === 'prev';
}

function getDirectionOffset(direction) {
  return isStartDirection(direction) ? -1 : 1;
}

function searchForNextNodeInDirection(currentNodeId, indexableChildren, direction) {
  const focusedIndex = findIndex_default()(node => node.id === currentNodeId, indexableChildren);

  const siblingIndex = focusedIndex + getDirectionOffset(direction);
  return indexableChildren[siblingIndex];
}

const searchForNextNodeByFocusChildBehavior = (parentId, focusState, focusTree, siblings, gridIndex, direction) => {
  const container = getNode(focusTree, parentId);
  const defaultFocusedChildBehavior = container.defaultFocusedChildBehavior;
  const defaultFocusedChildAlias = container.defaultFocusedChildAlias; // When the defaultFocusedChildBehavior is set to remember we're potentially
  // taking a shortcut to a focusable further down in the tree. We need to make
  // sure that the part of the tree that the focusable resides in haven't been
  // disabled since the last time we visited it.

  if (defaultFocusedChildBehavior === 'remember') {
    const cachedNodeId = focusState.get(parentId);

    if (cachedNodeId != null) {
      let isInDisabledBranch = false;
      let nextAncestorId = getParentId(focusTree, cachedNodeId);

      while (nextAncestorId != null && !isInDisabledBranch) {
        const parentNode = getNode(focusTree, nextAncestorId);
        isInDisabledBranch = !!(parentNode !== null && parentNode !== void 0 && parentNode.disabled);
        nextAncestorId = getParentId(focusTree, nextAncestorId);
      }

      if (!isInDisabledBranch) {
        return getNode(focusTree, cachedNodeId);
      }
    }
  }

  if (defaultFocusedChildAlias != null) {
    return siblings.find(sibling => sibling.type === 'focusable' && sibling.alias != null && sibling.alias !== '' && sibling.alias === defaultFocusedChildAlias);
  }

  if (defaultFocusedChildBehavior === 'grid') {
    return siblings.find(sibling => sibling.index === gridIndex);
  }

  if (defaultFocusedChildBehavior === 'last') {
    return siblings[siblings.length - 1];
  }

  if (defaultFocusedChildBehavior === 'first') {
    return siblings[0];
  } // If we didn't match any of the previous behavior, it means it should be sequential.
  // NOTE: The behavior "remember" will also use this as a fallback.


  const siblingIndex = isStartDirection(direction) ? siblings.length - 1 : 0;
  return siblings[siblingIndex];
};

function depthFirstSearch({
  focusTree,
  parentId,
  shouldFindDefaultFocusedChild,
  direction,
  currentNodeId,
  focusState,
  gridIndex,
  stack = [],
  visisted = {}
}) {
  var _nextItem, _nextItem$id, _nextItem3;

  // Get all the indexable nodes from the parent container and sort them based
  // on their sequential index.
  const indexableChildren = getChildrenIds(focusTree, parentId).map(id => getNode(focusTree, id)).filter(node => (node === null || node === void 0 ? void 0 : node.type) != 'shortcut' && !(node !== null && node !== void 0 && node.disabled)).sort((a, b) => a.index - b.index); // If we're searching based on focus child behavior it means that we've found
  // a branch in the correct direction to explore.

  let nextItem;

  if (shouldFindDefaultFocusedChild) {
    nextItem = searchForNextNodeByFocusChildBehavior(parentId, focusState, focusTree, indexableChildren, gridIndex, direction);
  }

  if (nextItem == null) {
    nextItem = searchForNextNodeInDirection(currentNodeId, indexableChildren, direction);
  } // If the nextItem is a focusable we've found what we were looking for and
  // can end the recursion.


  if (((_nextItem = nextItem) === null || _nextItem === void 0 ? void 0 : _nextItem.type) === 'focusable') {
    return nextItem.id;
  } // If the nextItem is a container we'll add its siblings to the stack of
  // nodes that we'll potentially have to explore.


  if (nextItem != null && isContainer(nextItem)) {
    var _getChildrenIds$filte, _getChildrenIds;

    const nextItemSiblings = (_getChildrenIds$filte = (_getChildrenIds = getChildrenIds(focusTree, parentId)) === null || _getChildrenIds === void 0 ? void 0 : _getChildrenIds.filter(id => {
      var _nextItem2;

      return id != ((_nextItem2 = nextItem) === null || _nextItem2 === void 0 ? void 0 : _nextItem2.id);
    })) !== null && _getChildrenIds$filte !== void 0 ? _getChildrenIds$filte : [];
    stack.push(...nextItemSiblings);
  } // All the children (if there were any) are now in the stack. Therefore,
  // we'll mark this branch as having been visisted.


  visisted[parentId] = true; // If the nextItem is a container we'll drill down. If it's undefined we'll
  // pick the next branch to explore from the stack of nodes.

  const nextBranchToSearch = (_nextItem$id = (_nextItem3 = nextItem) === null || _nextItem3 === void 0 ? void 0 : _nextItem3.id) !== null && _nextItem$id !== void 0 ? _nextItem$id : stack.filter(id => !visisted[id]).pop();
  return nextBranchToSearch != null ? depthFirstSearch({
    focusTree,
    parentId: nextBranchToSearch,
    shouldFindDefaultFocusedChild: true,
    direction,
    currentNodeId,
    focusState,
    gridIndex,
    stack,
    visisted
  }) : undefined;
}

function navigateToDirection(focusTree, nodeId, focusState, direction) {
  // This gets the path all the way down to the node we're currently focused on.
  const ancestryPath = [nodeId, ...focusTree_getAncestorIds(focusTree, nodeId)]; // This gets the sequential index of the currently focused node within its container.

  const sequentialIndex = getNode(focusTree, nodeId).index;
  let nextNodeToFocus; // We'll walk up the ancestryPath to try and find the next focusable to move
  // to. We don't have to explore the root node because it won't have a parent
  // or siblings (hence the "< length - 1").

  for (let i = 0; i < ancestryPath.length - 1; i++) {
    const currentId = ancestryPath[i];
    const currentNode = getNode(focusTree, currentId); // Bounded means that the focus is trapped within a certain container. It
    // could, for example, be a modal and we don't want the user to be able to
    // move the focus outside of it.

    if (isContainer(currentNode) && !!currentNode.bounded) {
      break;
    }

    const parentId = ancestryPath[i + 1];
    const parentNode = getNode(focusTree, parentId); // Lets say our closest parent is a row inside of a column. If we press
    // down our nearest parent (the row) wont be able to find a focusable in
    // that direction - rows only supports left/right movement. Therefore,
    // we'll continue the loop. In the next iteration the parentNode will be
    // the column (our parents parent) and we'll get to explore that node to
    // see if our closest parent had any siblings below.

    if (!canNavigate(parentNode.type, direction)) {
      continue;
    } // If we reach this point it means that we've found an ancestor that
    // supports navigation in the direction we want (and the focus isn't
    // bound). We can then explore this ancestor to try and find the next node
    // to focus.


    nextNodeToFocus = depthFirstSearch({
      focusTree,
      parentId,
      // The first node in the *ancestryPath* is the focusable we're currently
      // standing on. Let's say it's node B in the example below.
      //            +-------+  +-------+  +-------+
      // ROW1 ----->|   A   |  |   B   |  |   C   |
      //            +-------+  +-------+  +-------+
      //            +-------+  +-------+
      // ROW2 ----->|   D   |  |   E   |
      //            +-------+  +-------+
      // We'll never want to find the defaultFocusChild for ROW1 (which is the
      // first ancestor of node B). We want the next node in the correct
      // direction. Now let's say that we pressed UP. Rows does not support
      // navigation in that direction so we'll have to climb up the tree until
      // we find an ancestor of type *column*. When we've found that ancestor
      // we don't want to find it's default focus child either. What if its set
      // to last? In that case we could end up at a focusable below us even
      // though we pressed UP. We'll always do direction based navigation
      // first. When we have chosen a node in the correct direction -- and that
      // node is a container -- we'll drill down further by performing
      // recursive calls in the *depthFirstSearch* function where we take the
      // default focus child behavior into consideration.
      shouldFindDefaultFocusedChild: false,
      direction,
      currentNodeId: currentId,
      focusState,
      gridIndex: sequentialIndex,
      // The property below looks a little strange. You usually don't have to
      // keep track of any visisted nodes while traversing trees. Instead, it's
      // a common way to avoid infinite loops while doing DFS or BFS in a
      // cyclical graph. In this case it's needed though because we're
      // traversing the tree bottoms up, and then drilling down using a DFS.
      visisted: {
        [currentId]: true
      },
      stack: []
    });

    if (nextNodeToFocus != null) {
      return nextNodeToFocus;
    }
  } // If we weren't able to find a node to focus we're probably trying to move
  // outside the bounds of a container. In that case we want to keep the focus
  // where it is.


  return nodeId;
} // This function is used by scroll views where we have a loading state and want
// to autofocus something once the loading is completed. We'll then drill down
// into that scroll view to find the first focusable.

function findFirstFocusableChildNode(id, focusTree, focusState) {
  const parentId = getParentId(focusTree, id);
  const gridIndex = getNode(focusTree, id).index;

  if (parentId == null) {
    return;
  }

  const currentNodeId = depthFirstSearch({
    focusTree,
    parentId,
    shouldFindDefaultFocusedChild: true,
    direction: 'next',
    currentNodeId: id,
    focusState,
    gridIndex
  });
  return currentNodeId;
}
;// CONCATENATED MODULE: ./node_modules/d3-ease/src/cubic.js
function cubicIn(t) {
  return t * t * t;
}

function cubicOut(t) {
  return --t * t * t + 1;
}

function cubicInOut(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}

;// CONCATENATED MODULE: ./packages/scrolling-animation/src/index.ts

const ease = cubicOut;
function createScrollingManager({
  disabledTransition = false,
  speedFactor = 1,
  align = 'center',
  scrollOffset = 0,
  axis = 'y'
} = {}) {
  let currentElement;
  let currentScrollElement;
  let initialScrollPosition;
  let deltaPixels;
  let animationStart;
  const animationDuration = 500 / speedFactor;

  const animate = () => {
    if (!currentScrollElement) return;
    const currentTime = Date.now() - animationStart;
    const t = currentTime / animationDuration;
    const shouldStop = currentTime > animationDuration || disabledTransition;
    currentScrollElement[axis === 'x' ? 'scrollLeft' : 'scrollTop'] = Math.round(initialScrollPosition + ease(shouldStop ? 1 : t) * deltaPixels);
    if (shouldStop) return;
    window.requestAnimationFrame(animate);
  };

  return {
    scrollIntoView(scrollElement, element) {
      currentScrollElement = scrollElement;
      currentElement = element;
      const scrollElementRect = currentScrollElement.getBoundingClientRect();
      const scrollSize = scrollElementRect[axis === 'x' ? 'width' : 'height'];
      const rect = currentElement.getBoundingClientRect();
      const padding = align === 'center' ? scrollSize / 2 : 0;
      deltaPixels = (axis === 'x' ? rect.left : rect.top) - (axis === 'x' ? scrollElementRect.left : scrollElementRect.top) + (align === 'center' ? rect[axis === 'x' ? 'width' : 'height'] / 2 : 0) - padding + scrollOffset;
      initialScrollPosition = currentScrollElement[axis === 'x' ? 'scrollLeft' : 'scrollTop'];
      animationStart = Date.now();

      if (Math.abs(deltaPixels) < 5) {
        // animation would be too small, just ignore
        return;
      }

      window.requestAnimationFrame(animate);
    },

    scrollTo(scrollElement, scrollValue) {
      currentScrollElement = scrollElement;
      initialScrollPosition = currentScrollElement[axis === 'x' ? 'scrollLeft' : 'scrollTop'];
      deltaPixels = scrollValue - initialScrollPosition;
      animationStart = Date.now();
      window.requestAnimationFrame(animate);
    },

    stopScrolling() {
      currentScrollElement = null;
      currentElement = null;
    }

  };
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/setupScrollIntoView.tsx


/**
 * Setups the scrollIntoView function
 * It keeps a local state of previous running animations so that it cancel between scroll requests
 */
function setupScrollIntoView() {
  const runningAnimations = new Map();
  /**
   * Implementation that takes a list with a focusable and its ancestors and triggers animations
   * It supports:
   * - multiple levels of nesting (column inside a row, for example)
   * - animations to continue when switching between different sections of the focus tree
   *
   * Returns a cleanup function that can be used to stop all previously running animations
   */

  return (focusable, ancestors, disabledTransition) => {
    ancestors.forEach(containerNode => {
      var _ref, _focusable$scrollSpee, _container$scrollInto, _focusable$scrollOffs;

      const container = containerNode;

      if (!container.scrollIntoView || focusable.disableScrollIntoView) {
        return;
      }

      if (!focusable.ref || !focusable.ref.current) {
        if (false) {}

        return;
      }

      if (!container.ref || !container.ref.current) {
        if (false) {}

        return;
      }

      const existingStop = runningAnimations.get(container.id);

      if (existingStop) {
        existingStop();
        runningAnimations.delete(container.id);
      }

      const {
        scrollIntoView,
        stopScrolling
      } = createScrollingManager({
        disabledTransition,
        speedFactor: (_ref = (_focusable$scrollSpee = focusable.scrollSpeedFactor) !== null && _focusable$scrollSpee !== void 0 ? _focusable$scrollSpee : container.scrollIntoViewSpeedFactor) !== null && _ref !== void 0 ? _ref : 1,
        align: (focusable.scrollAlign ? focusable.scrollAlign : container.scrollIntoViewAlign) || 'center',
        scrollOffset: ((_container$scrollInto = container.scrollIntoViewOffset) !== null && _container$scrollInto !== void 0 ? _container$scrollInto : 0) + ((_focusable$scrollOffs = focusable.scrollOffset) !== null && _focusable$scrollOffs !== void 0 ? _focusable$scrollOffs : 0),
        axis: container.type === 'row' ? 'x' : 'y'
      });
      scrollIntoView(container.ref.current, focusable.ref.current);
      runningAnimations.set(container.id, stopScrolling);
    });
    /**
     * Cleanup function that stops all running animations
     */

    return () => {
      for (const stopScrolling of runningAnimations.values()) {
        stopScrolling();
      }

      runningAnimations.clear();
    };
  };
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/GamepadProvider/hooks/useInput.ts






const scrollIntoView = setupScrollIntoView();
/**
 * Hook that listens for user input (gamepad and keyboard) to trigger navigation and other events
 */

function useInput(providerState, focusedId, controllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons, disabledTransition, keyboardGamepadMap, driver) {
  const [isInputEnabled, setInputEnabled] = (0,react.useState)(false);
  const focusedIdRef = (0,react_facet_src.useFacetRef)(focusedId);
  const disabledNavigationRef = (0,react_facet_src.useFacetRef)(providerState.disabledNavigation);
  const ANALOG_SCROLL_MAX_SPEED = 20;
  const cancelScrollRef = (0,react.useRef)(undefined);
  (0,react_facet_src.useFacetEffect)((focusedId, disabledNavigation) => {
    if (disabledNavigation) return;
    if (focusedId == null) return;
    const focusedNodeId = findNodeIdFromFocusedId(providerState.focusTree, focusedId);
    if (focusedNodeId == null) return;
    const focusable = getFocusable(providerState.focusTree, focusedNodeId);
    if (!focusable) return;
    const ancestors = focusTree_getAncestorNodes(providerState.focusTree, focusedNodeId);
    cancelScrollRef.current = scrollIntoView(focusable, ancestors, disabledTransition);
  }, [providerState, disabledTransition], [focusedId, providerState.disabledNavigation]);
  (0,react.useLayoutEffect)(() => {
    const handleClick = () => {
      if (disabledNavigationRef.current === true) return;
      const focusedNodeId = findNodeIdFromFocusedId(providerState.focusTree, focusedIdRef.current === react_facet_src.NO_VALUE ? undefined : focusedIdRef.current);
      if (focusedNodeId == null) return;
      const focusable = getFocusable(providerState.focusTree, focusedNodeId);

      if (focusable != null && focusable.onClick) {
        focusable.onClick();
      }
    };

    const handleShortcut = (button, focusedNodeId) => {
      // TODO unify this and the useInvokeCurrentCallback
      // if (providerState.disabledShortcuts) return fals
      const shortcut = findShortcut(providerState.focusTree, focusedNodeId, button);

      if ((shortcut === null || shortcut === void 0 ? void 0 : shortcut.onClick) != null) {
        shortcut.onClick();
        return true;
      }

      return false;
    };

    const handleDirection = (direction, focusedNodeId) => {
      var _getAlias2;

      if (providerState.isRtl) {
        if (direction === 'left') {
          direction = 'right';
        } else if (direction === 'right') {
          direction = 'left';
        }
      }

      if (disabledNavigationRef.current === true) return; // If the provided focusedId didn't resolve into any Node, we need to try to find
      // a fallback nodeId so that the UI doesn't get stuck

      if (focusedNodeId == null) {
        var _getAlias;

        const fallbackNodeId = findFallbackNodeId(providerState.focusTree);
        const fallbackAliasOrNodeId = fallbackNodeId != null ? (_getAlias = focusTree_getAlias(providerState.focusTree, fallbackNodeId)) !== null && _getAlias !== void 0 ? _getAlias : fallbackNodeId : undefined;

        if (fallbackAliasOrNodeId != null) {
          providerState.onFocusedIdChange(fallbackAliasOrNodeId);
        }

        return;
      }

      const focusedNode = getFocusable(providerState.focusTree, focusedNodeId);

      if (focusedNode) {
        switch (direction) {
          case 'left':
            if (focusedNode.onLeft) {
              if (focusedNode.onLeft()) return;
            }

            break;

          case 'right':
            if (focusedNode.onRight) {
              if (focusedNode.onRight()) return;
            }

            break;

          case 'up':
            if (focusedNode.onUp) {
              if (focusedNode.onUp()) return;
            }

            break;

          case 'down':
            if (focusedNode.onDown) {
              if (focusedNode.onDown()) return;
            }

        }
      }

      const newFocusedId = navigateToDirection(providerState.focusTree, focusedNodeId, providerState.focusState, direction);
      const newAliasOrNodeId = (_getAlias2 = focusTree_getAlias(providerState.focusTree, newFocusedId)) !== null && _getAlias2 !== void 0 ? _getAlias2 : newFocusedId;

      if (focusedIdRef.current !== newAliasOrNodeId) {
        providerState.onFocusedIdChange(newAliasOrNodeId);
      } else {
        var _providerState$onFocu;

        (_providerState$onFocu = providerState.onFocusedIdChangeFail) === null || _providerState$onFocu === void 0 ? void 0 : _providerState$onFocu.call(providerState);
      }
    };

    const handleAnalog = axes => {
      if (disabledNavigationRef.current === true) return;
      providerState.analogListeners.forEach(analogListener => analogListener(axes));
      if (focusedIdRef.current == react_facet_src.NO_VALUE || focusedIdRef.current == null) return;
      const verticalValue = axes[ButtonType.RIGHT_VERTICAL_AXIS];
      const horizontalValue = axes[ButtonType.RIGHT_HORIZONTAL_AXIS];
      if (verticalValue === 0 && horizontalValue === 0) return;
      const focusedNodeId = findNodeIdFromFocusedId(providerState.focusTree, focusedIdRef.current);
      if (focusedNodeId == null) return;
      const nodes = focusTree_getAncestorNodes(providerState.focusTree, focusedNodeId);
      const parents = nodes.filter(node => node.scrollWithAnalog);
      if (parents.length === 0) return;
      if (cancelScrollRef.current) cancelScrollRef.current();
      parents.forEach(parent => {
        const value = parent.type === 'row' ? horizontalValue : verticalValue;
        const scrollProperty = parent.type === 'row' ? 'scrollLeft' : 'scrollTop';
        if (!parent.ref || !parent.ref.current) return;
        parent.ref.current[scrollProperty] += value * ANALOG_SCROLL_MAX_SPEED;
      });
    };

    const handleDigital = button => {
      providerState.digitalListeners.forEach(digitalListener => digitalListener(button));
      const focusedNodeId = findNodeIdFromFocusedId(providerState.focusTree, focusedIdRef.current === react_facet_src.NO_VALUE ? undefined : focusedIdRef.current);
      if (handleShortcut(button, focusedNodeId)) return;

      switch (button) {
        case ButtonType.A:
          return handleClick();

        case ButtonType.LEFT_ANALOG_UP:
        case ButtonType.UP:
          return handleDirection('up', focusedNodeId);

        case ButtonType.LEFT_ANALOG_DOWN:
        case ButtonType.DOWN:
          return handleDirection('down', focusedNodeId);

        case ButtonType.LEFT_ANALOG_LEFT:
        case ButtonType.LEFT:
          return handleDirection('left', focusedNodeId);

        case ButtonType.LEFT_ANALOG_RIGHT:
        case ButtonType.RIGHT:
          return handleDirection('right', focusedNodeId);

        case ButtonType.NEXT:
          return handleDirection('next', focusedNodeId);

        case ButtonType.PREV:
          return handleDirection('prev', focusedNodeId);
      }
    };

    return isInputEnabled ? driver(handleDigital, handleAnalog, controllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons, keyboardGamepadMap) : undefined;
  }, [isInputEnabled, providerState, controllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons, keyboardGamepadMap, focusedIdRef, disabledNavigationRef, driver]);
  return setInputEnabled;
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/GamepadProvider/hooks/useRerenderNodes.ts




/**
 * Allows us to notify specific nodes in the tree to change their focus state
 * without using a value in a React's context API (which would cause everything to re-render).
 */
function useRerenderNodes(providerState, newFocusedId) {
  const previousNodeIdRef = (0,react.useRef)();
  const previousFocusedIdRef = (0,react.useRef)();
  (0,react_facet_src.useFacetEffect)(newFocusedId => {
    /**
     * Delays checking re-rendering nodes until the end of the current frame so that React has time to apply reconciliation changes
     * before this Facet effect gets executed.
     */
    const timerId = setTimeout(() => {
      // Get previous values
      const previousFocusedId = previousFocusedIdRef.current;
      const previousNodeId = previousNodeIdRef.current;
      const focusTree = providerState.focusTree;
      const refreshedPreviousNodeId = findNodeIdFromFocusedId(focusTree, previousFocusedId);
      const refreshedPreviousNode = refreshedPreviousNodeId != null ? getFocusable(focusTree, refreshedPreviousNodeId) : null;

      if (previousNodeId !== refreshedPreviousNodeId) {
        const previousNode = previousNodeId != null ? getFocusable(focusTree, previousNodeId) : null;

        if (previousNode) {
          previousNode.onFocusedChange(false);
        }
      }

      const newNodeId = findNodeIdFromFocusedId(focusTree, newFocusedId);
      const newNode = newNodeId != null ? getFocusable(focusTree, newNodeId) : null;

      if (refreshedPreviousNode && refreshedPreviousNode !== newNode) {
        refreshedPreviousNode.onFocusedChange(false);
      }

      if (newNode) {
        newNode.onFocusedChange(true);
      } // Store current values as the next previous values


      previousFocusedIdRef.current = newFocusedId;
      previousNodeIdRef.current = newNodeId;
    }, 0);
    return () => {
      clearTimeout(timerId);
    };
  }, [providerState], [newFocusedId]);
}
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/GamepadProvider/hooks/useApi.ts





/**
 * Hook that setups the API passed down to React components that construct the focus tree (focusable, row, column, shortcut)
 */
function useApi(providerState, setInputEnabled, focusedId, setLastKnownTreeUpdate) {
  const focusedIdRef = (0,react_facet_src.useFacetRef)(focusedId);
  /**
   * Debounce to batch a bunch of updates in a single timestamp.
   */

  const debounceSetLastKnownTreeUpdate = (0,react.useMemo)(() => debounce(setLastKnownTreeUpdate), [setLastKnownTreeUpdate]);
  return (0,react.useMemo)(() => {
    const updateInputEnabled = () => {
      setInputEnabled(hasInteractiveNode(providerState.focusTree));
    };

    return {
      // The force flag is used when we move focus with VR
      requestFocus(nodeId, force = false) {
        const alias = focusTree_getAlias(providerState.focusTree, nodeId);

        if (force || alias !== focusedIdRef.current) {
          providerState.onFocusedIdChange(alias !== null && alias !== void 0 ? alias : nodeId);
        }
      },

      requestAutofocus(nodeId) {
        const isFocusedIdSet = typeof focusedIdRef.current === 'number' || typeof focusedIdRef.current === 'string';
        const focusedIdNodeId = isFocusedIdSet ? findNodeIdFromFocusedId(providerState.focusTree, focusedIdRef.current) : null; // Don't trigger autofocus if something is already focused

        if (focusedIdNodeId != null && focusTree_isNodeEnabled(providerState.focusTree, focusedIdNodeId)) return; // Don't focus the given node if it isn't enabled

        if (!focusTree_isNodeEnabled(providerState.focusTree, nodeId)) return;
        const alias = focusTree_getAlias(providerState.focusTree, nodeId);

        if (alias != null && alias !== focusedIdRef.current || nodeId !== focusedIdRef.current) {
          providerState.onFocusedIdChange(alias !== null && alias !== void 0 ? alias : nodeId);
        }
      },

      runAddNodeEffect() {
        updateInputEnabled();
      },

      addOrUpdateNode(metadata) {
        addOrUpdateNode(providerState.focusTree, metadata);
        debounceSetLastKnownTreeUpdate(Date.now());
      },

      removeNode(nodeId) {
        removeNode(providerState.focusTree, nodeId);
        updateInputEnabled();
      },

      isFocusableFocused(nodeId, alias) {
        return nodeId === focusedIdRef.current || alias != null && alias === focusedIdRef.current;
      },

      addAnalogListener: analogListener => {
        providerState.analogListeners = [...providerState.analogListeners, analogListener];
        return () => {
          providerState.analogListeners = without_default()([analogListener], providerState.analogListeners);
        };
      },
      addDigitalListener: digitalListener => {
        providerState.digitalListeners = [...providerState.digitalListeners, digitalListener];
        return () => {
          providerState.digitalListeners = without_default()([digitalListener], providerState.digitalListeners);
        };
      },
      clickFocusableAtPoint: (x, y) => {
        const focusable = findClickableFocusableAtPoint(providerState.focusTree, x, y);

        if (focusable && focusable.onClick) {
          focusable.onClick();
        }
      },
      focusFocusableAtPoint: (x, y) => {
        const focusable = findClickableFocusableAtPoint(providerState.focusTree, x, y);
        const {
          onFocusedIdChange
        } = providerState;
        const focusedId = focusedIdRef.current; // If the focus has changed, a clickable focusable has been found, and there is nothing currently focused
        // _or_ the clickable focusable is different then the currently focused node
        // --> Give focus to the clickable focusable
        // If the focus has changed, a node was previously focused and there was no clickable focusable found
        // --> Give focus to undefined (meaning a sane default)

        if (focusable && (focusedId == null || !(focusable.id === focusedId || focusable.alias === focusedId))) {
          var _focusable$alias;

          onFocusedIdChange((_focusable$alias = focusable.alias) !== null && _focusable$alias !== void 0 ? _focusable$alias : focusable.id);
        } else if (!focusable && focusedId != null) {
          onFocusedIdChange(undefined);
        }
      },
      getCurrentFocusable: () => {
        if (focusedIdRef.current === react_facet_src.NO_VALUE) {
          return undefined;
        }

        const nodeId = findNodeIdFromFocusedId(providerState.focusTree, focusedIdRef.current);

        if (nodeId == null) {
          return undefined;
        }

        return getFocusable(providerState.focusTree, nodeId);
      }
    };
  }, [focusedIdRef, providerState, setInputEnabled, debounceSetLastKnownTreeUpdate]);
}
/**
 * Simple debounce function that works just for numbers.
 */

const debounce = (fn, timeout = 100) => {
  let id;
  return value => {
    clearTimeout(id);
    id = setTimeout(() => fn(value), timeout);
  };
};
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/GamepadProvider/hooks/useUpdateFocusState.ts



/**
 * It takes the parent of the current focused node, and updates the information in the focusState that it is now focused.
 */
function useUpdateFocusState(providerState, focusedId) {
  (0,react_facet_src.useFacetEffect)(focusedId => {
    const focusTree = providerState.focusTree;
    const focusState = providerState.focusState;
    const focusedNodeId = findNodeIdFromFocusedId(focusTree, focusedId);
    if (focusedNodeId == null) return;
    let currentParentId = getParentId(focusTree, focusedNodeId);

    while (currentParentId != null) {
      focusState.set(currentParentId, focusedNodeId);
      currentParentId = getParentId(focusTree, currentParentId);
    }
  }, [providerState], [focusedId]);
}
;// CONCATENATED MODULE: ./packages/gamepad-polyfill/src/index.ts
const getGamepadsPolyfill = () => {
  if (navigator == null) {
    return [];
  }

  const navigatorGamepads = navigator.getGamepads();

  if (Array.isArray(navigatorGamepads)) {
    return navigatorGamepads;
  }

  return Array.from(navigatorGamepads);
};

const isFirefox = () => {
  var _navigator$userAgent$, _navigator, _navigator$userAgent;

  return  false && 0;
};

let gamepads = [];
const getGamepads = () => {
  if (false) {}

  return gamepads;
};
/* navigator.getGamepads() is a relatively expensive call and should be avoided to be called each frame.
 * The ideal solution is to always use the gamepadconnected and gamepaddisconnected events to update the gamepad list.
 * However, Chrome behaves differently than other environments (eg. Gameface and Firefox) and doesn't update the
 * reference to the gamepad that is passed to the gamepadconnected and gamepaddisconnected events on each frame.
 * That is the reason why we fallback to polling for all environments that except Gameface and Firefox
 *
 * Read this for more info regarding how Chrome behaves differently:
 * https://developer.mozilla.org/en-US/docs/Web/API/Gamepad_API/Using_the_Gamepad_API#using_button_information
 */

const src_noop = () => undefined;

let cleanupHandler = src_noop;

const cleanup = () => {
  gamepads = [];
  cleanupHandler();
  cleanupHandler = src_noop;
};

const initialize = () => {
  if (isInitialized()) return cleanup;

  if (true) {
    if (true) {
      // Get initial state of gamepads. We don't want to make this call when running tests since the
      // navigator.getGamepads API is not available in that environment.
      gamepads = getGamepadsPolyfill();
    }

    const handleGamepadConnected = event => {
      if (event.gamepad.index >= gamepads.length) {
        const updatedGamepads = [...gamepads];
        const inBetweenIndexCount = gamepads.length - event.gamepad.index;

        for (let i = 0; i < inBetweenIndexCount; i++) {
          updatedGamepads.push(null);
        }

        updatedGamepads.push(event.gamepad);
        gamepads = updatedGamepads;
      } else if (event.gamepad.index >= 0) {
        const updatedGamepads = [...gamepads];
        updatedGamepads[event.gamepad.index] = event.gamepad;
        gamepads = updatedGamepads;
      }
    };

    const handleGamepadDisconnected = event => {
      if (gamepads.length - 1 >= event.gamepad.index) {
        const updatedGamepads = [...gamepads];
        updatedGamepads[event.gamepad.index] = null;
        gamepads = updatedGamepads;
      }
    };

    window.addEventListener('gamepadconnected', handleGamepadConnected);
    window.addEventListener('gamepaddisconnected', handleGamepadDisconnected);

    cleanupHandler = () => {
      window.removeEventListener('gamepadconnected', handleGamepadConnected);
      window.removeEventListener('gamepaddisconnected', handleGamepadDisconnected);
    };
  } else {}

  return cleanup;
};
const isInitialized = () => cleanupHandler !== src_noop;
;// CONCATENATED MODULE: ./packages/react-gamepad-driver/src/throttleByName.ts

const FIRST_THROTTLE_DELAY = 400;
const MEDIUM_THROTTLE_RATE = 100;
const FAST_THROTTLE_RATE = 40;
/**
 * How many presses we should have triggered before going to fast speed
 */

const FAST_REPETITION_COUNT_WAIT = 16;
function throttleByName(fn) {
  const timestamps = initMetrics();
  const pressCounts = initMetrics(); // @TODO: Rewrite without gamepadIndex

  return (buttonType, pressed, gamepadIndex) => {
    if (!pressed) {
      timestamps[gamepadIndex][buttonType] = 0;
      pressCounts[gamepadIndex][buttonType] = 0;
    } else {
      const now = Date.now();
      const timestamp = timestamps[gamepadIndex][buttonType] || 0;
      const pressCount = pressCounts[gamepadIndex][buttonType] || 0;
      const delta = now - timestamp;

      if (pressCount === 0) {
        timestamps[gamepadIndex][buttonType] = now;
        pressCounts[gamepadIndex][buttonType] = 1;
        return fn(buttonType);
      }

      if (pressCount === 1 && delta > FIRST_THROTTLE_DELAY) {
        timestamps[gamepadIndex][buttonType] = now;
        pressCounts[gamepadIndex][buttonType] = 2;
        return fn(buttonType);
      }

      if (pressCount > 1 && pressCount < FAST_REPETITION_COUNT_WAIT && delta > MEDIUM_THROTTLE_RATE) {
        timestamps[gamepadIndex][buttonType] = now;
        pressCounts[gamepadIndex][buttonType] = pressCount + 1;
        return fn(buttonType);
      }

      if (pressCount > FAST_REPETITION_COUNT_WAIT - 1 && delta > FAST_THROTTLE_RATE) {
        timestamps[gamepadIndex][buttonType] = now;
        pressCounts[gamepadIndex][buttonType] = pressCount + 1;
        return fn(buttonType);
      }
    }
  };
}

const initMetrics = () => {
  const metrics = {
    0: initButtons(),
    1: initButtons(),
    2: initButtons(),
    3: initButtons()
  };
  return metrics;
};

const initButtons = () => {
  return {
    [types_ButtonType.A]: 0,
    [types_ButtonType.B]: 0,
    [types_ButtonType.X]: 0,
    [types_ButtonType.Y]: 0,
    [types_ButtonType.START]: 0,
    [types_ButtonType.SELECT]: 0,
    [types_ButtonType.XBOX]: 0,
    [types_ButtonType.RIGHT_TRIGGER]: 0,
    [types_ButtonType.LEFT_TRIGGER]: 0,
    [types_ButtonType.LEFT_BUMPER]: 0,
    [types_ButtonType.RIGHT_BUMPER]: 0,
    [types_ButtonType.L3]: 0,
    [types_ButtonType.R3]: 0,
    [types_ButtonType.LEFT]: 0,
    [types_ButtonType.RIGHT]: 0,
    [types_ButtonType.UP]: 0,
    [types_ButtonType.DOWN]: 0,
    [types_ButtonType.NEXT]: 0,
    [types_ButtonType.PREV]: 0,
    [types_ButtonType.LEFT_ANALOG_LEFT]: 0,
    [types_ButtonType.LEFT_ANALOG_RIGHT]: 0,
    [types_ButtonType.LEFT_ANALOG_UP]: 0,
    [types_ButtonType.LEFT_ANALOG_DOWN]: 0,
    [types_ButtonType.RIGHT_ANALOG_LEFT]: 0,
    [types_ButtonType.RIGHT_ANALOG_RIGHT]: 0,
    [types_ButtonType.RIGHT_ANALOG_UP]: 0,
    [types_ButtonType.RIGHT_ANALOG_DOWN]: 0,
    [types_ButtonType.LEFT_HORIZONTAL_AXIS]: 0,
    [types_ButtonType.LEFT_VERTICAL_AXIS]: 0,
    [types_ButtonType.RIGHT_HORIZONTAL_AXIS]: 0,
    [types_ButtonType.RIGHT_VERTICAL_AXIS]: 0,
    [types_ButtonType.PSEUDO_BUTTON_1]: 0,
    [types_ButtonType.PSEUDO_BUTTON_2]: 0,
    [types_ButtonType.PSEUDO_BUTTON_3]: 0,
    [types_ButtonType.PSEUDO_BUTTON_4]: 0,
    [types_ButtonType.PSEUDO_BUTTON_5]: 0,
    [types_ButtonType.PSEUDO_BUTTON_6]: 0,
    [types_ButtonType.PSEUDO_BUTTON_7]: 0,
    [types_ButtonType.PSEUDO_BUTTON_8]: 0,
    [types_ButtonType.PSEUDO_BUTTON_9]: 0,
    [types_ButtonType.PSEUDO_BUTTON_10]: 0
  };
};
;// CONCATENATED MODULE: ./packages/react-gamepad-driver/src/setupGamepads.ts



/**
 * Setup pooling for the gamepad button states.
 *
 * This code is extremely performance sensitive, so be mindful of any changes and measure the performance
 * on a performance sensitive device (ex: Xbox One)
 */

function setupGamepads(handleDigitalInput, handleAnalogInput, controllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons) {
  const throttledCb = throttleByName(handleDigitalInput);
  const toggleCb = toggleByName(handleDigitalInput);
  const actionButtonsIndex = types_ACTION_BUTTONS.map(name => types_BUTTON_MAP.indexOf(name));
  const mappedActionButtonsIndex = types_ACTION_BUTTONS.map(name => types_BUTTON_MAP.indexOf(mapButton(name, swapABButtons, swapXYButtons)));
  const directionalButtonsIndex = types_DIRECTIONAL_BUTTONS.map(name => types_BUTTON_MAP.indexOf(name));
  /**
   * Check an individual gamepad for its presses states and axes values and fire the
   * throttled or toggles callbacks
   */

  function checkGamepad(gamepad) {
    const buttons = gamepad.buttons;
    const gamepadIndex = gamepad.index;

    for (let index = 0; index < actionButtonsIndex.length; index++) {
      toggleCb(types_BUTTON_MAP[mappedActionButtonsIndex[index]], buttons[actionButtonsIndex[index]].pressed, gamepadIndex);
    }

    for (let index = 0; index < directionalButtonsIndex.length; index++) {
      const buttonIndex = directionalButtonsIndex[index];
      throttledCb(types_BUTTON_MAP[buttonIndex], buttons[buttonIndex].pressed, gamepadIndex);
    }

    const axes = gamepad.axes.map((value, index) => {
      if (value > -0.16 && value < 0.16) {
        return 0;
      }

      const map = types_AXIS_MAP[index];
      throttledCb(map[0], value < -AXIS_TRIGGER_LIMIT, gamepadIndex);
      throttledCb(map[1], value > AXIS_TRIGGER_LIMIT, gamepadIndex);
      return value;
    });
    handleAnalogInput(axes);
  }
  /**
   * Tick that runs every frame and can either be
   * - Accepting input from all controllers
   * - Accept input from one specific controller
   */


  const tick = acceptInputFromAllControllers ? function () {
    try {
      const gamepads = getGamepads();
      const first = gamepads[0];
      const second = gamepads[1];
      const third = gamepads[2];
      const fourth = gamepads[3];
      if (first != null) checkGamepad(first);
      if (second != null) checkGamepad(second);
      if (third != null) checkGamepad(third);
      if (fourth != null) checkGamepad(fourth);
      handler = requestAnimationFrame(tick);
    } catch (e) {
      console.log('Error handling gamepad input', e);
    }
  } : function () {
    try {
      // We use a regular for loop here instead of a for of loop
      // since it's measurably faster. More context here:
      // https://github.com/Mojang/minecraft-ui/pull/2155
      const gamepads = getGamepads();

      for (let i = 0; i < gamepads.length; i++) {
        const gamepad = gamepads[i];

        if (gamepad != null && controllerId === gamepad.id) {
          checkGamepad(gamepad);
          break;
        }
      }

      handler = requestAnimationFrame(tick);
    } catch (e) {
      console.log('Error handling gamepad input', e);
    }
  };
  let handler = requestAnimationFrame(tick);
  return () => {
    cancelAnimationFrame(handler);
  };
}
const AXIS_TRIGGER_LIMIT = 0.5;

const toggleByName = fn => {
  const pressStates = {
    0: {},
    1: {},
    2: {},
    3: {}
  };
  return (name, pressed, index) => {
    const wasPressed = pressStates[index][name];

    if (pressed === wasPressed) {
      return;
    }

    if (pressed) {
      pressStates[index][name] = true;

      if (wasPressed != null) {
        fn(name);
      }
    } else {
      pressStates[index][name] = false;
    }
  };
};

const mapButton = (button, swapABButtons, swapXYButtons) => {
  if (button === types_ButtonType.Y && swapXYButtons) return types_ButtonType.X;
  if (button === types_ButtonType.X && swapXYButtons) return types_ButtonType.Y;
  if (button === types_ButtonType.A && swapABButtons) return types_ButtonType.B;
  if (button === types_ButtonType.B && swapABButtons) return types_ButtonType.A;
  return button;
};
;// CONCATENATED MODULE: ./packages/react-gamepad-driver/src/setupKeyboard.ts

function setupKeyboard(handleDigitalInput, keyToGamepad) {
  const handler = event => {
    // If an element in the DOM is focused, stop navigation from the keyboard input
    if (document.activeElement !== document.body || keyToGamepad == null) return; // Gameface does not support the new standard `key`, so we read the `keyCode` instead

    const key = event.keyCode;
    const buttonType = keyToGamepad[key];

    if (buttonType) {
      event.preventDefault();
      return handleDigitalInput(buttonType);
    } // Support for using the "tab" key to navigate the focus.
    // Key is being fired as a string on Jest.


    if (key === src_types_KeyboardKey.TAB) {
      event.preventDefault();
      return handleDigitalInput(event.shiftKey ? types_ButtonType.PREV : types_ButtonType.NEXT);
    }
  };

  document.addEventListener('keydown', handler);
  return () => {
    document.removeEventListener('keydown', handler);
  };
}
;// CONCATENATED MODULE: ./packages/react-gamepad-driver/src/setupMouse.ts

const MOUSE_BACK_BUTTON = 3;
/**
 * Maps the mouse "back button" to the B button
 */

function setupMouse(handleDigitalInput) {
  const handleEvent = event => {
    if (event.button === MOUSE_BACK_BUTTON) {
      handleDigitalInput(types_ButtonType.B);
    }
  };

  document.addEventListener('mousedown', handleEvent);
  return () => {
    document.removeEventListener('mousedown', handleEvent);
  };
}
;// CONCATENATED MODULE: ./packages/react-gamepad-driver/src/driver.ts




const driver_driver = (handleDigitalInput, handleAnalogInput, controllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons, keyToGamepad) => {
  const handleDigitalFocusInput = button => handleDigitalInput(button, FocusOrigin.FocusInput);

  const handleDigitalPointerInput = button => handleDigitalInput(button, FocusOrigin.PointerInput);

  const disposeGamepads = setupGamepads(handleDigitalFocusInput, handleAnalogInput, controllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons);
  const disposeKeyboard = setupKeyboard(handleDigitalFocusInput, keyToGamepad.current);
  const disposeMouse =  true ? setupMouse(handleDigitalPointerInput) : 0;
  return () => {
    disposeKeyboard();
    disposeGamepads();
    disposeMouse();
  };
};
;// CONCATENATED MODULE: ./packages/react-gamepad-legacy/src/GamepadProvider/GamepadProvider.tsx










// Hook that take a FacetProp and returns a Facet where changes to the value have been delayed by a frame.
const useDelayedFacetState = prop => {
  const propAsFacet = (0,react_facet_src.useFacetWrap)(prop);
  const [delayedState, setDelayedState] = (0,react_facet_src.useFacetState)(propAsFacet.get());
  (0,react_facet_src.useFacetEffect)(value => {
    let requestId = requestAnimationFrame(() => {
      setDelayedState(value);
      requestId = 0;
    });
    return () => {
      if (requestId !== 0) {
        cancelAnimationFrame(requestId);
      }
    };
  }, [setDelayedState], [propAsFacet]);
  return delayedState;
}; // We want to delay changes to the disabled state by a frame in order to make sure
// that all other effects in the GamepadProvider has been run before committing
// to the change, eg setup of the Driver.

const useDisabledNavigation = disabledNavigationFacetProp => {
  return useDelayedFacetState(typeof disabledNavigationFacetProp === 'undefined' ? false : disabledNavigationFacetProp);
};
/**
 * Provider that enables the gamepad focus capability around a React component tree.
 */


function GamepadProvider({
  children,
  focusedId: focusedIdFacetProp,
  onFocusedIdChange,
  onFocusedIdChangeFail,
  gameControllerId = '0',
  acceptInputFromAllControllers = false,
  swapABButtons = false,
  swapXYButtons = false,
  disabledNavigation: disabledNavigationFacetProp,
  disabledTransition = false,
  isInputLegendClickable = false,
  isRtl = false,
  keyboardGamepadMap,
  driver = driver_driver,
  mostRecentlyFocusedId = focusedIdFacetProp
}) {
  const disabledNavigation = useDisabledNavigation(disabledNavigationFacetProp);
  const focusedId = (0,react_facet_src.useFacetWrap)(focusedIdFacetProp);
  const keyToGamepadFacet = (0,react_facet_src.useFacetMap)(keyboardGamepadMap => {
    const keyboardGamepadEntries = Object.entries(keyboardGamepadMap);
    const keyToGamepad = {};

    for (let i = 0; i < keyboardGamepadEntries.length; i++) {
      const entry = keyboardGamepadEntries[i];
      const buttonType = entry[0];
      const buttonValues = entry[1];

      for (let j = 0; j < buttonValues.length; j++) {
        keyToGamepad[buttonValues[j]] = buttonType;
      }
    }

    return keyToGamepad;
  }, [], [(0,react_facet_src.useFacetWrap)(keyboardGamepadMap)]);
  const keyToGamepadRef = (0,react.useRef)(undefined);
  (0,react_facet_src.useFacetEffect)(keyToGamepad => {
    keyToGamepadRef.current = keyToGamepad;
  }, [], [keyToGamepadFacet]);
  /**
   * Stores a timestamp of the last time the Focus Tree was updated.
   * Useful to recalculate Input Legends after components have been mounted.
   */

  const [lastKnownTreeUpdate, setLastKnownTreeUpdate] = (0,react_facet_src.useFacetState)(0);
  const defaultProviderState = (0,react.useMemo)(() => ({
    disabledNavigation,
    focusedId,
    onFocusedIdChange,
    focusState: new Map(),
    //
    focusTree: focusTree_getFreshTree(),
    analogListeners: [],
    digitalListeners: [],
    isRtl
  }),
  /**
   * We useMemo here to call the expensive functions (getFreshTree, new Map) only once at the boot of GamepadProvider
   */
  // eslint-disable-next-line react-hooks/exhaustive-deps
  []);
  const providerStateRef = (0,react.useRef)(defaultProviderState);
  providerStateRef.current.disabledNavigation = disabledNavigation;
  providerStateRef.current.onFocusedIdChange = onFocusedIdChange;
  providerStateRef.current.onFocusedIdChangeFail = onFocusedIdChangeFail;
  providerStateRef.current.isRtl = isRtl;
  const inputLegends = useInputLegends(providerStateRef.current, focusedId, lastKnownTreeUpdate);
  const invokeCurrentCallback = useInvokeCurrentCallback(providerStateRef.current, focusedId);
  const setInputEnabled = useInput(providerStateRef.current, focusedId, gameControllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons, disabledTransition, keyToGamepadRef, driver);
  useRerenderNodes(providerStateRef.current, (0,react_facet_src.useFacetWrap)(mostRecentlyFocusedId));
  const api = useApi(providerStateRef.current, setInputEnabled, focusedId, setLastKnownTreeUpdate);
  useUpdateFocusState(providerStateRef.current, focusedId); // Prevent buttonMap to be created on every render by using useMemo,
  // which would trigger an update on any consumer of the ButtonMapProvider context provider below

  const buttonMap = (0,react.useMemo)(() => ({
    swapABButtons,
    swapXYButtons
  }), [swapABButtons, swapXYButtons]);

  const navigateToDefaultFocusChild = parentId => {
    const node = getNode(providerStateRef.current.focusTree, parentId);

    if ((node === null || node === void 0 ? void 0 : node.type) === 'focusable') {
      var _getAlias;

      const focusId = (_getAlias = focusTree_getAlias(providerStateRef.current.focusTree, parentId)) !== null && _getAlias !== void 0 ? _getAlias : parentId;
      return providerStateRef.current.onFocusedIdChange(focusId);
    }

    const childId = findFirstFocusableChildNode(parentId, providerStateRef.current.focusTree, providerStateRef.current.focusState);

    if (childId != null) {
      var _getAlias2;

      const newAliasOrNodeId = (_getAlias2 = focusTree_getAlias(providerStateRef.current.focusTree, childId)) !== null && _getAlias2 !== void 0 ? _getAlias2 : childId;
      providerStateRef.current.onFocusedIdChange(newAliasOrNodeId);
    }
  };

  const clearRememberCache = nodeId => {
    const node = getNode(providerStateRef.current.focusTree, nodeId);

    if (node != null && isContainer(node) && node.defaultFocusedChildBehavior === 'remember') {
      providerStateRef.current.focusState.delete(nodeId);
    }
  }; // We know that the keyboardGamepadMap is set "statically" as a prop, and if it changes it will be by having a new instance
  // So for this implementation of the GamepadProvider that is soon to be replaced by the visual implementation, we can safelly
  // do a strictEqualityCheck assuming the data to be immutable.
  // This is an optimization to prevent unnecessary updates to the context.


  const keyboardGamepadMap_ = (0,react_facet_src.useFacetWrap)(keyboardGamepadMap, immutableStrictEqualityCheck);
  const value = (0,react.useMemo)(() => [keyboardGamepadMap_, () => {}], [keyboardGamepadMap_]);
  return (
    /*#__PURE__*/
    // We pass keyboardGamepadMap as a read-only Facet, with a fake setter, just to match the new API
    // of the keyboardGamepadMapContext in the visual package (which we are using here)
    react.createElement(keyboardGamepadMapContext.Provider, {
      value: value
    }, /*#__PURE__*/react.createElement(SetFocusedIdProvider, {
      onFocusedIdChange: onFocusedIdChange,
      focusedId: focusedId
    }, /*#__PURE__*/react.createElement(ButtonMapProvider, {
      value: buttonMap
    }, /*#__PURE__*/react.createElement(GamepadAPIProvider, {
      value: api
    }, /*#__PURE__*/react.createElement(AvailableInputLegendsProvider, {
      value: inputLegends
    }, /*#__PURE__*/react.createElement(InvokeCurrentCallbackProvider, {
      value: isInputLegendClickable ? invokeCurrentCallback : undefined
    }, /*#__PURE__*/react.createElement(FocusProvider, {
      value: {
        focusedId,
        navigate: navigateToDefaultFocusChild,
        clearRememberCache
      }
    }, children)))))))
  );
}

function immutableStrictEqualityCheck() {
  let previous = react_facet_src.NO_VALUE;
  return current => {
    if (previous !== current) {
      previous = current;
      return false;
    }

    return true;
  };
}
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/lastFocusOriginContext.tsx



const lastFocusOriginContext = (0,react.createContext)((0,react_facet_src.createStaticFacet)(FocusOrigin.Initial));
const useLastFocusOrigin = () => (0,react.useContext)(lastFocusOriginContext);
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/cursorAPI.tsx

const CursorAPIContext = (0,react.createContext)({
  addAnalogListener: () => () => {},
  addDigitalListener: () => () => {},
  clickAtPoint: () => {},
  focusAtPoint: () => {}
});
const {
  Provider: cursorAPI_Provider,
  Consumer: cursorAPI_Consumer
} = CursorAPIContext;
const CursorAPIProvider = cursorAPI_Provider;
const CursorAPIConsumer = (/* unused pure expression or super */ null && (cursorAPI_Consumer));
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/navigate/geometry.ts

const mapArrowToDirection = {
  [Arrows.UP]: Direction.PREVIOUS,
  [Arrows.DOWN]: Direction.NEXT,
  [Arrows.LEFT]: Direction.PREVIOUS,
  [Arrows.RIGHT]: Direction.NEXT
};
const mapArrowToOppositeArrow = {
  [Arrows.UP]: Arrows.DOWN,
  [Arrows.DOWN]: Arrows.UP,
  [Arrows.LEFT]: Arrows.RIGHT,
  [Arrows.RIGHT]: Arrows.LEFT
};
const getEdgeCoordinate = (position, arrow) => {
  switch (arrow) {
    case Arrows.DOWN:
      {
        return position.top + position.height;
      }

    case Arrows.UP:
      {
        return position.top;
      }

    case Arrows.RIGHT:
      {
        return position.left + position.width;
      }

    case Arrows.LEFT:
      {
        return position.left;
      }
  }
};
const isSameAxis = (oldArrow, newArrow) => {
  switch (oldArrow) {
    case Arrows.DOWN:
    case Arrows.UP:
      {
        return newArrow === Arrows.UP || newArrow === Arrows.DOWN;
      }

    case Arrows.RIGHT:
    case Arrows.LEFT:
      {
        return newArrow === Arrows.LEFT || newArrow === Arrows.RIGHT;
      }
  }
};
const getTheCenterOfPostion = position => {
  return [position.top + position.height / 2, position.left + position.width / 2];
};
const getProjectionOverlap = (startingDimensions, targetDimensions, arrow) => {
  switch (arrow) {
    case Arrows.DOWN:
    case Arrows.UP:
      {
        const startingDimensionsRight = startingDimensions.left + startingDimensions.width;
        const targetDimensionsRight = targetDimensions.left + targetDimensions.width;
        const leftHandSideDiff = Math.max(targetDimensions.left - startingDimensions.left, 0);
        const rightHandSideDiff = Math.max(startingDimensionsRight - targetDimensionsRight, 0);
        const difference = leftHandSideDiff + rightHandSideDiff;
        const overlapInPixels = Math.max(startingDimensions.width - difference, 0);
        return overlapInPixels / startingDimensions.width;
      }

    case Arrows.LEFT:
    case Arrows.RIGHT:
      {
        const startingDimensionsBottom = startingDimensions.top + startingDimensions.height;
        const targetDimensionsBottom = targetDimensions.top + targetDimensions.height;
        const topHandSideDiff = Math.max(targetDimensions.top - startingDimensions.top, 0);
        const bottomHandSideDiff = Math.max(startingDimensionsBottom - targetDimensionsBottom, 0);
        const difference = topHandSideDiff + bottomHandSideDiff;
        const overlapInPixels = Math.max(startingDimensions.height - difference, 0);
        return overlapInPixels / startingDimensions.height;
      }
  }
};
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/visualQueries.tsx



function getBoundingClientRectById(focusTree, id) {
  var _focusTree$elements$g, _focusTree$elements$g2;

  return (_focusTree$elements$g = focusTree.elements.get(id)) === null || _focusTree$elements$g === void 0 ? void 0 : (_focusTree$elements$g2 = _focusTree$elements$g.ref) === null || _focusTree$elements$g2 === void 0 ? void 0 : _focusTree$elements$g2.getBoundingClientRect();
}
function visualQueries_findClickableFocusableAtPoint(focusTree, x, y) {
  for (const entry of focusTree.elements) {
    var _focusTree$shortcuts$, _focusTree$shortcuts$2;

    const element = entry[1];
    if (element.type !== types_FocusableType.ITEM || !isAvailableFocusable(element) || ((_focusTree$shortcuts$ = focusTree.shortcuts.get(element.id)) === null || _focusTree$shortcuts$ === void 0 ? void 0 : (_focusTree$shortcuts$2 = _focusTree$shortcuts$.get(ButtonType.A)) === null || _focusTree$shortcuts$2 === void 0 ? void 0 : _focusTree$shortcuts$2.callback) == null) continue;
    const rect = element.ref.getBoundingClientRect();

    if (x >= rect.left && x <= rect.left + rect.width && y >= rect.top && y <= rect.top + rect.height) {
      return element;
    }
  }
}
const getTopLeftElementId = tree => {
  let bestCandidateId = null;
  let bestCandidateCoordinates = [Infinity, Infinity];

  for (const [id, element] of tree.elements) {
    var _element$ref;

    const position = (_element$ref = element.ref) === null || _element$ref === void 0 ? void 0 : _element$ref.getBoundingClientRect();

    if (position == null) {
      continue;
    }

    if (element.type !== types_FocusableType.ITEM) {
      continue;
    }

    if (treeQueries_isAnyAncestorDisabled(tree, element.id)) {
      continue;
    }

    const center = getTheCenterOfPostion(position);
    const candidateMoreTop = center[0] < bestCandidateCoordinates[0];
    const candidateSameTopButMoreLeft = center[0] === bestCandidateCoordinates[0] && center[1] < bestCandidateCoordinates[1];

    if (candidateMoreTop || candidateSameTopButMoreLeft) {
      bestCandidateId = id;
      bestCandidateCoordinates = center;
    }
  }

  return bestCandidateId;
};
const getCurrentDomElementIndex = (currentDomElement, allElements) => {
  for (let i = 0; i < allElements.length; i++) {
    if (currentDomElement === allElements[i]) {
      return i;
    }
  }

  return null;
};
const getFocusedIdFromDomElement = currentDomElement => {
  const stringElementId = currentDomElement.getAttribute(types_DATA_FOCUSABLE_ID);

  if (stringElementId != null) {
    return parseInt(stringElementId);
  }

  return;
};
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/operations.ts



const clickFocusableAtPoint = (focusTree, x, y) => {
  const focusable = visualQueries_findClickableFocusableAtPoint(focusTree, x, y);

  if (focusable != null && focusable.type === types_FocusableType.ITEM) {
    var _shortcuts$get;

    const shortcuts = focusTree.shortcuts.get(focusable.id);
    shortcuts === null || shortcuts === void 0 ? void 0 : (_shortcuts$get = shortcuts.get(ButtonType.A)) === null || _shortcuts$get === void 0 ? void 0 : _shortcuts$get.callback();
  }
};
const notifyAncestorsOfDecedentFocus = (focusTree, focusedId, origin) => {
  const focusedNumberId = getIdFromAliasOrId(focusTree, focusedId);
  if (focusedNumberId == null) return;
  let lastDelegatingAncestorId = undefined;

  for (let ancestorId = focusTree.parents.get(focusedNumberId); ancestorId != null; ancestorId = focusTree.parents.get(ancestorId)) {
    const ancestorElement = focusTree.elements.get(ancestorId);

    if (!isDelegatingLandmark(ancestorElement)) {
      continue;
    }

    if (lastDelegatingAncestorId == null) {
      ancestorElement.onFocusableOfDynastyFocused(focusedId, origin); // Use focusedId here since we want to pass the alias if there is one
    } else {
      var _lastDelegatingAncest;

      const lastDelegatingAncestorElement = focusTree.elements.get(lastDelegatingAncestorId);
      ancestorElement.onFocusableOfDynastyFocused( // Prefer passing the alias over the number id
      (_lastDelegatingAncest = lastDelegatingAncestorElement === null || lastDelegatingAncestorElement === void 0 ? void 0 : lastDelegatingAncestorElement.alias) !== null && _lastDelegatingAncest !== void 0 ? _lastDelegatingAncest : lastDelegatingAncestorId, origin);
    }

    lastDelegatingAncestorId = ancestorId;
  }
};
const nofifyNodesOfBlurAndFocus = (focusTree, previousElementId, focusedId) => {
  const newNodeId = getIdFromAliasOrId(focusTree, focusedId);
  const previousNode = previousElementId != null ? focusTree.elements.get(previousElementId) : undefined;

  if (previousNode != null && previousElementId !== newNodeId && previousElementId != null) {
    var _previousNode$onBlur;

    (_previousNode$onBlur = previousNode.onBlur) === null || _previousNode$onBlur === void 0 ? void 0 : _previousNode$onBlur.call(previousNode);
  }

  if (focusedId == null || newNodeId == null) return;
  const newNode = focusTree.elements.get(newNodeId);

  if (previousNode != null && previousNode !== newNode) {
    var _previousNode$onBlur2;

    (_previousNode$onBlur2 = previousNode.onBlur) === null || _previousNode$onBlur2 === void 0 ? void 0 : _previousNode$onBlur2.call(previousNode);
  }

  if (newNode != null) {
    var _newNode$onFocus;

    (_newNode$onFocus = newNode.onFocus) === null || _newNode$onFocus === void 0 ? void 0 : _newNode$onFocus.call(newNode);
  }
};
const click = (focusTree, focusedId) => {
  if (focusedId == null) return undefined;
  const focusable = focusTree.elements.get(focusedId);

  if (focusable != null && focusable.type === types_FocusableType.ITEM) {
    var _focusTree$shortcuts$, _focusTree$shortcuts$2;

    (_focusTree$shortcuts$ = focusTree.shortcuts.get(focusedId)) === null || _focusTree$shortcuts$ === void 0 ? void 0 : (_focusTree$shortcuts$2 = _focusTree$shortcuts$.get(ButtonType.A)) === null || _focusTree$shortcuts$2 === void 0 ? void 0 : _focusTree$shortcuts$2.callback();
  }

  return;
};
const fireShortcut = (focusTree, focusedId, button) => {
  const focusedNodeId = typeof focusedId === 'string' ? focusTree.aliases.get(focusedId) : focusedId;
  if (focusedNodeId == null) return false;
  const handler = getShortcutHandler(focusTree, focusedNodeId, button);

  if (handler != null) {
    handler();
    return true;
  }

  return false;
};
const fireHandler = (focusTree, focusedId, arrow) => {
  const focusedNodeId = typeof focusedId === 'string' ? focusTree.aliases.get(focusedId) : focusedId;
  if (focusedNodeId == null) return false;
  const focusedNode = focusTree.elements.get(focusedNodeId);
  if (focusedNode == null) return false;

  switch (arrow) {
    case Arrows.LEFT:
      if (focusedNode.onLeft) {
        if (focusedNode.onLeft()) return true;
      }

      break;

    case Arrows.RIGHT:
      if (focusedNode.onRight) {
        if (focusedNode.onRight()) return true;
      }

      break;

    case Arrows.UP:
      if (focusedNode.onUp) {
        if (focusedNode.onUp()) return true;
      }

      break;

    case Arrows.DOWN:
      if (focusedNode.onDown) {
        if (focusedNode.onDown()) return true;
      }

  }

  return false;
};
const wiggleScrollables = (focusTree, focusedId, axes, analogScrollMaxSpeed) => {
  if (focusedId == null) return false;
  const verticalValue = axes[ButtonType.RIGHT_VERTICAL_AXIS];
  const horizontalValue = axes[ButtonType.RIGHT_HORIZONTAL_AXIS];
  if (verticalValue === 0 && horizontalValue === 0) return false;
  const focusedNodeId = getIdFromAliasOrId(focusTree, focusedId);
  if (focusedNodeId == null) return false;
  const nodes = getAncestorNodes(focusTree, focusedNodeId);
  const parents = nodes.filter(node => node.scrollAxis != null);
  if (parents.length === 0) return false;
  parents.forEach(parent => {
    const value = parent.scrollAxis === ScrollAxis.HORIZONTAL ? horizontalValue : verticalValue;
    const scrollProperty = parent.scrollAxis === ScrollAxis.HORIZONTAL ? 'scrollLeft' : 'scrollTop';
    if (parent.ref == null) return;
    parent.ref[scrollProperty] += value * analogScrollMaxSpeed;
  });
  return true;
};
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/mutations.ts




function resetNavigationDirection(focusTree) {
  focusTree.lastDirectionChange = undefined;
}
function putShortcut(focusTree, elementId, actionButton, shortcut) {
  var _shortcuts$get;

  const {
    shortcuts
  } = focusTree;

  if (!shortcuts.get(elementId)) {
    shortcuts.set(elementId, new Map());
  }

  (_shortcuts$get = shortcuts.get(elementId)) === null || _shortcuts$get === void 0 ? void 0 : _shortcuts$get.set(actionButton, shortcut);
}
const delegateToBindingLandmark = (focusTree, maybeBindingLandmark) => {
  if (!isBindingLandmark(maybeBindingLandmark)) return;
  focusTree.bindingLandmarkStack.push(maybeBindingLandmark.id);
  const delegatedFocus = maybeBindingLandmark.getDelegatedFocus(); // Not getting a `delegatedId` in this case should be impossible.
  // `getDelegatedFocus` should be implemented so that, if no other child
  // is available, the delegating Landmark will return its own id.

  return delegatedFocus === react_facet_src.NO_VALUE ? undefined : delegatedFocus;
};
function putFocusable(focusTree, focusable, parentId, focused, shouldSuggestNewFocus) {
  const focusedId = focused.id;
  const focusedNumberId = getIdFromAliasOrId(focusTree, focusedId);
  const isFocusableFocused = focusedNumberId === focusable.id;
  const previousFocusable = focusTree.elements.get(focusable.id);
  const parentFocusable = parentId != null ? focusTree.elements.get(parentId) : undefined;
  const stringId = focusable.id.toString();
  const isLandmark = focusable.type === types_FocusableType.LANDMARK;
  const isItem = focusable.type === types_FocusableType.ITEM;
  const isFocusableEnabled = isAvailableFocusable(focusable) && isNodeEnabled(focusTree, parentId);
  const isFocusableBecomingEnabled = previousFocusable != null && isFocusableEnabled && !isAvailableFocusable(previousFocusable);
  const isFocusableBeingAddedEnabled = previousFocusable == null && isFocusableEnabled;
  const isLandmarkBecomingEnabled = isLandmark && isFocusableBecomingEnabled;
  const isLandmarkBecomingDisabled = isLandmark && previousFocusable != null && !isAvailableFocusable(focusable) && isAvailableFocusable(previousFocusable);
  const isLandmarkBeingAddedEnabled = isLandmark && isFocusableBeingAddedEnabled;
  const isItemBecomingEnabled = isItem && isFocusableBecomingEnabled;
  const isItemBeingAddedEnabled = isItem && isFocusableBeingAddedEnabled; // Note that if the `ref` is ever updated, we are not setting these again.
  // This could be a problem, but as far as we know, there is nowhere in the
  // current minecraft-ui code a mechanism to listen to changes in the ref
  // object. That is something that we should address more generally: potentially
  // adding a callback to the `ref` prop when putting it into a `<div />`, for
  // example, instead of using a `useRef`

  if (isItem) {
    var _focusable$ref, _focusable$ref2;

    (_focusable$ref = focusable.ref) === null || _focusable$ref === void 0 ? void 0 : _focusable$ref.removeAttribute(DATA_LANDMARK_ID);
    (_focusable$ref2 = focusable.ref) === null || _focusable$ref2 === void 0 ? void 0 : _focusable$ref2.setAttribute(types_DATA_FOCUSABLE_ID, stringId);
  } else if (isLandmark) {
    var _focusable$ref3, _focusable$ref4;

    (_focusable$ref3 = focusable.ref) === null || _focusable$ref3 === void 0 ? void 0 : _focusable$ref3.removeAttribute(types_DATA_FOCUSABLE_ID);
    (_focusable$ref4 = focusable.ref) === null || _focusable$ref4 === void 0 ? void 0 : _focusable$ref4.setAttribute(DATA_LANDMARK_ID, stringId);
  } // This is for debugging the focus tree using the focus tree dev tools extension


  if (window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__ != null) {
    var _focusable$ref5;

    (_focusable$ref5 = focusable.ref) === null || _focusable$ref5 === void 0 ? void 0 : _focusable$ref5.setAttribute(DATA_FOCUSABLE_DEBUG_ID, stringId);
  }

  const closestDelegatingAncestor = previousFocusable == null && parentFocusable != null && (isDelegatingLandmark(parentFocusable) || isRoot(parentFocusable)) ? parentFocusable : getClosestDelegatingAncestor(focusTree, previousFocusable == null && parentId != null ? parentId : focusable.id);
  const maybeDynasty = closestDelegatingAncestor != null ? focusTree.dynasty.get(closestDelegatingAncestor.id) : undefined;
  const dynastyHaveNoEnabledItems = maybeDynasty == null || !doesDynastyHaveAnyEnabledItems(focusTree, maybeDynasty);
  const closestDelegatingLandmark = isDelegatingLandmark(closestDelegatingAncestor) ? closestDelegatingAncestor : undefined;
  let updatedIdAfterAliasMutation = undefined;

  if (previousFocusable) {
    const originalAlias = getAlias(focusTree, focusable.id);
    const newAlias = focusable.alias;

    if (originalAlias !== newAlias) {
      if (originalAlias != null) {
        focusTree.aliases.delete(originalAlias);
      }

      const isNewAliasDefined = newAlias != null;

      if (isNewAliasDefined) {
        focusTree.aliases.set(newAlias, focusable.id);
      }

      updatedIdAfterAliasMutation = isNewAliasDefined ? newAlias : focusable.id; // NOTE: We are deliberately not updating the delegation memory stack of the
      // closest delegating landmark here. The reason is that we might change alias on
      // an item when the landmark key changes, i.e. the items is considered to be a
      // new item. We therefore want to keep the old alias in memory and not add the
      // the new one to memory.
    }

    focusTree.elements.set(focusable.id, focusable);
  } else {
    if (false) {}

    focusTree.elements.set(focusable.id, focusable);

    if (focusable.alias != null) {
      focusTree.aliases.set(focusable.alias, focusable.id);
    }

    if (parentId != null) {
      var _focusTree$children$g;

      // Update parent's children
      const siblings = (_focusTree$children$g = focusTree.children.get(parentId)) !== null && _focusTree$children$g !== void 0 ? _focusTree$children$g : new Set();
      siblings.add(focusable.id);
      focusTree.children.set(parentId, siblings); // Update parents

      focusTree.parents.set(focusable.id, parentId); // Update dynasty

      if (closestDelegatingAncestor != null) {
        const dynasty = maybeDynasty !== null && maybeDynasty !== void 0 ? maybeDynasty : new Set();
        dynasty.add(focusable.id);
        focusTree.dynasty.set(closestDelegatingAncestor.id, dynasty);
      } // Update binding landmark descendants


      if (isBindingLandmark(focusable)) {
        for (let currentId = parentId; currentId != null; currentId = focusTree.parents.get(currentId)) {
          var _focusTree$bindingLan;

          const current = focusTree.elements.get(currentId);

          if (current == null) {
            break;
          }

          const descendants = (_focusTree$bindingLan = focusTree.bindingLandmarkDescendants.get(current.id)) !== null && _focusTree$bindingLan !== void 0 ? _focusTree$bindingLan : new Set();
          descendants.add(focusable.id);
          focusTree.bindingLandmarkDescendants.set(current.id, descendants);

          if (isBindingLandmark(current)) {
            break;
          }
        }
      }
    } // If a delegating landmark is added after its children, we update its dynasty.


    if (isLandmark && isDelegatingLandmark(focusable)) {
      const landmarkChildren = focusTree.children.get(focusable.id);

      if (landmarkChildren != null) {
        var _focusTree$dynasty$ge;

        const dynasty = (_focusTree$dynasty$ge = focusTree.dynasty.get(focusable.id)) !== null && _focusTree$dynasty$ge !== void 0 ? _focusTree$dynasty$ge : new Set();

        const updateDynastyRecursively = children => {
          if (children == null) return;

          for (const childId of children) {
            if (!dynasty.has(childId)) {
              dynasty.add(childId);
            }

            const child = focusTree.elements.get(childId);

            if (!isDelegatingLandmark(child)) {
              const grandChildren = focusTree.children.get(childId);
              updateDynastyRecursively(grandChildren);
            }
          }
        };

        updateDynastyRecursively(landmarkChildren);
        focusTree.dynasty.set(focusable.id, dynasty);
      }
    }
  }

  if (shouldSuggestNewFocus && (isLandmarkBecomingEnabled || isLandmarkBeingAddedEnabled)) {
    // If `focusable` is not a binding landmark, the delegated id will be undefined
    const delegatedFocus = delegateToBindingLandmark(focusTree, focusable);

    if (delegatedFocus != null) {
      return delegatedFocus;
    }

    const enabledBindingLandmarkDescendants = getEnabledBindingLandmarkDescendantIds(focusTree, focusable.id);

    if (enabledBindingLandmarkDescendants != null && enabledBindingLandmarkDescendants.length > 0) {
      const enabledBindingLandmarkId = enabledBindingLandmarkDescendants[0];
      const enabledBindingLandmark = getElement(focusTree, enabledBindingLandmarkId);

      if (enabledBindingLandmark != null) {
        return delegateToBindingLandmark(focusTree, enabledBindingLandmark);
      }
    }
  }

  if (isLandmarkBecomingDisabled) {
    const newStack = [];
    const discardedStack = new Set();

    for (let i = 0; i < focusTree.bindingLandmarkStack.length; i++) {
      const elementId = focusTree.bindingLandmarkStack[i];

      if (isAncestorOf(focusTree, focusable.id, elementId) || focusable.id === elementId) {
        discardedStack.add(elementId);
      } else {
        newStack.push(elementId);
      }
    } // Replace the old stack with the new stack


    focusTree.bindingLandmarkStack = newStack;

    if (shouldSuggestNewFocus) {
      if (focusedNumberId != null) {
        for (const discardedId of discardedStack) {
          if (isAncestorOf(focusTree, discardedId, focusedNumberId) && focusTree.bindingLandmarkStack.length > 0) {
            const topOfStack = getElement(focusTree, focusTree.bindingLandmarkStack[focusTree.bindingLandmarkStack.length - 1]);

            if (topOfStack != null && isBindingLandmark(topOfStack)) {
              const delegatedFocus = topOfStack.getDelegatedFocus();

              if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
                return delegatedFocus;
              }
            }
          }
        }
      }

      const isFocusableAncestorOfFocusedId = focusedNumberId != null && isAncestorOf(focusTree, focusable.id, focusedNumberId);

      if (isFocusableAncestorOfFocusedId || isFocusableFocused) {
        const delegatedFocus = getDelegatedFocusFromAncestor(focusTree, focusable.id);

        if (delegatedFocus != null) {
          return delegatedFocus;
        }
      }
    }
  } // Re-delegate focus of a Landmark if:
  // 1a) Alias for delegation changed and focused origin is from a tree mutation
  // 1b) OR landmark key changed
  // 2a) The Landmark itself is focused
  // 2b) OR a decedent item of the Landmark is currently focused and is the previous alias


  if (shouldSuggestNewFocus && isLandmark && focusedNumberId != null && previousFocusable != null && isDelegatingLandmark(focusable) && isDelegatingLandmark(previousFocusable)) {
    const aliasForDelegationDidChange = previousFocusable.delegateFocusByAlias !== focusable.delegateFocusByAlias;
    const focusedOriginIsFromTreeMutation = focused.origin === FocusOrigin.FocusTreeMutation;
    const landmarkKeyDidChange = focusable.landmarkKey !== previousFocusable.landmarkKey;

    if (aliasForDelegationDidChange && focusedOriginIsFromTreeMutation || landmarkKeyDidChange) {
      if (isFocusableFocused || isAncestorOf(focusTree, focusable.id, focusedNumberId)) {
        const delegatedFocus = focusable.getDelegatedFocus();

        if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
          return delegatedFocus;
        }
      }
    }
  } // Re-delegate if alias for an focusable changes and if:
  // 1) Current focused originates from a tree mutation
  // 2) The focusable is in the closest delegating Landmark's dynasty
  // 3) The closest delegating Landmark is delegating by alias or delegating by memory (memory stores aliases)
  // 4a) The closest delegating Landmark is focused
  // 4b) OR the focused id is a decedent of the closest delegating Landmark


  if (shouldSuggestNewFocus && isFocusableEnabled && focused.origin === FocusOrigin.FocusTreeMutation && focusedNumberId != null) {
    const hasAliasChanged = previousFocusable == null || previousFocusable.alias !== focusable.alias;

    if (hasAliasChanged && closestDelegatingLandmark != null && (closestDelegatingLandmark.delegateFocusByAlias != null || closestDelegatingLandmark.delegationMemoryStack != null)) {
      if (closestDelegatingLandmark.id === focusedNumberId || isAncestorOf(focusTree, closestDelegatingLandmark.id, focusedNumberId)) {
        const delegatedFocus = closestDelegatingLandmark.getDelegatedFocus();

        if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
          return delegatedFocus;
        }
      }
    }
  }

  if (shouldSuggestNewFocus && (isItemBecomingEnabled || isItemBeingAddedEnabled || isLandmarkBecomingEnabled || isLandmarkBeingAddedEnabled) && dynastyHaveNoEnabledItems && closestDelegatingAncestor != null && focusedId != null && closestDelegatingAncestor.id === focusedId) {
    const delegatedFocus = closestDelegatingAncestor.getDelegatedFocus();

    if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
      return delegatedFocus;
    }
  }

  if (shouldSuggestNewFocus && isFocusableFocused && updatedIdAfterAliasMutation != null) {
    return {
      id: updatedIdAfterAliasMutation,
      reason: NewFocusSuggestionReason.FocusableAliasMutation
    };
  }
}
function removeShortcut(focusTree, elementId, actionButton) {
  const shortcuts = focusTree.shortcuts.get(elementId);

  if (!shortcuts) {
    return;
  }

  shortcuts.delete(actionButton);

  if (shortcuts.size === 0) {
    focusTree.shortcuts.delete(elementId);
  }
}
function removeFocusable(focusTree, focusableId, focused) {
  const focusable = focusTree.elements.get(focusableId);
  if (!focusable) return;
  const focusedId = focused.id;
  const focusedNumberId = getIdFromAliasOrId(focusTree, focusedId);
  const parentId = focusTree.parents.get(focusableId);

  if (focusable.alias != null) {
    focusTree.aliases.delete(focusable.alias);
  }

  if (parentId != null) {
    // Update the children of the parent
    const siblings = focusTree.children.get(parentId);

    if (siblings != null) {
      siblings.delete(focusableId);
    } // Update parents


    focusTree.parents.delete(focusableId); // Update dynasty

    const closestDelegatingAncestor = getClosestDelegatingAncestor(focusTree, focusableId);

    if (closestDelegatingAncestor != null) {
      const coDescendants = focusTree.dynasty.get(closestDelegatingAncestor.id);

      if (coDescendants != null) {
        coDescendants.delete(focusableId);
      }
    } // Update delegation memory of closest delegating landmark
    // NOTE: if ths focusable has been stored as an alias in the
    // closest delegating landmark's memory stack, we are deliberately
    // not removing that. The reason is that we might want to remember
    // the alias if a new focus item gets mounted with that alias, eg.
    // when going back and forth between tabs having the same landmark,
    // but with different landmark keys. An example of this is the mount
    // tabs in badger's character select screen.


    if (closestDelegatingAncestor != null && closestDelegatingAncestor.type !== types_FocusableType.ROOT && closestDelegatingAncestor.delegationMemoryStack != null) {
      closestDelegatingAncestor.delegationMemoryStack.forEach(memoryStack => {
        const indexInStack = memoryStack.indexOf(focusableId);
        memoryStack.splice(indexInStack, 1);
      });
    } // Update binding landmark descendants


    if (focusable.type === types_FocusableType.LANDMARK) {
      focusTree.bindingLandmarkDescendants.delete(focusable.id);

      if (isBindingLandmark(focusable)) {
        for (const [_, bindingLandmarkDescendants] of focusTree.bindingLandmarkDescendants) {
          bindingLandmarkDescendants.delete(focusable.id);
        }
      }
    }
  }

  focusTree.parents.delete(focusableId);
  focusTree.elements.delete(focusableId);
  focusTree.shortcuts.delete(focusableId);

  if (isBindingLandmark(focusable)) {
    const indexInStack = focusTree.bindingLandmarkStack.indexOf(focusable.id);

    if (indexInStack !== -1) {
      const wasTopOfStack = indexInStack === focusTree.bindingLandmarkStack.length - 1;
      focusTree.bindingLandmarkStack.splice(indexInStack);

      if (wasTopOfStack && focusTree.bindingLandmarkStack.length > 0) {
        const nextBindingLandmarkInStack = getElement(focusTree, focusTree.bindingLandmarkStack[focusTree.bindingLandmarkStack.length - 1]);

        if (nextBindingLandmarkInStack != null && isBindingLandmark(nextBindingLandmarkInStack)) {
          const delegatedFocus = nextBindingLandmarkInStack.getDelegatedFocus();

          if (delegatedFocus != null && delegatedFocus !== react_facet_src.NO_VALUE) {
            return delegatedFocus;
          }
        }
      }
    }
  }

  const wasFocusableAncestorOfFocusedId = focusedNumberId != null && isAncestorOf(focusTree, focusable.id, focusedNumberId);
  const wasSameAsFocusedId = focusedNumberId === focusable.id;

  if (parentId != null && (wasFocusableAncestorOfFocusedId || wasSameAsFocusedId)) {
    const delegatedId = getDelegatedFocusFromAncestor(focusTree, parentId);

    if (delegatedId != null) {
      return delegatedId;
    }
  }
}
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/navigate/logit.ts
/**
 * logit.
 *
 * 	- Non-linear, continuous, and differentiable logistic function. Inverse of sigmoid
 *
 * https://en.wikipedia.org/wiki/Logit
 *
 * @param number z
 */
function logit(z) {
  return Math.log(z / (1 - z));
}
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/navigate/weights.ts


const weights = {
  matchScrollableDirectionWeight: 0.000001,
  noWeight: 1,
  projectionOverlapWeightMax: 10000
};
const getScrollableAncestorMultiplier = (tree, scrollableAncestorId, currentCandidateId, navigationAxis) => {
  if (scrollableAncestorId == null) {
    return weights.noWeight;
  }

  const scrollableAncestor = tree.elements.get(scrollableAncestorId);

  if (scrollableAncestor == null || scrollableAncestor.type !== types_FocusableType.LANDMARK) {
    return weights.noWeight;
  }

  if (hasAnyAncestorWithId(tree, currentCandidateId, scrollableAncestorId) && scrollableAncestor.scrollAxis == navigationAxis) {
    return weights.matchScrollableDirectionWeight;
  }

  return weights.noWeight;
};
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/navigate/navigate.ts








const NINETY_DEGREES_IN_RADIANS = Math.PI / 2;
const SEVENTY_FIVE_DEGREES_IN_RADIANS = 5 * (Math.PI / 12);
function navigateToAdjacentElement(focusTree, focusedId, reverse = false) {
  const parentId = focusTree.parents.get(focusedId);

  if (parentId == null) {
    return null;
  }

  const parent = focusTree.elements.get(parentId);
  const focusedElement = focusTree.elements.get(focusedId);

  if (parent == null || parent.ref == null || focusedElement == null) {
    return null;
  }

  const htmlElements = parent.ref.querySelectorAll(`[${DATA_FOCUSABLE_ID}]`);

  for (let i = 0; i < htmlElements.length; i++) {
    const element = htmlElements[i];

    if (element === focusedElement.ref) {
      var _htmlElements$nextInd;

      let nextIndex = i + (reverse ? -1 : 1);

      if (nextIndex < 0) {
        nextIndex = htmlElements.length - 1;
      } else if (nextIndex >= htmlElements.length) {
        nextIndex = 0;
      }

      const adjacentElementId = (_htmlElements$nextInd = htmlElements[nextIndex]) === null || _htmlElements$nextInd === void 0 ? void 0 : _htmlElements$nextInd.getAttribute(DATA_FOCUSABLE_ID);

      if (adjacentElementId == null) {
        return null;
      }

      const adjacentElement = focusTree.elements.get(parseInt(adjacentElementId));

      if (adjacentElement == null) {
        return null;
      }

      if (isAnyAncestorDisabled(focusTree, adjacentElement.id)) {
        continue;
      }

      return adjacentElement.id;
    }
  }

  return null;
}
function legacyNavigateToAdjacentElement(focusTree, focusedId, reverse = false) {
  if (focusedId == null) return undefined;
  const htmlElements = document.body.querySelectorAll(`[${types_DATA_FOCUSABLE_ID}]`);
  const currentDomElement = document.body.querySelector(`[${types_DATA_FOCUSABLE_ID}='${focusedId}']`);

  if (currentDomElement == null) {
    const focusedId = getFocusedIdFromDomElement(htmlElements[0]);

    if (focusedId == null) {
      return undefined;
    }

    if (treeQueries_isAnyAncestorDisabled(focusTree, focusedId)) {
      return undefined;
    }

    return focusedId;
  }

  const currentDomElementIndex = getCurrentDomElementIndex(currentDomElement, htmlElements);

  if (currentDomElementIndex == null) {
    return getFocusedIdFromDomElement(htmlElements[0]);
  }

  let startingIndex = reverse ? currentDomElementIndex - 1 : currentDomElementIndex + 1;

  while (currentDomElementIndex !== startingIndex) {
    if (startingIndex < 0) {
      startingIndex = htmlElements.length - 1;
    }

    if (startingIndex > htmlElements.length - 1) {
      startingIndex = 0;
    }

    const focusedId = getFocusedIdFromDomElement(htmlElements[startingIndex]);

    if (focusedId != null) {
      const element = focusTree.elements.get(focusedId);

      if (element != null && !treeQueries_isAnyAncestorDisabled(focusTree, focusedId)) {
        if (element.type !== types_FocusableType.LANDMARK && element.disabled !== true && element.hidden !== true) {
          return focusedId;
        }
      }
    }

    if (reverse) {
      startingIndex--;
    } else {
      startingIndex++;
    }
  }

  return;
}
/**
 * Ideally is supposed to be a minimizing score function where distance can infinitely increase your score
 * (which makes you a worse candidate) and angle should exponentially increase your score the higher it is
 * to favor smaller angles more in relation to closeness + bad angle.
 *
 * Projection overlap (that is, if the target box is facing the current focusable from the side where the
 * motion is going to) also is taken into account. If there is overlap, then the score is improved to
 * account for the intuitive perception that overlapping targets should be preferred.
 *
 * @param tree
 * @param focusedId
 * @param arrow
 * @returns
 */

const navigate_navigateToDirection = (tree, focusedId, arrow) => {
  var _tree$elements$get, _tree$elements$get$re;

  if (focusedId == null) {
    var _getTopLeftElementId;

    return (_getTopLeftElementId = getTopLeftElementId(tree)) !== null && _getTopLeftElementId !== void 0 ? _getTopLeftElementId : ROOT_NODE_ID;
  }

  const startingElementPosition = (_tree$elements$get = tree.elements.get(focusedId)) === null || _tree$elements$get === void 0 ? void 0 : (_tree$elements$get$re = _tree$elements$get.ref) === null || _tree$elements$get$re === void 0 ? void 0 : _tree$elements$get$re.getBoundingClientRect();

  if (startingElementPosition == null) {
    var _getTopLeftElementId2;

    return (_getTopLeftElementId2 = getTopLeftElementId(tree)) !== null && _getTopLeftElementId2 !== void 0 ? _getTopLeftElementId2 : focusedId;
  }

  const startingElementCenter = getTheCenterOfPostion(startingElementPosition);
  let bestCandidateId = focusedId;
  let bestCandidateScore = Infinity;
  const mainAxis = arrow === Arrows.LEFT || arrow === Arrows.RIGHT ? 1 : 0;
  const navigationAxis = arrow === Arrows.LEFT || arrow === Arrows.RIGHT ? ScrollAxis.HORIZONTAL : ScrollAxis.VERTICAL;
  const crossAxis = mainAxis === 1 ? 0 : 1;
  const bindingAncestorId = getBindingAncestorId(tree, focusedId);
  const scrollableAncestorId = getScrollableAncestorId(tree, focusedId);

  if (tree.lastDirectionChange == null || !isSameAxis(tree.lastDirectionChange[0], arrow) && focusedId != null) {
    tree.lastDirectionChange = [arrow, focusedId];
  }

  for (const [id, element] of tree.elements) {
    var _element$ref, _getBoundingClientRec;

    if (id === focusedId) {
      continue;
    }

    if (element.type === types_FocusableType.LANDMARK && (element.scrollAxis == null || element.id === scrollableAncestorId) && !isDelegatingLandmark(element)) {
      continue;
    }

    if (element.type === types_FocusableType.LANDMARK && isAncestorOf(tree, id, focusedId)) {
      continue;
    }

    if (element.disabled || element.hidden) {
      continue;
    }

    if (treeQueries_isAnyAncestorDisabled(tree, id)) {
      continue;
    }

    if (doesAnyNonSharedAncestorDelegateFocus(tree, id, focusedId)) {
      continue;
    }

    if (element.type === types_FocusableType.LANDMARK && !isDelegatingLandmark(element)) {
      continue;
    }

    const currentElementPosition = (_element$ref = element.ref) === null || _element$ref === void 0 ? void 0 : _element$ref.getBoundingClientRect();

    if (currentElementPosition == null) {
      continue;
    }

    const positionOfLastDirectionChange = (_getBoundingClientRec = getBoundingClientRectById(tree, tree.lastDirectionChange[1])) !== null && _getBoundingClientRec !== void 0 ? _getBoundingClientRec : getBoundingClientRectById(tree, focusedId);

    if (positionOfLastDirectionChange == null) {
      continue;
    }

    const centerOfLastDirectionChange = getTheCenterOfPostion(positionOfLastDirectionChange);
    const currentElementCenter = getTheCenterOfPostion(currentElementPosition);
    const differenceMainAxisCenters = (startingElementCenter[mainAxis] - currentElementCenter[mainAxis]) * mapArrowToDirection[arrow];
    const differenceMainAxisEdges = (getEdgeCoordinate(startingElementPosition, arrow) - getEdgeCoordinate(currentElementPosition, mapArrowToOppositeArrow[arrow])) * mapArrowToDirection[arrow];
    const virtualDistanceInMainAxisCoordinate = differenceMainAxisEdges < 0 && differenceMainAxisCenters > 0 ? 0 : differenceMainAxisEdges;

    if (virtualDistanceInMainAxisCoordinate < 0) {
      continue;
    }

    const differenceCrossAxisCentersLastDirectionChange = centerOfLastDirectionChange[crossAxis] - currentElementCenter[crossAxis];
    const differenceCrossAxisCentersFocusedElement = startingElementCenter[crossAxis] - currentElementCenter[crossAxis];

    if (bindingAncestorId != null && !hasAnyAncestorWithId(tree, id, bindingAncestorId)) {
      continue;
    }

    const distanceMainAxisEdges = Math.max(virtualDistanceInMainAxisCoordinate, 1);
    const distanceMainAxisCenter = Math.abs(differenceMainAxisCenters); // unsignedTangentEdge is used as an exponential penalty depending on how wide the angle is for
    // navigating to the candidate element from current element, the idea is if a candidate has 0 angle
    // it should be way more preferred than a candidate with 10

    const unsignedTangentLastDirectionChangeEdge = Math.abs(differenceCrossAxisCentersLastDirectionChange / (virtualDistanceInMainAxisCoordinate === 0 ? 1 : virtualDistanceInMainAxisCoordinate));
    const radianAngleLastDirectionChangeEdge = Math.atan(unsignedTangentLastDirectionChangeEdge); // We don't want angles equal or wider than 90 degrees

    if (radianAngleLastDirectionChangeEdge >= NINETY_DEGREES_IN_RADIANS) {
      continue;
    } // Projection overlap: it's how much of the candidate box overlaps when you draw a projection of the
    // current box along the direction of motion, it's a value from 0 to 1 which is later inverted
    // for calculation purposes
    // In the end it's passed through a logit function
    // You can read about the logit function on Wikipedia https://en.wikipedia.org/wiki/Logit,
    // which exponentially adds a penalty depending on how much overlap you have, with total overlap adding
    // 0 penalty and no overlap capped at 10,000 penalty, in the end the magic number 10,000 doesn't matter so much
    // since in the situation where all candidates have 0 overlap, they all get the same penalty so it self-equalizes
    // and the number 10,000 was used because it's guaranteed to be above distance + unsignedTangent is supposed
    // to be in most cases


    const projectionOverlap = getProjectionOverlap(startingElementPosition, currentElementPosition, arrow);
    const invertedProjectionOverlap = 1 - projectionOverlap;
    const lowOrNoProjectionOverlapPenalty = Math.min(logit(invertedProjectionOverlap / 2 + 0.5), weights.projectionOverlapWeightMax); // WeightedTangent is unsignedTangent but with ties to overlap, so we apply a hueristic so that if a candidate has total overlap
    // then we treat it as if it's at angle 0, because we don't want to delve into the complications of
    // calculating the precise closest points between the two candidates to calculate a proper angle.

    const weightedTangentLastDirectionChange = unsignedTangentLastDirectionChangeEdge * invertedProjectionOverlap;
    const weightedRadianAngleLastDirectionChange = radianAngleLastDirectionChangeEdge * invertedProjectionOverlap; // We also need the angle as measured from the center of both components, instead of the edge,
    // to cover the special case when the target box is very close along main axis (distance ~1)
    // but to the side, without cross axis overlap, and it is also very large. In that case,
    // the angle as measured from the edge will be very, very wide (>89 degrees) but we don't
    // want to cut it out of the calculation if the center is not also at a very wide angle,
    // because a big enough box should intuitively get focus even if the edge angle is wide.

    const unsignedTangentCenterFocusedElement = Math.abs(differenceCrossAxisCentersFocusedElement / distanceMainAxisCenter);
    const radianAngleCenterFocusedElement = Math.atan(unsignedTangentCenterFocusedElement);

    if (weightedRadianAngleLastDirectionChange >= SEVENTY_FIVE_DEGREES_IN_RADIANS && radianAngleCenterFocusedElement >= SEVENTY_FIVE_DEGREES_IN_RADIANS) {
      continue;
    }

    const scrollableAncestorMultiplier = getScrollableAncestorMultiplier(tree, scrollableAncestorId, id, navigationAxis); // The score is basically a bunch of penalties you get depending on distnace, unsignedTangent, projection overlap
    // and whether or not you're inside the same scrollable parent

    const currentCandidateScore = (distanceMainAxisEdges + weightedTangentLastDirectionChange + lowOrNoProjectionOverlapPenalty) * scrollableAncestorMultiplier;

    if (bestCandidateScore > currentCandidateScore) {
      bestCandidateScore = currentCandidateScore;
      bestCandidateId = id;
    }
  }

  const bestCandidate = tree.elements.get(bestCandidateId);

  if (isDelegatingLandmark(bestCandidate)) {
    const delegatedFocus = bestCandidate.getDelegatedFocus();

    if (delegatedFocus !== react_facet_src.NO_VALUE && delegatedFocus != null) {
      // Make sure the delegated id exists in the focus tree before trying to navigate there.
      // A landmark can delegate for example to an alias that is not yet present in the tree,
      // similar to a deep link via URL.
      const delegatedId = getIdFromAliasOrId(tree, delegatedFocus.id);

      if (delegatedId != null) {
        return delegatedId;
      }
    }
  }

  return bestCandidateId;
};
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/debugExtension/adapter.ts
function adapter_getElement(id, tree) {
  var _tree$elements$find;

  const [, element] = (_tree$elements$find = tree.elements.find(mapItem => mapItem[0] === id)) !== null && _tree$elements$find !== void 0 ? _tree$elements$find : [];
  return element;
}

function expandTree(parentId, tree) {
  const childrenMap = tree.children.find(mapItem => mapItem[0] === parentId);
  if (childrenMap == null) return [];
  const [, childrenIds] = childrenMap;
  const childrenBodies = childrenIds.map(childId => {
    const grandChildren = expandTree(childId, tree);
    const childBody = adapter_getElement(childId, tree);
    return {
      id: `${childId}`,
      data: childBody,
      children: grandChildren
    };
  });
  return childrenBodies;
}

function focusTreeToGeneralTree(focusTree) {
  const startingPointIds = focusTree.children.filter(currentElement => {
    const currentElementId = currentElement[0];
    const isOrphanAncestor = focusTree.parents.every(item => item[0] !== currentElementId);
    return isOrphanAncestor;
  }, []);
  const generalTree = getGeneralTree(startingPointIds, focusTree);
  return {
    id: '0',
    data: {
      id: 0,
      ref: false,
      type: 0,
      isFocused: false,
      shortcuts: []
    },
    children: generalTree
  };
}

function getGeneralTree(startPointIds, focusTree) {
  if (startPointIds.length === 0) return [];
  const [head, ...rest] = startPointIds;
  const headId = head[0];
  const headElement = adapter_getElement(headId, focusTree);

  if (headElement == null) {
    return getGeneralTree(rest, focusTree);
  }

  return [{
    id: `${headElement.id}`,
    data: headElement,
    children: expandTree(headElement.id, focusTree)
  }, ...getGeneralTree(rest, focusTree)];
}
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/debugExtension/types.ts
let DEBUG_MESSAGE_TYPE;

(function (DEBUG_MESSAGE_TYPE) {
  DEBUG_MESSAGE_TYPE["TREE_UPDATE"] = "TREE_UPDATE";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_FOCUS"] = "BROWSER_ON_FOCUS";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_FOCUS_HANDLER"] = "BROWSER_ON_FOCUS_HANDLER";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_BLUR_HANDLER"] = "BROWSER_ON_BLUR_HANDLER";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_DELEGATE"] = "BROWSER_ON_DELEGATE";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_INSPECT_DOM_REF"] = "BROWSER_ON_INSPECT_DOM_REF";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_NAVIGATE_LEFT"] = "BROWSER_ON_NAVIGATE_LEFT";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_NAVIGATE_UP"] = "BROWSER_ON_NAVIGATE_UP";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_NAVIGATE_DOWN"] = "BROWSER_ON_NAVIGATE_DOWN";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_NAVIGATE_RIGHT"] = "BROWSER_ON_NAVIGATE_RIGHT";
  DEBUG_MESSAGE_TYPE["BROWSER_ON_SHORTCUT"] = "BROWSER_ON_SHORTCUT";
  DEBUG_MESSAGE_TYPE["BACKGROUND_ON_INSPECT_DOM_REF"] = "BACKGROUND_ON_INSPECT_DOM_REF";
  DEBUG_MESSAGE_TYPE["BACKGROUND_ON_UNINSPECT_DOM_REF"] = "BACKGROUND_ON_UNINSPECT_DOM_REF";
  DEBUG_MESSAGE_TYPE["BROWSER_ACTIVATE_KEYBOARD"] = "BROWSER_ACTIVATE_KEYBOARD";
  DEBUG_MESSAGE_TYPE["BROWSER_ACTIVATE_GAMEPAD"] = "BROWSER_ACTIVATE_GAMEPAD";
  DEBUG_MESSAGE_TYPE["BROWSER_ACTIVATE_MOUSE"] = "BROWSER_ACTIVATE_MOUSE";
  DEBUG_MESSAGE_TYPE["BROWSER_ACTIVATE_TOUCH"] = "BROWSER_ACTIVATE_TOUCH";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_A"] = "BROWSER_INPUT_SIMULATE_A";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_B"] = "BROWSER_INPUT_SIMULATE_B";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_X"] = "BROWSER_INPUT_SIMULATE_X";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_Y"] = "BROWSER_INPUT_SIMULATE_Y";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_SELECT"] = "BROWSER_INPUT_SIMULATE_SELECT";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_START"] = "BROWSER_INPUT_SIMULATE_START";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_LT"] = "BROWSER_INPUT_SIMULATE_LT";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_RT"] = "BROWSER_INPUT_SIMULATE_RT";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_LB"] = "BROWSER_INPUT_SIMULATE_LB";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_RB"] = "BROWSER_INPUT_SIMULATE_RB";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_L3"] = "BROWSER_INPUT_SIMULATE_L3";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_R3"] = "BROWSER_INPUT_SIMULATE_R3";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_LEFT"] = "BROWSER_INPUT_SIMULATE_LEFT";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_RIGHT"] = "BROWSER_INPUT_SIMULATE_RIGHT";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_UP"] = "BROWSER_INPUT_SIMULATE_UP";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_DOWN"] = "BROWSER_INPUT_SIMULATE_DOWN";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_NEXT"] = "BROWSER_INPUT_SIMULATE_NEXT";
  DEBUG_MESSAGE_TYPE["BROWSER_INPUT_SIMULATE_PREV"] = "BROWSER_INPUT_SIMULATE_PREV";
})(DEBUG_MESSAGE_TYPE || (DEBUG_MESSAGE_TYPE = {}));
;// CONCATENATED MODULE: ./packages/navigation-focus-tree/src/debugExtension/messaging.ts
function messaging_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function messaging_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { messaging_ownKeys(Object(source), true).forEach(function (key) { messaging_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { messaging_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function messaging_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function messaging_extends() { messaging_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return messaging_extends.apply(this, arguments); }







let hasBeenCalled = false;

const messaging_debounce = func => {
  if (hasBeenCalled === false) {
    setTimeout(() => {
      func();
      hasBeenCalled = false;
    });
  }

  hasBeenCalled = true;
};

const useDebugFocusTreeExtension = (focusTreeFacet, focusIdFacet, handleFocusedIdChange) => {
  const focusTreeFacetRef = (0,react_facet_src.useFacetRef)(focusTreeFacet);
  const focusIdFacetRef = (0,react_facet_src.useFacetRef)(focusIdFacet);
  const debugTreeCallback = (0,react.useCallback)(() => {
    const focusTree = focusTreeFacetRef.current;
    const focusId = focusIdFacetRef.current;
    if (focusTree === react_facet_src.NO_VALUE || focusId === react_facet_src.NO_VALUE) return;
    debugTree(focusTree, focusId);
  }, [focusTreeFacetRef, focusIdFacetRef]); // Send tree updates to extension

  (0,react_facet_src.useFacetEffect)(() => {
    // Add a 0 timeout debounce, so that synchronous calls get buffered.
    // We are not interested in the changes to the focus tree that
    // happen synchronously
    messaging_debounce(() => debugTreeCallback());
  }, [debugTreeCallback], [focusTreeFacet, focusIdFacet]);
  (0,react.useEffect)(() => {
    if (window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__ != null) {
      window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__.listen(unknownEvent => {
        const event = unknownEvent;
        const focusTree = focusTreeFacetRef.current;
        const focusId = focusIdFacetRef.current;
        if (focusTree === react_facet_src.NO_VALUE || focusId === react_facet_src.NO_VALUE) return;

        switch (event.type) {
          case DEBUG_MESSAGE_TYPE.BROWSER_ON_FOCUS:
            {
              handleFocusedIdChange(event.payload.focusableId);
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_FOCUS_HANDLER:
            {
              var _getElement, _getElement$onFocus;

              (_getElement = getElement(focusTree, event.payload.focusableId)) === null || _getElement === void 0 ? void 0 : (_getElement$onFocus = _getElement.onFocus) === null || _getElement$onFocus === void 0 ? void 0 : _getElement$onFocus.call(_getElement);
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_BLUR_HANDLER:
            {
              var _getElement2, _getElement2$onBlur;

              (_getElement2 = getElement(focusTree, event.payload.focusableId)) === null || _getElement2 === void 0 ? void 0 : (_getElement2$onBlur = _getElement2.onBlur) === null || _getElement2$onBlur === void 0 ? void 0 : _getElement2$onBlur.call(_getElement2);
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_NAVIGATE_UP:
            {
              var _getElement3, _getElement3$onUp;

              (_getElement3 = getElement(focusTree, event.payload.focusableId)) === null || _getElement3 === void 0 ? void 0 : (_getElement3$onUp = _getElement3.onUp) === null || _getElement3$onUp === void 0 ? void 0 : _getElement3$onUp.call(_getElement3);
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_NAVIGATE_DOWN:
            {
              var _getElement4, _getElement4$onDown;

              (_getElement4 = getElement(focusTree, event.payload.focusableId)) === null || _getElement4 === void 0 ? void 0 : (_getElement4$onDown = _getElement4.onDown) === null || _getElement4$onDown === void 0 ? void 0 : _getElement4$onDown.call(_getElement4);
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_NAVIGATE_RIGHT:
            {
              var _getElement5, _getElement5$onRight;

              (_getElement5 = getElement(focusTree, event.payload.focusableId)) === null || _getElement5 === void 0 ? void 0 : (_getElement5$onRight = _getElement5.onRight) === null || _getElement5$onRight === void 0 ? void 0 : _getElement5$onRight.call(_getElement5);
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_NAVIGATE_LEFT:
            {
              var _getElement6, _getElement6$onLeft;

              (_getElement6 = getElement(focusTree, event.payload.focusableId)) === null || _getElement6 === void 0 ? void 0 : (_getElement6$onLeft = _getElement6.onLeft) === null || _getElement6$onLeft === void 0 ? void 0 : _getElement6$onLeft.call(_getElement6);
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_SHORTCUT:
            {
              const elementId = getIdFromAliasOrId(focusTree, event.payload.focusableId);
              if (elementId == null) return;
              const shortcut = getShortcut(focusTree, elementId, event.payload.shortcut);
              shortcut === null || shortcut === void 0 ? void 0 : shortcut.callback();
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_INSPECT_DOM_REF:
            {
              const element = getElement(focusTree, event.payload.focusableId);
              if ((element === null || element === void 0 ? void 0 : element.ref) == null) return;
              console.log(`[FOCUS TREE DEBUGGER]: inspecting element ${element.id}`, element.ref);
              return;
            }

          case DEBUG_MESSAGE_TYPE.BROWSER_ON_DELEGATE:
            {
              const element = getElement(focusTree, event.payload.focusableId);
              if (!isDelegatingLandmark(element) && !isRoot(element)) return;
              const delegatedFocus = element.getDelegatedFocus();

              if (delegatedFocus != null && delegatedFocus != react_facet_src.NO_VALUE) {
                handleFocusedIdChange(delegatedFocus.id);
              }

              return;
            }
        }
      });
    }
  }, [handleFocusedIdChange, focusTreeFacetRef, focusIdFacetRef]);
};

const getJSONShortcuts = (focusTree, focusedId) => {
  const shortcutsMap = getShortcutsFor(focusTree, focusedId);
  if (shortcutsMap == null) return [];
  const shortcuts = [];

  for (const [key, value] of shortcutsMap) {
    const shortcutJSON = {
      buttonType: String(key),
      inputLegend: value.inputLegend
    };
    shortcuts.push(shortcutJSON);
  }

  return shortcuts;
};

const getIsFocused = (focusTree, focusedId, elementId) => {
  const focusedElementId = getIdFromAliasOrId(focusTree, focusedId);
  return focusedElementId === elementId;
};

function debugTree(focusTree, focusedId) {
  const adaptedFocusTree = {
    elements: Array.from(focusTree.elements.entries()).map(([id, _ref]) => {
      let element = messaging_extends({}, _ref);

      if (element.type === types_FocusableType.ROOT) {
        const childrenMap = focusTree.children.get(element.id);
        const debugRoot = {
          id: element.id,
          type: types_FocusableType.ROOT,
          ref: null,
          onFocus: undefined,
          onBlur: undefined,
          onRight: undefined,
          onLeft: undefined,
          onUp: undefined,
          onDown: undefined,
          alias: undefined,
          disabled: false,
          hidden: false,
          getDelegatedFocus: true,
          disableScrollIntoView: undefined,
          scrollAxis: null,
          isFocused: getIsFocused(focusTree, focusedId, element.id),
          shortcuts: getJSONShortcuts(focusTree, element.id),
          hasChildren: childrenMap != null && childrenMap.size > 0
        };
        return [id, debugRoot];
      }

      if (element.type === types_FocusableType.LANDMARK) {
        var _ref2, _ref3, _ref4, _ref5, _ref6, _ref7;

        const childrenMap = focusTree.children.get(element.id);

        const debugContainer = messaging_objectSpread(messaging_objectSpread({
          id: element.id,
          type: types_FocusableType.LANDMARK,
          scrollAlign: element.scrollAlign,
          scrollOffset: element.scrollOffset,
          scrollSpeedFactor: element.scrollSpeedFactor,
          shouldScrollWithAnalog: element.shouldScrollWithAnalog,
          scrollIntoViewAlign: element.scrollIntoViewAlign,
          scrollIntoViewOffset: element.scrollIntoViewOffset,
          scrollIntoViewSpeedFactor: element.scrollIntoViewSpeedFactor,
          getDelegatedFocus: isDelegatingLandmark(element)
        }, isBindingLandmark(element) ? {
          shouldBindFocus: true
        } : {}), {}, {
          ref: element.ref != null,
          onFocus: (_ref2 = (element === null || element === void 0 ? void 0 : element.onFocus) && true) !== null && _ref2 !== void 0 ? _ref2 : false,
          onBlur: (_ref3 = (element === null || element === void 0 ? void 0 : element.onBlur) && true) !== null && _ref3 !== void 0 ? _ref3 : false,
          onRight: (_ref4 = (element === null || element === void 0 ? void 0 : element.onRight) && true) !== null && _ref4 !== void 0 ? _ref4 : false,
          onLeft: (_ref5 = (element === null || element === void 0 ? void 0 : element.onLeft) && true) !== null && _ref5 !== void 0 ? _ref5 : false,
          onUp: (_ref6 = (element === null || element === void 0 ? void 0 : element.onUp) && true) !== null && _ref6 !== void 0 ? _ref6 : false,
          onDown: (_ref7 = (element === null || element === void 0 ? void 0 : element.onDown) && true) !== null && _ref7 !== void 0 ? _ref7 : false,
          isFocused: getIsFocused(focusTree, focusedId, element.id),
          shortcuts: getJSONShortcuts(focusTree, element.id),
          hasChildren: childrenMap != null && childrenMap.size > 0
        });

        return [id, debugContainer];
      }

      const debugItem = messaging_objectSpread(messaging_objectSpread({}, element), {}, {
        ref: element.ref != null,
        onFocus: (element === null || element === void 0 ? void 0 : element.onFocus) != null,
        onBlur: (element === null || element === void 0 ? void 0 : element.onBlur) != null,
        onRight: (element === null || element === void 0 ? void 0 : element.onRight) != null,
        onLeft: (element === null || element === void 0 ? void 0 : element.onLeft) != null,
        onUp: (element === null || element === void 0 ? void 0 : element.onUp) != null,
        onDown: (element === null || element === void 0 ? void 0 : element.onDown) != null,
        isFocused: getIsFocused(focusTree, focusedId, element.id),
        shortcuts: getJSONShortcuts(focusTree, element.id)
      });

      return [id, debugItem];
    }),
    aliases: Array.from(focusTree.aliases.entries()),
    children: Array.from(focusTree.children.entries()).map(([id, children]) => [id, Array.from(children.values())]),
    parents: Array.from(focusTree.parents.entries()),
    history: focusTree.history,
    lastDirectionChange: focusTree.lastDirectionChange
  };
  const generalTree = focusTreeToGeneralTree(adaptedFocusTree);

  if (window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__ != null) {
    window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__.send({
      type: DEBUG_MESSAGE_TYPE.TREE_UPDATE,
      payload: {
        focusedId,
        generalTree
      }
    });
  }
}
;// CONCATENATED MODULE: ./packages/react-gamepad-driver-visual/src/setupInput/throttleByName.ts

const throttleByName_FIRST_THROTTLE_DELAY = 400;
const throttleByName_MEDIUM_THROTTLE_RATE = 100;
const throttleByName_FAST_THROTTLE_RATE = 40;
/**
 * How many presses we should have triggered before going to fast speed
 */

const throttleByName_FAST_REPETITION_COUNT_WAIT = 16;
function constructThrottleByName() {
  const timestamps = throttleByName_initMetrics();
  const pressCounts = throttleByName_initMetrics();
  return (buttonType, pressed, gamepadIndex) => {
    if (!pressed) {
      timestamps[gamepadIndex][buttonType] = 0;
      pressCounts[gamepadIndex][buttonType] = 0;
    } else {
      const now = Date.now();
      const timestamp = timestamps[gamepadIndex][buttonType] || 0;
      const pressCount = pressCounts[gamepadIndex][buttonType] || 0;
      const delta = now - timestamp;

      if (pressCount === 0) {
        timestamps[gamepadIndex][buttonType] = now;
        pressCounts[gamepadIndex][buttonType] = 1;
        return buttonType;
      }

      if (pressCount === 1 && delta > throttleByName_FIRST_THROTTLE_DELAY) {
        timestamps[gamepadIndex][buttonType] = now;
        pressCounts[gamepadIndex][buttonType] = 2;
        return buttonType;
      }

      if (pressCount > 1 && pressCount < throttleByName_FAST_REPETITION_COUNT_WAIT && delta > throttleByName_MEDIUM_THROTTLE_RATE) {
        timestamps[gamepadIndex][buttonType] = now;
        pressCounts[gamepadIndex][buttonType] = pressCount + 1;
        return buttonType;
      }

      if (pressCount > throttleByName_FAST_REPETITION_COUNT_WAIT - 1 && delta > throttleByName_FAST_THROTTLE_RATE) {
        timestamps[gamepadIndex][buttonType] = now;
        pressCounts[gamepadIndex][buttonType] = pressCount + 1;
        return buttonType;
      }
    }
  };
}

const throttleByName_initMetrics = () => {
  const metrics = {
    0: throttleByName_initButtons(),
    1: throttleByName_initButtons(),
    2: throttleByName_initButtons(),
    3: throttleByName_initButtons()
  };
  return metrics;
};

const throttleByName_initButtons = () => {
  return {
    [ButtonType.A]: 0,
    [ButtonType.B]: 0,
    [ButtonType.X]: 0,
    [ButtonType.Y]: 0,
    [ButtonType.START]: 0,
    [ButtonType.SELECT]: 0,
    [ButtonType.XBOX]: 0,
    [ButtonType.RIGHT_TRIGGER]: 0,
    [ButtonType.LEFT_TRIGGER]: 0,
    [ButtonType.LEFT_BUMPER]: 0,
    [ButtonType.RIGHT_BUMPER]: 0,
    [ButtonType.L3]: 0,
    [ButtonType.R3]: 0,
    [ButtonType.LEFT]: 0,
    [ButtonType.RIGHT]: 0,
    [ButtonType.UP]: 0,
    [ButtonType.DOWN]: 0,
    [ButtonType.NEXT]: 0,
    [ButtonType.PREV]: 0,
    [ButtonType.LEFT_ANALOG_LEFT]: 0,
    [ButtonType.LEFT_ANALOG_RIGHT]: 0,
    [ButtonType.LEFT_ANALOG_UP]: 0,
    [ButtonType.LEFT_ANALOG_DOWN]: 0,
    [ButtonType.RIGHT_ANALOG_LEFT]: 0,
    [ButtonType.RIGHT_ANALOG_RIGHT]: 0,
    [ButtonType.RIGHT_ANALOG_UP]: 0,
    [ButtonType.RIGHT_ANALOG_DOWN]: 0,
    [ButtonType.LEFT_HORIZONTAL_AXIS]: 0,
    [ButtonType.LEFT_VERTICAL_AXIS]: 0,
    [ButtonType.RIGHT_HORIZONTAL_AXIS]: 0,
    [ButtonType.RIGHT_VERTICAL_AXIS]: 0,
    [ButtonType.PSEUDO_BUTTON_1]: 0,
    [ButtonType.PSEUDO_BUTTON_2]: 0,
    [ButtonType.PSEUDO_BUTTON_3]: 0,
    [ButtonType.PSEUDO_BUTTON_4]: 0,
    [ButtonType.PSEUDO_BUTTON_5]: 0,
    [ButtonType.PSEUDO_BUTTON_6]: 0,
    [ButtonType.PSEUDO_BUTTON_7]: 0,
    [ButtonType.PSEUDO_BUTTON_8]: 0,
    [ButtonType.PSEUDO_BUTTON_9]: 0,
    [ButtonType.PSEUDO_BUTTON_10]: 0
  };
};
;// CONCATENATED MODULE: ./packages/react-gamepad-driver-visual/src/setupInput/setupGamepads.ts




const setupGamepads_ACTION_BUTTONS_INDEX = ACTION_BUTTONS.map(name => BUTTON_MAP.indexOf(name));
const setupGamepads_DIRECTIONAL_BUTTONS_INDEX = DIRECTIONAL_BUTTONS.map(name => BUTTON_MAP.indexOf(name));
/**
 * Setup pooling for the gamepad button states.
 *
 * This code is extremely performance sensitive, so be mindful of any changes and measure the performance
 * on a performance sensitive device (ex: Xbox One)
 */

function setupGamepads_setupGamepads(onPress, onWiggle, controllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons) {
  const throttleByName = constructThrottleByName();
  const toggleByName = constructToggleByName();
  const mappedActionButtonsIndex = ACTION_BUTTONS.map(name => BUTTON_MAP.indexOf(setupGamepads_mapButton(name, swapABButtons, swapXYButtons)));
  const checkGamepad = constructCheckGamepad(toggleByName, throttleByName, mappedActionButtonsIndex, onWiggle, onPress);
  return constructTick(acceptInputFromAllControllers, checkGamepad, controllerId);
}
/**
 * Tick that runs every frame and can either be
 * - Accepting input from all controllers
 * - Accept input from one specific controller
 */

const constructTick = (acceptInputFromAllControllers, checkGamepad, controllerId) => {
  let handler;

  const tick = () => {
    try {
      const gamepads = getGamepads();

      if (acceptInputFromAllControllers) {
        const first = gamepads[0];
        const second = gamepads[1];
        const third = gamepads[2];
        const fourth = gamepads[3];
        if (first != null) checkGamepad(first);
        if (second != null) checkGamepad(second);
        if (third != null) checkGamepad(third);
        if (fourth != null) checkGamepad(fourth);
      } else {
        // We use a regular for loop here instead of a for of loop
        // since it's measurably faster. More context here:
        // https://github.com/Mojang/minecraft-ui/pull/2155
        for (let i = 0; i < gamepads.length; i++) {
          const gamepad = gamepads[i];

          if (gamepad != null && controllerId === gamepad.id) {
            checkGamepad(gamepad);
            break;
          }
        }
      }

      handler = requestAnimationFrame(tick);
    } catch (e) {
      console.log('Error handling gamepad input', e);
    }
  };

  handler = requestAnimationFrame(tick);
  return () => {
    cancelAnimationFrame(handler);
  };
};
/**
 * Check an individual gamepad for its presses states and axes values and fire the
 * throttled or toggles callbacks
 */


const constructCheckGamepad = (toggleByName, throttleByName, mappedActionButtonsIndex, onWiggle, onPress) => gamepad => {
  const buttons = gamepad.buttons;
  const gamepadIndex = gamepad.index;

  for (let index = 0; index < setupGamepads_ACTION_BUTTONS_INDEX.length; index++) {
    const name = toggleByName(BUTTON_MAP[mappedActionButtonsIndex[index]], buttons[setupGamepads_ACTION_BUTTONS_INDEX[index]].pressed, gamepadIndex);

    if (name != null) {
      onPress(name, FocusOrigin.FocusInput);
    }
  }

  for (let index = 0; index < setupGamepads_DIRECTIONAL_BUTTONS_INDEX.length; index++) {
    const buttonIndex = setupGamepads_DIRECTIONAL_BUTTONS_INDEX[index];
    const name = throttleByName(BUTTON_MAP[buttonIndex], buttons[buttonIndex].pressed, gamepadIndex);

    if (name != null) {
      onPress(name, FocusOrigin.FocusInput);
    }
  }

  const axes = [];
  const length = gamepad.axes.length;

  for (let index = 0; index < length; index++) {
    const value = gamepad.axes[index];

    if (value > -0.16 && value < 0.16) {
      axes.push(0);
      continue;
    }

    const map = AXIS_MAP[index];
    const name1 = throttleByName(map[0], value < -setupGamepads_AXIS_TRIGGER_LIMIT, gamepadIndex);

    if (name1 != null) {
      onPress(name1, FocusOrigin.FocusInput);
    }

    const name2 = throttleByName(map[1], value > setupGamepads_AXIS_TRIGGER_LIMIT, gamepadIndex);

    if (name2 != null) {
      onPress(name2, FocusOrigin.FocusInput);
    }

    axes.push(value);
  }

  onWiggle(axes);
};

const setupGamepads_AXIS_TRIGGER_LIMIT = 0.5;

const constructToggleByName = () => {
  const pressStates = {
    0: {},
    1: {},
    2: {},
    3: {}
  };
  return (name, pressed, index) => {
    const wasPressed = pressStates[index][name];

    if (pressed === wasPressed) {
      return;
    }

    if (pressed) {
      pressStates[index][name] = true;

      if (wasPressed != null) {
        return name;
      }
    } else {
      pressStates[index][name] = false;
    }
  };
};

const setupGamepads_mapButton = (button, swapABButtons, swapXYButtons) => {
  if (button === ButtonType.Y && swapXYButtons) return ButtonType.X;
  if (button === ButtonType.X && swapXYButtons) return ButtonType.Y;
  if (button === ButtonType.A && swapABButtons) return ButtonType.B;
  if (button === ButtonType.B && swapABButtons) return ButtonType.A;
  return button;
};
;// CONCATENATED MODULE: ./packages/react-gamepad-driver-visual/src/driver.ts



const src_driver_driver = (onPress, onWiggle, gameControllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons, keyToGamepad) => {
  const disposeGamepads = setupGamepads_setupGamepads(onPress, onWiggle, gameControllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons);

  const keyboardEventHandler = event => {
    var _keyToGamepad$current;

    // If an element in the DOM is focused, stop navigation from the keyboard input
    if (document.activeElement !== document.body || keyToGamepad == null) return; // Gameface does not support the new standard `key`, so we read the `keyCode` instead

    const buttonType = (_keyToGamepad$current = keyToGamepad.current) === null || _keyToGamepad$current === void 0 ? void 0 : _keyToGamepad$current[event.keyCode];

    if (buttonType != null) {
      event.preventDefault();
      onPress(buttonType, FocusOrigin.FocusInput); // Don't fall through to the explicit handling of tab key below.
      // If the tab key is mapped to a gamepad button it will clash.

      return;
    } // Support for using the "tab" key to navigate the focus.
    // Key is being fired as a string on Jest.


    if (event.keyCode === types_KeyboardKey.TAB) {
      event.preventDefault();
      onPress(event.shiftKey ? ButtonType.PREV : ButtonType.NEXT, FocusOrigin.FocusInput);
      return;
    }
  }; // NOTE: this one could benefit from calling the requestFocusIdUpdate, since it should reset the navigation direction information


  const mouseEventHandler = event => {
    const button = mapMouseButtonToButtonType[event.button];

    if (button != null) {
      onPress(button, FocusOrigin.PointerInput);
    }
  };

  document.addEventListener('keydown', keyboardEventHandler);
   true && document.addEventListener('mousedown', mouseEventHandler);
  return () => {
    document.removeEventListener('keydown', keyboardEventHandler);
    disposeGamepads();
     true && document.removeEventListener('mousedown', mouseEventHandler);
  };
};
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/components/GamepadProvider/setupScrollIntoView.tsx


/**
 * Setups the scrollIntoView function
 * It keeps a local state of previous running animations so that it cancel between scroll requests
 */

function setupScrollIntoView_setupScrollIntoView() {
  const runningAnimations = new Map();
  /**
   * Implementation that takes a list with a focusable and its ancestors and triggers animations
   * It supports:
   * - multiple levels of nesting (column inside a row, for example)
   * - animations to continue when switching between different sections of the focus tree
   *
   * Returns a cleanup function that can be used to stop all previously running animations
   */

  return (focusable, ancestors, disabledTransition) => {
    ancestors.forEach(containerNode => {
      var _ref, _focusable$scrollSpee, _container$scrollInto, _focusable$scrollOffs;

      const container = containerNode;

      if (container.type === types_FocusableType.ROOT) {
        return;
      }

      if (container.scrollAxis == null || focusable.disableScrollIntoView === true) {
        return;
      }

      if (focusable.ref == null) {
        if (false) {}

        return;
      }

      if (container.ref == null) {
        if (false) {}

        return;
      }

      const existingStop = runningAnimations.get(container.id);

      if (existingStop) {
        existingStop();
        runningAnimations.delete(container.id);
      }

      const {
        scrollIntoView,
        stopScrolling
      } = createScrollingManager({
        disabledTransition,
        speedFactor: (_ref = (_focusable$scrollSpee = focusable.scrollSpeedFactor) !== null && _focusable$scrollSpee !== void 0 ? _focusable$scrollSpee : container.scrollIntoViewSpeedFactor) !== null && _ref !== void 0 ? _ref : 1,
        align: (focusable.scrollAlign ? focusable.scrollAlign : container.scrollIntoViewAlign) || 'center',
        scrollOffset: ((_container$scrollInto = container.scrollIntoViewOffset) !== null && _container$scrollInto !== void 0 ? _container$scrollInto : 0) + ((_focusable$scrollOffs = focusable.scrollOffset) !== null && _focusable$scrollOffs !== void 0 ? _focusable$scrollOffs : 0),
        axis: container.scrollAxis === ScrollAxis.HORIZONTAL ? 'x' : 'y'
      });
      scrollIntoView(container.ref, focusable.ref);
      runningAnimations.set(container.id, stopScrolling);
    });
    /**
     * Cleanup function that stops all running animations
     */

    return () => {
      for (const stopScrolling of runningAnimations.values()) {
        stopScrolling();
      }

      runningAnimations.clear();
    };
  };
}
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/components/GamepadProvider/temporaryHelpers.ts


const temporaryHelpers_scrollIntoView = setupScrollIntoView_setupScrollIntoView();
const scrollIntoFocused = (focusTree, focusedId, disabledTransition) => {
  if (focusedId == null) return;
  const focusedNodeId = getIdFromAliasOrId(focusTree, focusedId);
  if (focusedNodeId == null) return;
  const focusable = focusTree.elements.get(focusedNodeId);
  if (!focusable || focusable.type == types_FocusableType.ROOT) return;
  const ancestors = getAncestorNodes(focusTree, focusedNodeId);
  return temporaryHelpers_scrollIntoView(focusable, ancestors, disabledTransition);
};
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/focusTree/localQueries.ts


function localQueries_findInputLegends(focusTree, focusedId) {
  const result = {};
  const elementId = getIdFromAliasOrId(focusTree, focusedId);

  if (elementId == null) {
    return result;
  }

  for (const actionButton of INPUT_LEGEND_BUTTONS) {
    var _getShortcut;

    const inputLegend = (_getShortcut = getShortcut(focusTree, elementId, actionButton)) === null || _getShortcut === void 0 ? void 0 : _getShortcut.inputLegend;

    if (inputLegend != null) {
      result[actionButton] = inputLegend;
    }
  }

  return result;
}
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/context/isNavigationDisabled.tsx


const isNavigationDisabledContext = (0,react.createContext)([(0,react_facet_src.createStaticFacet)(true), () => {}]);
const useDisableNavigation = () => useContext(isNavigationDisabledContext);
const ToggleNavigationProvider = ({
  isNavigationDisabledFacet,
  setIsNavigationDisabled,
  children
}) => {
  const value = (0,react.useMemo)(() => [isNavigationDisabledFacet, setIsNavigationDisabled], [isNavigationDisabledFacet, setIsNavigationDisabled]);
  return /*#__PURE__*/react.createElement(isNavigationDisabledContext.Provider, {
    value: value
  }, children);
};
;// CONCATENATED MODULE: ./packages/react-gamepad-visual/src/components/GamepadProvider/GamepadProvider.tsx


function GamepadProvider_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function GamepadProvider_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { GamepadProvider_ownKeys(Object(source), true).forEach(function (key) { GamepadProvider_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { GamepadProvider_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function GamepadProvider_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










const ANALOG_SCROLL_MAX_SPEED = 20;
const INITIAL_PATH = [ROOT_NODE_ID];

/**
 * Provider that enables the gamepad focus capability around a React component tree.
 */
function GamepadProvider_GamepadProvider({
  children,
  driver = src_driver_driver,
  initialFocusTree,
  initialFocusedId,
  notifyFocusRequest,
  onFocusedIdChange,
  gameControllerId = '0',
  acceptInputFromAllControllers = false,
  swapABButtons = false,
  swapXYButtons = false,
  disabledTransition = false,
  keyboardGamepadMap
}) {
  const [isNavigationDisabledFacet, setIsNavigationDisabled] = (0,react_facet_src.useFacetState)(false);
  const actualInitialFocusedId = {
    id: initialFocusedId != null ? initialFocusedId : ROOT_NODE_ID,
    origin: FocusOrigin.Initial
  };
  const [focusedFacet, setFocusedFacet] = (0,react_facet_src.useFacetState)(actualInitialFocusedId);
  const focusedRef = (0,react.useRef)(actualInitialFocusedId);
  const setFocusedId = (0,react.useCallback)((newFocusedId, origin) => {
    const newValue = {
      id: newFocusedId,
      origin
    };
    focusedRef.current = newValue;
    setFocusedFacet(newValue);
  }, [focusedRef, setFocusedFacet]);
  const lastFocusOriginFacet = (0,react_facet_src.useFacetMap)(focused => focused.origin, [], [focusedFacet]);
  const focusTree = (0,react.useMemo)(() => initialFocusTree == null ? getFreshTree() : initialFocusTree, [initialFocusTree]);
  const [debugFocusTreeFacet, setDebugFocusTreeFacet] = (0,react_facet_src.useFacetState)(focusTree);
  const [inputLegends, setInputLegends] = (0,react_facet_src.useFacetState)(localQueries_findInputLegends(focusTree, initialFocusedId));
  const [keyboardGamepadMapFacet, setKeyboardGamepadMap] = (0,react_facet_src.useFacetState)(keyboardGamepadMap);
  const keyToGamepadFacet = (0,react_facet_src.useFacetMap)(keyboardGamepadMap => Object.entries(keyboardGamepadMap).reduce((acc, [buttonType, buttonValues]) => {
    const keys = buttonValues.reduce((acc, buttonValue) => GamepadProvider_objectSpread(GamepadProvider_objectSpread({}, acc), {}, {
      [buttonValue]: buttonType
    }), {});
    return GamepadProvider_objectSpread(GamepadProvider_objectSpread({}, acc), keys);
  }, {}), [], [keyboardGamepadMapFacet]);
  const keyToGamepadRef = (0,react.useRef)(undefined);
  (0,react_facet_src.useFacetEffect)(keyToGamepad => {
    keyToGamepadRef.current = keyToGamepad;
  }, [], [keyToGamepadFacet]);
  const isLastInputFocus = useIsLastInputFocus(); // Central place to handle updates of the focus to a new focused id

  const handleFocusedChange = (0,react_facet_src.useFacetCallback)(isLastInputFocus => (newFocusedId, newFocusedOrigin) => {
    if (newFocusedId != null && focusedRef.current.id !== newFocusedId) {
      const previousId = getIdFromAliasOrId(focusTree, focusedRef.current.id); // Update local record of the focused id

      setFocusedId(newFocusedId, newFocusedOrigin); // Notify external listeners of the focused id change, for example
      // for updating the URL

      onFocusedIdChange(newFocusedId); // Notify the ancestors of this element that its child was focused

      notifyAncestorsOfDecedentFocus(focusTree, newFocusedId, newFocusedOrigin); // Notify the nodes of onFocus and onBlur, and
      // store current values as the next previous values

      nofifyNodesOfBlurAndFocus(focusTree, previousId, newFocusedId); // Update the input legends according to the ones calculated for the new
      // focused id

      setInputLegends(localQueries_findInputLegends(focusTree, newFocusedId)); // If necessary, request the scroll to move to center the current focused element.
      // We keep a reference to the canceling operation to be able to cancel if
      // another event starts scrolling before the animated transition is over

      if (isLastInputFocus) {
        cancelScrollRef.current = scrollIntoFocused(focusTree, newFocusedId, disabledTransition);
      }
    }
  }, [setFocusedId, onFocusedIdChange, focusTree, setInputLegends, disabledTransition, focusedRef], [isLastInputFocus]);
  const requestFocusIdUpdate = (0,react_facet_src.useFacetCallback)(oldFocusedId => (newFocusedId, origin, isDefault) => {
    resetNavigationDirection(focusTree);

    if (isDefault) {
      const oldId = getIdFromAliasOrId(focusTree, oldFocusedId.id);

      if (oldId != null) {
        if (isNodeEnabled(focusTree, oldId)) {
          return () => {};
        }

        const oldElement = focusTree.elements.get(oldId);

        if (oldElement != null && oldElement.type === types_FocusableType.ITEM) {
          return () => {};
        }
      }
    }

    handleFocusedChange(newFocusedId, origin);
    return () => {
      resetNavigationDirection(focusTree);

      if (isNodeEnabled(focusTree, oldFocusedId.id)) {
        handleFocusedChange(oldFocusedId.id, oldFocusedId.origin);
      }
    };
  }, [handleFocusedChange, focusTree], [focusedFacet]);
  const imperativeSetFocusedId = (0,react.useCallback)((newFocusedId, isDefault, origin = FocusOrigin.ImperativeSetFocus) => {
    // Focusing something disabled
    // is always a bug. We might avoid some bugs by preventing focused to
    // be (probably manually) moved to a disabled item.
    if (!isNodeEnabled(focusTree, newFocusedId)) {
      if (false) {}

      return () => {};
    }

    return requestFocusIdUpdate(newFocusedId, origin, isDefault);
  }, [requestFocusIdUpdate, focusTree, focusedRef]);
  const focusTreeAPI = (0,react.useMemo)(() => {
    return {
      press(button, origin) {
        const focusedId = getIdFromAliasOrId(focusTree, focusedRef.current.id);

        if (focusedId != null) {
          const didFireShortcut = fireShortcut(focusTree, focusedId, button);
          if (didFireShortcut) return;
        }

        if (button in mapButtonToArrow) {
          const arrow = mapButtonToArrow[button];

          if (arrow != null) {
            var _getAlias;

            if (focusedId != null) {
              const didFireHandler = fireHandler(focusTree, focusedId, arrow);
              if (didFireHandler) return;
            }

            const newFocusedId = navigate_navigateToDirection(focusTree, focusedId, arrow);
            handleFocusedChange((_getAlias = getAlias(focusTree, newFocusedId)) !== null && _getAlias !== void 0 ? _getAlias : newFocusedId, origin);
          }

          return;
        }

        switch (button) {
          case ButtonType.A:
            // go deeper
            click(focusTree, focusedId);
            return;

          case ButtonType.B:
            // go to parent
            return;

          case ButtonType.NEXT:
            {
              const nextId = legacyNavigateToAdjacentElement(focusTree, focusedId, false);

              if (nextId != null) {
                handleFocusedChange(nextId, FocusOrigin.FocusInput);
              }

              return;
            }

          case ButtonType.PREV:
            {
              const nextId = legacyNavigateToAdjacentElement(focusTree, focusedId, true);

              if (nextId != null) {
                handleFocusedChange(nextId, FocusOrigin.FocusInput);
              }

              return;
            }
        }
      },

      putNode(element, parentId) {
        const focused = focusedRef.current; // We don't want to change the focus id via tree mutation if 1) the focused
        // id is from a deep link (from URL or set as the initial id)
        // and 2) the id has not been added to the focus tree yet.

        const isFromDeepLink = focused.id != null && focused.id != ROOT_NODE_ID && (focused.origin === FocusOrigin.URL || focused.origin === FocusOrigin.Initial);
        const shouldSuggestNewId = !isFromDeepLink || focused.id != null;
        const newFocusSuggestion = putFocusable(focusTree, element, parentId, focusedRef.current, shouldSuggestNewId);

        if (newFocusSuggestion != null) {
          handleFocusedChange(newFocusSuggestion.id, FocusOrigin.FocusTreeMutation);
        }

        setDebugFocusTreeFacet(focusTree);
      },

      putShortcut(elementId, actionButton, shortcut) {
        putShortcut(focusTree, elementId, actionButton, shortcut);
        setDebugFocusTreeFacet(focusTree);
      },

      removeNode(elementId) {
        const newFocusSuggestion = removeFocusable(focusTree, elementId, focusedRef.current);

        if (newFocusSuggestion != null) {
          handleFocusedChange(newFocusSuggestion.id, FocusOrigin.FocusTreeMutation);
        }

        setDebugFocusTreeFacet(focusTree);
      },

      removeShortcut(elementId, actionButton) {
        removeShortcut(focusTree, elementId, actionButton);
        setDebugFocusTreeFacet(focusTree);
      },

      isFocused(elementId, alias) {
        return elementId === focusedRef.current.id || alias != null && alias === focusedRef.current.id;
      },

      isFocusable: focusableId => {
        // TODO: Need to consolidate the checks from `navigateToDirection()` into here as well. We need to understand which should be shared.
        return isNodeEnabled(focusTree, focusableId);
      },
      getElement: elementId => getElement(focusTree, getIdFromAliasOrId(focusTree, elementId)),
      isAncestorOf: (parentId, elementId) => isAncestorOf(focusTree, parentId, elementId),
      getDynasty: elementId => focusTree.dynasty.get(elementId),
      getEnabledBindingLandmarkDescendant: elementId => {
        return getEnabledBindingLandmarkDescendant(focusTree, elementId);
      }
    };
  }, [focusedRef, focusTree, handleFocusedChange, setDebugFocusTreeFacet]);
  const focusedIdFacet = (0,react_facet_src.useFacetMap)(focused => focused.id, [], [focusedFacet]);
  const setFocusFromDebugTool = (0,react.useCallback)(id => handleFocusedChange(id, FocusOrigin.DebugTool), [handleFocusedChange]);
  useDebugFocusTreeExtension(debugFocusTreeFacet, focusedIdFacet, setFocusFromDebugTool);
  const analogListenersRef = (0,react.useRef)([]);
  const digitalListenersRef = (0,react.useRef)([]);
  const invokeCurrentCallback = (0,react.useCallback)(actionButton => {
    const focused = focusedRef.current;
    const focusedNumberId = getIdFromAliasOrId(focusTree, focused.id);
    if (focusedNumberId == null) return;
    const handler = getShortcutHandler(focusTree, focusedNumberId, actionButton);
    handler === null || handler === void 0 ? void 0 : handler();
  }, [focusTree]);
  const cancelScrollRef = (0,react.useRef)(undefined);
  const onPress = (0,react.useCallback)((button, origin = FocusOrigin.Unknown) => {
    digitalListenersRef.current.forEach(digitalListener => digitalListener(button));
    focusTreeAPI.press(button, origin);
  }, [focusTreeAPI]);
  const onWiggle = (0,react.useCallback)(axes => {
    analogListenersRef.current.forEach(analogListener => analogListener(axes));
    const didWiggleCauseScroll = wiggleScrollables(focusTree, focusedRef.current.id, axes, ANALOG_SCROLL_MAX_SPEED);
    if (didWiggleCauseScroll && cancelScrollRef.current) cancelScrollRef.current();
  }, [focusTree, analogListenersRef, focusedRef]);
  (0,react_facet_src.useFacetLayoutEffect)(isNavigationDisabled => {
    // NOTE: If we in the future would disable / enable navigation based on shared input facet state
    // then we might end up in a race condition between registering the driver and determining initial
    // focus state. In case that happens it can be solved by waiting a frame (using requestAnimationFrame)
    // before initializing the driver below.
    return !isNavigationDisabled ? driver(onPress, onWiggle, gameControllerId, acceptInputFromAllControllers, swapABButtons, swapXYButtons, keyToGamepadRef) : undefined;
  }, [gameControllerId, driver, onWiggle, onPress, acceptInputFromAllControllers, swapABButtons, swapXYButtons, keyToGamepadRef], [isNavigationDisabledFacet]);
  const cursorAPI = (0,react.useMemo)(() => {
    const cursorAPI = {
      addAnalogListener: analogListener => {
        analogListenersRef.current = [...analogListenersRef.current, analogListener];
        return () => {
          analogListenersRef.current = without_default()([analogListener], analogListenersRef.current);
        };
      },
      addDigitalListener: digitalListener => {
        digitalListenersRef.current = [...digitalListenersRef.current, digitalListener];
        return () => {
          digitalListenersRef.current = without_default()([digitalListener], digitalListenersRef.current);
        };
      },
      clickAtPoint: (x, y) => {
        clickFocusableAtPoint(focusTree, x, y);
      },
      focusAtPoint: (x, y) => {
        var _focusable$alias;

        const focusable = visualQueries_findClickableFocusableAtPoint(focusTree, x, y);
        const focusableId = (_focusable$alias = focusable === null || focusable === void 0 ? void 0 : focusable.alias) !== null && _focusable$alias !== void 0 ? _focusable$alias : focusable === null || focusable === void 0 ? void 0 : focusable.id;

        if (focusableId != null) {
          requestFocusIdUpdate(focusableId, FocusOrigin.PointerInput);
        }
      }
    };
    return cursorAPI;
  }, [requestFocusIdUpdate, focusTree]); // Prevent buttonMap to be created on every render by using useMemo,
  // which would trigger an update on any consumer of the ButtonMapProvider context provider below

  const buttonMap = (0,react.useMemo)(() => ({
    swapABButtons,
    swapXYButtons
  }), [swapABButtons, swapXYButtons]);
  const keyboardGamepadMapValue = (0,react.useMemo)(() => [keyboardGamepadMapFacet, setKeyboardGamepadMap], [keyboardGamepadMapFacet, setKeyboardGamepadMap]); // Using a layout effect since we want this to run before we render components further down
  // in the tree that will mutate the focus tree. Can't use a useMemo since then requestFocusIdUpdate
  // isn't initialized yet (by useFacetCallback)

  (0,react.useLayoutEffect)(() => {
    if (notifyFocusRequest == null) return () => {}; // Note that we are using requestFocusIdUpdate here instead of imperativeSetFocusedId since we want to
    // be able to be able to deep link to a particular focused id from the URL. However, at that point we don't
    // know if the full tree is constructed yet or not, so we just set the focused id regardless if it is in the
    // tree, disabled etc.

    return notifyFocusRequest(newFocusedId => requestFocusIdUpdate(newFocusedId, FocusOrigin.URL));
  }, [requestFocusIdUpdate, notifyFocusRequest]);
  return /*#__PURE__*/react.createElement(ToggleNavigationProvider, {
    isNavigationDisabledFacet: isNavigationDisabledFacet,
    setIsNavigationDisabled: setIsNavigationDisabled
  }, /*#__PURE__*/react.createElement(PathContext.Provider, {
    value: INITIAL_PATH
  }, /*#__PURE__*/react.createElement(keyboardGamepadMapContext.Provider, {
    value: keyboardGamepadMapValue
  }, /*#__PURE__*/react.createElement(setFocusedIdContext.Provider, {
    value: imperativeSetFocusedId
  }, /*#__PURE__*/react.createElement(lastFocusOriginContext.Provider, {
    value: lastFocusOriginFacet
  }, /*#__PURE__*/react.createElement(ButtonMapProvider, {
    value: buttonMap
  }, /*#__PURE__*/react.createElement(FocusTreeAPIProvider, {
    value: focusTreeAPI
  }, /*#__PURE__*/react.createElement(CursorAPIProvider, {
    value: cursorAPI
  }, /*#__PURE__*/react.createElement(AvailableInputLegendsProvider, {
    value: inputLegends
  }, /*#__PURE__*/react.createElement(InvokeCurrentCallbackProvider, {
    value: invokeCurrentCallback
  }, children))))))))));
}
;// CONCATENATED MODULE: ./packages/react-gamepad/src/GamepadProvider.tsx
function GamepadProvider_extends() { GamepadProvider_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return GamepadProvider_extends.apply(this, arguments); }






// Static facet holding a false value
const falseFacet = (0,react_facet_src.createStaticFacet)(false);
function src_GamepadProvider_GamepadProvider(props) {
  const {
    version: gamepadVersion
  } = useGamepadAdapter();
  const [focusedIdFacet, setFocusedId] = (0,react_facet_src.useFacetState)(undefined);
  const {
    disabledNavigation,
    notifyFocusRequest,
    onFocusedIdChange
  } = props;
  const mappedFocusedIdFacet = (0,react_facet_src.useFacetMap)((disabledNavigation, focusedId) => disabledNavigation !== true ? focusedId : undefined, [], [(0,react_facet_src.useFacetWrap)(disabledNavigation !== null && disabledNavigation !== void 0 ? disabledNavigation : falseFacet), focusedIdFacet]);
  (0,react.useEffect)(() => {
    if (notifyFocusRequest == null) return () => {};
    const cleanup = notifyFocusRequest(focusedId => {
      setFocusedId(focusedId);
    });
    return cleanup;
  }, [notifyFocusRequest, setFocusedId]);
  const legacyOnFocusedIdChange = (0,react.useCallback)(newFocusedId => {
    setFocusedId(newFocusedId);
    onFocusedIdChange(newFocusedId);
  }, [setFocusedId, onFocusedIdChange]);

  if (gamepadVersion === GamepadAdapterVersion.LEGACY) {
    return /*#__PURE__*/react.createElement(GamepadProvider, GamepadProvider_extends({
      focusedId: mappedFocusedIdFacet
    }, props, {
      onFocusedIdChange: legacyOnFocusedIdChange,
      mostRecentlyFocusedId: focusedIdFacet
    }));
  }

  return /*#__PURE__*/react.createElement(GamepadProvider_GamepadProvider, props);
}
;// CONCATENATED MODULE: ./packages/react-localization/src/useIsLocaleRtl.tsx


const useIsLocaleRtl = () => {
  return (0,react.useContext)(LocalizationContext).isRtl;
};
;// CONCATENATED MODULE: ./packages/engine/src/facets/inputFacet.ts

const INPUT_FACET = 'core.input';
/**
 * React Hook that requests the facet
 */

const inputFacet = (0,react_facet_src.sharedFacet)(INPUT_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/facets/animationFacet.ts

const ANIMATION_FACET = 'core.animation';
const animationFacet = (0,react_facet_src.sharedFacet)(ANIMATION_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/facets/splitScreenFacet.ts

let SplitScreenDirection;

(function (SplitScreenDirection) {
  SplitScreenDirection[SplitScreenDirection["HORIZONTAL"] = 0] = "HORIZONTAL";
  SplitScreenDirection[SplitScreenDirection["VERTICAL"] = 1] = "VERTICAL";
})(SplitScreenDirection || (SplitScreenDirection = {}));

const SPLIT_SCREEN_FACET = 'core.splitScreen';
/**
 * React Hook that requests the facet
 */

const splitScreenFacet = (0,react_facet_src.sharedFacet)(SPLIT_SCREEN_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/GamepadEngineProvider.tsx









/**
 * Provider that setups the Gamepad to be used by the RouterEngineProvider
 * differently than other "engine provider", this has some required props that are to be used by another provider
 *
 * It should not be moved outside of this folder
 */
function GamepadEngineProvider({
  notifyFocusRequest,
  onFocusedIdChange,
  onFocusedIdChangeFail,
  children,
  keyboardGamepadMap,
  isInputLegendClickable
}) {
  const animation = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(animationFacet));
  const splitScreen = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(splitScreenFacet));
  const isRtl = useIsLocaleRtl();
  const acceptInputFromAllControllers = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useFacetMap)(input => input.acceptInputFromAllControllers, [], [(0,react_facet_src.useSharedFacet)(inputFacet)]));
  const gameControllerId = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useFacetMap)(input => input.gameControllerId, [], [(0,react_facet_src.useSharedFacet)(inputFacet)]));
  const swapABButtons = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useFacetMap)(input => input.swapABButtons, [], [(0,react_facet_src.useSharedFacet)(inputFacet)]));
  const swapXYButtons = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useFacetMap)(input => input.swapXYButtons, [], [(0,react_facet_src.useSharedFacet)(inputFacet)]));
  const disabledNavigation = (0,react_facet_src.useFacetMap)(isLastInputFocus => !isLastInputFocus, [], [useIsLastInputFocus()]);

  if (acceptInputFromAllControllers == react_facet_src.NO_VALUE || gameControllerId == react_facet_src.NO_VALUE || swapABButtons == react_facet_src.NO_VALUE || swapXYButtons == react_facet_src.NO_VALUE || animation === react_facet_src.NO_VALUE || isRtl == null || splitScreen === react_facet_src.NO_VALUE) {
    return null;
  } // Performance while running the game in split screen is degraded,
  // so we disable animations to a more snappy UI


  const disabledTransition = !animation.screenAnimationEnabled || splitScreen.numActivePlayers > 1;
  return /*#__PURE__*/react.createElement(src_GamepadProvider_GamepadProvider, {
    notifyFocusRequest: notifyFocusRequest,
    onFocusedIdChange: onFocusedIdChange,
    onFocusedIdChangeFail: onFocusedIdChangeFail,
    disabledNavigation: disabledNavigation,
    acceptInputFromAllControllers: acceptInputFromAllControllers,
    gameControllerId: gameControllerId,
    swapABButtons: swapABButtons,
    swapXYButtons: swapXYButtons,
    disabledTransition: disabledTransition,
    isRtl: isRtl,
    keyboardGamepadMap: keyboardGamepadMap,
    isInputLegendClickable: isInputLegendClickable
  }, children);
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/RouterEngineProvider.tsx










/**
 * Provider that setups our routing and gamepad infrastructure, given the focus is tied to navigating URLs in the application.
 */
function RouterEngineProvider({
  children,
  keyboardGamepadMap,
  isInputLegendClickable
}) {
  var _semanticTokens$sound, _semanticTokens$sound2;

  const sharedFacetDriver = (0,react.useContext)(react_facet_src.sharedFacetDriverContext);
  const [history, setHistory] = (0,react.useState)(null);
  (0,react.useLayoutEffect)(() => {
    createEngineHistory(setHistory, sharedFacetDriver);
  }, [setHistory, sharedFacetDriver]);
  const handleFocusedIdChange = (0,react.useCallback)(newFocusedId => {
    if (!history) return;
    const location = history.location;

    if (location.pathname === '/' || location.pathname === '/__INVALID_ROUTE__') {
      // '/' was the old "fallback location" in Minecraft and is the current one in Legends returned when the current location is not valid.
      // '/__INVALID_ROUTE__' is the new "fallback location" in Minecraft.
      // This location can be returned when for example a screen currently being popped, or when a cached screen is destroyed as part of shutting down the game.
      // See RouterFacet::RouterHistoryAdapter::mFallbackLocation in OreUIRouterHistoryAdapter.cpp (Minecraft) or OreUIRouterFacet.cpp (Legends).
      return;
    }

    history.replace(getURLWithFocusedId(location, newFocusedId));
  }, [history]);
  const triggerSound = useSoundEffectTrigger();
  const isNarrationEnabled = useNarrationEnabled();
  const semanticTokens = useSemanticTokens();
  const semanticRejectSound = semanticTokens === null || semanticTokens === void 0 ? void 0 : (_semanticTokens$sound = semanticTokens.sound) === null || _semanticTokens$sound === void 0 ? void 0 : (_semanticTokens$sound2 = _semanticTokens$sound.neutral) === null || _semanticTokens$sound2 === void 0 ? void 0 : _semanticTokens$sound2.reject; // semanticTokens can be undefined if a collection isn't provided to the application

  const handleFocusedIdChangeFail = (0,react.useCallback)(() => {
    if (isNarrationEnabled && semanticRejectSound != null) {
      triggerSound(semanticRejectSound, 0, 0.5, 0.75);
    }
  }, [isNarrationEnabled, triggerSound, semanticRejectSound]);
  const notifyFocusRequest = (0,react.useCallback)(onHistoryChange => {
    if (history == null) return () => {};
    const idOrAlias = getFocusedIdFromLocation(history.location);

    if (idOrAlias != null) {
      onHistoryChange(idOrAlias);
    }

    const cleanup = history.listen(location => {
      const idOrAlias = getFocusedIdFromLocation(location);

      if (idOrAlias != null) {
        onHistoryChange(idOrAlias);
      }
    });
    return cleanup;
  }, [history]);

  if (!history) {
    return null;
  }

  return /*#__PURE__*/react.createElement(GamepadEngineProvider, {
    notifyFocusRequest: notifyFocusRequest,
    onFocusedIdChange: handleFocusedIdChange,
    onFocusedIdChangeFail: handleFocusedIdChangeFail,
    keyboardGamepadMap: keyboardGamepadMap,
    isInputLegendClickable: isInputLegendClickable
  }, /*#__PURE__*/react.createElement(Router, {
    history: history,
    children: children
  }));
}
;// CONCATENATED MODULE: ./node_modules/path-to-regexp/dist.es2015/index.js
/**
 * Tokenize input string.
 */
function lexer(str) {
    var tokens = [];
    var i = 0;
    while (i < str.length) {
        var char = str[i];
        if (char === "*" || char === "+" || char === "?") {
            tokens.push({ type: "MODIFIER", index: i, value: str[i++] });
            continue;
        }
        if (char === "\\") {
            tokens.push({ type: "ESCAPED_CHAR", index: i++, value: str[i++] });
            continue;
        }
        if (char === "{") {
            tokens.push({ type: "OPEN", index: i, value: str[i++] });
            continue;
        }
        if (char === "}") {
            tokens.push({ type: "CLOSE", index: i, value: str[i++] });
            continue;
        }
        if (char === ":") {
            var name = "";
            var j = i + 1;
            while (j < str.length) {
                var code = str.charCodeAt(j);
                if (
                // `0-9`
                (code >= 48 && code <= 57) ||
                    // `A-Z`
                    (code >= 65 && code <= 90) ||
                    // `a-z`
                    (code >= 97 && code <= 122) ||
                    // `_`
                    code === 95) {
                    name += str[j++];
                    continue;
                }
                break;
            }
            if (!name)
                throw new TypeError("Missing parameter name at " + i);
            tokens.push({ type: "NAME", index: i, value: name });
            i = j;
            continue;
        }
        if (char === "(") {
            var count = 1;
            var pattern = "";
            var j = i + 1;
            if (str[j] === "?") {
                throw new TypeError("Pattern cannot start with \"?\" at " + j);
            }
            while (j < str.length) {
                if (str[j] === "\\") {
                    pattern += str[j++] + str[j++];
                    continue;
                }
                if (str[j] === ")") {
                    count--;
                    if (count === 0) {
                        j++;
                        break;
                    }
                }
                else if (str[j] === "(") {
                    count++;
                    if (str[j + 1] !== "?") {
                        throw new TypeError("Capturing groups are not allowed at " + j);
                    }
                }
                pattern += str[j++];
            }
            if (count)
                throw new TypeError("Unbalanced pattern at " + i);
            if (!pattern)
                throw new TypeError("Missing pattern at " + i);
            tokens.push({ type: "PATTERN", index: i, value: pattern });
            i = j;
            continue;
        }
        tokens.push({ type: "CHAR", index: i, value: str[i++] });
    }
    tokens.push({ type: "END", index: i, value: "" });
    return tokens;
}
/**
 * Parse a string for the raw tokens.
 */
function parse(str, options) {
    if (options === void 0) { options = {}; }
    var tokens = lexer(str);
    var _a = options.prefixes, prefixes = _a === void 0 ? "./" : _a;
    var defaultPattern = "[^" + escapeString(options.delimiter || "/#?") + "]+?";
    var result = [];
    var key = 0;
    var i = 0;
    var path = "";
    var tryConsume = function (type) {
        if (i < tokens.length && tokens[i].type === type)
            return tokens[i++].value;
    };
    var mustConsume = function (type) {
        var value = tryConsume(type);
        if (value !== undefined)
            return value;
        var _a = tokens[i], nextType = _a.type, index = _a.index;
        throw new TypeError("Unexpected " + nextType + " at " + index + ", expected " + type);
    };
    var consumeText = function () {
        var result = "";
        var value;
        // tslint:disable-next-line
        while ((value = tryConsume("CHAR") || tryConsume("ESCAPED_CHAR"))) {
            result += value;
        }
        return result;
    };
    while (i < tokens.length) {
        var char = tryConsume("CHAR");
        var name = tryConsume("NAME");
        var pattern = tryConsume("PATTERN");
        if (name || pattern) {
            var prefix = char || "";
            if (prefixes.indexOf(prefix) === -1) {
                path += prefix;
                prefix = "";
            }
            if (path) {
                result.push(path);
                path = "";
            }
            result.push({
                name: name || key++,
                prefix: prefix,
                suffix: "",
                pattern: pattern || defaultPattern,
                modifier: tryConsume("MODIFIER") || ""
            });
            continue;
        }
        var value = char || tryConsume("ESCAPED_CHAR");
        if (value) {
            path += value;
            continue;
        }
        if (path) {
            result.push(path);
            path = "";
        }
        var open = tryConsume("OPEN");
        if (open) {
            var prefix = consumeText();
            var name_1 = tryConsume("NAME") || "";
            var pattern_1 = tryConsume("PATTERN") || "";
            var suffix = consumeText();
            mustConsume("CLOSE");
            result.push({
                name: name_1 || (pattern_1 ? key++ : ""),
                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,
                prefix: prefix,
                suffix: suffix,
                modifier: tryConsume("MODIFIER") || ""
            });
            continue;
        }
        mustConsume("END");
    }
    return result;
}
/**
 * Compile a string to a template function for the path.
 */
function compile(str, options) {
    return tokensToFunction(parse(str, options), options);
}
/**
 * Expose a method for transforming tokens into the path function.
 */
function tokensToFunction(tokens, options) {
    if (options === void 0) { options = {}; }
    var reFlags = flags(options);
    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;
    // Compile all the tokens into regexps.
    var matches = tokens.map(function (token) {
        if (typeof token === "object") {
            return new RegExp("^(?:" + token.pattern + ")$", reFlags);
        }
    });
    return function (data) {
        var path = "";
        for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            if (typeof token === "string") {
                path += token;
                continue;
            }
            var value = data ? data[token.name] : undefined;
            var optional = token.modifier === "?" || token.modifier === "*";
            var repeat = token.modifier === "*" || token.modifier === "+";
            if (Array.isArray(value)) {
                if (!repeat) {
                    throw new TypeError("Expected \"" + token.name + "\" to not repeat, but got an array");
                }
                if (value.length === 0) {
                    if (optional)
                        continue;
                    throw new TypeError("Expected \"" + token.name + "\" to not be empty");
                }
                for (var j = 0; j < value.length; j++) {
                    var segment = encode(value[j], token);
                    if (validate && !matches[i].test(segment)) {
                        throw new TypeError("Expected all \"" + token.name + "\" to match \"" + token.pattern + "\", but got \"" + segment + "\"");
                    }
                    path += token.prefix + segment + token.suffix;
                }
                continue;
            }
            if (typeof value === "string" || typeof value === "number") {
                var segment = encode(String(value), token);
                if (validate && !matches[i].test(segment)) {
                    throw new TypeError("Expected \"" + token.name + "\" to match \"" + token.pattern + "\", but got \"" + segment + "\"");
                }
                path += token.prefix + segment + token.suffix;
                continue;
            }
            if (optional)
                continue;
            var typeOfMessage = repeat ? "an array" : "a string";
            throw new TypeError("Expected \"" + token.name + "\" to be " + typeOfMessage);
        }
        return path;
    };
}
/**
 * Create path match function from `path-to-regexp` spec.
 */
function match(str, options) {
    var keys = [];
    var re = dist_es2015_pathToRegexp(str, keys, options);
    return regexpToFunction(re, keys, options);
}
/**
 * Create a path match function from `path-to-regexp` output.
 */
function regexpToFunction(re, keys, options) {
    if (options === void 0) { options = {}; }
    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;
    return function (pathname) {
        var m = re.exec(pathname);
        if (!m)
            return false;
        var path = m[0], index = m.index;
        var params = Object.create(null);
        var _loop_1 = function (i) {
            // tslint:disable-next-line
            if (m[i] === undefined)
                return "continue";
            var key = keys[i - 1];
            if (key.modifier === "*" || key.modifier === "+") {
                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {
                    return decode(value, key);
                });
            }
            else {
                params[key.name] = decode(m[i], key);
            }
        };
        for (var i = 1; i < m.length; i++) {
            _loop_1(i);
        }
        return { path: path, index: index, params: params };
    };
}
/**
 * Escape a regular expression string.
 */
function escapeString(str) {
    return str.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1");
}
/**
 * Get the flags for a regexp from the options.
 */
function flags(options) {
    return options && options.sensitive ? "" : "i";
}
/**
 * Pull out keys from a regexp.
 */
function regexpToRegexp(path, keys) {
    if (!keys)
        return path;
    // Use a negative lookahead to match only capturing groups.
    var groups = path.source.match(/\((?!\?)/g);
    if (groups) {
        for (var i = 0; i < groups.length; i++) {
            keys.push({
                name: i,
                prefix: "",
                suffix: "",
                modifier: "",
                pattern: ""
            });
        }
    }
    return path;
}
/**
 * Transform an array into a regexp.
 */
function arrayToRegexp(paths, keys, options) {
    var parts = paths.map(function (path) { return dist_es2015_pathToRegexp(path, keys, options).source; });
    return new RegExp("(?:" + parts.join("|") + ")", flags(options));
}
/**
 * Create a path regexp from string input.
 */
function stringToRegexp(path, keys, options) {
    return tokensToRegexp(parse(path, options), keys, options);
}
/**
 * Expose a function for taking tokens and returning a RegExp.
 */
function tokensToRegexp(tokens, keys, options) {
    if (options === void 0) { options = {}; }
    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;
    var endsWith = "[" + escapeString(options.endsWith || "") + "]|$";
    var delimiter = "[" + escapeString(options.delimiter || "/#?") + "]";
    var route = start ? "^" : "";
    // Iterate over the tokens and create our regexp string.
    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {
        var token = tokens_1[_i];
        if (typeof token === "string") {
            route += escapeString(encode(token));
        }
        else {
            var prefix = escapeString(encode(token.prefix));
            var suffix = escapeString(encode(token.suffix));
            if (token.pattern) {
                if (keys)
                    keys.push(token);
                if (prefix || suffix) {
                    if (token.modifier === "+" || token.modifier === "*") {
                        var mod = token.modifier === "*" ? "?" : "";
                        route += "(?:" + prefix + "((?:" + token.pattern + ")(?:" + suffix + prefix + "(?:" + token.pattern + "))*)" + suffix + ")" + mod;
                    }
                    else {
                        route += "(?:" + prefix + "(" + token.pattern + ")" + suffix + ")" + token.modifier;
                    }
                }
                else {
                    route += "(" + token.pattern + ")" + token.modifier;
                }
            }
            else {
                route += "(?:" + prefix + suffix + ")" + token.modifier;
            }
        }
    }
    if (end) {
        if (!strict)
            route += delimiter + "?";
        route += !options.endsWith ? "$" : "(?=" + endsWith + ")";
    }
    else {
        var endToken = tokens[tokens.length - 1];
        var isEndDelimited = typeof endToken === "string"
            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1
            : // tslint:disable-next-line
                endToken === undefined;
        if (!strict) {
            route += "(?:" + delimiter + "(?=" + endsWith + "))?";
        }
        if (!isEndDelimited) {
            route += "(?=" + delimiter + "|" + endsWith + ")";
        }
    }
    return new RegExp(route, flags(options));
}
/**
 * Normalize the given path string, returning a regular expression.
 *
 * An empty array can be passed in for the keys, which will hold the
 * placeholder key descriptions. For example, using `/user/:id`, `keys` will
 * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.
 */
function dist_es2015_pathToRegexp(path, keys, options) {
    if (path instanceof RegExp)
        return regexpToRegexp(path, keys);
    if (Array.isArray(path))
        return arrayToRegexp(path, keys, options);
    return stringToRegexp(path, keys, options);
}
//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/Redirect.tsx



function Redirect_Redirect({
  history,
  to,
  from
}) {
  const match = useRouteMatch(from);
  (0,react.useEffect)(() => {
    const destination = match ? compile(to)(match.params) : to;
    history.replace(destination);
  }, [history, to, match]);
  return null;
}
function RedirectWrapper({
  from,
  to
}) {
  return /*#__PURE__*/react.createElement(Route, {
    exact: true,
    path: from,
    render: ({
      history
    }) => /*#__PURE__*/react.createElement(Redirect_Redirect, {
      history: history,
      to: to,
      from: from
    })
  });
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/RouteHistory.tsx
function RouteHistory_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function RouteHistory_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { RouteHistory_ownKeys(Object(source), true).forEach(function (key) { RouteHistory_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { RouteHistory_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function RouteHistory_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




const dummy = {
  push: () => {},
  replace: () => {},
  replaceKeepingFocus: () => {},
  replaceWithPreviousFocus: () => {},
  goBack: () => {}
};
const RouteHistory_context = (0,react.createContext)(dummy);

/**
 * Cache implementation that takes care of removing any trailing slash to store and retrieve entries
 */
const previousFocusedIdCache = (() => {
  const map = new Map();

  const removeTrailingSlash = route => {
    return route.replace(/\/$/, '');
  };

  return {
    set: (route, focusedId) => {
      map.set(removeTrailingSlash(route), focusedId);
    },
    get: route => {
      return map.get(removeTrailingSlash(route));
    }
  };
})();

const RouteHistoryProvider = ({
  children,
  disabled
}) => {
  const history = useHistory();
  const disabledRef = (0,react.useRef)(disabled);
  disabledRef.current = disabled;
  const historyAPI = (0,react.useMemo)(() => ({
    goBack: () => {
      if (disabledRef.current) return;
      history.goBack();
    },
    push: route => {
      if (disabledRef.current) return;
      history.push(route);
    },
    replace: route => {
      if (disabledRef.current) return;
      history.replace(route);
    },
    replaceKeepingFocus: route => {
      if (disabledRef.current) return;
      const focusedId = getFocusedIdFromLocation(history.location);
      previousFocusedIdCache.set(history.location.pathname, focusedId);
      history.replace(getURLWithFocusedId(RouteHistory_objectSpread(RouteHistory_objectSpread({}, history.location), {}, {
        pathname: route
      }), focusedId));
    },
    replaceWithPreviousFocus: newRoute => {
      if (disabledRef.current) return;
      const currentFocusedId = getFocusedIdFromLocation(history.location);
      previousFocusedIdCache.set(history.location.pathname, currentFocusedId);
      const previousFocusedId = previousFocusedIdCache.get(newRoute);
      history.replace(getURLWithFocusedId(RouteHistory_objectSpread(RouteHistory_objectSpread({}, history.location), {}, {
        pathname: newRoute
      }), previousFocusedId));
    }
  }), [history]);
  return /*#__PURE__*/react.createElement(RouteHistory_context.Provider, {
    value: historyAPI
  }, children);
};
const useRouteHistory = () => (0,react.useContext)(RouteHistory_context);
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/routeParamsContext.tsx

const paramsContext = (0,react.createContext)({});

/**
 * Provider for the params of a route.
 *
 * This implementation differs from the useRouterParams of react-router by keeping the last known
 * value of the params even after the route is no longer matching.
 *
 * This is important for transitions to run while having access to the params of the route.
 */
function RouteParamsProvider({
  match,
  children
}) {
  const paramsRef = (0,react.useRef)({});

  if (match) {
    paramsRef.current = match.params;
  }

  return /*#__PURE__*/react.createElement(paramsContext.Provider, {
    value: paramsRef.current
  }, children);
}
/**
 * Hook for the params of a route.
 *
 * This implementation differs from the useRouterParams of react-router by keeping the last known
 * value of the params even after the route is no longer matching.
 *
 * This is important for transitions to run while having access to the params of the route.
 */

const useRouteParams = () => (0,react.useContext)(paramsContext);
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/TestRoute.tsx





/**
 * Component to be used on testing of Route screens/components.
 *
 * It simulates that there is a route configured and the page is in a given URL.
 */
function TestRoute({
  url,
  route,
  children
}) {
  return /*#__PURE__*/react.createElement(MemoryRouter, {
    initialEntries: [url]
  }, /*#__PURE__*/react.createElement(RouteHistoryProvider, {
    disabled: false
  }, /*#__PURE__*/react.createElement(Route, {
    path: route,
    children: routerProps => {
      return /*#__PURE__*/react.createElement(RouteParamsProvider, {
        match: routerProps.match
      }, children);
    }
  })));
}
;// CONCATENATED MODULE: ./packages/ui/src/RouteInstantTransition/RouteInstantTransition.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const RouteInstantTransition = ({"base":"qp8dp","exited":"Al8HR"});
;// CONCATENATED MODULE: ./packages/ui/src/RouteInstantTransition/RouteInstantTransition.tsx





function RouteInstantTransition_RouteInstantTransition({
  visible,
  unmountOnExit,
  contentComponent,
  renderTracker,
  defaultFocusedChildAlias,
  defaultFocusedChildBehavior
}) {
  const Content = (0,react.useMemo)(() => react.memo(contentComponent), [contentComponent]);
  const mountedRef = (0,react.useRef)(visible);
  mountedRef.current = unmountOnExit ? visible : mountedRef.current || visible;
  const ref = (0,react.useRef)(null);
  const hiddenFacet = (0,react_facet_src.useFacetWrap)(!visible);
  return mountedRef.current ? /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
    scrollRef: ref,
    gamepadIndex: 0,
    disabled: !visible,
    defaultFocusedChildAlias: defaultFocusedChildAlias,
    defaultFocusedChildBehavior: defaultFocusedChildBehavior
  }, /*#__PURE__*/react.createElement("div", {
    ref: ref,
    className: classnames_default()(RouteInstantTransition.base, {
      [RouteInstantTransition.entered]: visible,
      [RouteInstantTransition.exited]: !visible
    })
  }, renderTracker && renderTracker(visible), /*#__PURE__*/react.createElement(Content, {
    hidden: hiddenFacet
  }))) : null;
}
;// CONCATENATED MODULE: ./packages/react-render-tracking/src/RenderTrackingDelay.tsx




let renderTrackingDelayId = 0;

/**
 * Used to block a given type of from being fired until ready.
 *
 * Example. Blocking contentful paint event until a transition is done.
 *
 *   const transitionComplete = useRef(false)
 * 	 <Transition onComplete={() => { transitionComplete = true }} />
 * 	 <RenderTrackingDelay type="contentful" renderingCompleted={transitionComplete} />
 */
function RenderTrackingDelay({
  type,
  renderingCompleted
}) {
  const renderTrackingApi = useRenderTrackingApi();
  const isRouteActive = useRouteActive();
  const id = (0,react.useMemo)(() => renderTrackingDelayId++, []);
  (0,react_facet_src.useFacetEffect)(isRouteActive => {
    if (!isRouteActive) {
      /**
       * If the user leaves the route that this blocker was on
       * then we should unblock it.
       */
      return renderTrackingApi.unblock(id, type);
    }

    if (renderingCompleted) {
      renderTrackingApi.unblock(id, type);
    } else {
      renderTrackingApi.block(id, type);
    }
  }, [id, renderingCompleted, renderTrackingApi, type], [isRouteActive]);
  return null;
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/Route.tsx
function Route_extends() { Route_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return Route_extends.apply(this, arguments); }









function Route_Route(props) {
  return /*#__PURE__*/react.createElement(Route, {
    exact: true,
    path: props.route,
    children: routerProps => /*#__PURE__*/react.createElement(RouteChildWrapper, Route_extends({}, props, {
      routerProps: routerProps
    }))
  });
}

const RouteChildWrapper = ({
  component,
  transitionComponent: routeTransition,
  unmountOnPush,
  keepMountedOnPop,
  match,
  routerProps,
  defaultFocusedChildAlias,
  defaultFocusedChildBehavior
}) => {
  // If the Route component is wrapped by a Switch it will pass us a match prop.
  // Otherwise, it will be undefined, and we'll instead take it from the routerProps.
  // eslint-disable-next-line @mojang/no-strict-nullish-comparison/only-soft-nullish-comparison
  const routeMatch = match === undefined ? routerProps.match : match;
  return /*#__PURE__*/react.createElement(RouteParamsProvider, {
    match: routeMatch
  }, /*#__PURE__*/react.createElement(RouteActiveProvider, {
    active: (0,react_facet_src.useFacetWrap)(!!routeMatch)
  }, /*#__PURE__*/react.createElement(RouteChild, {
    unmountOnPush: unmountOnPush,
    keepMountedOnPop: keepMountedOnPop,
    component: component,
    routeTransition: routeTransition,
    action: routerProps.history.action,
    currentIn: !!routeMatch,
    defaultFocusedChildAlias: defaultFocusedChildAlias,
    defaultFocusedChildBehavior: defaultFocusedChildBehavior
  })));
};

/**
 * Memoized child component that takes care of preparing an environment for the route component to render
 *
 * The goal is to re-render this only when necessary
 */
const RouteChild = react.memo(({
  component,
  routeTransition,
  action,
  currentIn,
  unmountOnPush,
  keepMountedOnPop,
  defaultFocusedChildAlias,
  defaultFocusedChildBehavior
}) => {
  const mountComponentRef = (0,react.useRef)(null);
  const previouslyInRef = (0,react.useRef)(null);
  const screenAnimationEnabled = (0,react_facet_src.useFacetUnwrap)(useScreenAnimationEnabled()) === true;
  (0,react.useEffect)(() => {
    previouslyInRef.current = currentIn;
  }, [currentIn]); // Handles lazy rendering of a route
  // It works by having its default value as null (so not mounted)
  // Once the route is first mounted, mountComponentRef.current will be true permanently
  // This is used to maintain the state of routes as we navigate in the application

  mountComponentRef.current = mountComponentRef.current || currentIn; // If we POP from this route, we need to unmount it
  // We don't want to keep its state

  if (action === 'POP' && previouslyInRef.current && !keepMountedOnPop) {
    mountComponentRef.current = false;
  }

  const isNavigatingBack = action === 'POP';
  const RouteComponent = component;
  const RouteTransition = screenAnimationEnabled && routeTransition != null ? routeTransition : RouteInstantTransition_RouteInstantTransition;
  const unmountOnExit = !mountComponentRef.current || !!unmountOnPush;
  return /*#__PURE__*/react.createElement(RouteHistoryProvider, {
    disabled: !currentIn
  }, /*#__PURE__*/react.createElement(RouteTransition, {
    defaultFocusedChildAlias: defaultFocusedChildAlias,
    defaultFocusedChildBehavior: defaultFocusedChildBehavior,
    visible: currentIn,
    unmountOnExit: unmountOnExit,
    contentComponent: RouteComponent,
    renderTracker: isContentShown => /*#__PURE__*/react.createElement(RenderTrackingDelay, {
      type: "contentful",
      renderingCompleted: isContentShown
    }),
    inverse: isNavigatingBack
  }));
});
;// CONCATENATED MODULE: ./packages/engine/src/engineWrapper/index.ts
/* eslint-env node */
if (false) {}
/*
 * There is a cohtml file provided by Coherent Labs that needs to loaded by the frontend to allow communication with the game engine.
 * Historically, this cohtml lived in this repository, but we have since moved it to be loaded and updated by the C++ backend.
 * We keep a legacyCohtml in this repository as a backwards compatible solution to older version of the C++ backend.
 *
 * YOU SHOULD NOT UPDATE THIS LOCAL cohtml file.
 */


const engineWrapper_engine =  true ? window.__bedrockProvidedCohtmljs === true ? window.engine : __webpack_require__(5341)() : 0; // eslint-disable-line @typescript-eslint/no-explicit-any
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/Switch.tsx
function Switch_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function Switch_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Switch_ownKeys(Object(source), true).forEach(function (key) { Switch_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Switch_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function Switch_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





 // eslint-disable-next-line

const isRoute = x => {
  const props = Boolean(x.props) ? x.props : {};
  return Boolean(props.route) && Boolean(props.component);
};

const isRedirect = x => {
  const props = Boolean(x.props) ? x.props : {};
  return Boolean(props.from) && Boolean(props.component);
};

function Switch_Switch({
  children
}) {
  const location = react_router_useLocation();
  let hasPrevMatch = false;
  let shouldRender = false; // This is to calculate if we should render anything at all so OreUI screens dont overlap on JSONUI screens

  react.Children.forEach(children, child => {
    if (shouldRender === true) {
      return;
    }

    if (!(0,react.isValidElement)(child)) {
      return;
    }

    if (child.type === Route_Route) {
      if (matchPath(location.pathname, Switch_objectSpread(Switch_objectSpread({}, child.props), {}, {
        path: child.props.route
      }))) {
        shouldRender = true;
      }

      return;
    }

    if (child.type === RedirectWrapper) {
      if (matchPath(location.pathname, Switch_objectSpread(Switch_objectSpread({}, child.props), {}, {
        path: child.props.from
      }))) {
        shouldRender = true;
      }

      return;
    }
  });
  const childrenWithMatch = react.Children.map(children, child => {
    if (!(0,react.isValidElement)(child)) {
      return shouldRender ? child : null;
    }

    if (isRedirect(child)) {
      return child;
    }

    if (!isRoute(child)) {
      return shouldRender ? child : null;
    }

    const match = hasPrevMatch ? null : matchPath(location.pathname, Switch_objectSpread(Switch_objectSpread({}, child.props), {}, {
      path: child.props.route
    }));
    hasPrevMatch = hasPrevMatch || !!match;
    return react.cloneElement(child, {
      match
    });
  });
  /**
   * Event that notifies the backend engine that the Switch was unable to match any route.
   *
   * This is currently used by backend to consider the frontend to be in an "idle state".
   *
   * When a Gameface screen goes into this "idle state", the backend can safely stop updating it,
   * until a new route is pushed.
   *
   * For more information check the ticket, and pull requests.
   * - https://dev-mc.visualstudio.com/Minecraft/_workitems/edit/930195
   */

  (0,react.useEffect)(() => {
    if (!hasPrevMatch) {
      engineWrapper_engine.trigger('core:routing:not-found');
    }
  }, [hasPrevMatch]); // If there are no matches, return all the routes so that caching and "stay mounted on push" works, but do not render
  // anything else other than Routes and Redirects to not overlap with JSON UI

  return /*#__PURE__*/react.createElement(react.Fragment, null, childrenWithMatch);
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/useRouteQuery.ts


const useRouteQuery = () => {
  const location = useLocation();
  return new URLSearchParams(location.search);
};
;// CONCATENATED MODULE: ./packages/engine/src/providers/RouterEngineProvider/index.tsx










;// CONCATENATED MODULE: ./packages/react-device-information/src/decideScreenType.ts

const screenTypeMap = {
  [Platform.IOS]: ScreenType.HANDHELD_SCREEN_TYPE,
  [Platform.GOOGLE]: ScreenType.HANDHELD_SCREEN_TYPE,
  [Platform.AMAZON_HANDHELD]: ScreenType.HANDHELD_SCREEN_TYPE,
  [Platform.UWP]: ScreenType.DESKTOP_SCREEN_TYPE,
  [Platform.XBOX]: ScreenType.TV_SCREEN_TYPE,
  [Platform.NX_HANDHELD]: ScreenType.HANDHELD_SCREEN_TYPE,
  [Platform.PS4]: ScreenType.TV_SCREEN_TYPE,
  [Platform.GEARVR]: ScreenType.HANDHELD_SCREEN_TYPE,
  [Platform.WIN32]: ScreenType.DESKTOP_SCREEN_TYPE,
  [Platform.MACOS]: ScreenType.DESKTOP_SCREEN_TYPE,
  [Platform.AMAZON_TV]: ScreenType.TV_SCREEN_TYPE,
  [Platform.NX_TV]: ScreenType.TV_SCREEN_TYPE,
  [Platform.PS5]: ScreenType.TV_SCREEN_TYPE
};
function decideScreenType(platform) {
  return screenTypeMap[platform];
}
;// CONCATENATED MODULE: ./packages/react-device-information/src/decideControllerType.ts

const controllerTypeMap = {
  [Platform.IOS]: Controller.XBOX,
  // Asuming XBOX as default because missing information
  [Platform.GOOGLE]: Controller.XBOX,
  // Asuming XBOX as default because missing information
  [Platform.AMAZON_HANDHELD]: Controller.XBOX,
  // Asuming XBOX as default because missing information
  [Platform.UWP]: Controller.XBOX,
  [Platform.XBOX]: Controller.XBOX,
  [Platform.NX_HANDHELD]: Controller.SWITCH,
  [Platform.PS4]: Controller.PS,
  [Platform.GEARVR]: Controller.QUEST,
  [Platform.WIN32]: Controller.XBOX,
  [Platform.MACOS]: Controller.XBOX,
  [Platform.AMAZON_TV]: Controller.XBOX,
  [Platform.NX_TV]: Controller.SWITCH,
  [Platform.PS5]: Controller.PS
};
function decideControllerType(platform) {
  return controllerTypeMap[platform];
}
;// CONCATENATED MODULE: ./packages/react-device-information/src/useUpdateBodyCursor.ts


function useUpdateBodyCursor(lastInputMethodUsed) {
  (0,react_facet_src.useFacetEffect)(lastInputMethodUsed => {
    if (lastInputMethodUsed === types_InputMethod.MOUSE) {
      document.body.style.cursor = 'auto';
    } else {
      document.body.style.cursor = 'none';
    }
  }, [], [lastInputMethodUsed]);
}
;// CONCATENATED MODULE: ./packages/react-device-information/src/inputMethods/typeGuards.ts

const isFocusInputMethod = inputMethod => {
  return inputMethod === types_InputMethod.GAMEPAD || inputMethod === types_InputMethod.KEYBOARD;
};
const isPointerInputMethod = inputMethod => {
  return inputMethod === types_InputMethod.MOUSE || inputMethod === types_InputMethod.TOUCH;
};
;// CONCATENATED MODULE: ./packages/react-device-information/src/inputMethods/usePointerInputMethodState.ts





const getDefaultPointerInput = (lastInputMethodUsed, platform) => {
  if (isPointerInputMethod(lastInputMethodUsed)) {
    return lastInputMethodUsed;
  } // The defaults based on platform are just currently our "best guess" and we might need to tweak these in the future.
  // It is for example not clear if we should default to null, mouse or touch for consoles.


  switch (platform) {
    case Platform.WIN32:
    case Platform.MACOS:
      return types_InputMethod.MOUSE;

    case Platform.NX_HANDHELD:
    case Platform.IOS:
    case Platform.GOOGLE:
    case Platform.AMAZON_HANDHELD:
      return types_InputMethod.TOUCH;

    default:
      return null;
  }
}; // Handles state of the last used pointer input method (mouse or touch)


const usePointerInputMethodState = (lastInputMethodUsed, platform) => {
  const [pointerInputMethod, setPointerInputMethod] = (0,react_facet_src.useFacetState)(null);
  const isInitialized = (0,react.useRef)(false);
  (0,react_facet_src.useFacetEffect)((lastUsed, pointer, platform) => {
    // Initialize state
    if (!isInitialized.current && pointer == null) {
      isInitialized.current = true;
      setPointerInputMethod(getDefaultPointerInput(lastUsed, platform));
    } // Sync state based on last input method used
    else if (isPointerInputMethod(lastUsed) && pointer != lastUsed) {
        setPointerInputMethod(lastUsed);
      }
  }, [setPointerInputMethod], [lastInputMethodUsed, pointerInputMethod, platform]);
  return pointerInputMethod;
};
;// CONCATENATED MODULE: ./packages/react-device-information/src/inputMethods/useFocusInputMethodState.ts





const getDefaultFocusInput = (lastInputMethodUsed, platform) => {
  if (isFocusInputMethod(lastInputMethodUsed)) {
    return lastInputMethodUsed;
  } // The defaults based on platform are just currently our "best guess" and we might need to tweak these in the future.
  // It is for example not clear if we should default to null, keyboard or gamepad on touch devices.


  switch (platform) {
    case Platform.WIN32:
    case Platform.MACOS:
    case Platform.UWP:
      return types_InputMethod.KEYBOARD;

    case Platform.XBOX:
    case Platform.NX_HANDHELD:
    case Platform.PS4:
    case Platform.GEARVR:
    case Platform.AMAZON_TV:
    case Platform.NX_TV:
    case Platform.PS5:
      return types_InputMethod.GAMEPAD;

    default:
      return null;
  }
}; // Handles state of the last used focus input method (gamepad or keyboard)


const useFocusInputMethodState = (lastInputMethodUsed, platform) => {
  const [focusInputMethod, setFocusInputMethod] = (0,react_facet_src.useFacetState)(null);
  const isInitialized = (0,react.useRef)(false);
  (0,react_facet_src.useFacetEffect)((lastUsed, focus, platform) => {
    // Initialize state
    if (!isInitialized.current && focus == null) {
      isInitialized.current = true;
      setFocusInputMethod(getDefaultFocusInput(lastUsed, platform));
    } // Sync state based on last input method used
    else if (isFocusInputMethod(lastUsed) && focus != lastUsed) {
        setFocusInputMethod(lastUsed);
      }
  }, [setFocusInputMethod], [lastInputMethodUsed, focusInputMethod, platform]);
  return focusInputMethod;
};
;// CONCATENATED MODULE: ./packages/react-device-information/src/inputMethods/useInputMethods.ts




 // Hook that takes:
// - Facet for last input method used
// - Facet for supported input methods
// And returns:
// - Facets for current focus input method (gamepad or keyboard)
// - Facets for current pointer input method used (mouse or touch)
// - Facets for last input method used (of any input method)
// - Facets for supported input methods

const useInputMethods = (lastInputMethodUsed, supportedInputMethods, platform) => {
  const pointerInputMethod = usePointerInputMethodState(lastInputMethodUsed, platform);
  const focusInputMethod = useFocusInputMethodState(lastInputMethodUsed, platform);
  const isPointerInputMouse = (0,react_facet_src.useFacetMemo)(pointer => pointer === types_InputMethod.MOUSE, [], [pointerInputMethod]);
  const isPointerInputTouch = (0,react_facet_src.useFacetMemo)(pointer => pointer === types_InputMethod.TOUCH, [], [pointerInputMethod]);
  const isPointerInputAvailable = (0,react_facet_src.useFacetMemo)(pointer => pointer != null, [], [pointerInputMethod]);
  const isFocusInputGamepad = (0,react_facet_src.useFacetMemo)(focus => focus === types_InputMethod.GAMEPAD, [], [focusInputMethod]);
  const isFocusInputKeyboard = (0,react_facet_src.useFacetMemo)(focus => focus === types_InputMethod.KEYBOARD, [], [focusInputMethod]);
  const isFocusInputAvailable = (0,react_facet_src.useFacetMemo)(focus => focus != null, [], [focusInputMethod]);
  const isLastInputMouse = (0,react_facet_src.useFacetMemo)(last => last === types_InputMethod.MOUSE, [], [lastInputMethodUsed]);
  const isLastInputTouch = (0,react_facet_src.useFacetMemo)(last => last === types_InputMethod.TOUCH, [], [lastInputMethodUsed]);
  const isLastInputGamepad = (0,react_facet_src.useFacetMemo)(last => last === types_InputMethod.GAMEPAD, [], [lastInputMethodUsed]);
  const isLastInputKeyboard = (0,react_facet_src.useFacetMemo)(last => last === types_InputMethod.KEYBOARD, [], [lastInputMethodUsed]);
  const isLastInputPointer = (0,react_facet_src.useFacetMemo)(last => last === types_InputMethod.MOUSE || last === types_InputMethod.TOUCH, [], [lastInputMethodUsed]);
  const isLastInputFocus = (0,react_facet_src.useFacetMemo)(last => last === types_InputMethod.KEYBOARD || last === types_InputMethod.GAMEPAD, [], [lastInputMethodUsed]);
  const isGamepadSupported = (0,react_facet_src.useFacetMemo)(supported => supported.includes(types_InputMethod.GAMEPAD), [], [supportedInputMethods]);
  const isKeyboardSupported = (0,react_facet_src.useFacetMemo)(supported => supported.includes(types_InputMethod.KEYBOARD), [], [supportedInputMethods]);
  const isMouseSupported = (0,react_facet_src.useFacetMemo)(supported => supported.includes(types_InputMethod.MOUSE), [], [supportedInputMethods]);
  const isTouchSupported = (0,react_facet_src.useFacetMemo)(supported => supported.includes(types_InputMethod.TOUCH), [], [supportedInputMethods]);
  const isPointerSupported = (0,react_facet_src.useFacetMemo)(supported => {
    for (let i = 0; i < supported.length; i++) {
      if (isPointerInputMethod(supported[i])) return true;
    }

    return false;
  }, [], [supportedInputMethods]);
  const isFocusSupported = (0,react_facet_src.useFacetMemo)(supported => {
    for (let i = 0; i < supported.length; i++) {
      if (isFocusInputMethod(supported[i])) return true;
    }

    return false;
  }, [], [supportedInputMethods]);
  return {
    isPointerInputMouse,
    isPointerInputTouch,
    isPointerInputAvailable,
    isFocusInputGamepad,
    isFocusInputKeyboard,
    isFocusInputAvailable,
    isLastInputMouse,
    isLastInputTouch,
    isLastInputGamepad,
    isLastInputKeyboard,
    isLastInputPointer,
    isLastInputFocus,
    isGamepadSupported,
    isKeyboardSupported,
    isMouseSupported,
    isTouchSupported,
    isPointerSupported,
    isFocusSupported
  };
};
;// CONCATENATED MODULE: ./packages/react-device-information/src/DeviceInformationProvider.tsx







function DeviceInformationProvider({
  lastInputMethodUsed,
  supportedInputMethods,
  platform,
  arvrPlatform: vrPlatform,
  children
}) {
  const inputMethods = useInputMethods(lastInputMethodUsed, supportedInputMethods, platform);
  const screenTypeFacet = (0,react_facet_src.useFacetMemo)(platform => decideScreenType(platform), [], [platform]);
  const controllerTypeFacet = (0,react_facet_src.useFacetMemo)(platform => decideControllerType(platform), [], [platform]);
  useUpdateBodyCursor(lastInputMethodUsed);
  return /*#__PURE__*/react.createElement(InputMethodsContext.Provider, {
    value: inputMethods
  }, /*#__PURE__*/react.createElement(platformContext.Provider, {
    value: platform
  }, /*#__PURE__*/react.createElement(VRPlatformContext.Provider, {
    value: vrPlatform
  }, /*#__PURE__*/react.createElement(screenTypeContext.Provider, {
    value: screenTypeFacet
  }, /*#__PURE__*/react.createElement(controllerContext.Provider, {
    value: controllerTypeFacet
  }, children)))));
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/DeviceInformationEngineProvider/useMouseDetection.ts



const DISTANCE_THRESHOLD = 10;

const useTimeStampLastTouchEndEvent = isEnabledFacet => {
  const timeStampLastTouchEndEvent = (0,react.useRef)(-1);
  (0,react_facet_src.useFacetEffect)(isEnabled => {
    if (!isEnabled) {
      return;
    }

    const handleTouchEnd = event => {
      timeStampLastTouchEndEvent.current = event.timeStamp;
    };

    window.addEventListener('touchend', handleTouchEnd);
    return () => {
      window.removeEventListener('touchend', handleTouchEnd);
    };
  }, [], [isEnabledFacet]);
  return timeStampLastTouchEndEvent;
};

function useMouseDetection(isEnabledFacet, onMouseDetected, availableInputMethods) {
  // We want to track last touchend event when both mouse and touch input are available. The reason is
  // that the touchend event will also trigger the mousedown and mousemove events and in those cases
  // we don't want to call the mouse detected handler, since the source was touch input.
  const shouldTrackLastTouchEndTimeStamp = (0,react_facet_src.useFacetMap)(available => available.includes(types_InputMethod.MOUSE) && available.includes(types_InputMethod.TOUCH), [], [availableInputMethods]);
  const timeStampLastTouchEndEvent = useTimeStampLastTouchEndEvent(shouldTrackLastTouchEndTimeStamp);
  const mouseStartPositionRef = (0,react.useRef)(null);
  (0,react_facet_src.useFacetEffect)(isEnabled => {
    if (!isEnabled) {
      mouseStartPositionRef.current = null;
      return;
    }

    const shouldIgnoreMouseEvent = event => timeStampLastTouchEndEvent.current === event.timeStamp;

    const handleMouseMove = event => {
      const latestPosition = [event.clientX, event.clientY];

      if (!mouseStartPositionRef.current) {
        mouseStartPositionRef.current = latestPosition;
        return;
      }

      const a = Math.abs(latestPosition[0] - mouseStartPositionRef.current[0]);
      const b = Math.abs(latestPosition[1] - mouseStartPositionRef.current[1]);
      const distance = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));

      if (distance > DISTANCE_THRESHOLD) {
        mouseStartPositionRef.current = null;

        if (shouldIgnoreMouseEvent(event)) {
          return;
        }

        onMouseDetected();
      }
    };

    const handleMouseDown = event => {
      if (shouldIgnoreMouseEvent(event)) {
        return;
      }

      onMouseDetected();
    };

    const handleWheel = () => {
      onMouseDetected();
    };

    window.addEventListener('mousemove', handleMouseMove);
    window.addEventListener('mousedown', handleMouseDown);
    window.addEventListener('wheel', handleWheel);
    return () => {
      window.removeEventListener('mousemove', handleMouseMove);
      window.removeEventListener('mousedown', handleMouseDown);
      window.removeEventListener('wheel', handleWheel);
    };
  }, [onMouseDetected, timeStampLastTouchEndEvent], [isEnabledFacet]);
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/DeviceInformationEngineProvider/useTouchDetection.ts

function useTouchDetection(isEnabledFacet, onTouchDetected) {
  (0,react_facet_src.useFacetEffect)(isEnabled => {
    if (!isEnabled) {
      return;
    } // We need to listen to touchend here since if the current touch input is the first touch input
    // received, making touch available, then the touchstart event won't be fired. In all other cases
    // we want to detect touch on touchstart since we want to adjust the UI as soon as possible for the
    // best user experience.


    window.addEventListener('touchstart', onTouchDetected);
    window.addEventListener('touchend', onTouchDetected);
    return () => {
      window.removeEventListener('touchstart', onTouchDetected);
      window.removeEventListener('touchend', onTouchDetected);
    };
  }, [onTouchDetected], [isEnabledFacet]);
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/DeviceInformationEngineProvider/useKeyboardDetection.tsx

const useKeyboardDetection = (isEnabledFacet, onKeyboardDetected) => {
  (0,react_facet_src.useFacetEffect)(isEnabled => {
    if (!isEnabled) return;
    window.addEventListener('keyup', onKeyboardDetected);
    return () => {
      window.removeEventListener('keyup', onKeyboardDetected);
    };
  }, [onKeyboardDetected], [isEnabledFacet]);
};
;// CONCATENATED MODULE: ./packages/engine/src/onGamepadInput.ts

const DEAD_ZONE = 0.16;
const onGamepadInput_onGamepadInput = handler => {
  let requestId;

  const detectGamepadInput = () => {
    const gamepads = getGamepads();
    const activeGamepads = gamepads.filter(gamepad => {
      if (gamepad == null) return false;
      const activeAxis = gamepad.axes.find(axis => Math.abs(axis) > DEAD_ZONE);
      if (activeAxis != null) return true;
      const activeButton = gamepad.buttons.find(button => button.pressed);
      if (activeButton) return true;
      return false;
    });

    if (activeGamepads.length > 0) {
      handler(activeGamepads);
    }

    requestId = window.requestAnimationFrame(detectGamepadInput);
  };

  detectGamepadInput();
  return () => window.cancelAnimationFrame(requestId);
};
;// CONCATENATED MODULE: ./packages/engine/src/providers/DeviceInformationEngineProvider/useGamepadDetection.ts


function useGamepadDetection(isEnabledFacet, acceptInputFromAllControllersFacet, gameControllerIdFacet, onGamepadDetected) {
  (0,react_facet_src.useFacetEffect)((isEnabled, acceptInputFromAllControllers, gameControllerId) => {
    if (!isEnabled) {
      return;
    }

    const cleanup = onGamepadInput_onGamepadInput(gamepads => {
      const acceptedGamepads = acceptInputFromAllControllers ? gamepads : gamepads.filter(gamepad => gamepad.id === gameControllerId);

      if (acceptedGamepads.length > 0) {
        onGamepadDetected();
      }
    });
    return cleanup;
  }, [onGamepadDetected], [isEnabledFacet, acceptInputFromAllControllersFacet, gameControllerIdFacet]);
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/DeviceInformationEngineProvider/useLastUsedAndSupportedInputMethods.ts








const useSupportedInputMethods = supportedBackendInputMethods => {
  const [supportedInputMethods, setSupportedInputMethods] = (0,react_facet_src.useFacetState)([]); // Keyboard input is not sent to use from the backend so we need to keep track of it ourselves.
  // We are currently just saying that keyboard is supported if we have ever detected it,
  // which isn't ideal but the best we can do on the frontend.

  const isKeyboardSupported = (0,react.useRef)(false);
  const setKeyboardIsSupported = (0,react_facet_src.useFacetCallback)(supported => () => {
    if (!isKeyboardSupported.current) {
      isKeyboardSupported.current = true;
      const updatedSupported = Array.from(supported);
      updatedSupported.push(types_InputMethod.KEYBOARD);
      setSupportedInputMethods(updatedSupported);
    }
  }, [setSupportedInputMethods], [supportedInputMethods]);
  (0,react_facet_src.useFacetEffect)((supported, supportedFromBackend) => {
    const supportedLengthWithoutKeyboard = isKeyboardSupported.current ? supported.length - 1 : supported.length;
    const sameCount = supportedLengthWithoutKeyboard === supportedFromBackend.length;
    const shouldSync = !sameCount || !supportedFromBackend.every(method => supported.includes(method));

    if (shouldSync) {
      // Important to keep wrapping supportedFromBackend in Array.from(). The array originates from the backend
      // and those do not support the same operators / methods as native javascript arrays.
      const updatedSupported = Array.from(supportedFromBackend);

      if (isKeyboardSupported.current) {
        updatedSupported.push(types_InputMethod.KEYBOARD);
      }

      setSupportedInputMethods(updatedSupported);
    }
  }, [setSupportedInputMethods], [supportedInputMethods, supportedBackendInputMethods]);
  return {
    supportedInputMethods,
    setKeyboardIsSupported
  };
};

const useLastInputMethodUsed = currentBackendInputMethod => {
  const facetState = (0,react_facet_src.useFacetState)(null);
  const [lastInputMethodUsed, baseSetter] = facetState;
  const previousInputMethodRef = (0,react.useRef)(null); // Decorate the base setter in order to keep track of the previous input method used.

  const setLastInputMethodUsed = (0,react.useCallback)(newValue => {
    baseSetter(currentValue => {
      if (currentValue === newValue) {
        return currentValue;
      }

      if (currentValue !== react_facet_src.NO_VALUE) {
        previousInputMethodRef.current = currentValue;
      }

      return newValue;
    });
  }, [baseSetter]); // Sync last input method used with the backend. Note that we can not only do initialization here
  // and then track the state entirely on the frontend. This is due to how we initialize input methods
  // on the backend before running functional tests (see core:test:setInputMode).

  (0,react_facet_src.useFacetEffect)(currentBackendInputMethod => {
    if (currentBackendInputMethod == null) return;
    setLastInputMethodUsed(currentBackendInputMethod);
  }, [setLastInputMethodUsed], [currentBackendInputMethod]);
  return [lastInputMethodUsed, setLastInputMethodUsed, previousInputMethodRef];
}; // We only need to detect input on the frontend when we are going back and forth between
// keyboard and other input methods. The reason is that the backend tracks all input methods
// for us besides keyboard and we sync state changes received from the backend.
//
// The below illustrates the only place where we need to track state changes on the frontend:
// 1) Using Gamepad | Mouse | Touch -> Synced from backend state
// 2) Using Keyboard -> Tracked on the frontend entirely
// 3) Using same as 1) -> Tracked on the frontend, since from a backend perspective nothing has changed.


const useShouldListenToInput = (inputMethod, lastInputMethodUsed, supportedInputMethods, previousInputMethodRef, override = false) => {
  return (0,react_facet_src.useFacetMap)((last, supported) => override || previousInputMethodRef.current === inputMethod && last === types_InputMethod.KEYBOARD && supported.includes(inputMethod), [inputMethod, previousInputMethodRef, override], [lastInputMethodUsed, supportedInputMethods]);
}; // Hook that keeps track of last used input method and supported input methods.
// Keyboard is always supported after first use (since we don't get that state from the backend and we need to keep track of it ourselves)
// We do this aggregated hook in order to avoid setting up detection hooks for gamepad, mouse, touch and keyboard multiple times.


const useLastUsedAndSupportedInputMethods = (currentBackendInputMethod, acceptInputFromAllControllers, gameControllerId, supportedBackendInputMethods, options) => {
  const {
    supportedInputMethods,
    setKeyboardIsSupported
  } = useSupportedInputMethods(supportedBackendInputMethods);
  const [lastInputMethodUsed, setLastInputMethodUsed, previousInputMethodRef] = useLastInputMethodUsed(currentBackendInputMethod);
  const shouldListenToMouse = useShouldListenToInput(types_InputMethod.MOUSE, lastInputMethodUsed, supportedInputMethods, previousInputMethodRef, options === null || options === void 0 ? void 0 : options.trackAllUserInput);
  const shouldListenToTouch = useShouldListenToInput(types_InputMethod.TOUCH, lastInputMethodUsed, supportedInputMethods, previousInputMethodRef, options === null || options === void 0 ? void 0 : options.trackAllUserInput);
  const shouldListenToGamepad = useShouldListenToInput(types_InputMethod.GAMEPAD, lastInputMethodUsed, supportedInputMethods, previousInputMethodRef, options === null || options === void 0 ? void 0 : options.trackAllUserInput);
  const shouldListenToKeyboard = (0,react_facet_src.useFacetMap)(last => last !== types_InputMethod.KEYBOARD, [], [lastInputMethodUsed]);
  useMouseDetection(shouldListenToMouse, () => {
    setLastInputMethodUsed(types_InputMethod.MOUSE);
  }, supportedBackendInputMethods);
  useTouchDetection(shouldListenToTouch, () => {
    setLastInputMethodUsed(types_InputMethod.TOUCH);
  });
  useKeyboardDetection(shouldListenToKeyboard, () => {
    setKeyboardIsSupported();
    setLastInputMethodUsed(types_InputMethod.KEYBOARD);
  });
  useGamepadDetection(shouldListenToGamepad, acceptInputFromAllControllers, gameControllerId, () => {
    setLastInputMethodUsed(types_InputMethod.GAMEPAD);
  });
  return {
    lastInputMethodUsed,
    supportedInputMethods
  };
};
;// CONCATENATED MODULE: ./packages/engine/src/facets/deviceInformationFacet.ts

const DEVICE_INFORMATION_FACET = 'core.deviceInformation';
/**
 * React Hook that requests the facet
 */

const deviceInformationFacet = (0,react_facet_src.sharedFacet)(DEVICE_INFORMATION_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/providers/DeviceInformationEngineProvider/DeviceInformationEngineProvider.tsx
function DeviceInformationEngineProvider_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = DeviceInformationEngineProvider_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function DeviceInformationEngineProvider_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







function DeviceInformationEngineProvider(_ref) {
  let {
    children
  } = _ref,
      options = DeviceInformationEngineProvider_objectWithoutProperties(_ref, ["children"]);

  const deviceInformation = (0,react_facet_src.useSharedFacet)(deviceInformationFacet);
  const input = (0,react_facet_src.useSharedFacet)(inputFacet);
  const currentBackendInputMethod = (0,react_facet_src.useFacetMap)(inputFacet => inputFacet.currentInputType, [], [input]);
  const supportedBackendInputMethods = (0,react_facet_src.useFacetMap)(deviceInformation => deviceInformation.inputMethods, [], [deviceInformation]);
  const platform = (0,react_facet_src.useFacetMap)(deviceInformation => deviceInformation.platform, [], [deviceInformation]);
  const vrPlatform = (0,react_facet_src.useFacetMap)(deviceInformation => deviceInformation.arvrPlatform, [], [deviceInformation]);
  const acceptInputFromAllControllers = (0,react_facet_src.useFacetMap)(inputFacet => inputFacet.acceptInputFromAllControllers, [], [input]);
  const gameControllerId = (0,react_facet_src.useFacetMap)(inputFacet => inputFacet.gameControllerId, [], [input]); // This hook is needed since the MinecraftPE backend doesn't include keyboard input in `inputFacet.currentInputType`
  // and in `deviceInformation.inputMethods`. Ideally we would move all detection to the backend in the future.
  // We do the detection here in the engine layer instead of in the device information provider since this is a
  // Bedrock specific quirk.

  const {
    lastInputMethodUsed,
    supportedInputMethods
  } = useLastUsedAndSupportedInputMethods(currentBackendInputMethod, acceptInputFromAllControllers, gameControllerId, supportedBackendInputMethods, options);
  return /*#__PURE__*/react.createElement(DeviceInformationProvider, {
    platform: platform,
    arvrPlatform: vrPlatform,
    lastInputMethodUsed: lastInputMethodUsed,
    supportedInputMethods: supportedInputMethods
  }, children);
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/DeviceInformationEngineProvider/index.ts


;// CONCATENATED MODULE: ./packages/engine/src/ErrorBoundary.tsx





/**
 * Catches any error in the React sub-tree and renders the provided errorComponent
 */
function ErrorBoundary({
  children,
  errorComponent
}) {
  const [error, setError] = (0,react.useState)(null);
  const handleError = (0,react.useCallback)(error => {
    setError(error);
    engineWrapper_engine.trigger('core:exception');
  }, []);
  const clearError = (0,react.useCallback)(() => {
    setError(null);
  }, []);
  const isDevMode = "production" === 'development';
  const errorMessage = isDevMode && error ? error.message || 'Unknown error' : undefined;
  return /*#__PURE__*/react.createElement(ErrorCatcher, {
    onError: handleError
  }, error ? /*#__PURE__*/react.createElement(ErrorComponentWrapper, {
    dismissTimeout: isDevMode ? undefined : 40000,
    errorMessage: errorMessage,
    errorComponent: errorComponent,
    onDismiss: clearError
  }) : children);
}

class ErrorCatcher extends react.Component {
  static getDerivedStateFromError() {}

  componentDidCatch(error) {
    this.props.onError(error);
  }

  render() {
    return this.props.children;
  }

}

/**
 * Wrapper component to render the user-provided ErrorComponent
 * We use a wrapper to only request the routerFacet when needed (preventing unnecessary renders)
 */
function ErrorComponentWrapper({
  errorComponent: ErrorComponent,
  errorMessage,
  onDismiss,
  dismissTimeout
}) {
  const router = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(routerFacet));
  const handleDismiss = (0,react.useCallback)(() => {
    if (router != null && router !== react_facet_src.NO_VALUE) {
      router.history.goBack();
    } // Allows the history change to propagate so that the component that caused the error
    // will no longer be rendered


    requestAnimationFrame(onDismiss);
  }, [router, onDismiss]);
  (0,react.useEffect)(() => {
    // Automatically dismisses the ErrorModal after 4 seconds
    // TODO: remove this once we fix an issue that allows buttons in the error modal to work with Gamepad
    if (dismissTimeout != null) {
      const id = setTimeout(handleDismiss, dismissTimeout);
      return () => clearTimeout(id);
    }
  }, [router, handleDismiss, dismissTimeout]);
  return /*#__PURE__*/react.createElement(ErrorComponent, {
    errorMessage: errorMessage,
    onDismiss: handleDismiss
  });
}
;// CONCATENATED MODULE: ./packages/react-feature-flag/src/flagsContext.ts

const flagsContext_context = (0,react.createContext)([]);
const useFlags = () => useContext(flagsContext_context);
const FeatureFlagsProvider = flagsContext_context.Provider;
FeatureFlagsProvider.displayName = 'FeatureFlagsProvider';
;// CONCATENATED MODULE: ./packages/engine/src/facets/featureFlagsFacet.ts

const FEATURE_FLAGS_FACET = 'core.featureFlags';
/**
 * React Hook that requests the facet
 */

const featureFlagsFacet = (0,react_facet_src.sharedFacet)(FEATURE_FLAGS_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/providers/FeatureFlagsEngineProvider.tsx




function FeatureFlagsEngineProvider({
  children
}) {
  const facetFlags = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(featureFlagsFacet));
  const flags = facetFlags === react_facet_src.NO_VALUE ? [] : facetFlags.flags;
  return /*#__PURE__*/react.createElement(FeatureFlagsProvider, {
    value: flags
  }, children);
}
;// CONCATENATED MODULE: ./packages/engine/src/facets/localeFacet.ts


const LOCALE_FACET = 'core.locale';
const localeFacet = (0,react_facet_src.sharedFacet)(LOCALE_FACET);
const localeFacetSelector = (0,react_facet_src.sharedSelector)(facet => {
  // We need to bind the functions to the localeFacet because separating
  // the function from the object causes Gameface to loose track of it and
  // crashes instantly when calling the function.
  return {
    set locale(newValue) {
      if (facet != null) {
        facet.locale = newValue;
      }
    },

    get locale() {
      return facet.locale;
    },

    translate: facet.translate != null ? facet.translate.bind(facet) : translateFallback,
    translateWithParameters: facet.translateWithParameters != null ? facet.translateWithParameters.bind(facet) : translateWithParametersFallback,
    formatDate: facet.formatDate != null ? facet.formatDate.bind(facet) : formatDateFallback
  };
}, [localeFacet]);
/**
 * Fallback implementation for old builds of the backend
 */

const translateFallback = key => {
  return engineWrapper_engine.translate(key);
};
/**
 * Fallback implementation for old builds of the backend
 */


const translateWithParametersFallback = key => {
  console.error('Update Bedrock to get support for translations with parameters.');
  return engineWrapper_engine.translate(key);
};
/**
 * Fallback implementation for old builds of the backend
 */


const formatDateFallback = timestampInSeconds => {
  console.error('Update Bedrock to get support for formatDate.');
  return `${timestampInSeconds}`;
};
;// CONCATENATED MODULE: ./packages/engine/src/providers/LocalizationEngineProvider.tsx




function LocalizationEngineProvider({
  children,
  developmentTranslations
}) {
  const locale = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(localeFacetSelector));
  const translate = (0,react.useCallback)((key, params) => {
    if (false) {}

    if (locale === react_facet_src.NO_VALUE) {
      return react_facet_src.NO_VALUE;
    }

    if (params != null) {
      return locale.translateWithParameters(key, params);
    }

    return locale.translate(key);
  }, [developmentTranslations, locale]);
  return locale !== react_facet_src.NO_VALUE ? /*#__PURE__*/react.createElement(LocalizationProvider, {
    translationPrefix: "hbui",
    locale: locale.locale,
    translate: translate,
    formatDate: locale.formatDate
  }, children) : null;
}
;// CONCATENATED MODULE: ./packages/react-narrator/src/utils/getAncestry.ts
const getAncestry = (narrationTree, narrationId) => {
  if (narrationId === '') {
    return [];
  }

  const currentNode = narrationTree[narrationId];
  return [narrationId, ...getAncestry(narrationTree, currentNode.parentNarrationId)];
};
;// CONCATENATED MODULE: ./packages/react-narrator/src/utils/getAncestryDifference.ts
const getAncestryDifference = (currentAncestry, previousAncestry) => {
  if (previousAncestry.length === 0) {
    return currentAncestry;
  }

  const lastCurrentItem = currentAncestry[currentAncestry.length - 1];
  const lastPreviousItem = previousAncestry[previousAncestry.length - 1];

  if (lastCurrentItem === lastPreviousItem) {
    return getAncestryDifference(currentAncestry.slice(0, -1), previousAncestry.slice(0, -1));
  }

  return currentAncestry;
};
;// CONCATENATED MODULE: ./packages/react-narrator/src/utils/constructNarration.ts
const constructNarration = (narrationTree, ancestry) => {
  // The values on `shouldSkipParent` are the indexes of the ancestors to skip
  // The value `0` corresponds to the first parent, so the in ancestry array,
  // it corresponds to the element indexed as `1`, because the element `0` in
  // the ancestry array is the current node.
  // We index starting from the leaf instead of starting from the root
  // of the narration node tree because when we are developing we are most
  // aware of the immediate context of the current node, and not
  // necessarily of the root
  const nodesToSkip = narrationTree[ancestry[0]].shouldSkipParent;
  return ancestry.filter((_, index) => nodesToSkip.indexOf(index - 1) === -1).reverse().map(key => {
    var _narrationTree$key$ge, _narrationTree$key$ge2, _narrationTree$key;

    const item = narrationTree[key];

    if (item.text != null) {
      return item.text.trim();
    }

    return (_narrationTree$key$ge = (_narrationTree$key$ge2 = (_narrationTree$key = narrationTree[key]).getText) === null || _narrationTree$key$ge2 === void 0 ? void 0 : _narrationTree$key$ge2.call(_narrationTree$key).trim()) !== null && _narrationTree$key$ge !== void 0 ? _narrationTree$key$ge : '';
  }).filter(text => text !== '').join(' . ');
};
;// CONCATENATED MODULE: ./packages/react-narrator/src/components/NarrationSetup.tsx




const NarrationSetup = ({
  children,
  disabled,
  narrationTree,
  driver,
  isIdle = true,
  shouldUseQueueSystem,
  shouldInterrupt
}) => {
  const isDisabledFacet = (0,react_facet_src.useFacetWrap)(disabled !== null && disabled !== void 0 ? disabled : true);
  const driverFacet = (0,react_facet_src.useFacetWrap)(driver);
  const [narrationQueueFacet, setNarrationQueueFacet] = (0,react_facet_src.useFacetState)([]);
  const isIdleFacet = (0,react_facet_src.useFacetWrap)(isIdle);
  const shouldUseQueueSystemFacet = (0,react_facet_src.useFacetWrap)(shouldUseQueueSystem !== null && shouldUseQueueSystem !== void 0 ? shouldUseQueueSystem : false);
  const shouldInterruptFacet = (0,react_facet_src.useFacetWrap)(shouldInterrupt !== null && shouldInterrupt !== void 0 ? shouldInterrupt : false);
  const narrationTreeDefaultRef = (0,react.useRef)({
    root: {
      text: '',
      parentNarrationId: '',
      shouldSkipParent: []
    }
  });
  const previousNarrationId = (0,react.useRef)('');
  const isDisabled = (0,react_facet_src.useFacetUnwrap)(isDisabledFacet);
  const disabledRef = (0,react.useRef)(isDisabled);
  (0,react_facet_src.useFacetEffect)((driver, isIdle, narrationQueue) => {
    /**
     * We only want to trigger the narration if the narration queue is not empty and the two following conditions are met:
     * 1. TTS driver is idle.
     * 2.TTS driver is not idle but the first item in the queue is can interrupt current narration.
     */
    if (narrationQueue.length > 0 && (Boolean(isIdle) || !Boolean(isIdle) && narrationQueue[0].itemShouldInterrupt)) {
      const [itemToNarrate, ...restOfQueue] = narrationQueue;
      const {
        narrationId,
        textToRead,
        profanityFilterContext,
        interruptible,
        required,
        playInBackground
      } = itemToNarrate;
      driver.read(textToRead, profanityFilterContext, interruptible, required, playInBackground);

      if (false) {}

      setNarrationQueueFacet(restOfQueue);

      if (false) {}

      if (narrationId != null) {
        previousNarrationId.current = narrationId;
      }
    }
  }, [setNarrationQueueFacet], [driverFacet, isIdleFacet, narrationQueueFacet]);
  const clear = (0,react_facet_src.useFacetCallback)(driver => () => {
    driver.clear();
  }, [], [driverFacet]);
  const readText = (0,react_facet_src.useFacetCallback)((driver, shouldUseQueueSystem, shouldInterrupt) => (narration, profanityFilterContext = {
    outOfGame: true,
    inGame: true
  }, interruptible = true, required = false, playInBackground = false, narrationId) => {
    if (!Boolean(shouldUseQueueSystem)) {
      driver.read(narration, profanityFilterContext, interruptible, required, playInBackground);

      if (narrationId != null) {
        previousNarrationId.current = narrationId;
      }
    } else {
      const newQueueItem = {
        narrationId,
        textToRead: narration,
        profanityFilterContext,
        interruptible: interruptible,
        required: required,
        playInBackground: playInBackground,
        itemShouldInterrupt: shouldInterrupt
      };

      if (Boolean(shouldInterrupt)) {
        setNarrationQueueFacet([newQueueItem]);
        return;
      }

      setNarrationQueueFacet(currentQueue => currentQueue !== react_facet_src.NO_VALUE ? [...currentQueue, newQueueItem] : [newQueueItem]);
    }
  }, [setNarrationQueueFacet], [driverFacet, shouldUseQueueSystemFacet, shouldInterruptFacet]); // To make testing easier, we want to have the functionality to manually pass in narrationTree.
  // For other scenarios they are not meaningful to add by the consumer of the API

  const actualNarrationTree = narrationTree ? narrationTree : narrationTreeDefaultRef.current;
  const readById = (0,react.useCallback)((narrationId, profanityFilterContext = {
    outOfGame: true,
    inGame: true
  }, interruptible = true, required = false, playInBackground = false) => {
    var _narrationNode$getSuf, _narrationNode$getSuf2;

    // TODO should we always do this?
    // Is there any scenario at all in which we wouldn’t want to clear the current
    // narration before starting the new one?
    // driver.clear()
    const currentAncestry = getAncestry(actualNarrationTree, narrationId);
    const previousAncestry = getAncestry(actualNarrationTree, previousNarrationId.current);
    const ancestryDifference = getAncestryDifference(currentAncestry, previousAncestry);
    const narration = constructNarration(actualNarrationTree, ancestryDifference.length === 0 ? [narrationId] : ancestryDifference);
    const narrationNode = actualNarrationTree[narrationId];
    const suffixNarration = (_narrationNode$getSuf = (_narrationNode$getSuf2 = narrationNode.getSuffix) === null || _narrationNode$getSuf2 === void 0 ? void 0 : _narrationNode$getSuf2.call(narrationNode)) !== null && _narrationNode$getSuf !== void 0 ? _narrationNode$getSuf : '';
    const finalNarration = suffixNarration !== '' ? narration + ' . ' + suffixNarration : narration;

    if (false) {}

    readText(finalNarration, profanityFilterContext, interruptible, required, playInBackground, narrationId);
  }, [actualNarrationTree, readText]);
  (0,react.useEffect)(() => {
    if (disabled === true) {
      clear();
    }
  }, [clear, disabled]);
  return /*#__PURE__*/react.createElement(NarrationDriverProvider, {
    value: {
      narrationTree: actualNarrationTree,
      readById,
      readText,
      clear
    }
  }, /*#__PURE__*/react.createElement(NarrationEnabledProvider, {
    value: isDisabled !== react_facet_src.NO_VALUE ? !isDisabled : true
  }, children));
};
;// CONCATENATED MODULE: ./packages/engine/src/facets/screenReaderFacet.ts

let ProfanityFilterContext; // refer to https://coherent-labs.com/Documentation/cpp-gameface/df/d01/javascript_virtual_machine.html
// __Type is needed by Gameface when passing javascript object to C++

(function (ProfanityFilterContext) {
  ProfanityFilterContext[ProfanityFilterContext["NONE"] = 0] = "NONE";
  ProfanityFilterContext[ProfanityFilterContext["UI_FRONT_END"] = 1] = "UI_FRONT_END";
  ProfanityFilterContext[ProfanityFilterContext["UI_IN_GAME"] = 2] = "UI_IN_GAME";
  ProfanityFilterContext[ProfanityFilterContext["ALL_UI"] = ProfanityFilterContext.UI_FRONT_END | ProfanityFilterContext.UI_IN_GAME] = "ALL_UI";
  ProfanityFilterContext[ProfanityFilterContext["IN_GAME_CHAT"] = 4] = "IN_GAME_CHAT";
  ProfanityFilterContext[ProfanityFilterContext["IN_GAME_ITEMS"] = 8] = "IN_GAME_ITEMS";
  ProfanityFilterContext[ProfanityFilterContext["IN_GAME_NAME"] = 16] = "IN_GAME_NAME";
  ProfanityFilterContext[ProfanityFilterContext["ALL"] = ProfanityFilterContext.UI_FRONT_END | ProfanityFilterContext.UI_IN_GAME | ProfanityFilterContext.IN_GAME_CHAT | ProfanityFilterContext.IN_GAME_ITEMS | ProfanityFilterContext.IN_GAME_NAME] = "ALL";
})(ProfanityFilterContext || (ProfanityFilterContext = {}));

const SCREEN_READER_FACET = 'core.screenReader';
/**
 * React Hook that requests the facet
 */

const screenReaderSharedFacet = (0,react_facet_src.sharedFacet)(SCREEN_READER_FACET);
const screenReaderReadFactory = screenReader => (textToRead, profanityFilterContext, interruptible, required, playInBackground, playWhenPlatformTTSEnabled) => {
  screenReader.read(textToRead, profanityFilterContext, {
    __Type: 'core.screenReaderOptions',
    canBeInterrupted: interruptible,
    isRequired: required,
    shouldPlayInBackground: playInBackground,
    shouldPlayWhenPlatformTTSEnabled: playWhenPlatformTTSEnabled
  });
};
;// CONCATENATED MODULE: ./packages/engine/src/providers/useClearNarrationOnRouteChange.ts



/**
 * Whenever a user performs a navigation action, any narration that is currently on-going needs to stop.
 */

const useClearNarrationOnRouteChange = () => {
  const clearScreenReader = (0,react_facet_src.useFacetCallback)(screenReader => () => screenReader.clear(), [], [(0,react_facet_src.useSharedFacet)(screenReaderSharedFacet)]);
  (0,react_facet_src.useFacetEffect)(pathname => {
    /**
     * Since Ore UI screens can be pre-loaded for caching reasons, this code can execute
     * even without the screen being on a scene stack.
     *
     * Calling clear would wrongly cancel a narration on whatever screen is active in the game.
     */
    if (pathname !== ROUTER_INVALID_ROUTE) {
      clearScreenReader();
    }
  }, [clearScreenReader], [(0,react_facet_src.useFacetMap)(routerFacet => routerFacet.history.location.pathname, [], [(0,react_facet_src.useSharedFacet)(routerFacet)])]);
};
;// CONCATENATED MODULE: ./packages/engine/src/providers/NarratorEngineProvider.tsx







function NarratorEngineProvider({
  children,
  shouldUseQueueSystem
}) {
  useClearNarrationOnRouteChange(); // Warning note: This might cause excesive re-renders if isIdle is introduced to the screenReaderFacet

  const screenReaderFacet = (0,react_facet_src.useSharedFacet)(screenReaderSharedFacet);
  const isUITextToSpeechEnabledFacet = (0,react_facet_src.useFacetMap)(screenReader => screenReader.isUITextToSpeechEnabled, [], [screenReaderFacet]);
  const screenReaderIsIdleFacet = (0,react_facet_src.useFacetMap)(screenReader => screenReader.isIdle, [], [screenReaderFacet]);
  const read = (0,react_facet_src.useFacetCallback)(screenReaderReadFactory, [], [screenReaderFacet]);
  const clear = (0,react_facet_src.useFacetCallback)(screenReader => () => screenReader.clear(), [], [screenReaderFacet]);
  const lastFocusOriginFacet = useLastFocusOrigin();
  const shouldInterrupt = (0,react_facet_src.useFacetMap)(currentFocusChangeSource => currentFocusChangeSource === FocusOrigin.FocusInput || currentFocusChangeSource === FocusOrigin.PointerInput || currentFocusChangeSource === FocusOrigin.URL, [], [lastFocusOriginFacet]);
  const driverRead = (0,react_facet_src.useFacetCallback)(isUITextToSpeechEnabled => (text, profanityContext, interruptible, required, playInBackground) => {
    if (Boolean(isUITextToSpeechEnabled)) {
      read(text, mapProfanityContext(profanityContext), interruptible, required, playInBackground, true);
    }
  }, [read], [isUITextToSpeechEnabledFacet]);
  const driverFacet = (0,react.useMemo)(() => ({
    read: driverRead,
    clear: () => clear()
  }), [driverRead, clear]);
  const isDisabledFacet = (0,react_facet_src.useFacetMap)(isUITextToSpeechEnabled => !Boolean(isUITextToSpeechEnabled), [], [isUITextToSpeechEnabledFacet]);
  return /*#__PURE__*/react.createElement(NarrationSetup, {
    driver: driverFacet,
    disabled: isDisabledFacet,
    isIdle: screenReaderIsIdleFacet,
    shouldUseQueueSystem: shouldUseQueueSystem === true,
    shouldInterrupt: shouldInterrupt
  }, children);
}
function mapProfanityContext(profanityContext) {
  let x = 0;

  if (profanityContext.outOfGame) {
    x = x + ProfanityFilterContext.UI_FRONT_END;
  }

  if (profanityContext.inGame) {
    x = x + ProfanityFilterContext.UI_IN_GAME;
  }

  if (profanityContext.inGameChat) {
    x = x + ProfanityFilterContext.IN_GAME_CHAT;
  }

  if (profanityContext.inGameItem) {
    x = x + ProfanityFilterContext.IN_GAME_ITEMS;
  }

  if (profanityContext.inGameName) {
    x = x + ProfanityFilterContext.IN_GAME_NAME;
  }

  return x;
}
;// CONCATENATED MODULE: ./packages/react-sound-effect/src/SoundProvider.tsx


function SoundProvider({
  children,
  driver
}) {
  return /*#__PURE__*/react.createElement(context_Provider, {
    value: driver.play
  }, children);
}
;// CONCATENATED MODULE: ./packages/engine/src/facets/soundFacet.ts

const SOUND_FACET = 'core.sound';
const soundFacet = (0,react_facet_src.sharedFacet)(SOUND_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/providers/SoundEngineProvider.tsx




function SoundEngineProvider({
  children
}) {
  const soundApi = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(soundFacet));
  const soundDriver = (0,react.useMemo)(() => ({
    play(eventName, extraDelay, volume = 1, pitch = 1) {
      const delay = extraDelay;
      let soundId;
      let timeout;

      const play = () => {
        if (soundApi == null || soundApi === react_facet_src.NO_VALUE) {
          console.log('Bedrock Sound driver not yet initialized while playing', eventName);
          return;
        }

        soundId = soundApi.play(eventName, volume, pitch);
      };

      if (delay > 0) {
        timeout = setTimeout(play, delay);
      } else {
        play();
      }

      return () => {
        if (timeout != null) clearTimeout(timeout);

        if (soundApi == null || soundApi === react_facet_src.NO_VALUE) {
          console.log('Bedrock Sound driver not yet initialized while stopping', eventName);
          return;
        } else if (soundApi.isPlaying(soundId)) {
          soundApi.fadeOut(soundId, 0);
        }
      };
    }

  }), [soundApi]);
  return /*#__PURE__*/react.createElement(SoundProvider, {
    driver: soundDriver
  }, children);
}
;// CONCATENATED MODULE: ./packages/react-device-information/src/SplitScreen.tsx

let SplitScreen_SplitScreenDirection;

(function (SplitScreenDirection) {
  SplitScreenDirection[SplitScreenDirection["HORIZONTAL"] = 0] = "HORIZONTAL";
  SplitScreenDirection[SplitScreenDirection["VERTICAL"] = 1] = "VERTICAL";
})(SplitScreen_SplitScreenDirection || (SplitScreen_SplitScreenDirection = {}));

const splitScreenContext = (0,react.createContext)({
  numActivePlayers: 1,
  direction: SplitScreen_SplitScreenDirection.HORIZONTAL,
  position: 0
});
const useSplitScreen = () => (0,react.useContext)(splitScreenContext);
function SplitScreenProvider({
  children,
  numActivePlayers,
  direction = SplitScreen_SplitScreenDirection.HORIZONTAL,
  position
}) {
  const value = (0,react.useMemo)(() => ({
    numActivePlayers,
    direction,
    position
  }), [numActivePlayers, direction, position]);
  return /*#__PURE__*/react.createElement(splitScreenContext.Provider, {
    value: value
  }, children);
}
;// CONCATENATED MODULE: ./packages/react-device-information/src/SafeZone/useSafeZoneCalculation/calculateSafeZone.ts
function calculateSafeZone(safeAreaX, safeAreaY, screenPositionX, screenPositionY) {
  const clampedSafeAreaX = calculateSafeZone_clamp(safeAreaX, 0.9, 1);
  const clampedSafeAreaY = calculateSafeZone_clamp(safeAreaY, 0.9, 1);
  const clampedScreenPositionX = calculateSafeZone_clamp(screenPositionX, -0.1, 0.1);
  const clampedScreenPositionY = calculateSafeZone_clamp(screenPositionY, -0.1, 0.1);
  const windowWidth = window.innerWidth;
  const windowHeight = window.innerHeight;
  return {
    top: Math.round((1 - clampedSafeAreaY + clampedScreenPositionY) / 2 * windowHeight),
    bottom: Math.round((1 - clampedSafeAreaY - clampedScreenPositionY) / 2 * windowHeight),
    left: Math.round((1 - clampedSafeAreaX + clampedScreenPositionX) / 2 * windowWidth),
    right: Math.round((1 - clampedSafeAreaX - clampedScreenPositionX) / 2 * windowWidth)
  };
}

function calculateSafeZone_clamp(input, min, max) {
  return Math.min(Math.max(input, min), max);
}
;// CONCATENATED MODULE: ./packages/react-device-information/src/SafeZone/useSafeZoneCalculation/applySplitScreen.ts
var applySplitScreen_SplitScreenDirection;

(function (SplitScreenDirection) {
  SplitScreenDirection[SplitScreenDirection["HORIZONTAL"] = 0] = "HORIZONTAL";
  SplitScreenDirection[SplitScreenDirection["VERTICAL"] = 1] = "VERTICAL";
})(applySplitScreen_SplitScreenDirection || (applySplitScreen_SplitScreenDirection = {}));

function applySplitScreen({
  top,
  bottom,
  left,
  right
}, {
  numActivePlayers,
  direction,
  position
}) {
  return {
    top: isOnTop(numActivePlayers, position, direction) ? top : 0,
    bottom: isOnBottom(numActivePlayers, position, direction) ? bottom : 0,
    left: isOnLeft(numActivePlayers, position, direction) ? left : 0,
    right: isOnRight(numActivePlayers, position, direction) ? right : 0
  };
}

function isOnTop(numActivePlayers, position, direction) {
  switch (numActivePlayers) {
    case 2:
      return position === 0 || position === 1 && direction === applySplitScreen_SplitScreenDirection.VERTICAL;

    case 3:
      return position === 0 || position === 1;

    case 4:
      return position === 0 || position === 1;

    default:
      return true;
  }
}

function isOnBottom(numActivePlayers, position, direction) {
  switch (numActivePlayers) {
    case 2:
      return position === 1 || position === 0 && direction === applySplitScreen_SplitScreenDirection.VERTICAL;

    case 3:
      return position === 2;

    case 4:
      return position === 2 || position === 3;

    default:
      return true;
  }
}

function isOnLeft(numActivePlayers, position, direction) {
  switch (numActivePlayers) {
    case 2:
      return position === 0 || position === 1 && direction === applySplitScreen_SplitScreenDirection.HORIZONTAL;

    case 3:
      return position === 0 || position === 2;

    case 4:
      return position === 0 || position === 2;

    default:
      return true;
  }
}

function isOnRight(numActivePlayers, position, direction) {
  switch (numActivePlayers) {
    case 2:
      return position === 1 || position === 0 && direction === applySplitScreen_SplitScreenDirection.HORIZONTAL;

    case 3:
      return position === 1;

    case 4:
      return position === 1 || position === 3;

    default:
      return true;
  }
}
;// CONCATENATED MODULE: ./packages/react-device-information/src/SafeZone/useSafeZoneCalculation/useSafeZoneCalculation.ts




function useSafeZoneCalculation(safeAreaX, safeAreaY, screenPositionX, screenPositionY) {
  const splitScreen = useSplitScreen();
  const calculateSafeZoneWithLatestValues = (0,react.useCallback)(() => calculateSafeZone(safeAreaX, safeAreaY, screenPositionX, screenPositionY), [safeAreaX, safeAreaY, screenPositionX, screenPositionY]);
  const calculateSafeZoneWithSplitScreen = (0,react.useCallback)(() => applySplitScreen(calculateSafeZoneWithLatestValues(), splitScreen), [calculateSafeZoneWithLatestValues, splitScreen]);
  const [safeZone, setSafeZone] = (0,react.useState)(calculateSafeZoneWithSplitScreen);
  (0,react.useEffect)(() => {
    setSafeZone(calculateSafeZoneWithSplitScreen);

    const onResize = () => setSafeZone(calculateSafeZoneWithSplitScreen);

    window.addEventListener('resize', onResize);
    return () => {
      window.removeEventListener('resize', onResize);
    };
  }, [calculateSafeZoneWithSplitScreen]);
  return safeZone;
}
;// CONCATENATED MODULE: ./packages/react-device-information/src/SafeZone/SafeZoneProvider.tsx



function SafeZoneProvider({
  children,
  safeAreaX,
  safeAreaY,
  screenPositionX,
  screenPositionY
}) {
  const safeZone = useSafeZoneCalculation(safeAreaX, safeAreaY, screenPositionX, screenPositionY);
  return /*#__PURE__*/react.createElement(safeZoneContext.Provider, {
    value: safeZone
  }, children);
}
;// CONCATENATED MODULE: ./packages/engine/src/facets/safeZoneFacet.ts

const SAFE_ZONE_FACET = 'core.safeZone';
/**
 * React Hook that requests the facet
 */

const safeZoneFacet = (0,react_facet_src.sharedFacet)(SAFE_ZONE_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/providers/SafeZoneEngineProvider.tsx




function SafeZoneEngineProvider({
  children
}) {
  const safeZone = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(safeZoneFacet));
  return safeZone != null && safeZone !== react_facet_src.NO_VALUE ? /*#__PURE__*/react.createElement(SafeZoneProvider, {
    safeAreaX: safeZone.safeAreaX,
    safeAreaY: safeZone.safeAreaY,
    screenPositionX: safeZone.screenPositionX,
    screenPositionY: safeZone.screenPositionY
  }, children) : null;
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/SplitScreenEngineProvider.tsx




function SplitScreenEngineProvider({
  children
}) {
  const splitScreen = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(splitScreenFacet));
  return splitScreen != null && splitScreen !== react_facet_src.NO_VALUE ? /*#__PURE__*/react.createElement(SplitScreenProvider, {
    numActivePlayers: splitScreen.numActivePlayers,
    direction: splitScreen.splitScreenDirection,
    position: splitScreen.splitScreenPosition
  }, children) : null;
}
;// CONCATENATED MODULE: ./packages/ui/src/UIProvider/UIProvider.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const UIProvider = ({});
;// CONCATENATED MODULE: ./packages/ui/src/UIProvider/useLocaleSpecificFonts.ts

/**
 * Defines custom CSS properties with font fallbacks custom tailored based
 * on the current locale.
 *
 * These properties are injected by @mojang/postcss-minecraft-fallback-font-family
 *
 * We need to do this because there are unicode clashes between some of the fonts that we use.
 * For example, Japanese and Chinese characters end up using the wrong period ('.') if we don't
 * order the font families in a specific order.
 *
 * For more information on why this is needed, check the ticket:
 * - https://dev-mc.visualstudio.com/Minecraft/_workitems/edit/504080
 */

const DEFAULT = 'Noto Sans';
const JP = 'Noto Sans JP';
const TC = 'Noto Sans TC';
const SC = 'Noto Sans SC';
const KR = 'Noto Sans KR';
const AR = 'Noto Sans AR';
const FALLBACKS = ['Noto Sans Mongolian', 'Noto Sans Syriac', 'Noto Sans TamilSupplement'];
function getLocaleSpecificFonts(locale) {
  if (locale.startsWith('ja')) {
    return [JP, TC, SC, KR, DEFAULT, ...FALLBACKS];
  } else if (locale === 'zh_TW') {
    return [TC, SC, JP, KR, DEFAULT, ...FALLBACKS];
  } else if (locale === 'zh_CN') {
    return [SC, TC, JP, KR, DEFAULT, ...FALLBACKS];
  } else if (locale.startsWith('ko')) {
    return [KR, TC, SC, JP, DEFAULT, ...FALLBACKS];
  } else if (locale.startsWith('ar_')) {
    return [AR, DEFAULT, KR, TC, SC, JP, ...FALLBACKS];
  } else {
    return [DEFAULT, SC, TC, JP, KR, AR, ...FALLBACKS];
  }
}
function useLocaleSpecificFonts(locale) {
  (0,react.useEffect)(() => {
    const localeSpecificFonts = getLocaleSpecificFonts(locale);
    document.body.style.setProperty('--localeSpecificNotoSansFonts', localeSpecificFonts.join(','));
  }, [locale]);
}
;// CONCATENATED MODULE: ./packages/ui/src/UIProvider/UIProvider.tsx








if (false) {}

function UIProvider_UIProvider({
  children,
  guiScale,
  onGuiScaleApplied = UIProvider_noop,
  screenAnimationEnabled,
  isRtl = false,
  locale
}) {
  useLangDirection(isRtl);
  useLocaleSpecificFonts(locale);
  return /*#__PURE__*/react.createElement(ScreenAnimationEnabledProvider, {
    value: screenAnimationEnabled
  }, /*#__PURE__*/react.createElement(ThemeProvider_static_ThemeProvider, null, /*#__PURE__*/react.createElement(ScalingProvider, {
    guiScale: guiScale,
    onGuiScaleApplied: onGuiScaleApplied
  }, children)));
}

const UIProvider_noop = () => {};
;// CONCATENATED MODULE: ./packages/react-localization/src/useLocale.tsx


const useLocale = () => {
  return (0,react.useContext)(LocalizationContext).locale;
};
;// CONCATENATED MODULE: ./packages/engine/src/facets/customScalingFacet.ts

const CUSTOM_SCALING_FACET = 'core.customScaling';
/**
 * React Hook that requests the facet
 */

const customScalingFacet = (0,react_facet_src.sharedFacet)(CUSTOM_SCALING_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/providers/UIEngineProvider/calculateScale.ts

/**
 * How the UI should scale across different screens
 *
 * - default: the way we want to move in the future (should be used by most teams)
 * - compat: some teams have the relative sizes of their components not being mobile-first
 * - legacy: scale the UI so that relative sises compared to legacy screens feels the same
 * - fixed: will only scale when a user actively chooses to scale through an option
 */

function isHandheld(a, b) {
  return b === ScreenType.HANDHELD_SCREEN_TYPE;
}

function calculateScale(mode, screenType, guiScaleModifier, width, height, pixelsPerMillimeter, accessibleGuiScale) {
  if (false) {}
  /**
   * For now, scaling mode 'fixed' will do the same thing as if
   * the user was running in a browser, but that might change.
   */


  if (mode === 'fixed') {
    /**
     * It's possible that guiScaleModifier is also set from the
     * engine when the window is resized. In that case, we probably
     * want to use a different variable here, such as fixedGuiScaleModifier.
     * This potential new value would need to be added to the UIEngineProvider.
     * Basically, we only want fixed scaling to be set by a menu option, the way
     * that scaling can be set in the browser through handleScaleChange (which
     * in turn triggers useScale)
     */
    return calculateFixedGuiScale(guiScaleModifier, accessibleGuiScale);
    /**
     * If this turns out to be an issue, we could temporarily just always return
     * 100% scaling like so:
     *
     * return Scale.SCALE_100_PERCENT
     *
     * This should force the scaling to be fixed, but it won't let the user manually
     * change the scaling, so we will definitely want to have a variable for that.
     */
  }

  const screenTypeBaseScale = SCREEN_TYPE_BASE_SCALE[mode][screenType];

  if (isHandheld(screenTypeBaseScale, screenType)) {
    return calculatePPIGuiScale(mode, screenTypeBaseScale, guiScaleModifier, pixelsPerMillimeter, width, height, accessibleGuiScale);
  }

  return calculateResolutionGuiScale(mode, screenTypeBaseScale, guiScaleModifier, width, height, accessibleGuiScale);
}
/**
 * Calculates the final scaling of UI elements based on the pixel density (PPI) of the current device.
 * It uses the PPI of the original iPhone as a base, and calculates a scaling factor to be applied on the UI.
 *
 * For example:
 * 	- running the game on the original iPhone (163ppi), would result in a guiScale of 4 (the base scale)
 *  - running the game on an iPhone 7 (326ppi, 14.330709 ppm), would return a guiScale of 8
 */

function calculatePPIGuiScale(mode, screenTypeBaseScale, guiScaleModifier, pixelsPerMillimeter, width, height, accessibleGuiScale) {
  const dpiScaleFactor = pixelsPerMillimeter / SCREEN_TYPE_BASE_PPM;
  const widthPoints = width / dpiScaleFactor;
  const heightPoints = height / dpiScaleFactor;
  const currentHandheldDeviceType = widthPoints > 1000 && heightPoints > 700 ? HandheldDeviceType.TABLET : HandheldDeviceType.PHONE;
  const handheldDeviceTypeBaseScale = screenTypeBaseScale[currentHandheldDeviceType];
  const guiScaleBase = Math.round(dpiScaleFactor * handheldDeviceTypeBaseScale);
  const scaledGuiScaleModifier = Math.round(dpiScaleFactor * guiScaleModifier);
  const PPIGuiScale = guiScaleBase + scaledGuiScaleModifier;

  if (accessibleGuiScale === true) {
    return calculateAccessibleGuiScale(PPIGuiScale);
  }

  return PPIGuiScale;
}
/**
 * For TVs and Desktops, the PPI information is not reliable
 * so instead we use a base resolution (1920x1080) and calculate a scaling factor from it
 *
 * For example:
 * - running the game in a console in 1080p will result in the scale of 7 (the base for that screen type)
 * - running the game in a console in 4k will result in the scale of 14 (twice the base for that screen type)
 */


function calculateResolutionGuiScale(mode, screenTypeBaseScale, guiScaleModifier, width, height, accessibleGuiScale) {
  const widthNeeded = 1920;
  const heightNeeded = 1080;
  const widthScale = width / widthNeeded;
  const heightScale = height / heightNeeded;
  const resolutionScaleFactor = Math.min(heightScale, widthScale);
  const guiScaleBase = Math.round(resolutionScaleFactor * screenTypeBaseScale);
  const scaledGuiScaleModifier = Math.round(resolutionScaleFactor * guiScaleModifier);
  const resolutionGuiScale = guiScaleBase + scaledGuiScaleModifier;

  if (accessibleGuiScale === true) {
    return calculateAccessibleGuiScale(resolutionGuiScale);
  }

  return resolutionGuiScale;
}
/**
 * Fixed scaling is to be used on development environments where we don't want the ui to scale (ex: browser)
 */


function calculateFixedGuiScale(guiScaleModifier, accessibleGuiScale) {
  const fixedGuiScale = Scale.SCALE_100_PERCENT + guiScaleModifier;

  if (accessibleGuiScale === true) {
    return calculateAccessibleGuiScale(fixedGuiScale);
  }

  return fixedGuiScale;
}
/**
 * This function returns an increased scale by 25% for accessibility purposes
 */


function calculateAccessibleGuiScale(guiScale) {
  return Math.ceil(guiScale * 1.25);
}
/**
 * For different platforms, what is the "starting scale"
 *
 * In this context, 4 means 100% scaling.
 */


const SCREEN_TYPE_BASE_SCALE = {
  /**
   * There are currently some inconsistencies in how different teams within the monorepo
   * work with scaling, so we provide this mode to keep the "starting scale" consistent
   * across different screen types.
   */
  compat: {
    [ScreenType.DESKTOP_SCREEN_TYPE]: Scale.SCALE_100_PERCENT,
    [ScreenType.TV_SCREEN_TYPE]: Scale.SCALE_100_PERCENT,
    [ScreenType.HANDHELD_SCREEN_TYPE]: {
      [HandheldDeviceType.PHONE]: Scale.SCALE_100_PERCENT,
      [HandheldDeviceType.TABLET]: Scale.SCALE_100_PERCENT
    },
    [ScreenType.VR_SCREEN_TYPE]: Scale.SCALE_100_PERCENT
  },

  /**
   * Legacy mode allows better relative sizes between new UI elements and legacy UI elements
   * and can be used in a game that is transitioning to Ore UI (Gameface)
   */
  legacy: {
    /**
     * On desktop, font size should equal or exceed:
     * - 18px at 1080p
     * - 29px at 4k
     *
     * Our base size (for handheld) is 16px, so we should do 125% (5)
     * However, this makes the UI too small in comparison with the legacy UI
     * To keep things more consistently, we are keeping the UI bigger overall, thus having base size as 175% (7) (for the time being)
     *
     * TODO: once more screens are converted to Gameface, we can update this to a more correct number
     */
    [ScreenType.DESKTOP_SCREEN_TYPE]: Scale.SCALE_175_PERCENT,

    /**
     * On tv, font size should equal or exceed:
     * - 26px at 1080p
     * - 44px at 4k
     *
     * Our base size (for handheld) is 16px, so we do 175% (7)
     */
    [ScreenType.TV_SCREEN_TYPE]: Scale.SCALE_175_PERCENT,

    /**
     * We use PPI information for handheld, so the base is 100% (4),
     * except for tablets that we bump up to 6 in order to match
     * the size of the UI in the legacy screens.
     */
    [ScreenType.HANDHELD_SCREEN_TYPE]: {
      [HandheldDeviceType.PHONE]: Scale.SCALE_100_PERCENT,
      [HandheldDeviceType.TABLET]: Scale.SCALE_150_PERCENT
    },

    /**
     * TODO: still needs to be defined
     */
    [ScreenType.VR_SCREEN_TYPE]: Scale.SCALE_100_PERCENT
  },
  default: {
    /**
     * On desktop, font size should equal or exceed:
     * - 18px at 1080p
     * - 29px at 4k
     *
     * Our base size (for handheld) is 16px, so we should do 125% (5)
     */
    [ScreenType.DESKTOP_SCREEN_TYPE]: Scale.SCALE_125_PERCENT,

    /**
     * On tv, font size should equal or exceed:
     * - 26px at 1080p
     * - 44px at 4k
     *
     * Our base size (for handheld) is 16px, so we do 175% (7)
     */
    [ScreenType.TV_SCREEN_TYPE]: Scale.SCALE_175_PERCENT,

    /**
     * We use PPI information for handheld, so the base is 100% (4)
     */
    [ScreenType.HANDHELD_SCREEN_TYPE]: {
      [HandheldDeviceType.PHONE]: Scale.SCALE_100_PERCENT,
      [HandheldDeviceType.TABLET]: Scale.SCALE_100_PERCENT
    },

    /**
     * TODO: still needs to be defined
     */
    [ScreenType.VR_SCREEN_TYPE]: Scale.SCALE_100_PERCENT
  },

  /**
   * This is an experimental ScalingMode that will never scale based on resolution
   * or screen size. It can, however, be scaled manually by a user through settings.
   */
  fixed: {
    [ScreenType.DESKTOP_SCREEN_TYPE]: Scale.SCALE_100_PERCENT,
    [ScreenType.TV_SCREEN_TYPE]: Scale.SCALE_100_PERCENT,
    [ScreenType.HANDHELD_SCREEN_TYPE]: {
      [HandheldDeviceType.PHONE]: Scale.SCALE_100_PERCENT,
      [HandheldDeviceType.TABLET]: Scale.SCALE_100_PERCENT
    },
    [ScreenType.VR_SCREEN_TYPE]: Scale.SCALE_100_PERCENT
  }
};
/**
 * 163ppi which is the original iPhone
 */

const SCREEN_TYPE_BASE_PPM = 6.417322835;
;// CONCATENATED MODULE: ./packages/engine/src/providers/UIEngineProvider/UIEngineProvider.tsx











function UIEngineProvider({
  children,
  scalingMode
}) {
  const deviceInformation = (0,react_facet_src.useSharedFacet)(deviceInformationFacet);
  const customScaling = (0,react_facet_src.useSharedFacet)(customScalingFacet);
  const splitScreen = (0,react_facet_src.useSharedFacet)(splitScreenFacet);
  const animation = (0,react_facet_src.useSharedFacet)(animationFacet);
  const scalingModeToUse = (0,react_facet_src.useFacetMap)(customScaling => customScaling.scalingModeOverride != null && customScaling.scalingModeOverride && customScaling.scalingModeOverride.length > 0 ? customScaling.scalingModeOverride : scalingMode, [scalingMode], [customScaling]);
  const fixedGuiScaleModifier = (0,react_facet_src.useFacetMap)(customScaling => customScaling.fixedGuiScaleModifier, [], [customScaling]);
  const accessibleGuiScale = (0,react_facet_src.useFacetMap)(customScaling => {
    var _customScaling$guiAcc;

    return (_customScaling$guiAcc = customScaling.guiAccessibilityScaling) !== null && _customScaling$guiAcc !== void 0 ? _customScaling$guiAcc : false;
  }, [], [customScaling]); // Wait for all facets to emit values

  const shouldRender = (0,react_facet_src.useFacetMap)(() => true, [], [deviceInformation, splitScreen, animation, fixedGuiScaleModifier, scalingModeToUse, accessibleGuiScale]); // Performance while running the game in split screen is degraded,
  // so we disable animations to a more snappy UI

  const screenAnimationEnabled = (0,react_facet_src.useFacetMap)((animation, splitScreen) => animation.screenAnimationEnabled && splitScreen.numActivePlayers === 1, [], [animation, splitScreen]);
  return /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: shouldRender
  }, /*#__PURE__*/react.createElement(ScaleProvider, {
    deviceInformationFacet: deviceInformation,
    scalingMode: scalingModeToUse,
    screenAnimationEnabled: screenAnimationEnabled,
    fixedGuiScaleModifier: fixedGuiScaleModifier,
    accessibleGuiScale: accessibleGuiScale
  }, children));
}

function ScaleProvider({
  scalingMode,
  children,
  deviceInformationFacet,
  screenAnimationEnabled,
  fixedGuiScaleModifier,
  accessibleGuiScale
}) {
  const screenType = useDeviceScreenType();
  const guiScale = useScale(scalingMode, screenType, deviceInformationFacet, fixedGuiScaleModifier, accessibleGuiScale);
  const locale = useLocale();
  const isRtl = useIsLocaleRtl();
  const handleGuiScaleApplied = (0,react.useCallback)(() => {
    // Gameface currently has a bug where it will apply incorrect proportions to elements
    // when a new base font-size is applied.
    // This events lets the backend knows we just changed the font size so that they can
    // do a workaround
    // More information at https://coherentlabs.zendesk.com/hc/requests/16845
    engineWrapper_engine.trigger('core:gui:resize-hack');
  }, []);
  return /*#__PURE__*/react.createElement(UIProvider_UIProvider, {
    guiScale: guiScale,
    onGuiScaleApplied: handleGuiScaleApplied,
    screenAnimationEnabled: screenAnimationEnabled,
    isRtl: isRtl,
    locale: locale
  }, children);
}

function useScale(scalingMode, screenType, deviceInformation, fixedGuiScaleModifier, accessibleGuiScale) {
  const guiScaleModifier = (0,react_facet_src.useFacetMap)((deviceInformation, fixedGuiScaleModifier, scalingMode) => scalingMode == 'fixed' ? fixedGuiScaleModifier : deviceInformation.guiScaleModifier, [], [deviceInformation, fixedGuiScaleModifier, scalingMode]);
  const calculateCurrentScale = (0,react_facet_src.useFacetCallback)((scalingMode, screenType, deviceInformation, guiScaleModifier, accessibleGuiScale) => () => calculateScale(scalingMode, screenType, guiScaleModifier, window.innerWidth, window.innerHeight, deviceInformation.pixelsPerMillimeter, accessibleGuiScale), [], [scalingMode, screenType, deviceInformation, guiScaleModifier, accessibleGuiScale]); // Initialize the state by calling the calculateCurrentScale function

  const [scale, setScale] = (0,react_facet_src.useFacetState)(calculateCurrentScale());
  (0,react.useEffect)(() => {
    const resize = () => setScale(calculateCurrentScale);

    resize();
    window.addEventListener('resize', resize);
    return () => window.removeEventListener('resize', resize);
  }, [calculateCurrentScale, setScale]);
  (0,react_facet_src.useFacetEffect)(() => {
    setScale(calculateCurrentScale);
  }, [setScale, calculateCurrentScale], [deviceInformation, fixedGuiScaleModifier]);
  return scale;
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/UIEngineProvider/index.ts

;// CONCATENATED MODULE: ./packages/engine/src/onEvent.ts

function onEvent_onEvent(eventName, cb) {
  const callback = cb; // eslint-disable-line @typescript-eslint/no-explicit-any

  engineWrapper_engine.on(eventName, callback);
  return () => engineWrapper_engine.off(eventName, callback);
}
// Gameface doesn't support returning values from JavaScript so we use
// OutParameter<T> as a workaround and return a value by modifying its
// value property
function onReturnValueEvent(eventName, getValue) {
  return onEvent_onEvent(eventName, (out, ...args) => {
    out.value = getValue(...args);
  }); // eslint-disable-next-line react-hooks/exhaustive-deps
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/TextFieldEngineProvider.tsx



function TextFieldEngineProvider({
  children
}) {
  const onGlobalChange = (0,react.useCallback)(cb => {
    // inputChange object will be destroyed after this callback, this is to make sure it can be accessed after the callback
    // TextInputChange only has immutable parameters, so shallow copy applied. Otherwise, it shall be deep copied.
    const copyInputChangeCB = inputChange => {
      cb({
        addedChars: inputChange.addedChars + '',
        removedChars: inputChange.removedChars + '',
        invalidChars: inputChange.invalidChars + '',
        index: inputChange.index + 0
      });
    };

    return onEvent_onEvent('core:keyboard:changed', copyInputChangeCB);
  }, []);
  const onKeyboardSubmitted = (0,react.useCallback)(cb => onEvent_onEvent('core:keyboard:submitted', cb), []);
  const onKeyboadrDismissed = (0,react.useCallback)(cb => onEvent_onEvent('core:keyboard:dismissed', cb), []);
  const onKeyboardTabbed = (0,react.useCallback)(cb => onEvent_onEvent('core:keyboard:tabbed', cb), []);
  const KeyboardCallbacks = {
    changedCB: onGlobalChange,
    submittedCB: onKeyboardSubmitted,
    dismissedCB: onKeyboadrDismissed,
    tabbedCB: onKeyboardTabbed
  };
  return /*#__PURE__*/react.createElement(OnChangeProvider, {
    value: KeyboardCallbacks
  }, children);
}
;// CONCATENATED MODULE: ./packages/react-render-tracking/src/RenderTrackingProvider.tsx


let TelemetryEvent;

(function (TelemetryEvent) {
  TelemetryEvent["FIRST_MEANINGFUL_PAINT"] = "core:telemetry:firstMeaningfulPaint";
  TelemetryEvent["FIRST_CONTENTFUL_PAINT"] = "core:telemetry:firstContentfulPaint";
})(TelemetryEvent || (TelemetryEvent = {}));

const renderQueueMap = () => new Map();

function RenderTrackingProvider({
  children,
  triggerEvent
}) {
  const contentfulRenderQueue = (0,react.useMemo)(renderQueueMap, []);
  const meaningfulRenderQueue = (0,react.useMemo)(renderQueueMap, []);
  const shouldFireMeaningfulPaint = (0,react.useRef)(false);
  const shouldFireContentfulPaint = (0,react.useRef)(false);
  const api = (0,react.useMemo)(() => {
    const meaningfulPaint = () => {
      shouldFireMeaningfulPaint.current = true;
      tryMeaningfulPaint();
    };

    const contentfulPaint = () => {
      shouldFireContentfulPaint.current = true;
      tryContentfulPaint();
    };

    const tryMeaningfulPaint = () => {
      if (contentfulRenderQueue.size === 0 && meaningfulRenderQueue.size === 0 && // Don't fire a meaningful paint if the contentful paints aren't finished
      shouldFireMeaningfulPaint.current) {
        // 👇 Log intentionally left in for debugging
        // console.log(`%c ${TelemetryEvent.FIRST_MEANINGFUL_PAINT}`, 'background: #c6c4f5; color: #222')
        triggerEvent(TelemetryEvent.FIRST_MEANINGFUL_PAINT);
        shouldFireMeaningfulPaint.current = false; // Reset the flag for future use
      }
    };

    const tryContentfulPaint = () => {
      if (contentfulRenderQueue.size === 0 && shouldFireContentfulPaint.current) {
        // 👇 Log intentionally left in for debugging
        // console.log(`%c ${TelemetryEvent.FIRST_CONTENTFUL_PAINT}`, 'background: #c4f5d1; color: #222')
        triggerEvent(TelemetryEvent.FIRST_CONTENTFUL_PAINT);
        shouldFireContentfulPaint.current = false;
      } // We should try a meaningful paint, because all of the meaningful events
      // may have fired before the contentful events were ready (note: this cannot
      // be the other way around, because you cannot have meaningful without contentful)


      tryMeaningfulPaint();
    };

    const block = (id, type) => {
      const renderStates = type === 'contentful' ? contentfulRenderQueue : meaningfulRenderQueue;
      renderStates.set(id, true);
    };

    const unblock = (id, type) => {
      const renderStates = type === 'contentful' ? contentfulRenderQueue : meaningfulRenderQueue;
      renderStates.delete(id); // Try and fire the event if it's ready

      type === 'contentful' ? tryContentfulPaint() : tryMeaningfulPaint();
    };

    return {
      block,
      unblock,
      meaningfulPaint,
      contentfulPaint
    };
  }, [triggerEvent, contentfulRenderQueue, meaningfulRenderQueue]);
  return /*#__PURE__*/react.createElement(RenderTrackingApiContext.Provider, {
    value: api
  }, children);
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/RenderTrackingEngineProvider.tsx



function RenderTrackingEngineProvider({
  children
}) {
  const trigger = (0,react.useMemo)(() => engineWrapper_engine.trigger.bind(engineWrapper_engine), []);
  return /*#__PURE__*/react.createElement(RenderTrackingProvider, {
    triggerEvent: trigger
  }, children);
}
;// CONCATENATED MODULE: ./packages/engine/src/GamepadPolyfillInitializer.tsx


const GamepadPolyfillInitializer = ({
  children
}) => {
  (0,react.useEffect)(() => {
    if (isInitialized()) return;
    const cleanup = initialize();
    return cleanup;
  }, []);
  return /*#__PURE__*/react.createElement(react.Fragment, null, children);
};
;// CONCATENATED MODULE: ./packages/engine/src/facets/requestFacet.ts

const referenceCount = new Map();
const instancePool = new Map(); // eslint-disable-line @typescript-eslint/no-explicit-any

const notFoundPool = new Map(); // eslint-disable-line @typescript-eslint/no-explicit-any

const ERROR_ACTIVATE_NOT_FOUND = 'activate-facet-not-found';
function requestFacet(facetName, update, fallBack, customErrorHandler) {
  var _referenceCount$get;

  const notFound = notFoundPool.get(facetName);

  if (notFound != null) {
    // if not found, we just use the fallback implementation already stored
    // and don't try to request it ever again
    update(notFound);
    return () => {// given it's a facet that was not found, there is no cleanup that needs to be performed
    };
  }

  const defaultErrorHandler = errorCode => {
    console.warn(`Error "${errorCode}" while using facet ${facetName}`);
  };

  const handleError = errorCode => {
    if (errorCode === ERROR_ACTIVATE_NOT_FOUND && fallBack != null) {
      notFoundPool.set(facetName, fallBack);
      update(fallBack);
    } else if (customErrorHandler) {
      customErrorHandler(errorCode);
    } else {
      defaultErrorHandler(errorCode);
    }
  };

  const handleUpdated = newValue => {
    instancePool.set(facetName, newValue);
    update(newValue);
  };

  const facetReferenceCount = (_referenceCount$get = referenceCount.get(facetName)) !== null && _referenceCount$get !== void 0 ? _referenceCount$get : 0;
  const facetInstance = instancePool.get(facetName);
  engineWrapper_engine.on(`facet:updated:${facetName}`, handleUpdated);
  engineWrapper_engine.on(`facet:error:${facetName}`, handleError);

  if (facetReferenceCount === 0) {
    // request the facet if it is the first time
    engineWrapper_engine.trigger('facet:request', [facetName]);
  } else if (facetInstance != null) {
    // since we are not requesting, we send an instance if it is available
    update(facetInstance);
  } // increment the reference count


  referenceCount.set(facetName, facetReferenceCount + 1); // returns a function that performs a cleanup

  return () => {
    var _referenceCount$get2;

    const currentFacetReferenceCount = (_referenceCount$get2 = referenceCount.get(facetName)) !== null && _referenceCount$get2 !== void 0 ? _referenceCount$get2 : 0;
    engineWrapper_engine.off(`facet:updated:${facetName}`, handleUpdated);
    engineWrapper_engine.off(`facet:error:${facetName}`, handleError);

    if (currentFacetReferenceCount === 1) {
      // if it is the last reference, inform the backend it can
      // stop updating this facet
      engineWrapper_engine.trigger('facet:discard', [facetName]); // and remove it from the instance pool

      instancePool.delete(facetName);
    }

    if (currentFacetReferenceCount > 0) {
      referenceCount.set(facetName, currentFacetReferenceCount - 1);
    }
  };
}
function resetInstancePool() {
  instancePool.clear();
  referenceCount.clear();
  notFoundPool.clear();
}
;// CONCATENATED MODULE: ./packages/engine/src/providers/ControllerSpecificButtonTranslationsProvider.tsx







const ControllerSpecificButtonTranslationsProvider = ({
  children
}) => {
  const {
    t
  } = useLocalization('ControllerSpecificButtonNarration'); // We don't want to use useFacetMemo because of the assumption that it might not run when there's no facet,
  // we're not sure if that bug has been fixed. In either case, we only wanna memoize an object and then wrap it to a facet.
  // When the object changes facet update should take care of propagating the update.

  const translations = (0,react.useMemo)(() => ({
    gamepad: {
      [ButtonType.A]: {
        [Controller.XBOX]: t('.Gamepad.A.XBOX'),
        [Controller.PS]: t('.Gamepad.A.PS'),
        [Controller.STEAM]: t('.Gamepad.A.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.A.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.A.QUEST')
      },
      [ButtonType.B]: {
        [Controller.XBOX]: t('.Gamepad.B.XBOX'),
        [Controller.PS]: t('.Gamepad.B.PS'),
        [Controller.STEAM]: t('.Gamepad.B.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.B.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.B.QUEST')
      },
      [ButtonType.X]: {
        [Controller.XBOX]: t('.Gamepad.X.XBOX'),
        [Controller.PS]: t('.Gamepad.X.PS'),
        [Controller.STEAM]: t('.Gamepad.X.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.X.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.X.QUEST')
      },
      [ButtonType.Y]: {
        [Controller.XBOX]: t('.Gamepad.Y.XBOX'),
        [Controller.PS]: t('.Gamepad.Y.PS'),
        [Controller.STEAM]: t('.Gamepad.Y.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.Y.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.Y.QUEST')
      },
      [ButtonType.START]: {
        [Controller.XBOX]: t('.Gamepad.START.XBOX'),
        [Controller.PS]: t('.Gamepad.START.PS'),
        [Controller.STEAM]: t('.Gamepad.START.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.START.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.START.QUEST')
      },
      [ButtonType.SELECT]: {
        [Controller.XBOX]: t('.Gamepad.SELECT.XBOX'),
        [Controller.PS]: t('.Gamepad.SELECT.PS'),
        [Controller.STEAM]: t('.Gamepad.SELECT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.SELECT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.SELECT.QUEST')
      },
      [ButtonType.XBOX]: {
        [Controller.XBOX]: t('.Gamepad.XBOX.XBOX'),
        [Controller.PS]: t('.Gamepad.XBOX.PS'),
        [Controller.STEAM]: t('.Gamepad.XBOX.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.XBOX.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.XBOX.QUEST')
      },
      [ButtonType.RIGHT_TRIGGER]: {
        [Controller.XBOX]: t('.Gamepad.RT.XBOX'),
        [Controller.PS]: t('.Gamepad.RT.PS'),
        [Controller.STEAM]: t('.Gamepad.RT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.RT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.RT.QUEST')
      },
      [ButtonType.LEFT_TRIGGER]: {
        [Controller.XBOX]: t('.Gamepad.LT.XBOX'),
        [Controller.PS]: t('.Gamepad.LT.PS'),
        [Controller.STEAM]: t('.Gamepad.LT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.LT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.LT.QUEST')
      },
      [ButtonType.LEFT_BUMPER]: {
        [Controller.XBOX]: t('.Gamepad.LB.XBOX'),
        [Controller.PS]: t('.Gamepad.LB.PS'),
        [Controller.STEAM]: t('.Gamepad.LB.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.LB.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.LB.QUEST')
      },
      [ButtonType.RIGHT_BUMPER]: {
        [Controller.XBOX]: t('.Gamepad.RB.XBOX'),
        [Controller.PS]: t('.Gamepad.RB.PS'),
        [Controller.STEAM]: t('.Gamepad.RB.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.RB.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.RB.QUEST')
      },
      [ButtonType.L3]: {
        [Controller.XBOX]: t('.Gamepad.L3.XBOX'),
        [Controller.PS]: t('.Gamepad.L3.PS'),
        [Controller.STEAM]: t('.Gamepad.L3.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.L3.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.L3.QUEST')
      },
      [ButtonType.R3]: {
        [Controller.XBOX]: t('.Gamepad.R3.XBOX'),
        [Controller.PS]: t('.Gamepad.R3.PS'),
        [Controller.STEAM]: t('.Gamepad.R3.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.R3.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.R3.QUEST')
      },
      [ButtonType.LEFT]: {
        [Controller.XBOX]: t('.Gamepad.LEFT.XBOX'),
        [Controller.PS]: t('.Gamepad.LEFT.PS'),
        [Controller.STEAM]: t('.Gamepad.LEFT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.LEFT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.LEFT.QUEST')
      },
      [ButtonType.RIGHT]: {
        [Controller.XBOX]: t('.Gamepad.RIGHT.XBOX'),
        [Controller.PS]: t('.Gamepad.RIGHT.PS'),
        [Controller.STEAM]: t('.Gamepad.RIGHT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.RIGHT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.RIGHT.QUEST')
      },
      [ButtonType.UP]: {
        [Controller.XBOX]: t('.Gamepad.UP.XBOX'),
        [Controller.PS]: t('.Gamepad.UP.PS'),
        [Controller.STEAM]: t('.Gamepad.UP.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.UP.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.UP.QUEST')
      },
      [ButtonType.DOWN]: {
        [Controller.XBOX]: t('.Gamepad.DOWN.XBOX'),
        [Controller.PS]: t('.Gamepad.DOWN.PS'),
        [Controller.STEAM]: t('.Gamepad.DOWN.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.DOWN.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.DOWN.QUEST')
      },
      [ButtonType.NEXT]: {
        [Controller.XBOX]: t('.Gamepad.NEXT.XBOX'),
        [Controller.PS]: t('.Gamepad.NEXT.PS'),
        [Controller.STEAM]: t('.Gamepad.NEXT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.NEXT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.NEXT.QUEST')
      },
      [ButtonType.PREV]: {
        [Controller.XBOX]: t('.Gamepad.PREV.XBOX'),
        [Controller.PS]: t('.Gamepad.PREV.PS'),
        [Controller.STEAM]: t('.Gamepad.PREV.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PREV.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PREV.QUEST')
      },
      [ButtonType.LEFT_ANALOG_LEFT]: {
        [Controller.XBOX]: t('.Gamepad.L_LEFT.XBOX'),
        [Controller.PS]: t('.Gamepad.L_LEFT.PS'),
        [Controller.STEAM]: t('.Gamepad.L_LEFT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.L_LEFT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.L_LEFT.QUEST')
      },
      [ButtonType.LEFT_ANALOG_RIGHT]: {
        [Controller.XBOX]: t('.Gamepad.L_RIGHT.XBOX'),
        [Controller.PS]: t('.Gamepad.L_RIGHT.PS'),
        [Controller.STEAM]: t('.Gamepad.L_RIGHT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.L_RIGHT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.L_RIGHT.QUEST')
      },
      [ButtonType.LEFT_ANALOG_UP]: {
        [Controller.XBOX]: t('.Gamepad.L_UP.XBOX'),
        [Controller.PS]: t('.Gamepad.L_UP.PS'),
        [Controller.STEAM]: t('.Gamepad.L_UP.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.L_UP.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.L_UP.QUEST')
      },
      [ButtonType.LEFT_ANALOG_DOWN]: {
        [Controller.XBOX]: t('.Gamepad.L_DOWN.XBOX'),
        [Controller.PS]: t('.Gamepad.L_DOWN.PS'),
        [Controller.STEAM]: t('.Gamepad.L_DOWN.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.L_DOWN.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.L_DOWN.QUEST')
      },
      [ButtonType.RIGHT_ANALOG_LEFT]: {
        [Controller.XBOX]: t('.Gamepad.R_LEFT.XBOX'),
        [Controller.PS]: t('.Gamepad.R_LEFT.PS'),
        [Controller.STEAM]: t('.Gamepad.R_LEFT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.R_LEFT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.R_LEFT.QUEST')
      },
      [ButtonType.RIGHT_ANALOG_RIGHT]: {
        [Controller.XBOX]: t('.Gamepad.R_RIGHT.XBOX'),
        [Controller.PS]: t('.Gamepad.R_RIGHT.PS'),
        [Controller.STEAM]: t('.Gamepad.R_RIGHT.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.R_RIGHT.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.R_RIGHT.QUEST')
      },
      [ButtonType.RIGHT_ANALOG_UP]: {
        [Controller.XBOX]: t('.Gamepad.R_UP.XBOX'),
        [Controller.PS]: t('.Gamepad.R_UP.PS'),
        [Controller.STEAM]: t('.Gamepad.R_UP.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.R_UP.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.R_UP.QUEST')
      },
      [ButtonType.RIGHT_ANALOG_DOWN]: {
        [Controller.XBOX]: t('.Gamepad.R_DOWN.XBOX'),
        [Controller.PS]: t('.Gamepad.R_DOWN.PS'),
        [Controller.STEAM]: t('.Gamepad.R_DOWN.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.R_DOWN.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.R_DOWN.QUEST')
      },
      [ButtonType.LEFT_HORIZONTAL_AXIS]: {
        [Controller.XBOX]: t('.Gamepad.LEFT_HORIZONTAL_AXIS.XBOX'),
        [Controller.PS]: t('.Gamepad.LEFT_HORIZONTAL_AXIS.PS'),
        [Controller.STEAM]: t('.Gamepad.LEFT_HORIZONTAL_AXIS.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.LEFT_HORIZONTAL_AXIS.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.LEFT_HORIZONTAL_AXIS.QUEST')
      },
      [ButtonType.LEFT_VERTICAL_AXIS]: {
        [Controller.XBOX]: t('.Gamepad.LEFT_VERTICAL_AXIS.XBOX'),
        [Controller.PS]: t('.Gamepad.LEFT_VERTICAL_AXIS.PS'),
        [Controller.STEAM]: t('.Gamepad.LEFT_VERTICAL_AXIS.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.LEFT_VERTICAL_AXIS.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.LEFT_VERTICAL_AXIS.QUEST')
      },
      [ButtonType.RIGHT_HORIZONTAL_AXIS]: {
        [Controller.XBOX]: t('.Gamepad.RIGHT_HORIZONTAL_AXIS.XBOX'),
        [Controller.PS]: t('.Gamepad.RIGHT_HORIZONTAL_AXIS.PS'),
        [Controller.STEAM]: t('.Gamepad.RIGHT_HORIZONTAL_AXIS.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.RIGHT_HORIZONTAL_AXIS.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.RIGHT_HORIZONTAL_AXIS.QUEST')
      },
      [ButtonType.RIGHT_VERTICAL_AXIS]: {
        [Controller.XBOX]: t('.Gamepad.RIGHT_VERTICAL_AXIS.XBOX'),
        [Controller.PS]: t('.Gamepad.RIGHT_VERTICAL_AXIS.PS'),
        [Controller.STEAM]: t('.Gamepad.RIGHT_VERTICAL_AXIS.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.RIGHT_VERTICAL_AXIS.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.RIGHT_VERTICAL_AXIS.QUEST')
      },
      // these are "pseudo buttons" defined to allow us to use additional keyboard-only inputs that remain unmapped on gamepad
      [ButtonType.PSEUDO_BUTTON_1]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_1.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_1.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_1.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_1.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_1.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_2]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_2.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_2.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_2.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_2.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_2.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_3]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_3.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_3.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_3.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_3.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_3.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_4]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_4.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_4.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_4.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_4.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_4.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_5]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_5.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_5.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_5.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_5.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_5.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_6]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_6.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_6.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_6.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_6.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_6.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_7]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_7.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_7.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_7.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_7.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_7.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_8]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_8.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_8.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_8.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_8.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_8.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_9]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_9.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_9.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_9.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_9.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_9.QUEST')
      },
      [ButtonType.PSEUDO_BUTTON_10]: {
        [Controller.XBOX]: t('.Gamepad.PSEUDO_BUTTON_10.XBOX'),
        [Controller.PS]: t('.Gamepad.PSEUDO_BUTTON_10.PS'),
        [Controller.STEAM]: t('.Gamepad.PSEUDO_BUTTON_10.STEAM'),
        [Controller.SWITCH]: t('.Gamepad.PSEUDO_BUTTON_10.SWITCH'),
        [Controller.QUEST]: t('.Gamepad.PSEUDO_BUTTON_10.QUEST')
      }
    },
    keyboard: {
      [types_KeyboardKey.BACKSPACE]: t('.Keyboard.BACKSPACE'),
      [types_KeyboardKey.TAB]: t('.Keyboard.TAB'),
      [types_KeyboardKey.ENTER]: t('.Keyboard.ENTER'),
      [types_KeyboardKey.SHIFT]: t('.Keyboard.SHIFT'),
      [types_KeyboardKey.CTRL]: t('.Keyboard.CTRL'),
      [types_KeyboardKey.ALT]: t('.Keyboard.ALT'),
      [types_KeyboardKey.ESCAPE]: t('.Keyboard.ESCAPE'),
      [types_KeyboardKey.SPACE]: t('.Keyboard.SPACE'),
      [types_KeyboardKey.LEFT]: t('.Keyboard.LEFT'),
      [types_KeyboardKey.UP]: t('.Keyboard.UP'),
      [types_KeyboardKey.RIGHT]: t('.Keyboard.RIGHT'),
      [types_KeyboardKey.DOWN]: t('.Keyboard.DOWN'),
      [types_KeyboardKey.INSERT]: t('.Keyboard.INSERT'),
      [types_KeyboardKey.DELETE]: t('.Keyboard.DELETE'),
      [types_KeyboardKey.KEY_0]: t('.Keyboard.KEY_0'),
      [types_KeyboardKey.KEY_1]: t('.Keyboard.KEY_1'),
      [types_KeyboardKey.KEY_2]: t('.Keyboard.KEY_2'),
      [types_KeyboardKey.KEY_3]: t('.Keyboard.KEY_3'),
      [types_KeyboardKey.KEY_4]: t('.Keyboard.KEY_4'),
      [types_KeyboardKey.KEY_5]: t('.Keyboard.KEY_5'),
      [types_KeyboardKey.KEY_6]: t('.Keyboard.KEY_6'),
      [types_KeyboardKey.KEY_7]: t('.Keyboard.KEY_7'),
      [types_KeyboardKey.KEY_8]: t('.Keyboard.KEY_8'),
      [types_KeyboardKey.KEY_9]: t('.Keyboard.KEY_9'),
      [types_KeyboardKey.KEY_A]: t('.Keyboard.KEY_A'),
      [types_KeyboardKey.KEY_B]: t('.Keyboard.KEY_B'),
      [types_KeyboardKey.KEY_C]: t('.Keyboard.KEY_C'),
      [types_KeyboardKey.KEY_D]: t('.Keyboard.KEY_D'),
      [types_KeyboardKey.KEY_E]: t('.Keyboard.KEY_E'),
      [types_KeyboardKey.KEY_F]: t('.Keyboard.KEY_F'),
      [types_KeyboardKey.KEY_G]: t('.Keyboard.KEY_G'),
      [types_KeyboardKey.KEY_H]: t('.Keyboard.KEY_H'),
      [types_KeyboardKey.KEY_I]: t('.Keyboard.KEY_I'),
      [types_KeyboardKey.KEY_J]: t('.Keyboard.KEY_J'),
      [types_KeyboardKey.KEY_K]: t('.Keyboard.KEY_K'),
      [types_KeyboardKey.KEY_L]: t('.Keyboard.KEY_L'),
      [types_KeyboardKey.KEY_M]: t('.Keyboard.KEY_M'),
      [types_KeyboardKey.KEY_N]: t('.Keyboard.KEY_N'),
      [types_KeyboardKey.KEY_O]: t('.Keyboard.KEY_O'),
      [types_KeyboardKey.KEY_P]: t('.Keyboard.KEY_P'),
      [types_KeyboardKey.KEY_Q]: t('.Keyboard.KEY_Q'),
      [types_KeyboardKey.KEY_R]: t('.Keyboard.KEY_R'),
      [types_KeyboardKey.KEY_S]: t('.Keyboard.KEY_S'),
      [types_KeyboardKey.KEY_T]: t('.Keyboard.KEY_T'),
      [types_KeyboardKey.KEY_U]: t('.Keyboard.KEY_U'),
      [types_KeyboardKey.KEY_V]: t('.Keyboard.KEY_V'),
      [types_KeyboardKey.KEY_W]: t('.Keyboard.KEY_W'),
      [types_KeyboardKey.KEY_X]: t('.Keyboard.KEY_X'),
      [types_KeyboardKey.KEY_Y]: t('.Keyboard.KEY_Y'),
      [types_KeyboardKey.KEY_Z]: t('.Keyboard.KEY_Z'),
      [types_KeyboardKey.F1]: t('.Keyboard.F1'),
      [types_KeyboardKey.F2]: t('.Keyboard.F2'),
      [types_KeyboardKey.F3]: t('.Keyboard.F3'),
      [types_KeyboardKey.F4]: t('.Keyboard.F4'),
      [types_KeyboardKey.F5]: t('.Keyboard.F5'),
      [types_KeyboardKey.F6]: t('.Keyboard.F6'),
      [types_KeyboardKey.F7]: t('.Keyboard.F7'),
      [types_KeyboardKey.F8]: t('.Keyboard.F8'),
      [types_KeyboardKey.F9]: t('.Keyboard.F9'),
      [types_KeyboardKey.F10]: t('.Keyboard.F10'),
      [types_KeyboardKey.F11]: t('.Keyboard.F11'),
      [types_KeyboardKey.F12]: t('.Keyboard.F12'),
      [types_KeyboardKey.MOUSE_MOVEMENT]: t('.Keyboard.MOUSE_MOVEMENT'),
      [types_KeyboardKey.MOUSE_BUTTON_LEFT]: t('.Keyboard.MOUSE_BUTTON_LEFT'),
      [types_KeyboardKey.MOUSE_BUTTON_MIDDLE]: t('.Keyboard.MOUSE_BUTTON_MIDDLE'),
      [types_KeyboardKey.MOUSE_BUTTON_RIGHT]: t('.Keyboard.MOUSE_BUTTON_RIGHT'),
      [types_KeyboardKey.MOUSE_WHEEL]: t('.Keyboard.MOUSE_WHEEL'),
      [types_KeyboardKey.BRACKET_OPEN]: t('.Keyboard.BRACKET_OPEN'),
      [types_KeyboardKey.BRACKET_CLOSE]: t('.Keyboard.BRACKET_CLOSE'),
      [types_KeyboardKey.PSEUDO_KEY_1]: t('.Keyboard.PSEUDO_KEY_1'),
      [types_KeyboardKey.PSEUDO_KEY_2]: t('.Keyboard.PSEUDO_KEY_2'),
      [types_KeyboardKey.PSEUDO_KEY_3]: t('.Keyboard.PSEUDO_KEY_3'),
      [types_KeyboardKey.PSEUDO_KEY_4]: t('.Keyboard.PSEUDO_KEY_4')
    }
  }), [t]);
  const translationsFacet = (0,react_facet_src.useFacetWrap)(translations);
  return /*#__PURE__*/react.createElement(controllerSpecificButtonTranslationsContext.Provider, {
    value: translationsFacet
  }, children);
};
;// CONCATENATED MODULE: ./packages/react-modal-manager/src/ModalManager.tsx


const ModalContext = (0,react.createContext)({
  showModal: () => {},
  hideModal: () => {}
});
const NO_MODAL_NO_PAYLOAD = {
  component: null,
  payload: null
};
function ModalManager({
  children,
  ModalContainerWrapper
}) {
  const modalQueue = (0,react.useRef)([]);
  const [currentModalAndPayload, setCurrentModalAndPayload] = (0,react_facet_src.useFacetState)(NO_MODAL_NO_PAYLOAD); // If the modalQueue changes, we call this function to ensure the correct modal is shown.

  const refreshMountedModal = (0,react.useCallback)(() => {
    // No modals on the queue
    if (modalQueue.current.length <= 0) {
      setCurrentModalAndPayload(NO_MODAL_NO_PAYLOAD);
    } // Modals on the queue
    else {
        const head = modalQueue.current[modalQueue.current.length - 1];
        setCurrentModalAndPayload({
          component: head.component,
          payload: head.payload
        });
      }
  }, [setCurrentModalAndPayload]);
  /**
   * API for showing/hiding modals, provided to consumers via context
   */

  const api = (0,react.useMemo)(() => ({
    showModal: (component, payload) => {
      modalQueue.current.push({
        component: component,
        payload: payload
      });
      refreshMountedModal();
    },
    hideModal: (targetComponent, targetPayload) => {
      if (modalQueue.current.length <= 0) return; // If trying to hide a specific modal (usually triggered declaratively on unmount)
      // then we need to find that target modal because it could be anywhere in the queue.

      if (targetComponent != null) {
        const index = modalQueue.current.findIndex(({
          component,
          payload
        }) => component === targetComponent && payload === targetPayload);
        if (index === -1) return;
        modalQueue.current.splice(index, 1);
      } // Otherwise being called imperatively, so just pop the latest on the queue
      // because we know this must be triggered by a user within the current modal.
      else {
          modalQueue.current.splice(modalQueue.current.length - 1, 1);
        }

      refreshMountedModal();
    }
  }), [refreshMountedModal]);
  const ModalContainer = ModalContainerWrapper !== null && ModalContainerWrapper !== void 0 ? ModalContainerWrapper : react.Fragment;
  return /*#__PURE__*/react.createElement(ModalContext.Provider, {
    value: api
  }, children, /*#__PURE__*/react.createElement(ModalContainer, null, /*#__PURE__*/react.createElement(ModalRenderer, {
    modalAndPayload: currentModalAndPayload
  })));
}

function ModalRenderer({
  modalAndPayload
}) {
  const unwrapped = (0,react_facet_src.useFacetUnwrap)(modalAndPayload);

  if (unwrapped === react_facet_src.NO_VALUE) {
    return null;
  }

  const {
    component: Component,
    payload
  } = unwrapped;

  if (Component == null) {
    return null;
  }

  return /*#__PURE__*/react.createElement(Component, payload !== null && payload !== void 0 ? payload : {});
}

const useModalAPI = () => (0,react.useContext)(ModalContext);

const useHideModal = () => useModalAPI().hideModal;
const registerModal = component => {
  return {
    // Imperative API
    useShowModal: () => {
      const api = (0,react.useContext)(ModalContext);
      return (0,react.useCallback)((...payload) => {
        api.showModal(component, payload[0]);
      }, [api]);
    },
    // Declarative API
    Component: (...payload) => {
      const api = (0,react.useContext)(ModalContext); // We store the payload in a ref and use that so that if anything
      // causes this component to re-render, it won't trigger another `showModal` call.
      // People shouldn't be updating the Modals with live content via the props anyway.

      const payloadRef = (0,react.useRef)(payload[0]); // Changing the props of an already mounted component isn't yet
      // supported so warn the user in dev environments.

      if (false) {}

      (0,react.useEffect)(() => {
        const payloadRefCurrent = payloadRef.current;
        api.showModal(component, payloadRefCurrent);
        return () => {
          api.hideModal(component, payloadRefCurrent);
        };
      }, [api]);
      return null;
    }
  };
};
/**
 * Type testing bed can be uncommented below for sanity check during development
 */

/*
const Foo = registerModal(({ label }: { label: string }) => <div>{label}</div>)
const Bar = registerModal(() => <div />)

;() => {
	const showFoo = Foo.useShowModal()
	const showBar = Bar.useShowModal()

	// Should NOT error
	showBar()
	showFoo({ label: 'hello' })

	// Should error
	showFoo()
	showFoo({ label: 213 })
	showBar({ x: 123 })
	showBar({ y: '123' })

	return (
		<>
			<p>Should NOT error</p>
			<foo.Component label="foo" />
			<bar.Component />

			<p>Should error</p>
			<foo.Component />
			<foo.Component label={123} />
			<foo.Component x={123} />
		</>
	)
}
*/
;// CONCATENATED MODULE: ./packages/engine/src/Application.tsx






















function Application({
  children,
  defaultRoute,
  developmentTranslations,
  errorComponent,
  gamepadAdapterVersion = GamepadAdapterVersion.LEGACY,
  scalingMode = 'default',
  keyboardGamepadMap = DEFAULT_KEYBOARD_GAMEPAD_MAP,
  isInputLegendClickable,
  semanticTokens,
  sharedFacetDriver = requestFacet,
  wrapperComponent = react.Fragment,
  deviceInformationOptions = {},
  shouldUseNarrationQueueSystem = false
}) {
  const Wrapper = wrapperComponent;
  return /*#__PURE__*/react.createElement(SemanticTokensCollectionsManager, null, /*#__PURE__*/react.createElement(SemanticTokensProvider_SemanticTokensCollectionProvider, {
    collection: semanticTokens
  }, /*#__PURE__*/react.createElement(react_facet_src.SharedFacetDriverProvider, {
    value: sharedFacetDriver
  }, /*#__PURE__*/react.createElement(GamepadAdapterProvider, {
    version: gamepadAdapterVersion
  }, /*#__PURE__*/react.createElement(LocalizationEngineProvider, {
    developmentTranslations: developmentTranslations
  }, /*#__PURE__*/react.createElement(ControllerSpecificButtonTranslationsProvider, null, /*#__PURE__*/react.createElement(GamepadPolyfillInitializer, null, /*#__PURE__*/react.createElement(DeviceInformationEngineProvider, deviceInformationOptions, /*#__PURE__*/react.createElement(SplitScreenEngineProvider, null, /*#__PURE__*/react.createElement(SafeZoneEngineProvider, null, /*#__PURE__*/react.createElement(FeatureFlagsEngineProvider, null, /*#__PURE__*/react.createElement(SoundEngineProvider, null, /*#__PURE__*/react.createElement(UIEngineProvider, {
    scalingMode: scalingMode
  }, /*#__PURE__*/react.createElement(ErrorBoundary, {
    errorComponent: errorComponent
  }, /*#__PURE__*/react.createElement(TextFieldEngineProvider, null, /*#__PURE__*/react.createElement(RouterEngineProvider, {
    keyboardGamepadMap: keyboardGamepadMap,
    isInputLegendClickable: isInputLegendClickable
  }, /*#__PURE__*/react.createElement(NarratorEngineProvider, {
    shouldUseQueueSystem: shouldUseNarrationQueueSystem
  }, /*#__PURE__*/react.createElement(Modal_Modal.FocusManager, null, /*#__PURE__*/react.createElement(RenderTrackingEngineProvider, null, /*#__PURE__*/react.createElement(RedirectWrapper, {
    from: "/",
    to: defaultRoute
  }), /*#__PURE__*/react.createElement(ModalManager, null, /*#__PURE__*/react.createElement(Wrapper, null, /*#__PURE__*/react.createElement(Switch_Switch, null, children))))))))))))))))))))));
}
;// CONCATENATED MODULE: ./packages/engine/src/facets/defineFakeFacet.ts

function defineFakeFacet(facetName, fakeConstructor) {
  const update = data => {
    // Delay updating the facet state until the next frame to better mimic how state changes works in the real engine
    requestAnimationFrame(() => engine.trigger(`facet:updated:${facetName}`, data));
  };

  const onError = errorCode => {
    engine.trigger(`facet:error:${facetName}`, errorCode);
  };

  engine.on('facet:request', facets => {
    // Delay the result of the facet request to the next frame to simulate the real engine behavior
    requestAnimationFrame(() => {
      if (facets.indexOf(facetName) !== -1) {
        fakeConstructor(update, onError);
      }
    });
  });
}
;// CONCATENATED MODULE: ./packages/engine/src/trigger.ts

/**
 * Internal method to trigger engine events. Only use it if you know exactly what you are doing.
 *
 * You most likely can solve your problem by using just Facets instead.
 */
// eslint-disable-next-line @typescript-eslint/no-explicit-any

const trigger = (type, ...args) => {
  return engineWrapper_engine.trigger(type, ...args);
};
;// CONCATENATED MODULE: ./packages/engine/src/facets/performanceSharedFacet.ts

/**
 * Shared facet used for performance measurements.
 */

const PERFORMANCE_SHARED_FACET = 'core.performanceFacet';
/**
 * We don't want to have this exposed as a regular sharedFacet, since we will used this Facet on performance test screens,
 * where we usually don't have any FacetProvider infrastructure.
 */

const observePerformanceSharedFacet = update => {
  const updateEventName = `facet:updated:${PERFORMANCE_SHARED_FACET}`;
  engine.on(updateEventName, update);
  engine.trigger('facet:request', [PERFORMANCE_SHARED_FACET]);
  return () => {
    engine.off(updateEventName, update);
  };
};
;// CONCATENATED MODULE: ./packages/engine/src/facets/socialFacet.ts

const SOCIAL_FACET = 'core.social';
/**
 * React Hook that requests the facet
 */

const socialFacet = (0,react_facet_src.sharedFacet)(SOCIAL_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/facets/user.ts

const USER_FACET = 'core.user';
/**
 * React Hook that requests the facet
 */

const userFacet = (0,react_facet_src.facet)(USER_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/facets/vrModeSharedFacet.ts

let VRMode;

(function (VRMode) {
  VRMode[VRMode["NoVR"] = 0] = "NoVR";
  VRMode[VRMode["VRFull3DWorld"] = 1] = "VRFull3DWorld";
  VRMode[VRMode["VRVirtual2DScreen"] = 2] = "VRVirtual2DScreen";
})(VRMode || (VRMode = {}));

const VR_MODE_SHARED_FACET = 'core.vrMode';
const vrModeSharedFacet = (0,react_facet_src.sharedFacet)(VR_MODE_SHARED_FACET);
;// CONCATENATED MODULE: ./packages/engine/src/render.ts

const render = (element, container) => {
  return (0,react_facet_src.render)(element, container);
};
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/animationFacet.ts
const animationFacetDefaultState = {
  screenAnimationEnabled: true
};
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/customScalingFacet.ts
const customScalingDefaultState = {
  scalingModeOverride: undefined,
  fixedGuiScaleModifier: 0,
  MIN_FIXED_GUI_SCALE_MODIFIER: -3,
  MAX_FIXED_GUI_SCALE_MODIFIER: 4,
  guiAccessibilityScaling: false
};
;// CONCATENATED MODULE: ./packages/engine/src/dev/setup/utils.ts



let detectInputInitialized = false;
const onMouseHandlers = (/* unused pure expression or super */ null && ([]));
const onTouchHandlers = (/* unused pure expression or super */ null && ([]));
const onGamepadHandlers = (/* unused pure expression or super */ null && ([]));

const initializeDetectInput = () => {
  detectInputInitialized = true; // Setup touch detection
  // We keep track of the time stamp of the last touchend event since it will also trigger
  // a mousedown event and we want to avoid calling the detect mouse handlers in those cases.

  let timeStampLastTouchEndEvent = -1;

  const shouldIgnoreMouseEvent = event => timeStampLastTouchEndEvent === event.timeStamp;

  const touchDetected = () => {
    onTouchHandlers.forEach(handler => handler());
  };

  const handleTouchEnd = event => {
    timeStampLastTouchEndEvent = event.timeStamp;
    touchDetected();
  };

  window.addEventListener('touchstart', touchDetected);
  window.addEventListener('touchend', handleTouchEnd); // Setup mouse detection

  const mouseDetected = event => {
    if (shouldIgnoreMouseEvent(event)) {
      return;
    }

    onMouseHandlers.forEach(handler => handler());
  };

  window.addEventListener('mousemove', mouseDetected);
  window.addEventListener('mousedown', mouseDetected);
  window.addEventListener('wheel', mouseDetected); // Setup gamepad detection

  let cleanupGamepadPolyfill = () => undefined;

  if (!isPolyfillInitialized()) {
    cleanupGamepadPolyfill = initializePolyfill();
  }

  const cleanupGamepad = onGamepadInput(gamepads => {
    onGamepadHandlers.forEach(handler => handler(gamepads));
  }); // Clean up handlers ("beforeunload" only works in the browser, not in the player)

  window.addEventListener('beforeunload', () => {
    window.removeEventListener('touchstart', touchDetected);
    window.removeEventListener('touchend', handleTouchEnd);
    window.removeEventListener('mousemove', mouseDetected);
    window.removeEventListener('mousedown', mouseDetected);
    window.removeEventListener('wheel', mouseDetected);
    cleanupGamepad();
    cleanupGamepadPolyfill();
  });
};

const utils_detectInput = ({
  onMouse,
  onTouch,
  onGamepad
}) => {
  if (!detectInputInitialized) initializeDetectInput();
  onMouseHandlers.push(onMouse);
  onTouchHandlers.push(onTouch);
  onGamepadHandlers.push(onGamepad);
}; // Not by any means a complete way of checking if this is a touch device, but good enough for our fake facets
// The gameface player is always exposing ontouchstart, but we are only running the player for desktop, so setting it to false in that case.

const IS_TOUCH_DEVICE =  false && 0;
const DEFAULT_PLATFORM = IS_TOUCH_DEVICE ? Platform.IOS : Platform.WIN32;
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/deviceInformationFacet.ts


function deviceInformationFacet_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function deviceInformationFacet_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { deviceInformationFacet_ownKeys(Object(source), true).forEach(function (key) { deviceInformationFacet_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { deviceInformationFacet_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function deviceInformationFacet_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



const GUI_SCALE_VALUES = [1, 2, 3, 4, 5, 6, 7, 8];

function getDefaultSupportedInputMethods(platform = DEFAULT_PLATFORM) {
  switch (platform) {
    case Platform.IOS:
    case Platform.GOOGLE:
    case Platform.AMAZON_HANDHELD:
      return [types_InputMethod.TOUCH, types_InputMethod.GAMEPAD, types_InputMethod.MOUSE];

    case Platform.NX_TV:
      return [types_InputMethod.GAMEPAD];

    case Platform.NX_HANDHELD:
      return [types_InputMethod.GAMEPAD, types_InputMethod.TOUCH];

    case Platform.UWP:
    case Platform.XBOX:
    case Platform.PS4:
    case Platform.GEARVR:
    case Platform.AMAZON_TV:
    case Platform.PS5:
    case Platform.WIN32:
    case Platform.MACOS:
    default:
      return [types_InputMethod.GAMEPAD, types_InputMethod.MOUSE];
  }
}

const deviceInformationFacetDefaultState = {
  inputMethods: getDefaultSupportedInputMethods(),
  platform: DEFAULT_PLATFORM,
  arvrPlatform: ARVRPlatform.ARVR_None,
  isLowMemoryDevice: false,
  guiScaleModifier: 0,
  guiScaleBase: getGuiScaleIndexForLargeScreen(window.innerWidth, window.innerHeight),
  pixelsPerMillimeter: 3.779527559,
  // 96dpi,
  displayWidth: 1920,
  displayHeight: 1080,
  storageSize: Math.pow(1024, 4),
  storageUsed: Math.pow(1024, 4) * 0.75,
  isStorageFull: false,
  isStorageLow: false,
  isUsingAlternativeStorage: false,
  isOnline: true
};
function deviceInformationFacetWithPlatform(platform) {
  return deviceInformationFacet_objectSpread(deviceInformationFacet_objectSpread({}, deviceInformationFacetDefaultState), {}, {
    platform: platform
  });
}
const deviceInformationAlternativeStorageFacetState = deviceInformationFacet_objectSpread(deviceInformationFacet_objectSpread({}, deviceInformationFacetDefaultState), {}, {
  isUsingAlternativeStorage: true
});
const deviceInformationSharedFacetCustomState = overrides => deviceInformationFacet_objectSpread(deviceInformationFacet_objectSpread({}, deviceInformationFacetDefaultState), overrides);
function deviceInformationSharedFacetFactory(proxy, {
  storageSize,
  storageUsed,
  isStorageFull,
  isStorageLow
} = deviceInformationFacetDefaultState) {
  Object.assign(proxy, _clone(deviceInformationFacetDefaultState));
  window.addEventListener('resize', () => {
    proxy.guiScaleBase = getGuiScaleIndexForLargeScreen(window.innerWidth, window.innerHeight);
  });
  proxy.storageSize = storageSize !== null && storageSize !== void 0 ? storageSize : proxy.storageSize;
  proxy.storageUsed = storageUsed !== null && storageUsed !== void 0 ? storageUsed : proxy.storageUsed;
  proxy.isStorageFull = isStorageFull !== null && isStorageFull !== void 0 ? isStorageFull : proxy.isStorageFull;
  proxy.isStorageLow = isStorageLow !== null && isStorageLow !== void 0 ? isStorageLow : proxy.isStorageLow;
  detectInput({
    onMouse: () => {
      if (!proxy.inputMethods.includes(InputMethod.MOUSE)) {
        proxy.inputMethods.push(InputMethod.MOUSE);
      }
    },
    onTouch: () => {
      if (!proxy.inputMethods.includes(InputMethod.TOUCH)) {
        proxy.inputMethods.push(InputMethod.TOUCH);
      }
    },
    onGamepad: () => {
      if (!proxy.inputMethods.includes(InputMethod.GAMEPAD)) {
        proxy.inputMethods.push(InputMethod.GAMEPAD);
      }
    }
  });
  return proxy;
}

function getGuiScaleIndexForLargeScreen(width, height) {
  const widthNeeded = 376;
  const heightNeeded = 250;
  const widthScale = width / widthNeeded;
  const heightScale = height / heightNeeded; // This will ensure we are using an allowed GUI SCALE.  It will clamp to the biggest available GUI SCALE that is smaller or equal to the desired one

  const index = getGuiScaleIndex(Math.min(heightScale, widthScale));
  const scale = GUI_SCALE_VALUES[index];
  return scale;
}

function getGuiScaleIndex(scale) {
  let scaleIndex = 0;
  const guiScaleSize = GUI_SCALE_VALUES.length;

  for (let index = 0; index < guiScaleSize; ++index) {
    if (resolveGuiScale(index) > scale) {
      break;
    }

    scaleIndex = index;
  }

  return scaleIndex;
}

function resolveGuiScale(index) {
  const clampedIndex = Math.min(GUI_SCALE_VALUES.length - 1, Math.max(0, index));
  return GUI_SCALE_VALUES[clampedIndex];
}
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/featureFlagsFacet.ts
const featureFlagsFacetDefaultState = {
  flags: ['vanilla.achievementsReward', 'vanilla.editor.enableUI']
};
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/inputFacet.ts

const inputFacetDefaultState = {
  acceptInputFromAllControllers: true,
  gameControllerId: '0',
  swapABButtons: false,
  swapXYButtons: false,
  currentInputType: types_InputMethod.GAMEPAD
};
// EXTERNAL MODULE: ./node_modules/printf/lib/printf.js
var printf = __webpack_require__(5523);
var printf_default = /*#__PURE__*/__webpack_require__.n(printf);
;// CONCATENATED MODULE: ./packages/engine/src/developmentTranslations.ts
function getDevelopmentTranslation(key) {
  var _window$__globalDevCo;

  /**
   * Global variable containing all the development translations
   * It is populated via the Webpack loader configured to handle translatinos.json files
   */
  const translations = (_window$__globalDevCo = window.__globalDevCoreUITranslations) !== null && _window$__globalDevCo !== void 0 ? _window$__globalDevCo : {};
  return translations[key];
}
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/localeFacet.ts


const localeFacetDefaultState = {
  locale: 'en_US',

  formatDate(timestampInSeconds) {
    const date = new Date(timestampInSeconds * 1000);
    return `${date.toLocaleDateString()}`;
  },

  translate(key) {
    const translation = getDevelopmentTranslation(key);

    if (translation == null) {
      console.error(`Missing translation for key "${key}"`);
      return key;
    }

    return translation;
  },

  translateWithParameters(key, params) {
    const translation = getDevelopmentTranslation(key);

    if (translation == null) {
      console.error(`Missing translation for key "${key}"`);
      return key;
    }

    return printf_default()(translation, ...params);
  }

};
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/safeZoneFacet.ts
const safeZoneFacetDefaultState = {
  safeAreaX: 1,
  safeAreaY: 1,
  screenPositionX: 0,
  screenPositionY: 0
};
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/splitScreenFacet.ts

const splitScreenFacetDefaultState = {
  numActivePlayers: 1,
  splitScreenPosition: 0,
  splitScreenDirection: SplitScreen_SplitScreenDirection.HORIZONTAL
};
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/images/templateAlex.png
const templateAlex_namespaceObject = __webpack_require__.p + "assets/templateAlex-f66e6.png";
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/userFacet.ts

const userFacetDefaultState = {
  userName: 'Alex',
  profilePictureUrl: templateAlex_namespaceObject
};
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/vrMode.ts

const vrModeSharedFacetDefaultState = {
  mode: VRMode.NoVR
};
const vrModeSharedFacetRealityState = {
  mode: VRMode.VRFull3DWorld
};
;// CONCATENATED MODULE: ./packages/engine/src/dev/fixtures/index.ts










;// CONCATENATED MODULE: ./packages/engine/src/index.ts






















 // NOTE: This is fine to export as long as fixtures doesn't define fake facets globally






;// CONCATENATED MODULE: ./packages/react-component-playground/src/Navigation/Navigation.tsx







function renderSidebarItems(onClickEntry, selectedEntry, offsetIndex, entries, currentLocation, parent) {
  return /*#__PURE__*/react.createElement(react.Fragment, null, entries.map((entry, index) => {
    var _entryCasted$label;

    const entryCasted = entry;
    const entryGroupCasted = entry; // Sometimes, if a group only has one child, we don't want it nested in a folder

    if (entryGroupCasted.forcePage) {
      return /*#__PURE__*/react.createElement(react.Fragment, {
        key: entryGroupCasted.id
      }, renderSidebarItems(onClickEntry, selectedEntry, index + offsetIndex, entryGroupCasted.items, currentLocation));
    } // If it's a group, then we recurse and render the items of that group nested in an expandable block


    if (entryGroupCasted.group) {
      const isTheUserAlreadyInThisCategory = currentLocation != null && doesGroupContainThePageThatTheUserIsOn(entryGroupCasted, currentLocation);
      return /*#__PURE__*/react.createElement(TreeView_TreeView.Item, {
        label: entryGroupCasted.label,
        gamepadIndex: offsetIndex + index,
        key: entryGroupCasted.id,
        defaultExpanded: isTheUserAlreadyInThisCategory,
        parent: parent
      }, renderSidebarItems(onClickEntry, selectedEntry, 0, entryGroupCasted.items, currentLocation, entryGroupCasted.label));
    } // If none of the above, then we can assume we're rendering an item


    return /*#__PURE__*/react.createElement(TreeView_TreeView.Item, {
      key: entryCasted.name,
      label: (_entryCasted$label = entryCasted.label) !== null && _entryCasted$label !== void 0 ? _entryCasted$label : entryCasted.name,
      gamepadIndex: index + offsetIndex,
      onClick: () => onClickEntry(entryCasted),
      selectedItem: !!selectedEntry && selectedEntry.name === entryCasted.name,
      parent: parent
    });
  }));
}

const getPageUserIsCurrentlyOn = path => {
  var _path$split;

  const splitPathname = (_path$split = path === null || path === void 0 ? void 0 : path.split('/')) !== null && _path$split !== void 0 ? _path$split : [];
  return splitPathname.length === 5 ? {
    page: splitPathname[4],
    library: splitPathname[3]
  } : null;
};

const doesGroupContainThePageThatTheUserIsOn = (entryGroup, currentPage) => {
  const isTheUserOnAPageWithinThisLibrary = entryGroup.id === currentPage.library;

  if (isTheUserOnAPageWithinThisLibrary) {
    return true;
  }

  return isUserInThisGroup(entryGroup, currentPage);
};

const isUserInThisGroup = (entryGroup, currentPage) => {
  for (let i = 0; i < entryGroup.items.length; i++) {
    const currentItem = entryGroup.items[i];
    const isThisItemTheCorrectPage = 'name' in currentItem && currentItem.name.toLowerCase() === currentPage.page.toLowerCase();
    const isThisItemTheCorrectLibrary = 'metadata' in currentItem && currentItem.metadata != null && currentItem.metadata.library === currentPage.library;

    if (isThisItemTheCorrectPage && isThisItemTheCorrectLibrary) {
      return true;
    }
  }

  return false;
};

function PlaygroundNavigation({
  entries,
  onClickEntry,
  onClickInternalLink,
  selectedEntry
}) {
  var _location$pathname;

  const topLevelEntries = (0,react.useMemo)(() => groupTopLevelEntries(entries), [entries]);
  const generalComponents = (0,react.useMemo)(() => groupGeneralComponentEntries(entries), [entries]);
  const gameComponents = (0,react.useMemo)(() => groupGameComponentEntries(entries), [entries]);
  const location = react_router_useLocation();
  const currentLocation = getPageUserIsCurrentlyOn((_location$pathname = location === null || location === void 0 ? void 0 : location.pathname) !== null && _location$pathname !== void 0 ? _location$pathname : null);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(TreeView_TreeView.Item, {
    label: 'Home',
    onClick: () => onClickInternalLink('global', 'home'),
    gamepadIndex: 0,
    selectedItem: !selectedEntry
  }), renderSidebarItems(onClickEntry, selectedEntry, 1, topLevelEntries, currentLocation), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(TreeView_TreeView.Separator, {
    label: `General Components`
  }), renderSidebarItems(onClickEntry, selectedEntry, topLevelEntries.length + 1, generalComponents, currentLocation), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(TreeView_TreeView.Separator, {
    label: `Game specific`
  }), renderSidebarItems(onClickEntry, selectedEntry, topLevelEntries.length + generalComponents.length + 1, gameComponents, currentLocation), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }));
}

function TestScreenNavigation({
  entries,
  onClickEntry,
  selectedEntry,
  formattedName
}) {
  const testScreenEntries = entries.filter(entry => entryLibrary(entry) === 'testScreen').sort(sortByName);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(TreeView_TreeView.Separator, {
    label: "Test screens"
  }), testScreenEntries.map((entry, index) => /*#__PURE__*/react.createElement(TreeView_TreeView.Item, {
    key: index,
    label: formattedName ? change_case.titleCase(entry.name) : entry.name,
    gamepadIndex: index,
    onClick: () => onClickEntry(entry),
    selectedItem: !!selectedEntry && selectedEntry.name === entry.name
  })));
}

function Navigation({
  entries,
  onClickEntry,
  selectedEntry,
  onClickInternalLink,
  formattedName
}) {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(TreeView_TreeView, {
    gamepadIndex: 0
  }, entryLibrary(selectedEntry) === 'testScreen' ? /*#__PURE__*/react.createElement(TestScreenNavigation, {
    onClickInternalLink: onClickInternalLink,
    entries: entries,
    onClickEntry: onClickEntry,
    selectedEntry: selectedEntry,
    formattedName: formattedName
  }) : /*#__PURE__*/react.createElement(PlaygroundNavigation, {
    onClickInternalLink: onClickInternalLink,
    entries: entries,
    onClickEntry: onClickEntry,
    selectedEntry: selectedEntry,
    formattedName: formattedName
  })));
}
;// CONCATENATED MODULE: ./packages/ui/src/Link/Link.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Link = ({"link":"iTfr1","withUnderlinePolyfill":"zaq0M","linkBrowserOnly":"UEzHB","withUnderlinePolyfillBrowserOnly":"_d1Tg","underlinePolyfill":"BeCTv","linkFocused":"vLdsX"});
;// CONCATENATED MODULE: ./packages/ui/src/Link/Link.tsx








function Link_Link({
  children,
  gamepadIndex,
  disabled,
  onClick,
  withUnderlinePolyfill,
  soundEffectPressed,
  focusRefOverride,
  __testAlias,
  role = 'inherit'
}) {
  var _rawColors$role, _rawColors$role$text, _rawColors$role$text$;

  const {
    t
  } = useLocalization('Link');
  const {
    color: {
      [role]: semanticClassNames
    },
    rawColors,
    sound: {
      [role]: semanticSound
    }
  } = useSemanticTokens();
  const contextualNarrationText = (0,react_facet_src.useFacetMap)(text => `${text} . ${t('.narrationComponentType')}`, [t], [(0,react_facet_src.useFacetWrap)(children)]);
  const rawTextColor = rawColors === null || rawColors === void 0 ? void 0 : (_rawColors$role = rawColors[role]) === null || _rawColors$role === void 0 ? void 0 : (_rawColors$role$text = _rawColors$role.text) === null || _rawColors$role$text === void 0 ? void 0 : (_rawColors$role$text$ = _rawColors$role$text.regular) === null || _rawColors$role$text$ === void 0 ? void 0 : _rawColors$role$text$.default;
  const linkStyles = (0,react.useMemo)(() => {
    return {
      textDecorationColor: rawTextColor
    };
  }, [rawTextColor]);
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    tag: "span",
    className: classnames_default()(Link.link, semanticClassNames.highlight.hover, semanticClassNames.text.base, {
      [Link.linkBrowserOnly]: "gameface" === 'browser',
      [Link.withUnderlinePolyfill]: withUnderlinePolyfill,
      [Link.withUnderlinePolyfillBrowserOnly]: withUnderlinePolyfill && "gameface" === 'browser'
    }),
    gamepadAlias: __testAlias,
    classNameFocused: classnames_default()(focusClass, Link.linkFocused),
    gamepadIndex: gamepadIndex,
    focusRefOverride: focusRefOverride,
    inputLegend: t('.open') // Links are narrated as button to follow the accessibility standard
    ,
    narrationText: contextualNarrationText,
    onClick: onClick,
    disabled: disabled,
    soundEffectPressed: soundEffectPressed !== null && soundEffectPressed !== void 0 ? soundEffectPressed : semanticSound.click,
    style: linkStyles
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    role: role,
    disabled: disabled,
    withoutBorders: true
  }), (0,react_facet_src.isFacet)(children) ? /*#__PURE__*/react.createElement("fast-text", {
    text: children
  }) : children, withUnderlinePolyfill && /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Link.underlinePolyfill),
    style: {
      borderBottomColor: rawTextColor
    }
  }));
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/ScreenLinks.tsx



const LINKS =  true ? JSON.parse("[\"/hbui/editor.html\",\"/hbui/gameplay.html\",\"/hbui/index.html\"]") : 0;
function ScreenLinks() {
  // Disable ScreenLinks for gameface given we can't change the location of the "page" to a new HTML file
  // It is still possible to open other screens via slash commands ("/navigate http")
  if (true) return null;
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "white"
  }, "Currently built screens:"), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement("ul", {
    style: {
      color: 'white'
    }
  }, LINKS.map((link, index) => /*#__PURE__*/react.createElement("li", {
    key: `mdx-tag-li-link-${link}`
  }, /*#__PURE__*/react.createElement(Link_Link, {
    gamepadIndex: index,
    onClick: () => window.location.href = link
  }, link)))));
}
ScreenLinks.isMDXComponent = true;
;// CONCATENATED MODULE: ./packages/react-component-playground/src/LinkWithIcon/LinkWithIcon.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const LinkWithIcon = ({"linkWrapper":"gJgU3","linkIcon":"s6iQz","lightIcon":"gSXGI"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/LinkWithIcon/LinkWithIcon.tsx





function LinkWithIcon_LinkWithIcon({
  icon,
  role,
  onClick,
  children,
  gamepadIndex,
  light = false
}) {
  return /*#__PURE__*/react.createElement("div", {
    className: LinkWithIcon.linkWrapper
  }, /*#__PURE__*/react.createElement(Image_Image_Image, {
    src: icon,
    className: classnames_default()(LinkWithIcon.linkIcon, {
      [LinkWithIcon.lightIcon]: light
    })
  }), /*#__PURE__*/react.createElement(Link_Link, {
    role: role,
    onClick: onClick,
    gamepadIndex: gamepadIndex
  }, children));
}
;// CONCATENATED MODULE: ./packages/ui/src/ResponsiveContent/ResponsiveContent.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ResponsiveContent = ({"columnWrapper":"xu6GN","rowWrapper":"oC8Dt","centered":"xtvzL","column":"w8URs"});
;// CONCATENATED MODULE: ./packages/ui/src/ResponsiveContent/ResponsiveContent.tsx





function ResponsiveContent_ResponsiveContent({
  sections,
  gamepadIndex,
  centered
}) {
  const narrow = useIsWindowNarrow();
  const rowLayout = /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: gamepadIndex
  }, sections.map((section, index) => {
    return /*#__PURE__*/react.createElement("div", {
      key: index,
      className: ResponsiveContent.column
    }, section);
  }));
  const columnLayout = /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: gamepadIndex
  }, sections);
  return narrow ? /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(ResponsiveContent.columnWrapper, {
      [ResponsiveContent.centered]: centered
    })
  }, columnLayout) : /*#__PURE__*/react.createElement("div", {
    className: ResponsiveContent.rowWrapper
  }, rowLayout);
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Footer/Images/email.png
const email_namespaceObject = __webpack_require__.p + "assets/email-972f4.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Footer/Images/git.png
const git_namespaceObject = __webpack_require__.p + "assets/git-b4720.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Footer/Images/slack.png
const slack_namespaceObject = __webpack_require__.p + "assets/slack-635cd.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Footer/Footer.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Footer = ({"footer":"GCPk5","light":"FW2WH","dark":"amSHn","footerContent":"RJih8"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Footer/Footer.tsx









let FooterTheme;

(function (FooterTheme) {
  FooterTheme[FooterTheme["Light"] = 0] = "Light";
  FooterTheme[FooterTheme["Dark"] = 1] = "Dark";
})(FooterTheme || (FooterTheme = {}));

function Footer_Footer({
  gamepadIndex = 1,
  onClickExternalLink,
  theme = FooterTheme.Light,
  disableLinks
}) {
  const primaryTextColor = theme === FooterTheme.Light ? 'black' : 'white';
  const versionTextColor = theme === FooterTheme.Light ? 'grey' : 'white';
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Footer.footer, theme === FooterTheme.Light ? Footer.light : Footer.dark)
  }, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), !disableLinks && /*#__PURE__*/react.createElement("div", {
    className: Footer.footerContent
  }, /*#__PURE__*/react.createElement(ResponsiveContent_ResponsiveContent, {
    centered: true,
    gamepadIndex: gamepadIndex,
    sections: [/*#__PURE__*/react.createElement(Typography_Typography, {
      variant: "paragraphs",
      color: primaryTextColor,
      tag: "div"
    }, /*#__PURE__*/react.createElement(LinkWithIcon_LinkWithIcon, {
      onClick: () => onClickExternalLink('https://slack.com/app_redirect?channel=dsc-ore-ui'),
      gamepadIndex: 0,
      icon: slack_namespaceObject,
      light: theme === FooterTheme.Dark
    }, "dsc-ore-ui")), /*#__PURE__*/react.createElement(Typography_Typography, {
      variant: "paragraphs",
      color: primaryTextColor,
      tag: "div"
    }, /*#__PURE__*/react.createElement(LinkWithIcon_LinkWithIcon, {
      onClick: Footer_noop,
      icon: email_namespaceObject,
      gamepadIndex: 1,
      light: theme === FooterTheme.Dark
    }, "coreui@mojang.com")), /*#__PURE__*/react.createElement(Typography_Typography, {
      variant: "paragraphs",
      color: primaryTextColor,
      tag: "div"
    }, /*#__PURE__*/react.createElement(LinkWithIcon_LinkWithIcon, {
      onClick: () => onClickExternalLink('https://github.com/Mojang/minecraft-ui'),
      gamepadIndex: 2,
      icon: git_namespaceObject,
      light: theme === FooterTheme.Dark
    }, "minecraft-ui"))]
  })), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    align: "center",
    color: versionTextColor
  }, "v0.356.0-1-gd30773b"), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  })));
}

const Footer_noop = () => {};
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Home/Home.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Home = ({"background":"DZ33L","outerContainer":"PRltm","container":"OFHnT","darkOverlay":"wbzn0","innerContainer":"hOstK"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Home/Home.tsx







function Home_Home({
  onClickExternalLink
}) {
  return /*#__PURE__*/react.createElement("div", {
    className: Home.background
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Home.outerContainer, {
      // Overlay only needs to be shown when there are screenlinks that are being rendered, which they are when
      [Home.darkOverlay]: "[\"/hbui/editor.html\",\"/hbui/gameplay.html\",\"/hbui/index.html\"]".length !== 0
    })
  }, /*#__PURE__*/react.createElement(ScrollView_ScrollView, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement("div", {
    className: Home.container
  }, /*#__PURE__*/react.createElement("div", {
    className: Home.innerContainer
  }, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 8
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 8
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    align: "center",
    variant: "header1",
    color: "white"
  }, "Create engaging experiences"), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    align: "center",
    variant: "body",
    color: "white"
  }, "with a little bit of quirkyness"), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "white"
  }, "The Ore UI Design System helps teams build recognizable, engaging and coherent user experiences. It supports all games and platforms - from mobile and console to the next big thing."), /*#__PURE__*/react.createElement(ScreenLinks, null)), /*#__PURE__*/react.createElement(Footer_Footer, {
    theme: FooterTheme.Dark,
    onClickExternalLink: onClickExternalLink
  })))));
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/LegacyExample/LegacyExample.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const LegacyExample = ({"content":"Dy13w","name":"i4GBB","description":"vC8_U"});
;// CONCATENATED MODULE: ./packages/semantic-tokens/src/common.ts
// Safe to import from both node and web




;// CONCATENATED MODULE: ./packages/semantic-tokens/src/example/index.ts

const example_palette = {
  green10: '#a0e081',
  green20: '#86d562',
  green30: '#6cc349',
  green40: '#52a535',
  green50: '#3c8527',
  green60: '#2a641c',
  green70: '#1d4d13',
  green80: '#153a0e',
  green90: '#112f0b',
  green100: '#0f2b0a',
  white: '#ffffff',
  black: '#000000',
  gray10: '#f6f3e6',
  gray20: '#e0ddd1',
  gray30: '#c9c7bb',
  gray40: '#b3b0a6',
  gray50: '#9c9a91',
  gray60: '#86847b',
  gray70: '#595751',
  gray80: '#42413b',
  gray90: '#2c2b26',
  gray100: '#24221f',
  red10: '#ff8080',
  red20: '#d93636',
  red30: '#b31b1b',
  red40: '#d54242',
  red50: '#ca3636',
  red60: '#c02d2d',
  red70: '#b62525',
  red80: '#ad1d1d',
  red90: '#a31616',
  red100: '#990f0f',
  yellow10: '#ffe866',
  yellow20: '#e5c317',
  yellow30: '#8a7500',
  blue10: '#8cb3ff',
  blue20: '#2e6be5',
  blue30: '#3343d6',
  blue40: '#0034AA',
  blackOpacity10: 'rgba(0, 0, 0, 0.1)',
  blackOpacity20: 'rgba(0, 0, 0, 0.2)',
  blackOpacity30: 'rgba(0, 0, 0, 0.3)',
  blackOpacity40: 'rgba(0, 0, 0, 0.4)',
  blackOpacity50: 'rgba(0, 0, 0, 0.5)',
  blackOpacity60: 'rgba(0, 0, 0, 0.6)',
  blackOpacity70: 'rgba(0, 0, 0, 0.7)',
  blackOpacity80: 'rgba(0, 0, 0, 0.8)',
  blackOpacity90: 'rgba(0, 0, 0, 0.9)',
  blackOpacity100: 'rgba(0, 0, 0, 1)',
  whiteOpacity10: 'rgba(255, 255, 255, 0.1)',
  whiteOpacity20: 'rgba(255, 255, 255, 0.2)',
  whiteOpacity30: 'rgba(255, 255, 255, 0.3)',
  whiteOpacity40: 'rgba(255, 255, 255, 0.4)',
  whiteOpacity50: 'rgba(255, 255, 255, 0.5)',
  whiteOpacity60: 'rgba(255, 255, 255, 0.6)',
  whiteOpacity70: 'rgba(255, 255, 255, 0.7)',
  whiteOpacity80: 'rgba(255, 255, 255, 0.8)',
  whiteOpacity90: 'rgba(255, 255, 255, 0.9)'
};
const texturedExampleTokens = collectionCreator({
  id: 'texturedExample',
  color: {
    neutral: {
      background: {
        default: '#dbd5b9',
        hovered: '#f1eddc',
        pressed: '#a39d83',
        disabled: example_palette.gray30
      },
      text: {
        dimmer: {
          default: example_palette.gray70
        },
        dimmest: {
          default: example_palette.gray80
        },
        regular: {
          default: example_palette.gray100,
          disabled: example_palette.gray50
        }
      },
      shadow: {
        default: '#55503F',
        disabled: example_palette.gray40
      },
      icon: {
        regular: {
          default: example_palette.gray100,
          disabled: example_palette.gray50
        },
        dimmer: {
          default: example_palette.gray70
        },
        dimmest: {
          default: example_palette.gray80
        }
      },
      border: {
        regular: {
          default: '#25231C',
          disabled: example_palette.gray50
        }
      },
      caret: {
        regular: {
          default: example_palette.blue10
        }
      },
      specular: {
        default: {
          top: example_palette.whiteOpacity20,
          bottom: example_palette.whiteOpacity10
        }
      },
      bevel: {
        default: {
          top: example_palette.whiteOpacity20,
          bottom: example_palette.blackOpacity30
        }
      },
      outline: {
        default: example_palette.white
      },
      highlight: {
        default: 'transparent',
        hovered: example_palette.blackOpacity10
      }
    },
    neutral20: {
      background: {
        default: example_palette.gray20,
        hovered: example_palette.gray10,
        pressed: example_palette.gray30
      },
      shadow: {
        default: example_palette.gray40
      },
      text: {
        regular: {
          default: example_palette.white
        }
      },
      icon: {
        regular: {
          default: example_palette.white
        }
      }
    },
    neutral50: {
      background: {
        default: example_palette.gray50,
        hovered: example_palette.gray40,
        pressed: example_palette.gray60
      },
      border: {
        regular: {
          default: example_palette.gray100,
          disabled: example_palette.gray50
        }
      }
    },
    neutral60: {
      background: {
        default: '#dbd5b9',
        hovered: '#f1eddc',
        pressed: '#a39d83'
      },
      border: {
        dimmest: {
          default: '#b8b39f'
        }
      },
      text: {
        regular: {
          default: '#2c2b26'
        }
      }
    },
    neutral80: {
      background: {
        default: example_palette.gray80,
        selected: example_palette.gray70
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      },
      shadow: {
        default: example_palette.gray90
      },
      text: {
        regular: {
          default: example_palette.white
        }
      },
      bevel: {
        default: {
          top: example_palette.whiteOpacity10,
          bottom: example_palette.blackOpacity30
        },
        pressed: {
          top: example_palette.whiteOpacity10,
          bottom: example_palette.blackOpacity30
        },
        selected: {
          top: example_palette.blackOpacity40,
          bottom: example_palette.whiteOpacity10
        }
      },
      specular: {
        default: {
          top: example_palette.whiteOpacity10,
          bottom: example_palette.blackOpacity30
        }
      }
    },
    neutral100: {
      background: {
        default: example_palette.gray100
      },
      text: {
        regular: {
          default: example_palette.white
        },
        dimmer: {
          default: example_palette.gray30
        },
        dimmest: {
          default: example_palette.gray40
        }
      },
      highlight: {
        default: 'transparent',
        hovered: example_palette.whiteOpacity10
      }
    },
    primary: {
      background: {
        default: example_palette.blue20,
        hovered: example_palette.blue10,
        pressed: example_palette.blue30
      },
      shadow: {
        default: example_palette.blue40
      },
      text: {
        regular: {
          default: example_palette.white
        }
      },
      icon: {
        regular: {
          default: example_palette.white
        }
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      },
      specular: {
        default: {
          top: example_palette.whiteOpacity20,
          bottom: example_palette.whiteOpacity10
        }
      }
    },
    primaryTint: {
      background: {
        default: example_palette.green30
      },
      text: {
        regular: {
          default: example_palette.gray100
        }
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      }
    },
    secondary: {
      background: {
        default: example_palette.gray30,
        hovered: example_palette.gray10,
        pressed: example_palette.gray40
      },
      text: {
        regular: {
          default: example_palette.gray100
        }
      },
      icon: {
        regular: {
          default: example_palette.gray100
        }
      },
      shadow: {
        default: example_palette.gray60
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      },
      specular: {
        default: {
          top: example_palette.whiteOpacity90,
          bottom: example_palette.whiteOpacity50
        }
      }
    },
    success: {
      background: {
        default: example_palette.green50
      },
      text: {
        regular: {
          default: example_palette.white
        }
      }
    },
    successTint: {
      background: {
        default: example_palette.green10
      },
      text: {
        regular: {
          default: example_palette.gray100
        }
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      }
    },
    informative: {
      background: {
        default: example_palette.blue20
      },
      text: {
        regular: {
          default: example_palette.white
        }
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      }
    },
    informativeTint: {
      background: {
        default: example_palette.blue10
      },
      text: {
        regular: {
          default: example_palette.gray100
        }
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      }
    },
    destructive: {
      background: {
        default: example_palette.red50,
        hovered: example_palette.red30,
        pressed: example_palette.red60
      },
      text: {
        regular: {
          default: example_palette.white
        }
      },
      icon: {
        regular: {
          default: example_palette.white
        }
      },
      shadow: {
        default: example_palette.red80
      },
      specular: {
        default: {
          top: example_palette.whiteOpacity20,
          bottom: example_palette.whiteOpacity10
        }
      }
    },
    destructiveTint: {
      background: {
        default: example_palette.red10
      },
      text: {
        regular: {
          default: example_palette.gray100
        }
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      }
    },
    noticeTint: {
      background: {
        default: example_palette.yellow10
      },
      text: {
        regular: {
          default: example_palette.gray100
        }
      },
      border: {
        regular: {
          default: example_palette.gray100
        }
      }
    }
  }
}); // We don't want to add the textures below in the production build for security reasons, since they are derived from an unreleased game

if (false) {}
// EXTERNAL MODULE: ./games/vanilla/tokens/src/soundDefinitions.json
var soundDefinitions = __webpack_require__(2910);
;// CONCATENATED MODULE: ./games/vanilla/tokens/src/soundDefinitions.fixtures.json
const soundDefinitions_fixtures_namespaceObject = {};
;// CONCATENATED MODULE: ./games/vanilla/tokens/src/tokens.ts




const vanillaTokens = collectionCreator({
  id: 'vanilla',
  sound: {
    neutral: {
      reject: 'note.bass',
      press: 'random.click',
      contract: 'random.click',
      expand: 'random.click',
      toggle: 'random.click',
      lift: 'random.click',
      click: 'random.click'
    },
    primary: {
      press: 'tokens.vanilla.release'
    }
  },
  color: {
    neutral: {
      background: {
        default: palette.gray70,
        hovered: palette.gray60,
        pressed: palette.gray80,
        disabled: palette.gray30
      },
      text: {
        dimmer: {
          default: palette.gray30,
          disabled: palette.gray30
        },
        dimmest: {
          default: palette.gray40
        },
        regular: {
          default: palette.white,
          disabled: palette.gray70
        }
      },
      shadow: {
        default: palette.gray80,
        disabled: palette.gray40
      },
      dropShadow: {
        default: palette.blackOpacity25
      },
      icon: {
        regular: {
          default: palette.white,
          disabled: palette.gray70
        },
        dimmer: {
          default: palette.gray30
        },
        dimmest: {
          default: palette.gray40
        }
      },
      border: {
        regular: {
          default: palette.gray100,
          disabled: palette.gray50
        }
      },
      caret: {
        regular: {
          default: palette.green30
        }
      },
      specular: {
        default: {
          top: palette.whiteOpacity20,
          bottom: palette.whiteOpacity10
        }
      },
      bevel: {
        default: {
          top: palette.whiteOpacity10,
          bottom: palette.blackOpacity30
        }
      },
      outline: {
        default: palette.white
      },
      highlight: {
        default: 'transparent',
        hovered: palette.blackOpacity10
      },
      overlay: {
        default: palette.blackOpacity70
      }
    },
    neutral20: {
      background: {
        default: palette.gray20,
        hovered: palette.gray10,
        pressed: palette.gray30
      },
      shadow: {
        default: palette.gray40
      },
      text: {
        regular: {
          default: palette.gray100
        }
      },
      icon: {
        regular: {
          default: palette.white
        }
      },
      outline: {
        default: palette.black
      },
      specular: {
        default: {
          top: palette.whiteOpacity30,
          bottom: palette.whiteOpacity20
        }
      }
    },
    neutral50: {
      background: {
        default: palette.gray50,
        hovered: palette.gray40,
        pressed: palette.gray60
      },
      border: {
        regular: {
          default: palette.gray100,
          disabled: palette.gray50
        }
      },
      overlay: {
        default: palette.blackOpacity50
      }
    },
    neutral60: {
      background: {
        default: palette.gray60,
        hovered: palette.gray50,
        pressed: palette.gray70
      },
      border: {
        dimmest: {
          default: palette.gray50
        }
      },
      text: {
        regular: {
          default: palette.white
        }
      }
    },
    neutral80: {
      background: {
        default: palette.gray80,
        hovered: palette.gray70,
        selected: palette.gray70,
        pressed: palette.gray90
      },
      shadow: {
        default: palette.gray90
      },
      text: {
        regular: {
          default: palette.white
        },
        dimmer: {
          default: palette.gray30
        },
        dimmest: {
          default: palette.gray40
        }
      },
      caret: {
        regular: {
          default: palette.green30
        }
      },
      bevel: {
        default: {
          top: palette.whiteOpacity10,
          bottom: palette.blackOpacity40
        },
        hovered: {
          top: palette.whiteOpacity10,
          bottom: palette.blackOpacity40
        },
        pressed: {
          top: palette.blackOpacity80,
          bottom: palette.whiteOpacity10
        },
        selected: {
          top: palette.blackOpacity40,
          bottom: palette.whiteOpacity10
        }
      }
    },
    neutral100: {
      background: {
        default: palette.gray100
      },
      text: {
        regular: {
          default: palette.white
        },
        dimmer: {
          default: palette.gray30
        },
        dimmest: {
          default: palette.gray40
        }
      }
    },
    primary: {
      background: {
        default: palette.green50,
        hovered: palette.green40,
        pressed: palette.green60
      },
      shadow: {
        default: palette.green70
      },
      text: {
        regular: {
          default: palette.white
        }
      },
      icon: {
        regular: {
          default: palette.white,
          disabled: palette.gray40
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      },
      specular: {
        default: {
          top: palette.whiteOpacity20,
          bottom: palette.whiteOpacity10
        }
      }
    },
    primaryTint: {
      background: {
        default: palette.green30
      },
      text: {
        regular: {
          default: palette.gray100
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      }
    },
    secondary: {
      background: {
        default: palette.gray30,
        hovered: palette.gray10,
        pressed: palette.gray40
      },
      text: {
        regular: {
          default: palette.gray100
        }
      },
      icon: {
        regular: {
          default: palette.gray100
        }
      },
      shadow: {
        default: palette.gray60
      },
      border: {
        regular: {
          default: palette.gray100
        }
      },
      specular: {
        default: {
          top: palette.whiteOpacity60,
          bottom: palette.whiteOpacity40
        }
      }
    },
    success: {
      background: {
        default: palette.green50
      },
      text: {
        regular: {
          default: palette.white
        }
      }
    },
    successTint: {
      background: {
        default: palette.green10
      },
      text: {
        regular: {
          default: palette.gray100
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      }
    },
    informative: {
      background: {
        default: palette.blue20
      },
      text: {
        regular: {
          default: palette.white
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      }
    },
    informativeTint: {
      background: {
        default: palette.blue10
      },
      text: {
        regular: {
          default: palette.gray100
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      }
    },
    destructive: {
      background: {
        default: palette.red50,
        hovered: palette.red10,
        pressed: palette.red60
      },
      text: {
        regular: {
          default: palette.white
        }
      },
      icon: {
        regular: {
          default: palette.white
        }
      },
      shadow: {
        default: palette.red80
      },
      specular: {
        default: {
          top: palette.whiteOpacity20,
          bottom: palette.whiteOpacity10
        }
      }
    },
    destructiveTint: {
      background: {
        default: palette.red10
      },
      text: {
        regular: {
          default: palette.gray100
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      }
    },
    notice: {
      background: {
        default: palette.orange20
      }
    },
    noticeTint: {
      background: {
        default: palette.yellow10
      },
      text: {
        regular: {
          default: palette.gray100
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      }
    },
    paper: {
      background: {
        default: palette.white
      },
      text: {
        regular: {
          default: palette.black,
          disabled: palette.gray70
        }
      },
      icon: {
        regular: {
          default: palette.black,
          disabled: palette.gray70
        }
      },
      border: {
        regular: {
          default: palette.gray100,
          disabled: palette.gray50
        }
      },
      caret: {
        regular: {
          default: palette.black
        }
      },
      specular: {
        default: {
          top: palette.whiteOpacity20,
          bottom: palette.whiteOpacity10
        }
      },
      bevel: {
        default: {
          top: palette.whiteOpacity10,
          bottom: palette.blackOpacity30
        }
      },
      outline: {
        default: palette.gray100
      },
      highlight: {
        default: 'transparent',
        hovered: palette.blackOpacity10
      }
    }
  }
});
const realmsTokens = collectionCreator({
  id: 'realms',
  sound: {
    secondary: {
      press: 'tokens.vanilla.release'
    }
  },
  color: {
    primary: {
      background: {
        default: palette.deepBlue50,
        hovered: palette.deepBlue40,
        pressed: palette.deepBlue60
      },
      border: {
        regular: {
          default: palette.gray100
        }
      },
      overlay: {
        default: palette.deepBlueOpacity50
      },
      shadow: {
        default: palette.deepBlue70
      },
      text: {
        regular: {
          default: palette.white
        }
      },
      icon: {
        regular: {
          default: palette.white
        }
      },
      specular: {
        default: {
          top: 'rgba(182, 81, 245, 0.4)',
          bottom: 'rgba(208, 131, 255, 0.5)'
        }
      },
      caret: {
        regular: {
          default: palette.black
        }
      },
      bevel: {
        default: {
          top: palette.whiteOpacity10,
          bottom: palette.blackOpacity30
        }
      },
      outline: {
        default: palette.white
      }
    },
    primaryTint: {
      background: {
        default: palette.deepBlue10
      },
      text: {
        regular: {
          default: palette.gray100
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      }
    },
    informative: {
      background: {
        default: palette.deepBlue20
      },
      text: {
        regular: {
          default: palette.white
        }
      },
      border: {
        regular: {
          default: palette.gray100
        }
      }
    }
  }
});
;// CONCATENATED MODULE: ./games/vanilla/tokens/src/index.ts

;// CONCATENATED MODULE: ./packages/react-component-playground/src/provider.tsx






const collectionsByTheme = {
  vanilla: vanillaTokens,
  texturedExample: texturedExampleTokens
};

const getCollectionFromTheme = theme => {
  var _collectionsByTheme$t;

  return (_collectionsByTheme$t = collectionsByTheme[theme]) !== null && _collectionsByTheme$t !== void 0 ? _collectionsByTheme$t : vanillaTokens;
};

const SemanticTokensCollectionProviderFromTheme = ({
  children,
  theme
}) => {
  const ctx = (0,react.useContext)(interactiveThemeContext);

  if (false) {}

  return /*#__PURE__*/react.createElement(SemanticTokensProvider_SemanticTokensCollectionProvider, {
    collection: getCollectionFromTheme(theme !== null && theme !== void 0 ? theme : ctx.theme)
  }, children);
};
;// CONCATENATED MODULE: ./packages/react-component-playground/src/LegacyExample/LegacyExample.tsx






/**
 * Support for old .scenario.js files
 * Still in use by the test screens
 */
function LegacyExample_LegacyExample({
  entry
}) {
  return /*#__PURE__*/react.createElement(SemanticTokensCollectionProviderFromTheme, null, /*#__PURE__*/react.createElement("div", {
    className: LegacyExample.name
  }, entry.name), entry.scenarios && entry.scenarios.map((scenario, index) => {
    return /*#__PURE__*/react.createElement("div", {
      key: index,
      className: LegacyExample.content
    }, scenario.description != null ? /*#__PURE__*/react.createElement("div", {
      className: LegacyExample.description
    }, scenario.description) : null, /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
      shouldSkipLandmarkInVisual: true,
      gamepadIndex: index
    }, scenario.wrapper ? scenario.wrapper(scenario.element) : scenario.element), /*#__PURE__*/react.createElement(RenderTrackingEvent, {
      renderingCompleted: true,
      type: "contentful"
    }), /*#__PURE__*/react.createElement(RenderTrackingEvent, {
      renderingCompleted: true,
      type: "meaningful"
    }));
  }));
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Content/Content.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Content_Content = ({"content":"ikrKr"});
;// CONCATENATED MODULE: ./tools/helpers/src/scrollHelper.ts
const getPositionToScrollTo = identifier => {
  const elementToScrollTo = getElementToScrollTo(identifier);

  if (elementToScrollTo != null) {
    return elementToScrollTo.getBoundingClientRect().top;
  }

  return 0;
};

const getElementToScrollTo = identifier => {
  const elements = document.getElementsByClassName(identifier);

  if (elements.length > 0) {
    return elements[0];
  }

  return null;
};


;// CONCATENATED MODULE: ./packages/react-component-playground/src/Content/Content.tsx








function Content_Content_Content({
  gamepadIndex,
  entry,
  onClickExternalLink
}) {
  const ref = (0,react.useRef)(null);
  const location = react_router_useLocation();
  (0,react.useLayoutEffect)(() => {
    const current = ref.current;

    if (!current) {
      return;
    }

    if (true) {
      current.scrollTop = 0;
      return;
    }

    const scrollPosition = location.hash != null ? getPositionToScrollTo(location.hash.replace('#', '')) : 0;
    current.scrollTop = scrollPosition;
  }, [// reset the scroll position when we change the current entry
  entry, location.hash]);
  return /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: "paper"
  }, /*#__PURE__*/react.createElement(ScrollView_ScrollView, {
    gamepadIndex: gamepadIndex,
    innerRef: ref
  }, /*#__PURE__*/react.createElement("div", {
    className: Content_Content.content
  }, /*#__PURE__*/react.createElement("div", null, entry.scenarios ?
  /*#__PURE__*/
  // support for the old '.scenarios.js' file
  react.createElement(LegacyExample_LegacyExample, {
    entry: entry
  }) : entry.element), /*#__PURE__*/react.createElement(Footer_Footer, {
    disableLinks: !!entry.scenarios,
    onClickExternalLink: onClickExternalLink,
    gamepadIndex: 9999
  }))));
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/fullScreenSupport.tsx

const fullScreenExampleContext = (0,react.createContext)(null);
const FullScreenExampleProvider = fullScreenExampleContext.Provider;
const useFullScreenExample = () => (0,react.useContext)(fullScreenExampleContext);
const currentEntryContext = (0,react.createContext)(null);
const CurrentEntryProvider = currentEntryContext.Provider;
const useCurrentEntry = () => (0,react.useContext)(currentEntryContext);

const fullScreenSupport_noop = () => {};

const fullScreenAPIContext = (0,react.createContext)({
  closeFullScreen: fullScreenSupport_noop,
  openFullScreen: fullScreenSupport_noop
});
const FullScreenAPIProvider = fullScreenAPIContext.Provider;
const useFullScreenAPI = () => (0,react.useContext)(fullScreenAPIContext);
;// CONCATENATED MODULE: ./node_modules/@mdx-js/react/dist/esm.js


function esm_defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function esm_extends() {
  esm_extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return esm_extends.apply(this, arguments);
}

function esm_ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      esm_ownKeys(Object(source), true).forEach(function (key) {
        esm_defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      esm_ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function esm_objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function esm_objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = esm_objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

var isFunction = function isFunction(obj) {
  return typeof obj === 'function';
};

var MDXContext = /*#__PURE__*/react.createContext({});
var withMDXComponents = function withMDXComponents(Component) {
  return function (props) {
    var allComponents = useMDXComponents(props.components);
    return /*#__PURE__*/React.createElement(Component, esm_extends({}, props, {
      components: allComponents
    }));
  };
};
var useMDXComponents = function useMDXComponents(components) {
  var contextComponents = react.useContext(MDXContext);
  var allComponents = contextComponents;

  if (components) {
    allComponents = isFunction(components) ? components(contextComponents) : _objectSpread2(_objectSpread2({}, contextComponents), components);
  }

  return allComponents;
};
var MDXProvider = function MDXProvider(props) {
  var allComponents = useMDXComponents(props.components);
  return /*#__PURE__*/react.createElement(MDXContext.Provider, {
    value: allComponents
  }, props.children);
};

var TYPE_PROP_NAME = 'mdxType';
var DEFAULTS = {
  inlineCode: 'code',
  wrapper: function wrapper(_ref) {
    var children = _ref.children;
    return /*#__PURE__*/react.createElement(react.Fragment, {}, children);
  }
};
var MDXCreateElement = /*#__PURE__*/react.forwardRef(function (props, ref) {
  var propComponents = props.components,
      mdxType = props.mdxType,
      originalType = props.originalType,
      parentName = props.parentName,
      etc = esm_objectWithoutProperties(props, ["components", "mdxType", "originalType", "parentName"]);

  var components = useMDXComponents(propComponents);
  var type = mdxType;
  var Component = components["".concat(parentName, ".").concat(type)] || components[type] || DEFAULTS[type] || originalType;

  if (propComponents) {
    return /*#__PURE__*/react.createElement(Component, _objectSpread2(_objectSpread2({
      ref: ref
    }, etc), {}, {
      components: propComponents
    }));
  }

  return /*#__PURE__*/react.createElement(Component, _objectSpread2({
    ref: ref
  }, etc));
});
MDXCreateElement.displayName = 'MDXCreateElement';
function createElement (type, props) {
  var args = arguments;
  var mdxType = props && props.mdxType;

  if (typeof type === 'string' || mdxType) {
    var argsLength = args.length;
    var createElementArgArray = new Array(argsLength);
    createElementArgArray[0] = MDXCreateElement;
    var newProps = {};

    for (var key in props) {
      if (hasOwnProperty.call(props, key)) {
        newProps[key] = props[key];
      }
    }

    newProps.originalType = type;
    newProps[TYPE_PROP_NAME] = typeof type === 'string' ? type : mdxType;
    createElementArgArray[1] = newProps;

    for (var i = 2; i < argsLength; i++) {
      createElementArgArray[i] = args[i];
    }

    return React.createElement.apply(null, createElementArgArray);
  }

  return React.createElement.apply(null, args);
}



;// CONCATENATED MODULE: ./tools/helpers/src/mdxHelper.ts
const toSectionReferenceIdentifier = input => {
  return 'ref-' + input;
};

const toSectionReferenceScrollIntoViewPoint = input => {
  return 'scroll-' + input;
};

const convertRefHashToScrollHash = input => {
  const inputSplit = input.split('-');
  inputSplit[0] = 'scroll';
  return inputSplit.join('-');
};

const createReferenceIdentifier = input => {
  return removeUnwantedCharacters(toKebabCase(input));
};

const toKebabCase = input => {
  return input.toLowerCase().replace(/\s/g, '-');
};

const removeUnwantedCharacters = input => {
  return input.replace(/[(),?%&\/'":]/g, '');
};

const generateAnchorUrl = input => {
  const locationHref = window.location.href;
  const locationHrefParts = locationHref.split('#');
  const baseUrl = locationHrefParts[0] + '#' + locationHrefParts[1];
  const anchor = toSectionReferenceIdentifier(input);
  return `${baseUrl}#${anchor}`;
};
/**
 * This function is a bit odd. Basically, on some pages such as docs/pages/global/featureBugLifecycle, there are
 * code snippets in the value of the header. When this happens, React treats the value as an array. We convert it
 * into a string that we can use to create a nice-looking #reference to use in the URL
 * @param input
 * @returns
 */


const stringifyArrayForSectionReference = input => {
  const output = input.reduce((anchorString, currentItem) => {
    if (currentItem == null) {
      return anchorString;
    } // This extreme check is added to satisfy TypeScript. StrictReactNode could be a lot of types
    // and we are only interested in StrictReactElement, which is not exported.


    const isCurrentItemAStrictReactElement = typeof currentItem !== 'number' && typeof currentItem !== 'string' && typeof currentItem !== 'boolean' && // TypeScript doesn't care about these last two checks, but we do.
    // They ensure that the element we are looking for is a StrictReactElement
    currentItem.constructor.toString().indexOf('Array') === -1 && 'props' in currentItem;

    if (typeof currentItem === 'string') {
      return anchorString + currentItem;
    } else if (isCurrentItemAStrictReactElement) {
      var _currentItemAsMdxElem;

      const currentItemAsMdxElement = currentItem;

      if (((_currentItemAsMdxElem = currentItemAsMdxElement.props) === null || _currentItemAsMdxElem === void 0 ? void 0 : _currentItemAsMdxElem.children) != null && typeof currentItemAsMdxElement.props.children === 'string') {
        return anchorString + currentItemAsMdxElement.props.children;
      }
    }

    return anchorString;
  }, '');

  if (output.length === 0) {
    return null;
  }

  return output;
};

const generateSectionReferenceIdentifier = input => {
  if (input == null) {
    return null;
  }

  if (typeof input === 'string') {
    return createReferenceIdentifier(input);
  }

  if (input.constructor.toString().indexOf('Array') > -1) {
    const output = stringifyArrayForSectionReference(input);

    if (output != null) {
      return createReferenceIdentifier(output);
    }
  }

  return null;
};


;// CONCATENATED MODULE: ./node_modules/prism-react-renderer/prism/index.js
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 * MIT license http://www.opensource.org/licenses/mit-license.php/
 * @author Lea Verou http://lea.verou.me
 */

/**
 * prism-react-renderer:
 * This file has been modified to remove:
 * - globals and window dependency
 * - worker support
 * - highlightAll and other element dependent methods
 * - _.hooks helpers
 * - UMD/node-specific hacks
 * It has also been run through prettier
 */
var Prism = function () {
  var uniqueId = 0;
  var _ = {
    util: {
      encode: function (tokens) {
        if (tokens instanceof Token) {
          return new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);
        } else if (_.util.type(tokens) === "Array") {
          return tokens.map(_.util.encode);
        } else {
          return tokens.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/\u00a0/g, " ");
        }
      },
      type: function (o) {
        return Object.prototype.toString.call(o).match(/\[object (\w+)\]/)[1];
      },
      objId: function (obj) {
        if (!obj["__id"]) {
          Object.defineProperty(obj, "__id", {
            value: ++uniqueId
          });
        }

        return obj["__id"];
      },
      // Deep clone a language definition (e.g. to extend it)
      clone: function (o, visited) {
        var type = _.util.type(o);

        visited = visited || {};

        switch (type) {
          case "Object":
            if (visited[_.util.objId(o)]) {
              return visited[_.util.objId(o)];
            }

            var clone = {};
            visited[_.util.objId(o)] = clone;

            for (var key in o) {
              if (o.hasOwnProperty(key)) {
                clone[key] = _.util.clone(o[key], visited);
              }
            }

            return clone;

          case "Array":
            if (visited[_.util.objId(o)]) {
              return visited[_.util.objId(o)];
            }

            var clone = [];
            visited[_.util.objId(o)] = clone;
            o.forEach(function (v, i) {
              clone[i] = _.util.clone(v, visited);
            });
            return clone;
        }

        return o;
      }
    },
    languages: {
      extend: function (id, redef) {
        var lang = _.util.clone(_.languages[id]);

        for (var key in redef) {
          lang[key] = redef[key];
        }

        return lang;
      },

      /**
       * Insert a token before another token in a language literal
       * As this needs to recreate the object (we cannot actually insert before keys in object literals),
       * we cannot just provide an object, we need anobject and a key.
       * @param inside The key (or language id) of the parent
       * @param before The key to insert before. If not provided, the function appends instead.
       * @param insert Object with the key/value pairs to insert
       * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.
       */
      insertBefore: function (inside, before, insert, root) {
        root = root || _.languages;
        var grammar = root[inside];

        if (arguments.length == 2) {
          insert = arguments[1];

          for (var newToken in insert) {
            if (insert.hasOwnProperty(newToken)) {
              grammar[newToken] = insert[newToken];
            }
          }

          return grammar;
        }

        var ret = {};

        for (var token in grammar) {
          if (grammar.hasOwnProperty(token)) {
            if (token == before) {
              for (var newToken in insert) {
                if (insert.hasOwnProperty(newToken)) {
                  ret[newToken] = insert[newToken];
                }
              }
            }

            ret[token] = grammar[token];
          }
        } // Update references in other language definitions


        _.languages.DFS(_.languages, function (key, value) {
          if (value === root[inside] && key != inside) {
            this[key] = ret;
          }
        });

        return root[inside] = ret;
      },
      // Traverse a language definition with Depth First Search
      DFS: function (o, callback, type, visited) {
        visited = visited || {};

        for (var i in o) {
          if (o.hasOwnProperty(i)) {
            callback.call(o, i, o[i], type || i);

            if (_.util.type(o[i]) === "Object" && !visited[_.util.objId(o[i])]) {
              visited[_.util.objId(o[i])] = true;

              _.languages.DFS(o[i], callback, null, visited);
            } else if (_.util.type(o[i]) === "Array" && !visited[_.util.objId(o[i])]) {
              visited[_.util.objId(o[i])] = true;

              _.languages.DFS(o[i], callback, i, visited);
            }
          }
        }
      }
    },
    plugins: {},
    highlight: function (text, grammar, language) {
      var env = {
        code: text,
        grammar: grammar,
        language: language
      };
      env.tokens = _.tokenize(env.code, env.grammar);
      return Token.stringify(_.util.encode(env.tokens), env.language);
    },
    matchGrammar: function (text, strarr, grammar, index, startPos, oneshot, target) {
      var Token = _.Token;

      for (var token in grammar) {
        if (!grammar.hasOwnProperty(token) || !grammar[token]) {
          continue;
        }

        if (token == target) {
          return;
        }

        var patterns = grammar[token];
        patterns = _.util.type(patterns) === "Array" ? patterns : [patterns];

        for (var j = 0; j < patterns.length; ++j) {
          var pattern = patterns[j],
              inside = pattern.inside,
              lookbehind = !!pattern.lookbehind,
              greedy = !!pattern.greedy,
              lookbehindLength = 0,
              alias = pattern.alias;

          if (greedy && !pattern.pattern.global) {
            // Without the global flag, lastIndex won't work
            var flags = pattern.pattern.toString().match(/[imuy]*$/)[0];
            pattern.pattern = RegExp(pattern.pattern.source, flags + "g");
          }

          pattern = pattern.pattern || pattern; // Don’t cache length as it changes during the loop

          for (var i = index, pos = startPos; i < strarr.length; pos += strarr[i].length, ++i) {
            var str = strarr[i];

            if (strarr.length > text.length) {
              // Something went terribly wrong, ABORT, ABORT!
              return;
            }

            if (str instanceof Token) {
              continue;
            }

            if (greedy && i != strarr.length - 1) {
              pattern.lastIndex = pos;
              var match = pattern.exec(text);

              if (!match) {
                break;
              }

              var from = match.index + (lookbehind ? match[1].length : 0),
                  to = match.index + match[0].length,
                  k = i,
                  p = pos;

              for (var len = strarr.length; k < len && (p < to || !strarr[k].type && !strarr[k - 1].greedy); ++k) {
                p += strarr[k].length; // Move the index i to the element in strarr that is closest to from

                if (from >= p) {
                  ++i;
                  pos = p;
                }
              } // If strarr[i] is a Token, then the match starts inside another Token, which is invalid


              if (strarr[i] instanceof Token) {
                continue;
              } // Number of tokens to delete and replace with the new match


              delNum = k - i;
              str = text.slice(pos, p);
              match.index -= pos;
            } else {
              pattern.lastIndex = 0;
              var match = pattern.exec(str),
                  delNum = 1;
            }

            if (!match) {
              if (oneshot) {
                break;
              }

              continue;
            }

            if (lookbehind) {
              lookbehindLength = match[1] ? match[1].length : 0;
            }

            var from = match.index + lookbehindLength,
                match = match[0].slice(lookbehindLength),
                to = from + match.length,
                before = str.slice(0, from),
                after = str.slice(to);
            var args = [i, delNum];

            if (before) {
              ++i;
              pos += before.length;
              args.push(before);
            }

            var wrapped = new Token(token, inside ? _.tokenize(match, inside) : match, alias, match, greedy);
            args.push(wrapped);

            if (after) {
              args.push(after);
            }

            Array.prototype.splice.apply(strarr, args);

            if (delNum != 1) {
              _.matchGrammar(text, strarr, grammar, i, pos, true, token);
            }

            if (oneshot) {
              break;
            }
          }
        }
      }
    },
    hooks: {
      add: function () {}
    },
    tokenize: function (text, grammar, language) {
      var strarr = [text];
      var rest = grammar.rest;

      if (rest) {
        for (var token in rest) {
          grammar[token] = rest[token];
        }

        delete grammar.rest;
      }

      _.matchGrammar(text, strarr, grammar, 0, 0, false);

      return strarr;
    }
  };

  var Token = _.Token = function (type, content, alias, matchedStr, greedy) {
    this.type = type;
    this.content = content;
    this.alias = alias; // Copy of the full string this token was created from

    this.length = (matchedStr || "").length | 0;
    this.greedy = !!greedy;
  };

  Token.stringify = function (o, language, parent) {
    if (typeof o == "string") {
      return o;
    }

    if (_.util.type(o) === "Array") {
      return o.map(function (element) {
        return Token.stringify(element, language, o);
      }).join("");
    }

    var env = {
      type: o.type,
      content: Token.stringify(o.content, language, parent),
      tag: "span",
      classes: ["token", o.type],
      attributes: {},
      language: language,
      parent: parent
    };

    if (o.alias) {
      var aliases = _.util.type(o.alias) === "Array" ? o.alias : [o.alias];
      Array.prototype.push.apply(env.classes, aliases);
    }

    var attributes = Object.keys(env.attributes).map(function (name) {
      return name + '="' + (env.attributes[name] || "").replace(/"/g, "&quot;") + '"';
    }).join(" ");
    return "<" + env.tag + ' class="' + env.classes.join(" ") + '"' + (attributes ? " " + attributes : "") + ">" + env.content + "</" + env.tag + ">";
  };

  return _;
}();

/* This content is auto-generated to include some prismjs language components: */

/* "prismjs/components/prism-markup" */

Prism.languages.markup = {
  'comment': /<!--[\s\S]*?-->/,
  'prolog': /<\?[\s\S]+?\?>/,
  'doctype': /<!DOCTYPE[\s\S]+?>/i,
  'cdata': /<!\[CDATA\[[\s\S]*?]]>/i,
  'tag': {
    pattern: /<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,
    greedy: true,
    inside: {
      'tag': {
        pattern: /^<\/?[^\s>\/]+/i,
        inside: {
          'punctuation': /^<\/?/,
          'namespace': /^[^\s>\/:]+:/
        }
      },
      'attr-value': {
        pattern: /=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,
        inside: {
          'punctuation': [/^=/, {
            pattern: /^(\s*)["']|["']$/,
            lookbehind: true
          }]
        }
      },
      'punctuation': /\/?>/,
      'attr-name': {
        pattern: /[^\s>\/]+/,
        inside: {
          'namespace': /^[^\s>\/:]+:/
        }
      }
    }
  },
  'entity': /&#?[\da-z]{1,8};/i
};
Prism.languages.markup['tag'].inside['attr-value'].inside['entity'] = Prism.languages.markup['entity']; // Plugin to make entity title show the real entity, idea by Roman Komarov

Prism.hooks.add('wrap', function (env) {
  if (env.type === 'entity') {
    env.attributes['title'] = env.content.replace(/&amp;/, '&');
  }
});
Object.defineProperty(Prism.languages.markup.tag, 'addInlined', {
  /**
   * Adds an inlined language to markup.
   *
   * An example of an inlined language is CSS with `<style>` tags.
   *
   * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as
   * case insensitive.
   * @param {string} lang The language key.
   * @example
   * addInlined('style', 'css');
   */
  value: function addInlined(tagName, lang) {
    var includedCdataInside = {};
    includedCdataInside['language-' + lang] = {
      pattern: /(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,
      lookbehind: true,
      inside: Prism.languages[lang]
    };
    includedCdataInside['cdata'] = /^<!\[CDATA\[|\]\]>$/i;
    var inside = {
      'included-cdata': {
        pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i,
        inside: includedCdataInside
      }
    };
    inside['language-' + lang] = {
      pattern: /[\s\S]+/,
      inside: Prism.languages[lang]
    };
    var def = {};
    def[tagName] = {
      pattern: RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g, tagName), 'i'),
      lookbehind: true,
      greedy: true,
      inside: inside
    };
    Prism.languages.insertBefore('markup', 'cdata', def);
  }
});
Prism.languages.xml = Prism.languages.extend('markup', {});
Prism.languages.html = Prism.languages.markup;
Prism.languages.mathml = Prism.languages.markup;
Prism.languages.svg = Prism.languages.markup;
/* "prismjs/components/prism-bash" */

(function (Prism) {
  // $ set | grep '^[A-Z][^[:space:]]*=' | cut -d= -f1 | tr '\n' '|'
  // + LC_ALL, RANDOM, REPLY, SECONDS.
  // + make sure PS1..4 are here as they are not always set,
  // - some useless things.
  var envVars = '\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b';
  var insideString = {
    'environment': {
      pattern: RegExp("\\$" + envVars),
      alias: 'constant'
    },
    'variable': [// [0]: Arithmetic Environment
    {
      pattern: /\$?\(\([\s\S]+?\)\)/,
      greedy: true,
      inside: {
        // If there is a $ sign at the beginning highlight $(( and )) as variable
        'variable': [{
          pattern: /(^\$\(\([\s\S]+)\)\)/,
          lookbehind: true
        }, /^\$\(\(/],
        'number': /\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee]-?\d+)?/,
        // Operators according to https://www.gnu.org/software/bash/manual/bashref.html#Shell-Arithmetic
        'operator': /--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,
        // If there is no $ sign at the beginning highlight (( and )) as punctuation
        'punctuation': /\(\(?|\)\)?|,|;/
      }
    }, // [1]: Command Substitution
    {
      pattern: /\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,
      greedy: true,
      inside: {
        'variable': /^\$\(|^`|\)$|`$/
      }
    }, // [2]: Brace expansion
    {
      pattern: /\$\{[^}]+\}/,
      greedy: true,
      inside: {
        'operator': /:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,
        'punctuation': /[\[\]]/,
        'environment': {
          pattern: RegExp("(\\{)" + envVars),
          lookbehind: true,
          alias: 'constant'
        }
      }
    }, /\$(?:\w+|[#?*!@$])/],
    // Escape sequences from echo and printf's manuals, and escaped quotes.
    'entity': /\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/
  };
  Prism.languages.bash = {
    'shebang': {
      pattern: /^#!\s*\/.*/,
      alias: 'important'
    },
    'comment': {
      pattern: /(^|[^"{\\$])#.*/,
      lookbehind: true
    },
    'function-name': [// a) function foo {
    // b) foo() {
    // c) function foo() {
    // but not “foo {”
    {
      // a) and c)
      pattern: /(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,
      lookbehind: true,
      alias: 'function'
    }, {
      // b)
      pattern: /\b\w+(?=\s*\(\s*\)\s*\{)/,
      alias: 'function'
    }],
    // Highlight variable names as variables in for and select beginnings.
    'for-or-select': {
      pattern: /(\b(?:for|select)\s+)\w+(?=\s+in\s)/,
      alias: 'variable',
      lookbehind: true
    },
    // Highlight variable names as variables in the left-hand part
    // of assignments (“=” and “+=”).
    'assign-left': {
      pattern: /(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,
      inside: {
        'environment': {
          pattern: RegExp("(^|[\\s;|&]|[<>]\\()" + envVars),
          lookbehind: true,
          alias: 'constant'
        }
      },
      alias: 'variable',
      lookbehind: true
    },
    'string': [// Support for Here-documents https://en.wikipedia.org/wiki/Here_document
    {
      pattern: /((?:^|[^<])<<-?\s*)(\w+?)\s*(?:\r?\n|\r)(?:[\s\S])*?(?:\r?\n|\r)\2/,
      lookbehind: true,
      greedy: true,
      inside: insideString
    }, // Here-document with quotes around the tag
    // → No expansion (so no “inside”).
    {
      pattern: /((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s*(?:\r?\n|\r)(?:[\s\S])*?(?:\r?\n|\r)\3/,
      lookbehind: true,
      greedy: true
    }, // “Normal” string
    {
      pattern: /(["'])(?:\\[\s\S]|\$\([^)]+\)|`[^`]+`|(?!\1)[^\\])*\1/,
      greedy: true,
      inside: insideString
    }],
    'environment': {
      pattern: RegExp("\\$?" + envVars),
      alias: 'constant'
    },
    'variable': insideString.variable,
    'function': {
      pattern: /(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,
      lookbehind: true
    },
    'keyword': {
      pattern: /(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,
      lookbehind: true
    },
    // https://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html
    'builtin': {
      pattern: /(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,
      lookbehind: true,
      // Alias added to make those easier to distinguish from strings.
      alias: 'class-name'
    },
    'boolean': {
      pattern: /(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,
      lookbehind: true
    },
    'file-descriptor': {
      pattern: /\B&\d\b/,
      alias: 'important'
    },
    'operator': {
      // Lots of redirections here, but not just that.
      pattern: /\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,
      inside: {
        'file-descriptor': {
          pattern: /^\d/,
          alias: 'important'
        }
      }
    },
    'punctuation': /\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,
    'number': {
      pattern: /(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,
      lookbehind: true
    }
  };
  /* Patterns in command substitution. */

  var toBeCopied = ['comment', 'function-name', 'for-or-select', 'assign-left', 'string', 'environment', 'function', 'keyword', 'builtin', 'boolean', 'file-descriptor', 'operator', 'punctuation', 'number'];
  var inside = insideString.variable[1].inside;

  for (var i = 0; i < toBeCopied.length; i++) {
    inside[toBeCopied[i]] = Prism.languages.bash[toBeCopied[i]];
  }

  Prism.languages.shell = Prism.languages.bash;
})(Prism);
/* "prismjs/components/prism-clike" */


Prism.languages.clike = {
  'comment': [{
    pattern: /(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,
    lookbehind: true
  }, {
    pattern: /(^|[^\\:])\/\/.*/,
    lookbehind: true,
    greedy: true
  }],
  'string': {
    pattern: /(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,
    greedy: true
  },
  'class-name': {
    pattern: /((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,
    lookbehind: true,
    inside: {
      punctuation: /[.\\]/
    }
  },
  'keyword': /\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,
  'boolean': /\b(?:true|false)\b/,
  'function': /\w+(?=\()/,
  'number': /\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,
  'operator': /--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,
  'punctuation': /[{}[\];(),.:]/
};
/* "prismjs/components/prism-c" */

Prism.languages.c = Prism.languages.extend('clike', {
  'class-name': {
    pattern: /(\b(?:enum|struct)\s+)\w+/,
    lookbehind: true
  },
  'keyword': /\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,
  'operator': />>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/,
  'number': /(?:\b0x(?:[\da-f]+\.?[\da-f]*|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ful]*/i
});
Prism.languages.insertBefore('c', 'string', {
  'macro': {
    // allow for multiline macro definitions
    // spaces after the # character compile fine with gcc
    pattern: /(^\s*)#\s*[a-z]+(?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,
    lookbehind: true,
    alias: 'property',
    inside: {
      // highlight the path of the include statement as a string
      'string': {
        pattern: /(#\s*include\s*)(?:<.+?>|("|')(?:\\?.)+?\2)/,
        lookbehind: true
      },
      // highlight macro directives as keywords
      'directive': {
        pattern: /(#\s*)\b(?:define|defined|elif|else|endif|error|ifdef|ifndef|if|import|include|line|pragma|undef|using)\b/,
        lookbehind: true,
        alias: 'keyword'
      }
    }
  },
  // highlight predefined macros as constants
  'constant': /\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/
});
delete Prism.languages.c['boolean'];
/* "prismjs/components/prism-cpp" */

Prism.languages.cpp = Prism.languages.extend('c', {
  'class-name': {
    pattern: /(\b(?:class|enum|struct)\s+)\w+/,
    lookbehind: true
  },
  'keyword': /\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,
  'number': {
    pattern: /(?:\b0b[01']+|\b0x(?:[\da-f']+\.?[\da-f']*|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+\.?[\d']*|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]*/i,
    greedy: true
  },
  'operator': />>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,
  'boolean': /\b(?:true|false)\b/
});
Prism.languages.insertBefore('cpp', 'string', {
  'raw-string': {
    pattern: /R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,
    alias: 'string',
    greedy: true
  }
});
/* "prismjs/components/prism-css" */

(function (Prism) {
  var string = /("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;
  Prism.languages.css = {
    'comment': /\/\*[\s\S]*?\*\//,
    'atrule': {
      pattern: /@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,
      inside: {
        'rule': /@[\w-]+/ // See rest below

      }
    },
    'url': {
      pattern: RegExp('url\\((?:' + string.source + '|[^\n\r()]*)\\)', 'i'),
      inside: {
        'function': /^url/i,
        'punctuation': /^\(|\)$/
      }
    },
    'selector': RegExp('[^{}\\s](?:[^{};"\']|' + string.source + ')*?(?=\\s*\\{)'),
    'string': {
      pattern: string,
      greedy: true
    },
    'property': /[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,
    'important': /!important\b/i,
    'function': /[-a-z0-9]+(?=\()/i,
    'punctuation': /[(){};:,]/
  };
  Prism.languages.css['atrule'].inside.rest = Prism.languages.css;
  var markup = Prism.languages.markup;

  if (markup) {
    markup.tag.addInlined('style', 'css');
    Prism.languages.insertBefore('inside', 'attr-value', {
      'style-attr': {
        pattern: /\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,
        inside: {
          'attr-name': {
            pattern: /^\s*style/i,
            inside: markup.tag.inside
          },
          'punctuation': /^\s*=\s*['"]|['"]\s*$/,
          'attr-value': {
            pattern: /.+/i,
            inside: Prism.languages.css
          }
        },
        alias: 'language-css'
      }
    }, markup.tag);
  }
})(Prism);
/* "prismjs/components/prism-css-extras" */


Prism.languages.css.selector = {
  pattern: Prism.languages.css.selector,
  inside: {
    'pseudo-element': /:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,
    'pseudo-class': /:[-\w]+/,
    'class': /\.[-:.\w]+/,
    'id': /#[-:.\w]+/,
    'attribute': {
      pattern: /\[(?:[^[\]"']|("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1)*\]/,
      greedy: true,
      inside: {
        'punctuation': /^\[|\]$/,
        'case-sensitivity': {
          pattern: /(\s)[si]$/i,
          lookbehind: true,
          alias: 'keyword'
        },
        'namespace': {
          pattern: /^(\s*)[-*\w\xA0-\uFFFF]*\|(?!=)/,
          lookbehind: true,
          inside: {
            'punctuation': /\|$/
          }
        },
        'attribute': {
          pattern: /^(\s*)[-\w\xA0-\uFFFF]+/,
          lookbehind: true
        },
        'value': [/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/, {
          pattern: /(=\s*)[-\w\xA0-\uFFFF]+(?=\s*$)/,
          lookbehind: true
        }],
        'operator': /[|~*^$]?=/
      }
    },
    'n-th': [{
      pattern: /(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,
      lookbehind: true,
      inside: {
        'number': /[\dn]+/,
        'operator': /[+-]/
      }
    }, {
      pattern: /(\(\s*)(?:even|odd)(?=\s*\))/i,
      lookbehind: true
    }],
    'punctuation': /[()]/
  }
};
Prism.languages.insertBefore('css', 'property', {
  'variable': {
    pattern: /(^|[^-\w\xA0-\uFFFF])--[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*/i,
    lookbehind: true
  }
});
Prism.languages.insertBefore('css', 'function', {
  'operator': {
    pattern: /(\s)[+\-*\/](?=\s)/,
    lookbehind: true
  },
  'hexcode': /#[\da-f]{3,8}/i,
  'entity': /\\[\da-f]{1,8}/i,
  'unit': {
    pattern: /(\d)(?:%|[a-z]+)/,
    lookbehind: true
  },
  'number': /-?[\d.]+/
});
/* "prismjs/components/prism-javascript" */

Prism.languages.javascript = Prism.languages.extend('clike', {
  'class-name': [Prism.languages.clike['class-name'], {
    pattern: /(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,
    lookbehind: true
  }],
  'keyword': [{
    pattern: /((?:^|})\s*)(?:catch|finally)\b/,
    lookbehind: true
  }, {
    pattern: /(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,
    lookbehind: true
  }],
  'number': /\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,
  // Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)
  'function': /#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,
  'operator': /-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/
});
Prism.languages.javascript['class-name'][0].pattern = /(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;
Prism.languages.insertBefore('javascript', 'keyword', {
  'regex': {
    pattern: /((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,
    lookbehind: true,
    greedy: true
  },
  // This must be declared before keyword because we use "function" inside the look-forward
  'function-variable': {
    pattern: /#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,
    alias: 'function'
  },
  'parameter': [{
    pattern: /(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,
    lookbehind: true,
    inside: Prism.languages.javascript
  }, {
    pattern: /[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,
    inside: Prism.languages.javascript
  }, {
    pattern: /(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,
    lookbehind: true,
    inside: Prism.languages.javascript
  }, {
    pattern: /((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,
    lookbehind: true,
    inside: Prism.languages.javascript
  }],
  'constant': /\b[A-Z](?:[A-Z_]|\dx?)*\b/
});
Prism.languages.insertBefore('javascript', 'string', {
  'template-string': {
    pattern: /`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,
    greedy: true,
    inside: {
      'template-punctuation': {
        pattern: /^`|`$/,
        alias: 'string'
      },
      'interpolation': {
        pattern: /((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,
        lookbehind: true,
        inside: {
          'interpolation-punctuation': {
            pattern: /^\${|}$/,
            alias: 'punctuation'
          },
          rest: Prism.languages.javascript
        }
      },
      'string': /[\s\S]+/
    }
  }
});

if (Prism.languages.markup) {
  Prism.languages.markup.tag.addInlined('script', 'javascript');
}

Prism.languages.js = Prism.languages.javascript;
/* "prismjs/components/prism-jsx" */

(function (Prism) {
  var javascript = Prism.util.clone(Prism.languages.javascript);
  Prism.languages.jsx = Prism.languages.extend('markup', javascript);
  Prism.languages.jsx.tag.pattern = /<\/?(?:[\w.:-]+\s*(?:\s+(?:[\w.:-]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s{'">=]+|\{(?:\{(?:\{[^}]*\}|[^{}])*\}|[^{}])+\}))?|\{\.{3}[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\}))*\s*\/?)?>/i;
  Prism.languages.jsx.tag.inside['tag'].pattern = /^<\/?[^\s>\/]*/i;
  Prism.languages.jsx.tag.inside['attr-value'].pattern = /=(?!\{)(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">]+)/i;
  Prism.languages.jsx.tag.inside['tag'].inside['class-name'] = /^[A-Z]\w*(?:\.[A-Z]\w*)*$/;
  Prism.languages.insertBefore('inside', 'attr-name', {
    'spread': {
      pattern: /\{\.{3}[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\}/,
      inside: {
        'punctuation': /\.{3}|[{}.]/,
        'attr-value': /\w+/
      }
    }
  }, Prism.languages.jsx.tag);
  Prism.languages.insertBefore('inside', 'attr-value', {
    'script': {
      // Allow for two levels of nesting
      pattern: /=(\{(?:\{(?:\{[^}]*\}|[^}])*\}|[^}])+\})/i,
      inside: {
        'script-punctuation': {
          pattern: /^=(?={)/,
          alias: 'punctuation'
        },
        rest: Prism.languages.jsx
      },
      'alias': 'language-javascript'
    }
  }, Prism.languages.jsx.tag); // The following will handle plain text inside tags

  var stringifyToken = function (token) {
    if (!token) {
      return '';
    }

    if (typeof token === 'string') {
      return token;
    }

    if (typeof token.content === 'string') {
      return token.content;
    }

    return token.content.map(stringifyToken).join('');
  };

  var walkTokens = function (tokens) {
    var openedTags = [];

    for (var i = 0; i < tokens.length; i++) {
      var token = tokens[i];
      var notTagNorBrace = false;

      if (typeof token !== 'string') {
        if (token.type === 'tag' && token.content[0] && token.content[0].type === 'tag') {
          // We found a tag, now find its kind
          if (token.content[0].content[0].content === '</') {
            // Closing tag
            if (openedTags.length > 0 && openedTags[openedTags.length - 1].tagName === stringifyToken(token.content[0].content[1])) {
              // Pop matching opening tag
              openedTags.pop();
            }
          } else {
            if (token.content[token.content.length - 1].content === '/>') ; else {
              // Opening tag
              openedTags.push({
                tagName: stringifyToken(token.content[0].content[1]),
                openedBraces: 0
              });
            }
          }
        } else if (openedTags.length > 0 && token.type === 'punctuation' && token.content === '{') {
          // Here we might have entered a JSX context inside a tag
          openedTags[openedTags.length - 1].openedBraces++;
        } else if (openedTags.length > 0 && openedTags[openedTags.length - 1].openedBraces > 0 && token.type === 'punctuation' && token.content === '}') {
          // Here we might have left a JSX context inside a tag
          openedTags[openedTags.length - 1].openedBraces--;
        } else {
          notTagNorBrace = true;
        }
      }

      if (notTagNorBrace || typeof token === 'string') {
        if (openedTags.length > 0 && openedTags[openedTags.length - 1].openedBraces === 0) {
          // Here we are inside a tag, and not inside a JSX context.
          // That's plain text: drop any tokens matched.
          var plainText = stringifyToken(token); // And merge text with adjacent text

          if (i < tokens.length - 1 && (typeof tokens[i + 1] === 'string' || tokens[i + 1].type === 'plain-text')) {
            plainText += stringifyToken(tokens[i + 1]);
            tokens.splice(i + 1, 1);
          }

          if (i > 0 && (typeof tokens[i - 1] === 'string' || tokens[i - 1].type === 'plain-text')) {
            plainText = stringifyToken(tokens[i - 1]) + plainText;
            tokens.splice(i - 1, 1);
            i--;
          }

          tokens[i] = new Prism.Token('plain-text', plainText, null, plainText);
        }
      }

      if (token.content && typeof token.content !== 'string') {
        walkTokens(token.content);
      }
    }
  };

  Prism.hooks.add('after-tokenize', function (env) {
    if (env.language !== 'jsx' && env.language !== 'tsx') {
      return;
    }

    walkTokens(env.tokens);
  });
})(Prism);
/* "prismjs/components/prism-javadoclike" */


(function (Prism) {
  var javaDocLike = Prism.languages.javadoclike = {
    'parameter': {
      pattern: /(^\s*(?:\/{3}|\*|\/\*\*)\s*@(?:param|arg|arguments)\s+)\w+/m,
      lookbehind: true
    },
    'keyword': {
      // keywords are the first word in a line preceded be an `@` or surrounded by curly braces.
      // @word, {@word}
      pattern: /(^\s*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,
      lookbehind: true
    },
    'punctuation': /[{}]/
  };
  /**
   * Adds doc comment support to the given language and calls a given callback on each doc comment pattern.
   *
   * @param {string} lang the language add doc comment support to.
   * @param {(pattern: {inside: {rest: undefined}}) => void} callback the function called with each doc comment pattern as argument.
   */

  function docCommentSupport(lang, callback) {
    var tokenName = 'doc-comment';
    var grammar = Prism.languages[lang];

    if (!grammar) {
      return;
    }

    var token = grammar[tokenName];

    if (!token) {
      // add doc comment: /** */
      var definition = {};
      definition[tokenName] = {
        pattern: /(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,
        alias: 'comment'
      };
      grammar = Prism.languages.insertBefore(lang, 'comment', definition);
      token = grammar[tokenName];
    }

    if (token instanceof RegExp) {
      // convert regex to object
      token = grammar[tokenName] = {
        pattern: token
      };
    }

    if (Array.isArray(token)) {
      for (var i = 0, l = token.length; i < l; i++) {
        if (token[i] instanceof RegExp) {
          token[i] = {
            pattern: token[i]
          };
        }

        callback(token[i]);
      }
    } else {
      callback(token);
    }
  }
  /**
   * Adds doc-comment support to the given languages for the given documentation language.
   *
   * @param {string[]|string} languages
   * @param {Object} docLanguage
   */


  function addSupport(languages, docLanguage) {
    if (typeof languages === 'string') {
      languages = [languages];
    }

    languages.forEach(function (lang) {
      docCommentSupport(lang, function (pattern) {
        if (!pattern.inside) {
          pattern.inside = {};
        }

        pattern.inside.rest = docLanguage;
      });
    });
  }

  Object.defineProperty(javaDocLike, 'addSupport', {
    value: addSupport
  });
  javaDocLike.addSupport(['java', 'javascript', 'php'], javaDocLike);
})(Prism);
/* "prismjs/components/prism-java" */


(function (Prism) {
  var keywords = /\b(?:abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while|var|null|exports|module|open|opens|provides|requires|to|transitive|uses|with)\b/; // based on the java naming conventions

  var className = /\b[A-Z](?:\w*[a-z]\w*)?\b/;
  Prism.languages.java = Prism.languages.extend('clike', {
    'class-name': [className, // variables and parameters
    // this to support class names (or generic parameters) which do not contain a lower case letter (also works for methods)
    /\b[A-Z]\w*(?=\s+\w+\s*[;,=())])/],
    'keyword': keywords,
    'function': [Prism.languages.clike.function, {
      pattern: /(\:\:)[a-z_]\w*/,
      lookbehind: true
    }],
    'number': /\b0b[01][01_]*L?\b|\b0x[\da-f_]*\.?[\da-f_p+-]+\b|(?:\b\d[\d_]*\.?[\d_]*|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,
    'operator': {
      pattern: /(^|[^.])(?:<<=?|>>>?=?|->|([-+&|])\2|[?:~]|[-+*/%&|^!=<>]=?)/m,
      lookbehind: true
    }
  });
  Prism.languages.insertBefore('java', 'class-name', {
    'annotation': {
      alias: 'punctuation',
      pattern: /(^|[^.])@\w+/,
      lookbehind: true
    },
    'namespace': {
      pattern: /(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)[a-z]\w*(\.[a-z]\w*)+/,
      lookbehind: true,
      inside: {
        'punctuation': /\./
      }
    },
    'generics': {
      pattern: /<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,
      inside: {
        'class-name': className,
        'keyword': keywords,
        'punctuation': /[<>(),.:]/,
        'operator': /[?&|]/
      }
    }
  });
})(Prism);
/* "prismjs/components/prism-markup-templating" */


(function (Prism) {
  /**
   * Returns the placeholder for the given language id and index.
   *
   * @param {string} language
   * @param {string|number} index
   * @returns {string}
   */
  function getPlaceholder(language, index) {
    return '___' + language.toUpperCase() + index + '___';
  }

  Object.defineProperties(Prism.languages['markup-templating'] = {}, {
    buildPlaceholders: {
      /**
       * Tokenize all inline templating expressions matching `placeholderPattern`.
       *
       * If `replaceFilter` is provided, only matches of `placeholderPattern` for which `replaceFilter` returns
       * `true` will be replaced.
       *
       * @param {object} env The environment of the `before-tokenize` hook.
       * @param {string} language The language id.
       * @param {RegExp} placeholderPattern The matches of this pattern will be replaced by placeholders.
       * @param {(match: string) => boolean} [replaceFilter]
       */
      value: function (env, language, placeholderPattern, replaceFilter) {
        if (env.language !== language) {
          return;
        }

        var tokenStack = env.tokenStack = [];
        env.code = env.code.replace(placeholderPattern, function (match) {
          if (typeof replaceFilter === 'function' && !replaceFilter(match)) {
            return match;
          }

          var i = tokenStack.length;
          var placeholder; // Check for existing strings

          while (env.code.indexOf(placeholder = getPlaceholder(language, i)) !== -1) {
            ++i;
          } // Create a sparse array


          tokenStack[i] = match;
          return placeholder;
        }); // Switch the grammar to markup

        env.grammar = Prism.languages.markup;
      }
    },
    tokenizePlaceholders: {
      /**
       * Replace placeholders with proper tokens after tokenizing.
       *
       * @param {object} env The environment of the `after-tokenize` hook.
       * @param {string} language The language id.
       */
      value: function (env, language) {
        if (env.language !== language || !env.tokenStack) {
          return;
        } // Switch the grammar back


        env.grammar = Prism.languages[language];
        var j = 0;
        var keys = Object.keys(env.tokenStack);

        function walkTokens(tokens) {
          for (var i = 0; i < tokens.length; i++) {
            // all placeholders are replaced already
            if (j >= keys.length) {
              break;
            }

            var token = tokens[i];

            if (typeof token === 'string' || token.content && typeof token.content === 'string') {
              var k = keys[j];
              var t = env.tokenStack[k];
              var s = typeof token === 'string' ? token : token.content;
              var placeholder = getPlaceholder(language, k);
              var index = s.indexOf(placeholder);

              if (index > -1) {
                ++j;
                var before = s.substring(0, index);
                var middle = new Prism.Token(language, Prism.tokenize(t, env.grammar), 'language-' + language, t);
                var after = s.substring(index + placeholder.length);
                var replacement = [];

                if (before) {
                  replacement.push.apply(replacement, walkTokens([before]));
                }

                replacement.push(middle);

                if (after) {
                  replacement.push.apply(replacement, walkTokens([after]));
                }

                if (typeof token === 'string') {
                  tokens.splice.apply(tokens, [i, 1].concat(replacement));
                } else {
                  token.content = replacement;
                }
              }
            } else if (token.content
            /* && typeof token.content !== 'string' */
            ) {
                walkTokens(token.content);
              }
          }

          return tokens;
        }

        walkTokens(env.tokens);
      }
    }
  });
})(Prism);
/* "prismjs/components/prism-php" */

/**
 * Original by Aaron Harun: http://aahacreative.com/2012/07/31/php-syntax-highlighting-prism/
 * Modified by Miles Johnson: http://milesj.me
 *
 * Supports the following:
 * 		- Extends clike syntax
 * 		- Support for PHP 5.3+ (namespaces, traits, generators, etc)
 * 		- Smarter constant and function matching
 *
 * Adds the following new token classes:
 * 		constant, delimiter, variable, function, package
 */


(function (Prism) {
  Prism.languages.php = Prism.languages.extend('clike', {
    'keyword': /\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,
    'boolean': {
      pattern: /\b(?:false|true)\b/i,
      alias: 'constant'
    },
    'constant': [/\b[A-Z_][A-Z0-9_]*\b/, /\b(?:null)\b/i],
    'comment': {
      pattern: /(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,
      lookbehind: true
    }
  });
  Prism.languages.insertBefore('php', 'string', {
    'shell-comment': {
      pattern: /(^|[^\\])#.*/,
      lookbehind: true,
      alias: 'comment'
    }
  });
  Prism.languages.insertBefore('php', 'comment', {
    'delimiter': {
      pattern: /\?>$|^<\?(?:php(?=\s)|=)?/i,
      alias: 'important'
    }
  });
  Prism.languages.insertBefore('php', 'keyword', {
    'variable': /\$+(?:\w+\b|(?={))/i,
    'package': {
      pattern: /(\\|namespace\s+|use\s+)[\w\\]+/,
      lookbehind: true,
      inside: {
        punctuation: /\\/
      }
    }
  }); // Must be defined after the function pattern

  Prism.languages.insertBefore('php', 'operator', {
    'property': {
      pattern: /(->)[\w]+/,
      lookbehind: true
    }
  });
  var string_interpolation = {
    pattern: /{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,
    lookbehind: true,
    inside: {
      rest: Prism.languages.php
    }
  };
  Prism.languages.insertBefore('php', 'string', {
    'nowdoc-string': {
      pattern: /<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,
      greedy: true,
      alias: 'string',
      inside: {
        'delimiter': {
          pattern: /^<<<'[^']+'|[a-z_]\w*;$/i,
          alias: 'symbol',
          inside: {
            'punctuation': /^<<<'?|[';]$/
          }
        }
      }
    },
    'heredoc-string': {
      pattern: /<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,
      greedy: true,
      alias: 'string',
      inside: {
        'delimiter': {
          pattern: /^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,
          alias: 'symbol',
          inside: {
            'punctuation': /^<<<"?|[";]$/
          }
        },
        'interpolation': string_interpolation // See below

      }
    },
    'single-quoted-string': {
      pattern: /'(?:\\[\s\S]|[^\\'])*'/,
      greedy: true,
      alias: 'string'
    },
    'double-quoted-string': {
      pattern: /"(?:\\[\s\S]|[^\\"])*"/,
      greedy: true,
      alias: 'string',
      inside: {
        'interpolation': string_interpolation // See below

      }
    }
  }); // The different types of PHP strings "replace" the C-like standard string

  delete Prism.languages.php['string'];
  Prism.hooks.add('before-tokenize', function (env) {
    if (!/<\?/.test(env.code)) {
      return;
    }

    var phpPattern = /<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/ig;
    Prism.languages['markup-templating'].buildPlaceholders(env, 'php', phpPattern);
  });
  Prism.hooks.add('after-tokenize', function (env) {
    Prism.languages['markup-templating'].tokenizePlaceholders(env, 'php');
  });
})(Prism);
/* "prismjs/components/prism-jsdoc" */


(function (Prism) {
  var javascript = Prism.languages.javascript;
  var type = /{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})+}/.source;
  var parameterPrefix = '(@(?:param|arg|argument|property)\\s+(?:' + type + '\\s+)?)';
  Prism.languages.jsdoc = Prism.languages.extend('javadoclike', {
    'parameter': {
      // @param {string} foo - foo bar
      pattern: RegExp(parameterPrefix + /[$\w\xA0-\uFFFF.]+(?=\s|$)/.source),
      lookbehind: true,
      inside: {
        'punctuation': /\./
      }
    }
  });
  Prism.languages.insertBefore('jsdoc', 'keyword', {
    'optional-parameter': {
      // @param {string} [baz.foo="bar"] foo bar
      pattern: RegExp(parameterPrefix + /\[[$\w\xA0-\uFFFF.]+(?:=[^[\]]+)?\](?=\s|$)/.source),
      lookbehind: true,
      inside: {
        'parameter': {
          pattern: /(^\[)[$\w\xA0-\uFFFF\.]+/,
          lookbehind: true,
          inside: {
            'punctuation': /\./
          }
        },
        'code': {
          pattern: /(=)[\s\S]*(?=\]$)/,
          lookbehind: true,
          inside: javascript,
          alias: 'language-javascript'
        },
        'punctuation': /[=[\]]/
      }
    },
    'class-name': [{
      pattern: RegExp('(@[a-z]+\\s+)' + type),
      lookbehind: true,
      inside: {
        'punctuation': /[.,:?=<>|{}()[\]]/
      }
    }, {
      pattern: /(@(?:augments|extends|class|interface|memberof!?|this)\s+)[A-Z]\w*(?:\.[A-Z]\w*)*/,
      lookbehind: true,
      inside: {
        'punctuation': /\./
      }
    }],
    'example': {
      pattern: /(@example\s+)[^@]+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,
      lookbehind: true,
      inside: {
        'code': {
          pattern: /^(\s*(?:\*\s*)?).+$/m,
          lookbehind: true,
          inside: javascript,
          alias: 'language-javascript'
        }
      }
    }
  });
  Prism.languages.javadoclike.addSupport('javascript', Prism.languages.jsdoc);
})(Prism);
/* "prismjs/components/prism-actionscript" */


Prism.languages.actionscript = Prism.languages.extend('javascript', {
  'keyword': /\b(?:as|break|case|catch|class|const|default|delete|do|else|extends|finally|for|function|if|implements|import|in|instanceof|interface|internal|is|native|new|null|package|private|protected|public|return|super|switch|this|throw|try|typeof|use|var|void|while|with|dynamic|each|final|get|include|namespace|native|override|set|static)\b/,
  'operator': /\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/
});
Prism.languages.actionscript['class-name'].alias = 'function';

if (Prism.languages.markup) {
  Prism.languages.insertBefore('actionscript', 'string', {
    'xml': {
      pattern: /(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,
      lookbehind: true,
      inside: {
        rest: Prism.languages.markup
      }
    }
  });
}
/* "prismjs/components/prism-coffeescript" */


(function (Prism) {
  // Ignore comments starting with { to privilege string interpolation highlighting
  var comment = /#(?!\{).+/,
      interpolation = {
    pattern: /#\{[^}]+\}/,
    alias: 'variable'
  };
  Prism.languages.coffeescript = Prism.languages.extend('javascript', {
    'comment': comment,
    'string': [// Strings are multiline
    {
      pattern: /'(?:\\[\s\S]|[^\\'])*'/,
      greedy: true
    }, {
      // Strings are multiline
      pattern: /"(?:\\[\s\S]|[^\\"])*"/,
      greedy: true,
      inside: {
        'interpolation': interpolation
      }
    }],
    'keyword': /\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,
    'class-member': {
      pattern: /@(?!\d)\w+/,
      alias: 'variable'
    }
  });
  Prism.languages.insertBefore('coffeescript', 'comment', {
    'multiline-comment': {
      pattern: /###[\s\S]+?###/,
      alias: 'comment'
    },
    // Block regexp can contain comments and interpolation
    'block-regex': {
      pattern: /\/{3}[\s\S]*?\/{3}/,
      alias: 'regex',
      inside: {
        'comment': comment,
        'interpolation': interpolation
      }
    }
  });
  Prism.languages.insertBefore('coffeescript', 'string', {
    'inline-javascript': {
      pattern: /`(?:\\[\s\S]|[^\\`])*`/,
      inside: {
        'delimiter': {
          pattern: /^`|`$/,
          alias: 'punctuation'
        },
        rest: Prism.languages.javascript
      }
    },
    // Block strings
    'multiline-string': [{
      pattern: /'''[\s\S]*?'''/,
      greedy: true,
      alias: 'string'
    }, {
      pattern: /"""[\s\S]*?"""/,
      greedy: true,
      alias: 'string',
      inside: {
        interpolation: interpolation
      }
    }]
  });
  Prism.languages.insertBefore('coffeescript', 'keyword', {
    // Object property
    'property': /(?!\d)\w+(?=\s*:(?!:))/
  });
  delete Prism.languages.coffeescript['template-string'];
  Prism.languages.coffee = Prism.languages.coffeescript;
})(Prism);
/* "prismjs/components/prism-js-extras" */


(function (Prism) {
  Prism.languages.insertBefore('javascript', 'function-variable', {
    'method-variable': {
      pattern: RegExp('(\\.\\s*)' + Prism.languages.javascript['function-variable'].pattern.source),
      lookbehind: true,
      alias: ['function-variable', 'method', 'function', 'property-access']
    }
  });
  Prism.languages.insertBefore('javascript', 'function', {
    'method': {
      pattern: RegExp('(\\.\\s*)' + Prism.languages.javascript['function'].source),
      lookbehind: true,
      alias: ['function', 'property-access']
    }
  });
  Prism.languages.insertBefore('javascript', 'constant', {
    'known-class-name': [{
      // standard built-ins
      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects
      pattern: /\b(?:(?:(?:Uint|Int)(?:8|16|32)|Uint8Clamped|Float(?:32|64))?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|(?:Weak)?(?:Set|Map)|WebAssembly)\b/,
      alias: 'class-name'
    }, {
      // errors
      pattern: /\b(?:[A-Z]\w*)Error\b/,
      alias: 'class-name'
    }]
  });
  Prism.languages.javascript['keyword'].unshift({
    pattern: /\b(?:as|default|export|from|import)\b/,
    alias: 'module'
  }, {
    pattern: /\bnull\b/,
    alias: ['null', 'nil']
  }, {
    pattern: /\bundefined\b/,
    alias: 'nil'
  });
  Prism.languages.insertBefore('javascript', 'operator', {
    'spread': {
      pattern: /\.{3}/,
      alias: 'operator'
    },
    'arrow': {
      pattern: /=>/,
      alias: 'operator'
    }
  });
  Prism.languages.insertBefore('javascript', 'punctuation', {
    'property-access': {
      pattern: /(\.\s*)#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*/,
      lookbehind: true
    },
    'maybe-class-name': {
      pattern: /(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,
      lookbehind: true
    },
    'dom': {
      // this contains only a few commonly used DOM variables
      pattern: /\b(?:document|location|navigator|performance|(?:local|session)Storage|window)\b/,
      alias: 'variable'
    },
    'console': {
      pattern: /\bconsole(?=\s*\.)/,
      alias: 'class-name'
    }
  }); // add 'maybe-class-name' to tokens which might be a class name

  var maybeClassNameTokens = ['function', 'function-variable', 'method', 'method-variable', 'property-access'];

  for (var i = 0; i < maybeClassNameTokens.length; i++) {
    var token = maybeClassNameTokens[i];
    var value = Prism.languages.javascript[token]; // convert regex to object

    if (Prism.util.type(value) === 'RegExp') {
      value = Prism.languages.javascript[token] = {
        pattern: value
      };
    } // keep in mind that we don't support arrays


    var inside = value.inside || {};
    value.inside = inside;
    inside['maybe-class-name'] = /^[A-Z][\s\S]*/;
  }
})(Prism);
/* "prismjs/components/prism-flow" */


(function (Prism) {
  Prism.languages.flow = Prism.languages.extend('javascript', {});
  Prism.languages.insertBefore('flow', 'keyword', {
    'type': [{
      pattern: /\b(?:[Nn]umber|[Ss]tring|[Bb]oolean|Function|any|mixed|null|void)\b/,
      alias: 'tag'
    }]
  });
  Prism.languages.flow['function-variable'].pattern = /[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i;
  delete Prism.languages.flow['parameter'];
  Prism.languages.insertBefore('flow', 'operator', {
    'flow-punctuation': {
      pattern: /\{\||\|\}/,
      alias: 'punctuation'
    }
  });

  if (!Array.isArray(Prism.languages.flow.keyword)) {
    Prism.languages.flow.keyword = [Prism.languages.flow.keyword];
  }

  Prism.languages.flow.keyword.unshift({
    pattern: /(^|[^$]\b)(?:type|opaque|declare|Class)\b(?!\$)/,
    lookbehind: true
  }, {
    pattern: /(^|[^$]\B)\$(?:await|Diff|Exact|Keys|ObjMap|PropertyType|Shape|Record|Supertype|Subtype|Enum)\b(?!\$)/,
    lookbehind: true
  });
})(Prism);
/* "prismjs/components/prism-n4js" */


Prism.languages.n4js = Prism.languages.extend('javascript', {
  // Keywords from N4JS language spec: https://numberfour.github.io/n4js/spec/N4JSSpec.html
  'keyword': /\b(?:any|Array|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/
});
Prism.languages.insertBefore('n4js', 'constant', {
  // Annotations in N4JS spec: https://numberfour.github.io/n4js/spec/N4JSSpec.html#_annotations
  'annotation': {
    pattern: /@+\w+/,
    alias: 'operator'
  }
});
Prism.languages.n4jsd = Prism.languages.n4js;
/* "prismjs/components/prism-typescript" */

Prism.languages.typescript = Prism.languages.extend('javascript', {
  // From JavaScript Prism keyword list and TypeScript language spec: https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#221-reserved-words
  'keyword': /\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,
  'builtin': /\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/
});
Prism.languages.ts = Prism.languages.typescript;
/* "prismjs/components/prism-js-templates" */

(function (Prism) {
  var templateString = Prism.languages.javascript['template-string']; // see the pattern in prism-javascript.js

  var templateLiteralPattern = templateString.pattern.source;
  var interpolationObject = templateString.inside['interpolation'];
  var interpolationPunctuationObject = interpolationObject.inside['interpolation-punctuation'];
  var interpolationPattern = interpolationObject.pattern.source;
  /**
   * Creates a new pattern to match a template string with a special tag.
   *
   * This will return `undefined` if there is no grammar with the given language id.
   *
   * @param {string} language The language id of the embedded language. E.g. `markdown`.
   * @param {string} tag The regex pattern to match the tag.
   * @returns {object | undefined}
   * @example
   * createTemplate('css', /\bcss/.source);
   */

  function createTemplate(language, tag) {
    if (!Prism.languages[language]) {
      return undefined;
    }

    return {
      pattern: RegExp('((?:' + tag + ')\\s*)' + templateLiteralPattern),
      lookbehind: true,
      greedy: true,
      inside: {
        'template-punctuation': {
          pattern: /^`|`$/,
          alias: 'string'
        },
        'embedded-code': {
          pattern: /[\s\S]+/,
          alias: language
        }
      }
    };
  }

  Prism.languages.javascript['template-string'] = [// styled-jsx:
  //   css`a { color: #25F; }`
  // styled-components:
  //   styled.h1`color: red;`
  createTemplate('css', /\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source), // html`<p></p>`
  // div.innerHTML = `<p></p>`
  createTemplate('html', /\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source), // svg`<path fill="#fff" d="M55.37 ..."/>`
  createTemplate('svg', /\bsvg/.source), // md`# h1`, markdown`## h2`
  createTemplate('markdown', /\b(?:md|markdown)/.source), // gql`...`, graphql`...`, graphql.experimental`...`
  createTemplate('graphql', /\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source), // vanilla template string
  templateString].filter(Boolean);
  /**
   * Returns a specific placeholder literal for the given language.
   *
   * @param {number} counter
   * @param {string} language
   * @returns {string}
   */

  function getPlaceholder(counter, language) {
    return '___' + language.toUpperCase() + '_' + counter + '___';
  }
  /**
   * Returns the tokens of `Prism.tokenize` but also runs the `before-tokenize` and `after-tokenize` hooks.
   *
   * @param {string} code
   * @param {any} grammar
   * @param {string} language
   * @returns {(string|Token)[]}
   */


  function tokenizeWithHooks(code, grammar, language) {
    var env = {
      code: code,
      grammar: grammar,
      language: language
    };
    Prism.hooks.run('before-tokenize', env);
    env.tokens = Prism.tokenize(env.code, env.grammar);
    Prism.hooks.run('after-tokenize', env);
    return env.tokens;
  }
  /**
   * Returns the token of the given JavaScript interpolation expression.
   *
   * @param {string} expression The code of the expression. E.g. `"${42}"`
   * @returns {Token}
   */


  function tokenizeInterpolationExpression(expression) {
    var tempGrammar = {};
    tempGrammar['interpolation-punctuation'] = interpolationPunctuationObject;
    /** @type {Array} */

    var tokens = Prism.tokenize(expression, tempGrammar);

    if (tokens.length === 3) {
      /**
       * The token array will look like this
       * [
       *     ["interpolation-punctuation", "${"]
       *     "..." // JavaScript expression of the interpolation
       *     ["interpolation-punctuation", "}"]
       * ]
       */
      var args = [1, 1];
      args.push.apply(args, tokenizeWithHooks(tokens[1], Prism.languages.javascript, 'javascript'));
      tokens.splice.apply(tokens, args);
    }

    return new Prism.Token('interpolation', tokens, interpolationObject.alias, expression);
  }
  /**
   * Tokenizes the given code with support for JavaScript interpolation expressions mixed in.
   *
   * This function has 3 phases:
   *
   * 1. Replace all JavaScript interpolation expression with a placeholder.
   *    The placeholder will have the syntax of a identify of the target language.
   * 2. Tokenize the code with placeholders.
   * 3. Tokenize the interpolation expressions and re-insert them into the tokenize code.
   *    The insertion only works if a placeholder hasn't been "ripped apart" meaning that the placeholder has been
   *    tokenized as two tokens by the grammar of the embedded language.
   *
   * @param {string} code
   * @param {object} grammar
   * @param {string} language
   * @returns {Token}
   */


  function tokenizeEmbedded(code, grammar, language) {
    // 1. First filter out all interpolations
    // because they might be escaped, we need a lookbehind, so we use Prism

    /** @type {(Token|string)[]} */
    var _tokens = Prism.tokenize(code, {
      'interpolation': {
        pattern: RegExp(interpolationPattern),
        lookbehind: true
      }
    }); // replace all interpolations with a placeholder which is not in the code already


    var placeholderCounter = 0;
    /** @type {Object<string, string>} */

    var placeholderMap = {};

    var embeddedCode = _tokens.map(function (token) {
      if (typeof token === 'string') {
        return token;
      } else {
        var interpolationExpression = token.content;
        var placeholder;

        while (code.indexOf(placeholder = getPlaceholder(placeholderCounter++, language)) !== -1) {}

        placeholderMap[placeholder] = interpolationExpression;
        return placeholder;
      }
    }).join(''); // 2. Tokenize the embedded code


    var embeddedTokens = tokenizeWithHooks(embeddedCode, grammar, language); // 3. Re-insert the interpolation

    var placeholders = Object.keys(placeholderMap);
    placeholderCounter = 0;
    /**
     *
     * @param {(Token|string)[]} tokens
     * @returns {void}
     */

    function walkTokens(tokens) {
      for (var i = 0; i < tokens.length; i++) {
        if (placeholderCounter >= placeholders.length) {
          return;
        }

        var token = tokens[i];

        if (typeof token === 'string' || typeof token.content === 'string') {
          var placeholder = placeholders[placeholderCounter];
          var s = typeof token === 'string' ? token :
          /** @type {string} */
          token.content;
          var index = s.indexOf(placeholder);

          if (index !== -1) {
            ++placeholderCounter;
            var before = s.substring(0, index);
            var middle = tokenizeInterpolationExpression(placeholderMap[placeholder]);
            var after = s.substring(index + placeholder.length);
            var replacement = [];

            if (before) {
              replacement.push(before);
            }

            replacement.push(middle);

            if (after) {
              var afterTokens = [after];
              walkTokens(afterTokens);
              replacement.push.apply(replacement, afterTokens);
            }

            if (typeof token === 'string') {
              tokens.splice.apply(tokens, [i, 1].concat(replacement));
              i += replacement.length - 1;
            } else {
              token.content = replacement;
            }
          }
        } else {
          var content = token.content;

          if (Array.isArray(content)) {
            walkTokens(content);
          } else {
            walkTokens([content]);
          }
        }
      }
    }

    walkTokens(embeddedTokens);
    return new Prism.Token(language, embeddedTokens, 'language-' + language, code);
  }
  /**
   * The languages for which JS templating will handle tagged template literals.
   *
   * JS templating isn't active for only JavaScript but also related languages like TypeScript, JSX, and TSX.
   */


  var supportedLanguages = {
    'javascript': true,
    'js': true,
    'typescript': true,
    'ts': true,
    'jsx': true,
    'tsx': true
  };
  Prism.hooks.add('after-tokenize', function (env) {
    if (!(env.language in supportedLanguages)) {
      return;
    }
    /**
     * Finds and tokenizes all template strings with an embedded languages.
     *
     * @param {(Token | string)[]} tokens
     * @returns {void}
     */


    function findTemplateStrings(tokens) {
      for (var i = 0, l = tokens.length; i < l; i++) {
        var token = tokens[i];

        if (typeof token === 'string') {
          continue;
        }

        var content = token.content;

        if (!Array.isArray(content)) {
          if (typeof content !== 'string') {
            findTemplateStrings([content]);
          }

          continue;
        }

        if (token.type === 'template-string') {
          /**
           * A JavaScript template-string token will look like this:
           *
           * ["template-string", [
           *     ["template-punctuation", "`"],
           *     (
           *         An array of "string" and "interpolation" tokens. This is the simple string case.
           *         or
           *         ["embedded-code", "..."] This is the token containing the embedded code.
           *                                  It also has an alias which is the language of the embedded code.
           *     ),
           *     ["template-punctuation", "`"]
           * ]]
           */
          var embedded = content[1];

          if (content.length === 3 && typeof embedded !== 'string' && embedded.type === 'embedded-code') {
            // get string content
            var code = stringContent(embedded);
            var alias = embedded.alias;
            var language = Array.isArray(alias) ? alias[0] : alias;
            var grammar = Prism.languages[language];

            if (!grammar) {
              // the embedded language isn't registered.
              continue;
            }

            content[1] = tokenizeEmbedded(code, grammar, language);
          }
        } else {
          findTemplateStrings(content);
        }
      }
    }

    findTemplateStrings(env.tokens);
  });
  /**
   * Returns the string content of a token or token stream.
   *
   * @param {string | Token | (string | Token)[]} value
   * @returns {string}
   */

  function stringContent(value) {
    if (typeof value === 'string') {
      return value;
    } else if (Array.isArray(value)) {
      return value.map(stringContent).join('');
    } else {
      return stringContent(value.content);
    }
  }
})(Prism);
/* "prismjs/components/prism-graphql" */


Prism.languages.graphql = {
  'comment': /#.*/,
  'string': {
    pattern: /"(?:\\.|[^\\"\r\n])*"/,
    greedy: true
  },
  'number': /(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,
  'boolean': /\b(?:true|false)\b/,
  'variable': /\$[a-z_]\w*/i,
  'directive': {
    pattern: /@[a-z_]\w*/i,
    alias: 'function'
  },
  'attr-name': {
    pattern: /[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,
    greedy: true
  },
  'class-name': {
    pattern: /(\b(?:enum|implements|interface|on|scalar|type|union)\s+)[a-zA-Z_]\w*/,
    lookbehind: true
  },
  'fragment': {
    pattern: /(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,
    lookbehind: true,
    alias: 'function'
  },
  'keyword': /\b(?:enum|fragment|implements|input|interface|mutation|on|query|scalar|schema|type|union)\b/,
  'operator': /[!=|]|\.{3}/,
  'punctuation': /[!(){}\[\]:=,]/,
  'constant': /\b(?!ID\b)[A-Z][A-Z_\d]*\b/
};
/* "prismjs/components/prism-markdown" */

(function (Prism) {
  // Allow only one line break
  var inner = /(?:\\.|[^\\\n\r]|(?:\r?\n|\r)(?!\r?\n|\r))/.source;
  /**
   * This function is intended for the creation of the bold or italic pattern.
   *
   * This also adds a lookbehind group to the given pattern to ensure that the pattern is not backslash-escaped.
   *
   * _Note:_ Keep in mind that this adds a capturing group.
   *
   * @param {string} pattern
   * @param {boolean} starAlternative Whether to also add an alternative where all `_`s are replaced with `*`s.
   * @returns {RegExp}
   */

  function createInline(pattern, starAlternative) {
    pattern = pattern.replace(/<inner>/g, inner);

    if (starAlternative) {
      pattern = pattern + '|' + pattern.replace(/_/g, '\\*');
    }

    return RegExp(/((?:^|[^\\])(?:\\{2})*)/.source + '(?:' + pattern + ')');
  }

  var tableCell = /(?:\\.|``.+?``|`[^`\r\n]+`|[^\\|\r\n`])+/.source;
  var tableRow = /\|?__(?:\|__)+\|?(?:(?:\r?\n|\r)|$)/.source.replace(/__/g, tableCell);
  var tableLine = /\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\r?\n|\r)/.source;
  Prism.languages.markdown = Prism.languages.extend('markup', {});
  Prism.languages.insertBefore('markdown', 'prolog', {
    'blockquote': {
      // > ...
      pattern: /^>(?:[\t ]*>)*/m,
      alias: 'punctuation'
    },
    'table': {
      pattern: RegExp('^' + tableRow + tableLine + '(?:' + tableRow + ')*', 'm'),
      inside: {
        'table-data-rows': {
          pattern: RegExp('^(' + tableRow + tableLine + ')(?:' + tableRow + ')*$'),
          lookbehind: true,
          inside: {
            'table-data': {
              pattern: RegExp(tableCell),
              inside: Prism.languages.markdown
            },
            'punctuation': /\|/
          }
        },
        'table-line': {
          pattern: RegExp('^(' + tableRow + ')' + tableLine + '$'),
          lookbehind: true,
          inside: {
            'punctuation': /\||:?-{3,}:?/
          }
        },
        'table-header-row': {
          pattern: RegExp('^' + tableRow + '$'),
          inside: {
            'table-header': {
              pattern: RegExp(tableCell),
              alias: 'important',
              inside: Prism.languages.markdown
            },
            'punctuation': /\|/
          }
        }
      }
    },
    'code': [{
      // Prefixed by 4 spaces or 1 tab and preceded by an empty line
      pattern: /(^[ \t]*(?:\r?\n|\r))(?: {4}|\t).+(?:(?:\r?\n|\r)(?: {4}|\t).+)*/m,
      lookbehind: true,
      alias: 'keyword'
    }, {
      // `code`
      // ``code``
      pattern: /``.+?``|`[^`\r\n]+`/,
      alias: 'keyword'
    }, {
      // ```optional language
      // code block
      // ```
      pattern: /^```[\s\S]*?^```$/m,
      greedy: true,
      inside: {
        'code-block': {
          pattern: /^(```.*(?:\r?\n|\r))[\s\S]+?(?=(?:\r?\n|\r)^```$)/m,
          lookbehind: true
        },
        'code-language': {
          pattern: /^(```).+/,
          lookbehind: true
        },
        'punctuation': /```/
      }
    }],
    'title': [{
      // title 1
      // =======
      // title 2
      // -------
      pattern: /\S.*(?:\r?\n|\r)(?:==+|--+)(?=[ \t]*$)/m,
      alias: 'important',
      inside: {
        punctuation: /==+$|--+$/
      }
    }, {
      // # title 1
      // ###### title 6
      pattern: /(^\s*)#+.+/m,
      lookbehind: true,
      alias: 'important',
      inside: {
        punctuation: /^#+|#+$/
      }
    }],
    'hr': {
      // ***
      // ---
      // * * *
      // -----------
      pattern: /(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,
      lookbehind: true,
      alias: 'punctuation'
    },
    'list': {
      // * item
      // + item
      // - item
      // 1. item
      pattern: /(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,
      lookbehind: true,
      alias: 'punctuation'
    },
    'url-reference': {
      // [id]: http://example.com "Optional title"
      // [id]: http://example.com 'Optional title'
      // [id]: http://example.com (Optional title)
      // [id]: <http://example.com> "Optional title"
      pattern: /!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,
      inside: {
        'variable': {
          pattern: /^(!?\[)[^\]]+/,
          lookbehind: true
        },
        'string': /(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,
        'punctuation': /^[\[\]!:]|[<>]/
      },
      alias: 'url'
    },
    'bold': {
      // **strong**
      // __strong__
      // allow one nested instance of italic text using the same delimiter
      pattern: createInline(/__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__/.source, true),
      lookbehind: true,
      greedy: true,
      inside: {
        'content': {
          pattern: /(^..)[\s\S]+(?=..$)/,
          lookbehind: true,
          inside: {} // see below

        },
        'punctuation': /\*\*|__/
      }
    },
    'italic': {
      // *em*
      // _em_
      // allow one nested instance of bold text using the same delimiter
      pattern: createInline(/_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_/.source, true),
      lookbehind: true,
      greedy: true,
      inside: {
        'content': {
          pattern: /(^.)[\s\S]+(?=.$)/,
          lookbehind: true,
          inside: {} // see below

        },
        'punctuation': /[*_]/
      }
    },
    'strike': {
      // ~~strike through~~
      // ~strike~
      pattern: createInline(/(~~?)(?:(?!~)<inner>)+?\2/.source, false),
      lookbehind: true,
      greedy: true,
      inside: {
        'content': {
          pattern: /(^~~?)[\s\S]+(?=\1$)/,
          lookbehind: true,
          inside: {} // see below

        },
        'punctuation': /~~?/
      }
    },
    'url': {
      // [example](http://example.com "Optional title")
      // [example][id]
      // [example] [id]
      pattern: createInline(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)| ?\[(?:(?!\])<inner>)+\])/.source, false),
      lookbehind: true,
      greedy: true,
      inside: {
        'variable': {
          pattern: /(\[)[^\]]+(?=\]$)/,
          lookbehind: true
        },
        'content': {
          pattern: /(^!?\[)[^\]]+(?=\])/,
          lookbehind: true,
          inside: {} // see below

        },
        'string': {
          pattern: /"(?:\\.|[^"\\])*"(?=\)$)/
        }
      }
    }
  });
  ['url', 'bold', 'italic', 'strike'].forEach(function (token) {
    ['url', 'bold', 'italic', 'strike'].forEach(function (inside) {
      if (token !== inside) {
        Prism.languages.markdown[token].inside.content.inside[inside] = Prism.languages.markdown[inside];
      }
    });
  });
  Prism.hooks.add('after-tokenize', function (env) {
    if (env.language !== 'markdown' && env.language !== 'md') {
      return;
    }

    function walkTokens(tokens) {
      if (!tokens || typeof tokens === 'string') {
        return;
      }

      for (var i = 0, l = tokens.length; i < l; i++) {
        var token = tokens[i];

        if (token.type !== 'code') {
          walkTokens(token.content);
          continue;
        }
        /*
         * Add the correct `language-xxxx` class to this code block. Keep in mind that the `code-language` token
         * is optional. But the grammar is defined so that there is only one case we have to handle:
         *
         * token.content = [
         *     <span class="punctuation">```</span>,
         *     <span class="code-language">xxxx</span>,
         *     '\n', // exactly one new lines (\r or \n or \r\n)
         *     <span class="code-block">...</span>,
         *     '\n', // exactly one new lines again
         *     <span class="punctuation">```</span>
         * ];
         */


        var codeLang = token.content[1];
        var codeBlock = token.content[3];

        if (codeLang && codeBlock && codeLang.type === 'code-language' && codeBlock.type === 'code-block' && typeof codeLang.content === 'string') {
          // this might be a language that Prism does not support
          var alias = 'language-' + codeLang.content.trim().split(/\s+/)[0].toLowerCase(); // add alias

          if (!codeBlock.alias) {
            codeBlock.alias = [alias];
          } else if (typeof codeBlock.alias === 'string') {
            codeBlock.alias = [codeBlock.alias, alias];
          } else {
            codeBlock.alias.push(alias);
          }
        }
      }
    }

    walkTokens(env.tokens);
  });
  Prism.hooks.add('wrap', function (env) {
    if (env.type !== 'code-block') {
      return;
    }

    var codeLang = '';

    for (var i = 0, l = env.classes.length; i < l; i++) {
      var cls = env.classes[i];
      var match = /language-(.+)/.exec(cls);

      if (match) {
        codeLang = match[1];
        break;
      }
    }

    var grammar = Prism.languages[codeLang];

    if (!grammar) {
      if (codeLang && codeLang !== 'none' && Prism.plugins.autoloader) {
        var id = 'md-' + new Date().valueOf() + '-' + Math.floor(Math.random() * 1e16);
        env.attributes['id'] = id;
        Prism.plugins.autoloader.loadLanguages(codeLang, function () {
          var ele = document.getElementById(id);

          if (ele) {
            ele.innerHTML = Prism.highlight(ele.textContent, Prism.languages[codeLang], codeLang);
          }
        });
      }
    } else {
      // reverse Prism.util.encode
      var code = env.content.replace(/&lt;/g, '<').replace(/&amp;/g, '&');
      env.content = Prism.highlight(code, grammar, codeLang);
    }
  });
  Prism.languages.md = Prism.languages.markdown;
})(Prism);
/* "prismjs/components/prism-diff" */


(function (Prism) {
  Prism.languages.diff = {
    'coord': [// Match all kinds of coord lines (prefixed by "+++", "---" or "***").
    /^(?:\*{3}|-{3}|\+{3}).*$/m, // Match "@@ ... @@" coord lines in unified diff.
    /^@@.*@@$/m, // Match coord lines in normal diff (starts with a number).
    /^\d+.*$/m] // deleted, inserted, unchanged, diff

  };
  /**
   * A map from the name of a block to its line prefix.
   *
   * @type {Object<string, string>}
   */

  var PREFIXES = {
    'deleted-sign': '-',
    'deleted-arrow': '<',
    'inserted-sign': '+',
    'inserted-arrow': '>',
    'unchanged': ' ',
    'diff': '!'
  }; // add a token for each prefix

  Object.keys(PREFIXES).forEach(function (name) {
    var prefix = PREFIXES[name];
    var alias = [];

    if (!/^\w+$/.test(name)) {
      // "deleted-sign" -> "deleted"
      alias.push(/\w+/.exec(name)[0]);
    }

    if (name === "diff") {
      alias.push("bold");
    }

    Prism.languages.diff[name] = {
      // pattern: /^(?:[_].*(?:\r\n?|\n|(?![\s\S])))+/m
      pattern: RegExp('^(?:[' + prefix + '].*(?:\r\n?|\n|(?![\\s\\S])))+', 'm'),
      alias: alias
    };
  }); // make prefixes available to Diff plugin

  Object.defineProperty(Prism.languages.diff, 'PREFIXES', {
    value: PREFIXES
  });
})(Prism);
/* "prismjs/components/prism-git" */


Prism.languages.git = {
  /*
   * A simple one line comment like in a git status command
   * For instance:
   * $ git status
   * # On branch infinite-scroll
   * # Your branch and 'origin/sharedBranches/frontendTeam/infinite-scroll' have diverged,
   * # and have 1 and 2 different commits each, respectively.
   * nothing to commit (working directory clean)
   */
  'comment': /^#.*/m,

  /*
   * Regexp to match the changed lines in a git diff output. Check the example below.
   */
  'deleted': /^[-–].*/m,
  'inserted': /^\+.*/m,

  /*
   * a string (double and simple quote)
   */
  'string': /("|')(?:\\.|(?!\1)[^\\\r\n])*\1/m,

  /*
   * a git command. It starts with a random prompt finishing by a $, then "git" then some other parameters
   * For instance:
   * $ git add file.txt
   */
  'command': {
    pattern: /^.*\$ git .*$/m,
    inside: {
      /*
       * A git command can contain a parameter starting by a single or a double dash followed by a string
       * For instance:
       * $ git diff --cached
       * $ git log -p
       */
      'parameter': /\s--?\w+/m
    }
  },

  /*
   * Coordinates displayed in a git diff command
   * For instance:
   * $ git diff
   * diff --git file.txt file.txt
   * index 6214953..1d54a52 100644
   * --- file.txt
   * +++ file.txt
   * @@ -1 +1,2 @@
   * -Here's my tetx file
   * +Here's my text file
   * +And this is the second line
   */
  'coord': /^@@.*@@$/m,

  /*
   * Match a "commit [SHA1]" line in a git log output.
   * For instance:
   * $ git log
   * commit a11a14ef7e26f2ca62d4b35eac455ce636d0dc09
   * Author: lgiraudel
   * Date:   Mon Feb 17 11:18:34 2014 +0100
   *
   *     Add of a new line
   */
  'commit_sha1': /^commit \w{40}$/m
};
/* "prismjs/components/prism-go" */

Prism.languages.go = Prism.languages.extend('clike', {
  'keyword': /\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,
  'builtin': /\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/,
  'boolean': /\b(?:_|iota|nil|true|false)\b/,
  'operator': /[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,
  'number': /(?:\b0x[a-f\d]+|(?:\b\d+\.?\d*|\B\.\d+)(?:e[-+]?\d+)?)i?/i,
  'string': {
    pattern: /(["'`])(\\[\s\S]|(?!\1)[^\\])*\1/,
    greedy: true
  }
});
delete Prism.languages.go['class-name'];
/* "prismjs/components/prism-handlebars" */

(function (Prism) {
  Prism.languages.handlebars = {
    'comment': /\{\{![\s\S]*?\}\}/,
    'delimiter': {
      pattern: /^\{\{\{?|\}\}\}?$/i,
      alias: 'punctuation'
    },
    'string': /(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,
    'number': /\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,
    'boolean': /\b(?:true|false)\b/,
    'block': {
      pattern: /^(\s*~?\s*)[#\/]\S+?(?=\s*~?\s*$|\s)/i,
      lookbehind: true,
      alias: 'keyword'
    },
    'brackets': {
      pattern: /\[[^\]]+\]/,
      inside: {
        punctuation: /\[|\]/,
        variable: /[\s\S]+/
      }
    },
    'punctuation': /[!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~]/,
    'variable': /[^!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~\s]+/
  };
  Prism.hooks.add('before-tokenize', function (env) {
    var handlebarsPattern = /\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;
    Prism.languages['markup-templating'].buildPlaceholders(env, 'handlebars', handlebarsPattern);
  });
  Prism.hooks.add('after-tokenize', function (env) {
    Prism.languages['markup-templating'].tokenizePlaceholders(env, 'handlebars');
  });
})(Prism);
/* "prismjs/components/prism-json" */


Prism.languages.json = {
  'property': {
    pattern: /"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,
    greedy: true
  },
  'string': {
    pattern: /"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
    greedy: true
  },
  'comment': /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,
  'number': /-?\d+\.?\d*(e[+-]?\d+)?/i,
  'punctuation': /[{}[\],]/,
  'operator': /:/,
  'boolean': /\b(?:true|false)\b/,
  'null': {
    pattern: /\bnull\b/,
    alias: 'keyword'
  }
};
/* "prismjs/components/prism-less" */

/* FIXME :
 :extend() is not handled specifically : its highlighting is buggy.
 Mixin usage must be inside a ruleset to be highlighted.
 At-rules (e.g. import) containing interpolations are buggy.
 Detached rulesets are highlighted as at-rules.
 A comment before a mixin usage prevents the latter to be properly highlighted.
 */

Prism.languages.less = Prism.languages.extend('css', {
  'comment': [/\/\*[\s\S]*?\*\//, {
    pattern: /(^|[^\\])\/\/.*/,
    lookbehind: true
  }],
  'atrule': {
    pattern: /@[\w-]+?(?:\([^{}]+\)|[^(){};])*?(?=\s*\{)/i,
    inside: {
      'punctuation': /[:()]/
    }
  },
  // selectors and mixins are considered the same
  'selector': {
    pattern: /(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\([^{}]*\)|[^{};@])*?(?=\s*\{)/,
    inside: {
      // mixin parameters
      'variable': /@+[\w-]+/
    }
  },
  'property': /(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/i,
  'operator': /[+\-*\/]/
});
Prism.languages.insertBefore('less', 'property', {
  'variable': [// Variable declaration (the colon must be consumed!)
  {
    pattern: /@[\w-]+\s*:/,
    inside: {
      "punctuation": /:/
    }
  }, // Variable usage
  /@@?[\w-]+/],
  'mixin-usage': {
    pattern: /([{;]\s*)[.#](?!\d)[\w-]+.*?(?=[(;])/,
    lookbehind: true,
    alias: 'function'
  }
});
/* "prismjs/components/prism-makefile" */

Prism.languages.makefile = {
  'comment': {
    pattern: /(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,
    lookbehind: true
  },
  'string': {
    pattern: /(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,
    greedy: true
  },
  // Built-in target names
  'builtin': /\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,
  // Targets
  'symbol': {
    pattern: /^[^:=\r\n]+(?=\s*:(?!=))/m,
    inside: {
      'variable': /\$+(?:[^(){}:#=\s]+|(?=[({]))/
    }
  },
  'variable': /\$+(?:[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,
  'keyword': [// Directives
  /-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/, // Functions
  {
    pattern: /(\()(?:addsuffix|abspath|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:s|list)?)(?=[ \t])/,
    lookbehind: true
  }],
  'operator': /(?:::|[?:+!])?=|[|@]/,
  'punctuation': /[:;(){}]/
};
/* "prismjs/components/prism-objectivec" */

Prism.languages.objectivec = Prism.languages.extend('c', {
  'keyword': /\b(?:asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while|in|self|super)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,
  'string': /("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|@"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,
  'operator': /-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/
});
delete Prism.languages.objectivec['class-name'];
/* "prismjs/components/prism-ocaml" */

Prism.languages.ocaml = {
  'comment': /\(\*[\s\S]*?\*\)/,
  'string': [{
    pattern: /"(?:\\.|[^\\\r\n"])*"/,
    greedy: true
  }, {
    pattern: /(['`])(?:\\(?:\d+|x[\da-f]+|.)|(?!\1)[^\\\r\n])\1/i,
    greedy: true
  }],
  'number': /\b(?:0x[\da-f][\da-f_]+|(?:0[bo])?\d[\d_]*\.?[\d_]*(?:e[+-]?[\d_]+)?)/i,
  'type': {
    pattern: /\B['`]\w*/,
    alias: 'variable'
  },
  'directive': {
    pattern: /\B#\w+/,
    alias: 'function'
  },
  'keyword': /\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|object|of|open|prefix|private|rec|then|sig|struct|to|try|type|val|value|virtual|where|while|with)\b/,
  'boolean': /\b(?:false|true)\b/,
  // Custom operators are allowed
  'operator': /:=|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lxor|lsl|lsr|mod|nor|or)\b/,
  'punctuation': /[(){}\[\]|_.,:;]/
};
/* "prismjs/components/prism-python" */

Prism.languages.python = {
  'comment': {
    pattern: /(^|[^\\])#.*/,
    lookbehind: true
  },
  'string-interpolation': {
    pattern: /(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,
    greedy: true,
    inside: {
      'interpolation': {
        // "{" <expression> <optional "!s", "!r", or "!a"> <optional ":" format specifier> "}"
        pattern: /((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,
        lookbehind: true,
        inside: {
          'format-spec': {
            pattern: /(:)[^:(){}]+(?=}$)/,
            lookbehind: true
          },
          'conversion-option': {
            pattern: /![sra](?=[:}]$)/,
            alias: 'punctuation'
          },
          rest: null
        }
      },
      'string': /[\s\S]+/
    }
  },
  'triple-quoted-string': {
    pattern: /(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,
    greedy: true,
    alias: 'string'
  },
  'string': {
    pattern: /(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,
    greedy: true
  },
  'function': {
    pattern: /((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,
    lookbehind: true
  },
  'class-name': {
    pattern: /(\bclass\s+)\w+/i,
    lookbehind: true
  },
  'decorator': {
    pattern: /(^\s*)@\w+(?:\.\w+)*/i,
    lookbehind: true,
    alias: ['annotation', 'punctuation'],
    inside: {
      'punctuation': /\./
    }
  },
  'keyword': /\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,
  'builtin': /\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,
  'boolean': /\b(?:True|False|None)\b/,
  'number': /(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,
  'operator': /[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,
  'punctuation': /[{}[\];(),.:]/
};
Prism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;
Prism.languages.py = Prism.languages.python;
/* "prismjs/components/prism-reason" */

Prism.languages.reason = Prism.languages.extend('clike', {
  'comment': {
    pattern: /(^|[^\\])\/\*[\s\S]*?\*\//,
    lookbehind: true
  },
  'string': {
    pattern: /"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,
    greedy: true
  },
  // 'class-name' must be matched *after* 'constructor' defined below
  'class-name': /\b[A-Z]\w*/,
  'keyword': /\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,
  'operator': /\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:mod|land|lor|lxor|lsl|lsr|asr)\b/
});
Prism.languages.insertBefore('reason', 'class-name', {
  'character': {
    pattern: /'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,
    alias: 'string'
  },
  'constructor': {
    // Negative look-ahead prevents from matching things like String.capitalize
    pattern: /\b[A-Z]\w*\b(?!\s*\.)/,
    alias: 'variable'
  },
  'label': {
    pattern: /\b[a-z]\w*(?=::)/,
    alias: 'symbol'
  }
}); // We can't match functions property, so let's not even try.

delete Prism.languages.reason.function;
/* "prismjs/components/prism-sass" */

(function (Prism) {
  Prism.languages.sass = Prism.languages.extend('css', {
    // Sass comments don't need to be closed, only indented
    'comment': {
      pattern: /^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t]+.+)*/m,
      lookbehind: true
    }
  });
  Prism.languages.insertBefore('sass', 'atrule', {
    // We want to consume the whole line
    'atrule-line': {
      // Includes support for = and + shortcuts
      pattern: /^(?:[ \t]*)[@+=].+/m,
      inside: {
        'atrule': /(?:@[\w-]+|[+=])/m
      }
    }
  });
  delete Prism.languages.sass.atrule;
  var variable = /\$[-\w]+|#\{\$[-\w]+\}/;
  var operator = [/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|or|not)\b/, {
    pattern: /(\s+)-(?=\s)/,
    lookbehind: true
  }];
  Prism.languages.insertBefore('sass', 'property', {
    // We want to consume the whole line
    'variable-line': {
      pattern: /^[ \t]*\$.+/m,
      inside: {
        'punctuation': /:/,
        'variable': variable,
        'operator': operator
      }
    },
    // We want to consume the whole line
    'property-line': {
      pattern: /^[ \t]*(?:[^:\s]+ *:.*|:[^:\s]+.*)/m,
      inside: {
        'property': [/[^:\s]+(?=\s*:)/, {
          pattern: /(:)[^:\s]+/,
          lookbehind: true
        }],
        'punctuation': /:/,
        'variable': variable,
        'operator': operator,
        'important': Prism.languages.sass.important
      }
    }
  });
  delete Prism.languages.sass.property;
  delete Prism.languages.sass.important; // Now that whole lines for other patterns are consumed,
  // what's left should be selectors

  Prism.languages.insertBefore('sass', 'punctuation', {
    'selector': {
      pattern: /([ \t]*)\S(?:,?[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,?[^,\r\n]+)*)*/,
      lookbehind: true
    }
  });
})(Prism);
/* "prismjs/components/prism-scss" */


Prism.languages.scss = Prism.languages.extend('css', {
  'comment': {
    pattern: /(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,
    lookbehind: true
  },
  'atrule': {
    pattern: /@[\w-]+(?:\([^()]+\)|[^(])*?(?=\s+[{;])/,
    inside: {
      'rule': /@[\w-]+/ // See rest below

    }
  },
  // url, compassified
  'url': /(?:[-a-z]+-)?url(?=\()/i,
  // CSS selector regex is not appropriate for Sass
  // since there can be lot more things (var, @ directive, nesting..)
  // a selector must start at the end of a property or after a brace (end of other rules or nesting)
  // it can contain some characters that aren't used for defining rules or end of selector, & (parent selector), or interpolated variable
  // the end of a selector is found when there is no rules in it ( {} or {\s}) or if there is a property (because an interpolated var
  // can "pass" as a selector- e.g: proper#{$erty})
  // this one was hard to do, so please be careful if you edit this one :)
  'selector': {
    // Initial look-ahead is used to prevent matching of blank selectors
    pattern: /(?=\S)[^@;{}()]?(?:[^@;{}()]|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}]+[:{][^}]+))/m,
    inside: {
      'parent': {
        pattern: /&/,
        alias: 'important'
      },
      'placeholder': /%[-\w]+/,
      'variable': /\$[-\w]+|#\{\$[-\w]+\}/
    }
  },
  'property': {
    pattern: /(?:[\w-]|\$[-\w]+|#\{\$[-\w]+\})+(?=\s*:)/,
    inside: {
      'variable': /\$[-\w]+|#\{\$[-\w]+\}/
    }
  }
});
Prism.languages.insertBefore('scss', 'atrule', {
  'keyword': [/@(?:if|else(?: if)?|for|each|while|import|extend|debug|warn|mixin|include|function|return|content)/i, {
    pattern: /( +)(?:from|through)(?= )/,
    lookbehind: true
  }]
});
Prism.languages.insertBefore('scss', 'important', {
  // var and interpolated vars
  'variable': /\$[-\w]+|#\{\$[-\w]+\}/
});
Prism.languages.insertBefore('scss', 'function', {
  'placeholder': {
    pattern: /%[-\w]+/,
    alias: 'selector'
  },
  'statement': {
    pattern: /\B!(?:default|optional)\b/i,
    alias: 'keyword'
  },
  'boolean': /\b(?:true|false)\b/,
  'null': {
    pattern: /\bnull\b/,
    alias: 'keyword'
  },
  'operator': {
    pattern: /(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,
    lookbehind: true
  }
});
Prism.languages.scss['atrule'].inside.rest = Prism.languages.scss;
/* "prismjs/components/prism-sql" */

Prism.languages.sql = {
  'comment': {
    pattern: /(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,
    lookbehind: true
  },
  'variable': [{
    pattern: /@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,
    greedy: true
  }, /@[\w.$]+/],
  'string': {
    pattern: /(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,
    greedy: true,
    lookbehind: true
  },
  'function': /\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,
  // Should we highlight user defined functions too?
  'keyword': /\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURNS?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,
  'boolean': /\b(?:TRUE|FALSE|NULL)\b/i,
  'number': /\b0x[\da-f]+\b|\b\d+\.?\d*|\B\.\d+\b/i,
  'operator': /[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,
  'punctuation': /[;[\]()`,.]/
};
/* "prismjs/components/prism-stylus" */

(function (Prism) {
  var inside = {
    'url': /url\((["']?).*?\1\)/i,
    'string': {
      pattern: /("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,
      greedy: true
    },
    'interpolation': null,
    // See below
    'func': null,
    // See below
    'important': /\B!(?:important|optional)\b/i,
    'keyword': {
      pattern: /(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,
      lookbehind: true
    },
    'hexcode': /#[\da-f]{3,6}/i,
    'number': /\b\d+(?:\.\d+)?%?/,
    'boolean': /\b(?:true|false)\b/,
    'operator': [// We want non-word chars around "-" because it is
    // accepted in property names.
    /~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.+|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],
    'punctuation': /[{}()\[\];:,]/
  };
  inside['interpolation'] = {
    pattern: /\{[^\r\n}:]+\}/,
    alias: 'variable',
    inside: {
      'delimiter': {
        pattern: /^{|}$/,
        alias: 'punctuation'
      },
      rest: inside
    }
  };
  inside['func'] = {
    pattern: /[\w-]+\([^)]*\).*/,
    inside: {
      'function': /^[^(]+/,
      rest: inside
    }
  };
  Prism.languages.stylus = {
    'comment': {
      pattern: /(^|[^\\])(\/\*[\s\S]*?\*\/|\/\/.*)/,
      lookbehind: true
    },
    'atrule-declaration': {
      pattern: /(^\s*)@.+/m,
      lookbehind: true,
      inside: {
        'atrule': /^@[\w-]+/,
        rest: inside
      }
    },
    'variable-declaration': {
      pattern: /(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:(?:\{[^}]*\}|.+)|$)/m,
      lookbehind: true,
      inside: {
        'variable': /^\S+/,
        rest: inside
      }
    },
    'statement': {
      pattern: /(^[ \t]*)(?:if|else|for|return|unless)[ \t]+.+/m,
      lookbehind: true,
      inside: {
        keyword: /^\S+/,
        rest: inside
      }
    },
    // A property/value pair cannot end with a comma or a brace
    // It cannot have indented content unless it ended with a semicolon
    'property-declaration': {
      pattern: /((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(\r?\n|\r)(?:\{|\2[ \t]+)))/m,
      lookbehind: true,
      inside: {
        'property': {
          pattern: /^[^\s:]+/,
          inside: {
            'interpolation': inside.interpolation
          }
        },
        rest: inside
      }
    },
    // A selector can contain parentheses only as part of a pseudo-element
    // It can span multiple lines.
    // It must end with a comma or an accolade or have indented content.
    'selector': {
      pattern: /(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,
      lookbehind: true,
      inside: {
        'interpolation': inside.interpolation,
        'punctuation': /[{},]/
      }
    },
    'func': inside.func,
    'string': inside.string,
    'interpolation': inside.interpolation,
    'punctuation': /[{}()\[\];:.]/
  };
})(Prism);
/* "prismjs/components/prism-tsx" */


var typescript = Prism.util.clone(Prism.languages.typescript);
Prism.languages.tsx = Prism.languages.extend('jsx', typescript);
/* "prismjs/components/prism-wasm" */

Prism.languages.wasm = {
  'comment': [/\(;[\s\S]*?;\)/, {
    pattern: /;;.*/,
    greedy: true
  }],
  'string': {
    pattern: /"(?:\\[\s\S]|[^"\\])*"/,
    greedy: true
  },
  'keyword': [{
    pattern: /\b(?:align|offset)=/,
    inside: {
      'operator': /=/
    }
  }, {
    pattern: /\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,
    inside: {
      'punctuation': /\./
    }
  }, /\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],
  'variable': /\$[\w!#$%&'*+\-./:<=>?@\\^_`|~]+/i,
  'number': /[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,
  'punctuation': /[()]/
};
/* "prismjs/components/prism-yaml" */

Prism.languages.yaml = {
  'scalar': {
    pattern: /([\-:]\s*(?:![^\s]+)?[ \t]*[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)[^\r\n]+(?:\2[^\r\n]+)*)/,
    lookbehind: true,
    alias: 'string'
  },
  'comment': /#.*/,
  'key': {
    pattern: /(\s*(?:^|[:\-,[{\r\n?])[ \t]*(?:![^\s]+)?[ \t]*)[^\r\n{[\]},#\s]+?(?=\s*:\s)/,
    lookbehind: true,
    alias: 'atrule'
  },
  'directive': {
    pattern: /(^[ \t]*)%.+/m,
    lookbehind: true,
    alias: 'important'
  },
  'datetime': {
    pattern: /([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?)?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?)(?=[ \t]*(?:$|,|]|}))/m,
    lookbehind: true,
    alias: 'number'
  },
  'boolean': {
    pattern: /([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:true|false)[ \t]*(?=$|,|]|})/im,
    lookbehind: true,
    alias: 'important'
  },
  'null': {
    pattern: /([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:null|~)[ \t]*(?=$|,|]|})/im,
    lookbehind: true,
    alias: 'important'
  },
  'string': {
    pattern: /([:\-,[{]\s*(?:![^\s]+)?[ \t]*)("|')(?:(?!\2)[^\\\r\n]|\\.)*\2(?=[ \t]*(?:$|,|]|}|\s*#))/m,
    lookbehind: true,
    greedy: true
  },
  'number': {
    pattern: /([:\-,[{]\s*(?:![^\s]+)?[ \t]*)[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+\.?\d*|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)[ \t]*(?=$|,|]|})/im,
    lookbehind: true
  },
  'tag': /![^\s]+/,
  'important': /[&*][\w]+/,
  'punctuation': /---|[:[\]{}\-,|>?]|\.\.\./
};
Prism.languages.yml = Prism.languages.yaml;

/* harmony default export */ const prism = (Prism);

;// CONCATENATED MODULE: ./node_modules/prism-react-renderer/themes/duotoneDark/index.js
// Duotone Dark
// Author: Simurai, adapted from DuoTone themes for Atom (http://simurai.com/projects/2016/01/01/duotone-themes)
// Conversion: Bram de Haan (http://atelierbram.github.io/Base2Tone-prism/output/prism/prism-base2tone-evening-dark.css)
// Generated with Base16 Builder (https://github.com/base16-builder/base16-builder)
var theme = {
  plain: {
    backgroundColor: "#2a2734",
    color: "#9a86fd"
  },
  styles: [{
    types: ["comment", "prolog", "doctype", "cdata", "punctuation"],
    style: {
      color: "#6c6783"
    }
  }, {
    types: ["namespace"],
    style: {
      opacity: 0.7
    }
  }, {
    types: ["tag", "operator", "number"],
    style: {
      color: "#e09142"
    }
  }, {
    types: ["property", "function"],
    style: {
      color: "#9a86fd"
    }
  }, {
    types: ["tag-id", "selector", "atrule-id"],
    style: {
      color: "#eeebff"
    }
  }, {
    types: ["attr-name"],
    style: {
      color: "#c4b9fe"
    }
  }, {
    types: ["boolean", "string", "entity", "url", "attr-value", "keyword", "control", "directive", "unit", "statement", "regex", "at-rule", "placeholder", "variable"],
    style: {
      color: "#ffcc99"
    }
  }, {
    types: ["deleted"],
    style: {
      textDecorationLine: "line-through"
    }
  }, {
    types: ["inserted"],
    style: {
      textDecorationLine: "underline"
    }
  }, {
    types: ["italic"],
    style: {
      fontStyle: "italic"
    }
  }, {
    types: ["important", "bold"],
    style: {
      fontWeight: "bold"
    }
  }, {
    types: ["important"],
    style: {
      color: "#c4b9fe"
    }
  }]
};

/* harmony default export */ const duotoneDark = (theme);

;// CONCATENATED MODULE: ./node_modules/prism-react-renderer/dist/index.js





var defaultProps = {
  // $FlowFixMe
  Prism: prism,
  theme: duotoneDark
};

function dist_defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function dist_extends() {
  dist_extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return dist_extends.apply(this, arguments);
}

var newlineRe = /\r\n|\r|\n/; // Empty lines need to contain a single empty token, denoted with { empty: true }

var normalizeEmptyLines = function (line) {
  if (line.length === 0) {
    line.push({
      types: ["plain"],
      content: "",
      empty: true
    });
  } else if (line.length === 1 && line[0].content === "") {
    line[0].empty = true;
  }
};

var appendTypes = function (types, add) {
  var typesSize = types.length;

  if (typesSize > 0 && types[typesSize - 1] === add) {
    return types;
  }

  return types.concat(add);
}; // Takes an array of Prism's tokens and groups them by line, turning plain
// strings into tokens as well. Tokens can become recursive in some cases,
// which means that their types are concatenated. Plain-string tokens however
// are always of type "plain".
// This is not recursive to avoid exceeding the call-stack limit, since it's unclear
// how nested Prism's tokens can become


var normalizeTokens = function (tokens) {
  var typeArrStack = [[]];
  var tokenArrStack = [tokens];
  var tokenArrIndexStack = [0];
  var tokenArrSizeStack = [tokens.length];
  var i = 0;
  var stackIndex = 0;
  var currentLine = [];
  var acc = [currentLine];

  while (stackIndex > -1) {
    while ((i = tokenArrIndexStack[stackIndex]++) < tokenArrSizeStack[stackIndex]) {
      var content = void 0;
      var types = typeArrStack[stackIndex];
      var tokenArr = tokenArrStack[stackIndex];
      var token = tokenArr[i]; // Determine content and append type to types if necessary

      if (typeof token === "string") {
        types = stackIndex > 0 ? types : ["plain"];
        content = token;
      } else {
        types = appendTypes(types, token.type);

        if (token.alias) {
          types = appendTypes(types, token.alias);
        }

        content = token.content;
      } // If token.content is an array, increase the stack depth and repeat this while-loop


      if (typeof content !== "string") {
        stackIndex++;
        typeArrStack.push(types);
        tokenArrStack.push(content);
        tokenArrIndexStack.push(0);
        tokenArrSizeStack.push(content.length);
        continue;
      } // Split by newlines


      var splitByNewlines = content.split(newlineRe);
      var newlineCount = splitByNewlines.length;
      currentLine.push({
        types: types,
        content: splitByNewlines[0]
      }); // Create a new line for each string on a new line

      for (var i$1 = 1; i$1 < newlineCount; i$1++) {
        normalizeEmptyLines(currentLine);
        acc.push(currentLine = []);
        currentLine.push({
          types: types,
          content: splitByNewlines[i$1]
        });
      }
    } // Decreate the stack depth


    stackIndex--;
    typeArrStack.pop();
    tokenArrStack.pop();
    tokenArrIndexStack.pop();
    tokenArrSizeStack.pop();
  }

  normalizeEmptyLines(currentLine);
  return acc;
};

var themeToDict = function (theme, language) {
  var plain = theme.plain; // $FlowFixMe

  var base = Object.create(null);
  var themeDict = theme.styles.reduce(function (acc, themeEntry) {
    var languages = themeEntry.languages;
    var style = themeEntry.style;

    if (languages && !languages.includes(language)) {
      return acc;
    }

    themeEntry.types.forEach(function (type) {
      // $FlowFixMe
      var accStyle = dist_extends({}, acc[type], style);

      acc[type] = accStyle;
    });
    return acc;
  }, base); // $FlowFixMe

  themeDict.root = plain; // $FlowFixMe

  themeDict.plain = dist_extends({}, plain, {
    backgroundColor: null
  });
  return themeDict;
};

function objectWithoutProperties(obj, exclude) {
  var target = {};

  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k];

  return target;
}

var Highlight =
/*@__PURE__*/
function (Component) {
  function Highlight() {
    var this$1 = this;
    var args = [],
        len = arguments.length;

    while (len--) args[len] = arguments[len];

    Component.apply(this, args);

    dist_defineProperty(this, "getThemeDict", function (props) {
      if (this$1.themeDict !== undefined && props.theme === this$1.prevTheme && props.language === this$1.prevLanguage) {
        return this$1.themeDict;
      }

      this$1.prevTheme = props.theme;
      this$1.prevLanguage = props.language;
      var themeDict = props.theme ? themeToDict(props.theme, props.language) : undefined;
      return this$1.themeDict = themeDict;
    });

    dist_defineProperty(this, "getLineProps", function (ref) {
      var key = ref.key;
      var className = ref.className;
      var style = ref.style;
      var rest$1 = objectWithoutProperties(ref, ["key", "className", "style", "line"]);
      var rest = rest$1;

      var output = dist_extends({}, rest, {
        className: "token-line",
        style: undefined,
        key: undefined
      });

      var themeDict = this$1.getThemeDict(this$1.props);

      if (themeDict !== undefined) {
        output.style = themeDict.plain;
      }

      if (style !== undefined) {
        output.style = output.style !== undefined ? dist_extends({}, output.style, style) : style;
      }

      if (key !== undefined) {
        output.key = key;
      }

      if (className) {
        output.className += " " + className;
      }

      return output;
    });

    dist_defineProperty(this, "getStyleForToken", function (ref) {
      var types = ref.types;
      var empty = ref.empty;
      var typesSize = types.length;
      var themeDict = this$1.getThemeDict(this$1.props);

      if (themeDict === undefined) {
        return undefined;
      } else if (typesSize === 1 && types[0] === "plain") {
        return empty ? {
          display: "inline-block"
        } : undefined;
      } else if (typesSize === 1 && !empty) {
        return themeDict[types[0]];
      }

      var baseStyle = empty ? {
        display: "inline-block"
      } : {}; // $FlowFixMe

      var typeStyles = types.map(function (type) {
        return themeDict[type];
      });
      return Object.assign.apply(Object, [baseStyle].concat(typeStyles));
    });

    dist_defineProperty(this, "getTokenProps", function (ref) {
      var key = ref.key;
      var className = ref.className;
      var style = ref.style;
      var token = ref.token;
      var rest$1 = objectWithoutProperties(ref, ["key", "className", "style", "token"]);
      var rest = rest$1;

      var output = dist_extends({}, rest, {
        className: "token " + token.types.join(" "),
        children: token.content,
        style: this$1.getStyleForToken(token),
        key: undefined
      });

      if (style !== undefined) {
        output.style = output.style !== undefined ? dist_extends({}, output.style, style) : style;
      }

      if (key !== undefined) {
        output.key = key;
      }

      if (className) {
        output.className += " " + className;
      }

      return output;
    });
  }

  if (Component) Highlight.__proto__ = Component;
  Highlight.prototype = Object.create(Component && Component.prototype);
  Highlight.prototype.constructor = Highlight;

  Highlight.prototype.render = function render() {
    var ref = this.props;
    var Prism = ref.Prism;
    var language = ref.language;
    var code = ref.code;
    var children = ref.children;
    var themeDict = this.getThemeDict(this.props);
    var grammar = Prism.languages[language];
    var mixedTokens = grammar !== undefined ? Prism.tokenize(code, grammar, language) : [code];
    var tokens = normalizeTokens(mixedTokens);
    return children({
      tokens: tokens,
      className: "prism-code language-" + language,
      style: themeDict !== undefined ? themeDict.root : {},
      getLineProps: this.getLineProps,
      getTokenProps: this.getTokenProps
    });
  };

  return Highlight;
}(react.Component);

/* harmony default export */ const dist = (Highlight);


;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowDownWhite/images/arrowDownWhite.png
const arrowDownWhite_namespaceObject = __webpack_require__.p + "assets/arrowDownWhite-55034.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowDownWhite/IconArrowDownWhite.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowDownWhite = ({"iconArrowDownWhite":"ayLXu"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowDownWhite/IconArrowDownWhite.tsx




const IconArrowDownWhite_IconArrowDownWhite = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconArrowDownWhite.iconArrowDownWhite,
  src: arrowDownWhite_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowUpWhite/images/arrowUpWhite.png
const arrowUpWhite_namespaceObject = __webpack_require__.p + "assets/arrowUpWhite-2c2b7.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowUpWhite/IconArrowUpWhite.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconArrowUpWhite = ({"iconArrowUpWhite":"wXcBf"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconArrowUpWhite/IconArrowUpWhite.tsx




const IconArrowUpWhite_IconArrowUpWhite = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconArrowUpWhite.iconArrowUpWhite,
  src: arrowUpWhite_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/CodeBlock/CodeBlock.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const CodeBlock = ({"container":"L0A5L","collapsed":"fYh6A","expanded":"J8B3Z","focused":"fPGLd","codeBlock":"JEiVh","codeBlockBrowserOnly":"GBcuN","noHighlight":"w81yt","block":"DzYdC","copyWholeLine":"I9Ae8","showMoreLabel":"e4IV9","tint":"nNqbK"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/CodeBlock/CodeBlock.tsx
function CodeBlock_extends() { CodeBlock_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return CodeBlock_extends.apply(this, arguments); }









const IS_HIGHLIGHT_SUPPORTED =  false || "gameface" === 'cef';
const COLLAPSE_THRESHOLD = 16;
function CodeBlock_CodeBlock({
  children,
  language,
  collapsable: collapsableProp = false
}) {
  const source = (0,react.useMemo)(() => children.split('\n').filter((s, i, a) => s.length > 0 || i !== a.length - 1 && i !== 0) // Remove outer empty lines
  .map(s => s[0] === '\t' ? s.substr(1) : s) // Outdent the code if indented
  .join('\n'), [children]);
  const collapsable = collapsableProp && source.split('\n').length > COLLAPSE_THRESHOLD;
  const [collapsed, setCollapsed] = (0,react.useState)(collapsable);
  const isLastInputPointer = (0,react_facet_src.useFacetUnwrap)(useIsLastInputPointer()) === true;
  /**
   * Toggle the code block expanding.
   *
   * Expandable by any input method. Collapsable by focus input only.
   * This is to enable selecting code with pointer input.
   */

  const toggle = () => {
    if (!collapsable) return;
    if (isLastInputPointer && !collapsed) return;
    setCollapsed(!collapsed);
  };

  const tokenClassname = classnames_default()(CodeBlock.block, {
    [CodeBlock.copyWholeLine]: language === 'bash'
  });
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    narrationText: 'Source code example',
    className: classnames_default()(CodeBlock.container, {
      [CodeBlock.collapsed]: collapsed,
      [CodeBlock.expanded]: !collapsed
    }),
    classNameHovered: '' // We don't want hovered state here, so to not distract a user from selecting the code.
    ,
    classNameFocused: CodeBlock.focused,
    gamepadIndex: 9999 // This index should be high to CodeBlock be focusable last of the Examples children.
    ,
    inputLegend: collapsed ? 'Expand' : 'Collapse',
    disabled: !collapsable,
    onClick: toggle
  }, IS_HIGHLIGHT_SUPPORTED && language ? /*#__PURE__*/react.createElement(dist, CodeBlock_extends({}, defaultProps, {
    code: source,
    language: language
  }), ({
    className,
    style,
    tokens,
    getLineProps,
    getTokenProps
  }) => /*#__PURE__*/react.createElement("pre", {
    className: classnames_default()(className, CodeBlock.codeBlock, {
      [CodeBlock.codeBlockBrowserOnly]: "gameface" === 'browser'
    }),
    style: style
  }, tokens.map((line, i) => /*#__PURE__*/react.createElement("div", CodeBlock_extends({
    key: i
  }, getLineProps({
    line,
    key: i,
    className: tokenClassname
  })), line.map((token, key) => /*#__PURE__*/react.createElement("span", CodeBlock_extends({
    key: key
  }, getTokenProps({
    token,
    key
  })))))))) : /*#__PURE__*/react.createElement(NoHighlight, null, source), collapsable && (collapsed ? /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    className: CodeBlock.tint
  }), /*#__PURE__*/react.createElement("div", {
    className: CodeBlock.showMoreLabel
  }, /*#__PURE__*/react.createElement("span", null, "Show more"), /*#__PURE__*/react.createElement(IconArrowDownWhite_IconArrowDownWhite, null))) : /*#__PURE__*/react.createElement("div", {
    className: CodeBlock.showMoreLabel,
    onClick: () => setCollapsed(true)
  }, /*#__PURE__*/react.createElement("span", null, "Show less"), /*#__PURE__*/react.createElement(IconArrowUpWhite_IconArrowUpWhite, null))));
}

function NoHighlight({
  children
}) {
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(CodeBlock.codeBlock, CodeBlock.noHighlight, {
      [CodeBlock.codeBlockBrowserOnly]: "gameface" === 'browser'
    })
  }, children.split('\n').map((line, index) => line.length === 0 ? /*#__PURE__*/react.createElement("div", {
    key: index
  }) : /*#__PURE__*/react.createElement("div", {
    key: index,
    style: {
      paddingLeft: (line.match(/\t|\s{2}/g) || []).length * 20
    }
  }, line)));
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/ExampleMatrix/ExampleMatrix.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ExampleMatrix = ({"wrapper":"bxMty","dark":"EyMZ9","vertical":"hSsQN","column":"evoRs","first":"ORxK2","row":"sIJwF","cellHeader":"eU5NA","cell":"nqp7J","stretch":"oSmhO","cellHidden":"ghVYY","fullScreenIcon":"T3ybB","fullScreen":"ET0tR","portalContainer":"mT69v"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/ExampleMatrix/images/fullScreenIcon.png
const fullScreenIcon_namespaceObject = __webpack_require__.p + "assets/fullScreenIcon-b20a4.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/ExampleMatrix/ExampleMatrix.tsx
function ExampleMatrix_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function ExampleMatrix_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ExampleMatrix_ownKeys(Object(source), true).forEach(function (key) { ExampleMatrix_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ExampleMatrix_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function ExampleMatrix_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }















const themeContext = (0,react.createContext)("vanilla" || 0);
const ExampleMatrixThemeProvider = themeContext.Provider;

const useTheme = () => (0,react.useContext)(themeContext);

const FullScreenButton = ({
  onClick
}) => {
  return /*#__PURE__*/react.createElement("img", {
    onClick: onClick,
    className: classnames_default()(ExampleMatrix.fullScreenIcon),
    src: fullScreenIcon_namespaceObject
  });
};

const disabledNarratorSupport = {
  read: () => {},
  clear: () => {}
};
const ExampleMatrix_ExampleMatrix = ({
  children,
  dark = false,
  binary = false,
  vertical: verticalProp = false,
  stretch = false
}) => {
  const [isFullScreen, setIsFullScreen] = (0,react.useState)(false); // TODO: use Examples solution instead

  const [showFullScreenButton, setShowFullScreenButton] = (0,react.useState)(false);
  const theme = useTheme();
  const vertical = useIsWindowNarrow() || verticalProp;
  const fullScreenRef = (0,react.useRef)();
  (0,react.useLayoutEffect)(() => {
    const div = document.createElement('div');
    div.className = ExampleMatrix.portalContainer;
    document.body.appendChild(div);
    fullScreenRef.current = div;
    return () => {
      document.body.removeChild(div);
    };
  }, [fullScreenRef]);
  (0,react.useLayoutEffect)(() => {
    if (!fullScreenRef.current) return;
    fullScreenRef.current.style.height = isFullScreen ? '100vh' : '0';
  }, [isFullScreen]);

  function handleMouseEnter() {
    setShowFullScreenButton(true);
  }

  function handleMouseLeave() {
    setShowFullScreenButton(false);
  }

  function handleFullscreen() {
    setIsFullScreen(!isFullScreen);
  }

  const states = [{
    label: 'Normal'
  }, {
    label: 'Hovered',
    key: 'hovered'
  }, {
    label: 'Focused',
    key: 'focused'
  }, {
    label: 'Pressed',
    key: 'pressed'
  }, {
    label: 'Disabled',
    key: 'disabled'
  }];
  const values = binary ? [true, false] : [true];
  const LabelTypography = (0,react.useMemo)(() => ({
    children
  }) => /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: dark ? 'white' : 'black'
  }, children), [dark]); // if we are running tests, don't add any extra markup

  if (false) {}

  const content = /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: "neutral"
  }, /*#__PURE__*/react.createElement(NarrationSetup, {
    disabled: false,
    driver: disabledNarratorSupport
  }, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()({
      [ExampleMatrix.fullScreen]: isFullScreen
    })
  }, showFullScreenButton && /*#__PURE__*/react.createElement(FullScreenButton, {
    onClick: handleFullscreen
  }), /*#__PURE__*/react.createElement(ThemeProvider_static_ThemeProvider, {
    theme: theme
  }, /*#__PURE__*/react.createElement(SemanticTokensCollectionProviderFromTheme, {
    theme: theme
  }, /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 0,
    disabled: true
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(ExampleMatrix.wrapper, {
      [ExampleMatrix.dark]: dark,
      [ExampleMatrix.vertical]: vertical
    })
  }, binary && /*#__PURE__*/react.createElement("div", {
    className: classnames_default()({
      [ExampleMatrix.row]: vertical,
      [ExampleMatrix.column]: !vertical
    }, ExampleMatrix.first)
  }, /*#__PURE__*/react.createElement("div", {
    className: ExampleMatrix.cellHidden
  }), /*#__PURE__*/react.createElement("div", {
    className: ExampleMatrix.cellHeader
  }, /*#__PURE__*/react.createElement(LabelTypography, null, "On")), /*#__PURE__*/react.createElement("div", {
    className: ExampleMatrix.cellHeader
  }, /*#__PURE__*/react.createElement(LabelTypography, null, "Off"))), states.map((state, i) => {
    const props = state.key != null ? {
      [state.key]: true
    } : {};
    return /*#__PURE__*/react.createElement("div", {
      key: i,
      className: vertical ? ExampleMatrix.row : ExampleMatrix.column
    }, /*#__PURE__*/react.createElement("div", {
      className: ExampleMatrix.cellHeader
    }, /*#__PURE__*/react.createElement(LabelTypography, null, state.label)), values.map((value, z) => /*#__PURE__*/react.createElement("div", {
      key: z,
      className: classnames_default()(ExampleMatrix.cell, {
        [ExampleMatrix.stretch]: stretch
      })
    }, /*#__PURE__*/react.createElement(ExampleMatrixInputStateOverride, props, children(ExampleMatrix_objectSpread({
      id: `${z}-${i}`,
      value,
      hovered: false,
      focused: false,
      pressed: false,
      disabled: false
    }, props))))));
  })))))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  })));
  return /*#__PURE__*/react.createElement("div", {
    onMouseEnter: handleMouseEnter,
    onMouseLeave: handleMouseLeave
  }, isFullScreen && fullScreenRef.current ? (0,react_facet_src.createPortal)(content, fullScreenRef.current) : content);
};

function ExampleMatrixInputStateOverride({
  children,
  hovered = false,
  focused = false,
  pressed = false
}) {
  return /*#__PURE__*/react.createElement(InputStateOverride, {
    value: {
      hovered,
      focused,
      pressState: pressed ? 'pressed' : 'released'
    }
  }, children);
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Examples/Examples.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Examples = ({"example":"sQ0iB","compact":"bfNQe","small":"iRxWl","large":"JOGnE","dark":"smoEF","cubemap":"rYZJZ","gameplay":"Wfgaz","gameplayWithCoordinates":"f9DOe","border":"eekIn","spread":"FJcP5","fullScreen":"AdR4S","facets":"ewNjU"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/FullScreenButton/FullScreenButton.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const FullScreenButton_FullScreenButton = ({"fullScreenIcon":"CP3Rf","fullScreenIconMobile":"tzJSL"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/FullScreenButton/images/fullScreenIcon.png
const FullScreenButton_images_fullScreenIcon_namespaceObject = __webpack_require__.p + "assets/fullScreenIcon-b20a4.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/FullScreenButton/FullScreenButton.tsx






function FullScreenButton_FullScreenButton_FullScreenButton({
  alias,
  isFullScreen,
  isMobile
}) {
  const api = useFullScreenAPI();
  const currentEntry = useCurrentEntry();

  const toggleFullscreen = () => {
    if (api == null || !currentEntry) return;

    if (isFullScreen) {
      api.closeFullScreen();
    } else {
      api.openFullScreen(currentEntry, alias);
    }
  };

  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.START,
      inputLegend: 'Toggle full screen'
    },
    onClick: toggleFullscreen
  }), /*#__PURE__*/react.createElement("img", {
    onClick: toggleFullscreen,
    className: classnames_default()(FullScreenButton_FullScreenButton.fullScreenIcon, {
      [FullScreenButton_FullScreenButton.fullScreenIconMobile]: isMobile
    }),
    src: FullScreenButton_images_fullScreenIcon_namespaceObject
  }));
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Examples/FlexWrapper.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const FlexWrapper = ({"flexRow":"KFHtc","flexColumn":"tDwL0"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Examples/FlexWrapper.tsx


function FlexWrapper_FlexWrapper({
  children,
  direction
}) {
  if (false) {}

  return /*#__PURE__*/react.createElement("div", {
    className: direction === 'row' ? FlexWrapper.flexRow : FlexWrapper.flexColumn
  }, children);
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Examples/Examples.tsx

















const exampleThemeContext = (0,react.createContext)("vanilla" || 0);
const ExampleThemeProvider = exampleThemeContext.Provider;

const Examples_useTheme = () => (0,react.useContext)(exampleThemeContext);

const fallbackFacets = {};

const Examples_noop = () => {};

const isSharedFacetDriver = facetOrSharedFacetDriver => typeof facetOrSharedFacetDriver === 'function';

function toSharedFacetDriver(facets) {
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  return (name, _onChange) => {
    const facet = facets[name];

    if (facet == null) {
      throw new Error(`Missing Facet definition "${name}" for the example`);
    }

    if (isSharedFacetDriver(facet)) {
      facet(name, _onChange);
    } else if (facet != null) {
      _onChange(facet);
    }

    return Examples_noop;
  };
}
function toInteractiveSharedFacetDriver(facets) {
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  return (name, _onChange) => {
    const facet = facets[name];

    if (facet == null) {
      throw new Error(`Missing Facet definition "${name}" for the example`);
    }

    if (typeof facet === 'function') {
      facet(_onChange);
    } else if (facet != null) {
      _onChange(facet);
    }

    return Examples_noop;
  };
}
const FALSE_FACET = (0,react_facet_src.createStaticFacet)(false);
/**
 * Component that render an example in the playground
 *
 * To enable FullScreen, a fullScreenAlias must be provided
 */

function Examples_Examples({
  fullScreenAlias,
  children,
  source,
  large,
  small,
  border,
  spread,
  facets,
  featureFlags = [],
  dark,
  cubemap,
  gameplay,
  gameplayWithCoordinates,
  height,
  row,
  router,
  noCode,
  noPadding,
  disableScreenAnimation
}) {
  var _router$route;

  const theme = Examples_useTheme();
  const isNarrow = useIsWindowNarrow();
  const fullScreenExample = useFullScreenExample();
  const isFullScreen = fullScreenExample === fullScreenAlias; // Render nothing if another example is in full screen mode

  if (fullScreenExample != null && !isFullScreen) return null;
  const sharedFacetDriver = toSharedFacetDriver(facets !== null && facets !== void 0 ? facets : fallbackFacets);
  const shared = /*#__PURE__*/react.createElement(TestRoute, {
    url: router ? router.url : '/testing',
    route: router ? (_router$route = router.route) !== null && _router$route !== void 0 ? _router$route : router.url : '/testing'
  }, /*#__PURE__*/react.createElement(react_facet_src.SharedFacetDriverProvider, {
    value: sharedFacetDriver
  }, /*#__PURE__*/react.createElement(FeatureFlagsProvider, {
    value: featureFlags
  }, /*#__PURE__*/react.createElement(ThemeProvider_static_ThemeProvider, {
    theme: theme
  }, /*#__PURE__*/react.createElement(SemanticTokensCollectionProviderFromTheme, {
    theme: theme
  }, /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: "neutral"
  }, /*#__PURE__*/react.createElement(FlexWrapper_FlexWrapper, {
    direction: row ? 'row' : 'column'
  }, disableScreenAnimation ? /*#__PURE__*/react.createElement(ScreenAnimationEnabledProvider, {
    value: FALSE_FACET
  }, /*#__PURE__*/react.createElement(ModalManager, null, children)) : /*#__PURE__*/react.createElement(ModalManager, null, children))))))));

  if (noCode || "production" === 'test') {
    // Disable all extra markup while running tests
    // This is to allow us to do snapshot testing
    return shared;
  }

  return /*#__PURE__*/react.createElement(BoundedFocusProvider, {
    value: false
  }, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Examples.examples, {
      [Examples.fullScreen]: isFullScreen
    })
  }, /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 1
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Examples.example, {
      [Examples.compact]: isNarrow || noPadding
    }, {
      [Examples.large]: large
    }, {
      [Examples.border]: border
    }, {
      [Examples.dark]: dark
    }, {
      [Examples.cubemap]: cubemap
    }, {
      [Examples.gameplay]: gameplay
    }, {
      [Examples.gameplayWithCoordinates]: gameplayWithCoordinates
    }, {
      [Examples.fullScreen]: isFullScreen
    }, {
      [Examples.spread]: spread
    }, {
      [Examples.small]: small
    }),
    style: {
      height: `${height}rem`
    }
  }, shared, fullScreenAlias != null ? /*#__PURE__*/react.createElement(FullScreenButton_FullScreenButton_FullScreenButton, {
    alias: fullScreenAlias,
    isFullScreen: isFullScreen
  }) : null), facets && /*#__PURE__*/react.createElement("div", {
    className: Examples.facets
  }, "Facets: ", Object.keys(facets).join(', ')), featureFlags.length > 0 && /*#__PURE__*/react.createElement("div", {
    className: Examples.facets
  }, "Feature flags: ", featureFlags.join(', ')), router && /*#__PURE__*/react.createElement("div", {
    className: Examples.facets
  }, "Stub routing component route: ", router.route), router && /*#__PURE__*/react.createElement("div", {
    className: Examples.facets
  }, "Stub routing window URL: ", router.url), !isFullScreen && /*#__PURE__*/react.createElement(CodeBlock_CodeBlock, {
    language: "tsx",
    collapsable: true
  }, source))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }));
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Examples/FacetfulExamples.tsx
function FacetfulExamples_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = FacetfulExamples_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function FacetfulExamples_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





/**
 * Component that render an example in the playground
 *
 * To enable FullScreen, a fullScreenAlias must be provided
 */
function FacetfulExamples(props) {
  const [inlineFacet, setInlineFacet] = (0,react_facet_src.useFacetState)('initialState' in props ? props.initialState : '');

  const {
    children: propsChildren
  } = props,
        propsWithoutChildren = FacetfulExamples_objectWithoutProperties(props, ["children"]);

  const children = propsChildren(inlineFacet, setInlineFacet);
  return /*#__PURE__*/react.createElement(Examples_Examples, propsWithoutChildren, children);
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Examples/StatefulExamples.tsx
function StatefulExamples_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = StatefulExamples_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function StatefulExamples_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




/**
 * Component that render an example in the playground
 *
 * - To enable FullScreen, a fullScreenAlias must be provided,
 * - fullScreenAlias value must be unique per page, other wise it will render the last example that has the same fullScreenAlias value
 */
function StatefulExamples(props) {
  const [state, setState] = (0,react.useState)('initialState' in props ? props.initialState : '');

  const {
    children: propsChildren
  } = props,
        propsWithoutChildren = StatefulExamples_objectWithoutProperties(props, ["children"]);

  const children = propsChildren(state, setState);
  return /*#__PURE__*/react.createElement(Examples_Examples, propsWithoutChildren, children);
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/MetadataHeader.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MetadataHeader = ({"metadataHeader":"y4CmX","cell":"JTvIb","status":"Nzh6F","checkIcon":"Rxz_H","rollerIcon":"nhY4m","ownerIcon":"MjuMa","deprecatedIcon":"oZRJB","developerIcon":"EaJlD","warningIcon":"HpatI","tokenSupportIcon":"NFODW","lastUpdated":"rUqcQ","lastUpdatedIcon":"siZA2"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/metadata.ts

const OWNERS = (/* unused pure expression or super */ null && (['core-ui', 'menu-ui', 'gameplay-ui', 'badger', 'marketplace', 'creator-editor', 'realms', 'player-lifecycle-management', 'safety', 'identity']));
const prettifyOwnerName = owner => {
  return owner == null ? owner : change_case.headerCase(owner).replace(/-/g, ' ').replace(/ Ui/g, ' UI');
};
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/images/checkGreen.png
const checkGreen_namespaceObject = __webpack_require__.p + "assets/checkGreen-83220.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/images/warningIcon.png
const warningIcon_namespaceObject = __webpack_require__.p + "assets/warningIcon-badc3.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/images/roller.png
const roller_namespaceObject = __webpack_require__.p + "assets/roller-f1788.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/images/owner.png
const owner_namespaceObject = __webpack_require__.p + "assets/owner-6384d.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/images/error.png
const error_namespaceObject = __webpack_require__.p + "assets/error-224bd.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/images/developerIcon.png
const developerIcon_namespaceObject = __webpack_require__.p + "assets/developerIcon-d9f28.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/images/tokenSupportIcon.png
const tokenSupportIcon_namespaceObject = __webpack_require__.p + "assets/tokenSupportIcon-569aa.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/images/lastUpdatedIcon.png
const lastUpdatedIcon_namespaceObject = __webpack_require__.p + "assets/lastUpdatedIcon-5136d.png";
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MetadataHeader/MetadataHeader.tsx
var _process$env$CORE_UI_;















const COMPONENT_LAST_UPDATED_MAP = JSON.parse((_process$env$CORE_UI_ = "{}") !== null && _process$env$CORE_UI_ !== void 0 ? _process$env$CORE_UI_ : '{}');

const useLastUpdatedFormatted = () => {
  const currentEntry = useCurrentEntry();
  if (currentEntry == null) return null;
  const lastUpdated = COMPONENT_LAST_UPDATED_MAP[currentEntry.name];
  if (lastUpdated == null) return null;
  return lastUpdated;
};

function MetadataHeader_MetadataHeader({
  metadata
}) {
  const lastUpdated = useLastUpdatedFormatted();
  const themes = metadata.themes ? metadata.themes.join(', ') : '';
  return /*#__PURE__*/react.createElement("div", {
    className: MetadataHeader.metadataHeader
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(MetadataHeader.cell, MetadataHeader.status)
  }, metadata.status === 'stable' ? /*#__PURE__*/react.createElement("img", {
    className: MetadataHeader.checkIcon,
    src: checkGreen_namespaceObject,
    alt: "stable"
  }) : metadata.status === 'deprecated' ? /*#__PURE__*/react.createElement("img", {
    className: MetadataHeader.deprecatedIcon,
    src: error_namespaceObject,
    alt: "deprecated"
  }) : metadata.status === 'developer' ? /*#__PURE__*/react.createElement("img", {
    className: MetadataHeader.developerIcon,
    src: developerIcon_namespaceObject,
    alt: "developer"
  }) : /*#__PURE__*/react.createElement("img", {
    className: MetadataHeader.warningIcon,
    src: warningIcon_namespaceObject,
    alt: "warning"
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "darkGrey"
  }, metadata.status === 'contrib' ? 'contribution' : metadata.status)), /*#__PURE__*/react.createElement("div", {
    className: MetadataHeader.cell
  }, /*#__PURE__*/react.createElement("img", {
    className: MetadataHeader.rollerIcon,
    src: roller_namespaceObject,
    alt: "theme"
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "darkGrey"
  }, themes)), /*#__PURE__*/react.createElement("div", {
    className: MetadataHeader.cell
  }, /*#__PURE__*/react.createElement("img", {
    className: MetadataHeader.ownerIcon,
    src: owner_namespaceObject,
    alt: "owner"
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "darkGrey"
  }, prettifyOwnerName(metadata.owner))), metadata.semanticTokenSupport === true && /*#__PURE__*/react.createElement("div", {
    className: MetadataHeader.cell
  }, /*#__PURE__*/react.createElement("img", {
    className: MetadataHeader.tokenSupportIcon,
    src: tokenSupportIcon_namespaceObject,
    alt: "stable"
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "darkGrey"
  }, "Semantic token support")), lastUpdated != null && /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(MetadataHeader.cell, MetadataHeader.lastUpdated)
  }, /*#__PURE__*/react.createElement("img", {
    className: MetadataHeader.lastUpdatedIcon,
    src: lastUpdatedIcon_namespaceObject,
    alt: "last updated"
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "darkGrey"
  }, "Updated ", lastUpdated)));
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/PropsTable/PropsTable.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PropsTable = ({"row":"dKagR","header":"qOtsi","typeCell":"CaL_f","propertyCell":"_i7KG","bottomBorder":"cdR6_","defaultValue":"acbg4"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/PropsTable/PropsTable.tsx







/**
 * Given a react component, it extracts the information from a __docgenInfo property
 * and render a table of supported props of the component
 *
 * The __docgenInfo is populated by a babel plugin (react-docgen-typescript).
 */
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function PropsTable_PropsTable({
  component
}) {
  const fullScreenExample = useFullScreenExample(); // if we are in fullscreen, don't render

  if (fullScreenExample != null) return null; // Don't try to render while running tests

  if (false) {}

  if (true) {
    return /*#__PURE__*/react.createElement(Typography_Typography, {
      variant: "paragraphs",
      color: "grey"
    }, "The API is disabled, to see the props table run the development server with '--doc-gen'.");
  }

  const __docgenInfo = component.__docgenInfo;

  if ((__docgenInfo === null || __docgenInfo === void 0 ? void 0 : __docgenInfo.props) == null || Object.keys(__docgenInfo.props).length === 0) {
    return null;
  }

  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(PropsTable.row, PropsTable.header)
  }, /*#__PURE__*/react.createElement("div", {
    className: PropsTable.propertyCell
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header5B",
    color: "black"
  }, "Property")), /*#__PURE__*/react.createElement("div", {
    className: PropsTable.typeCell
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header5B",
    color: "black"
  }, "Type"))), Object.keys(__docgenInfo.props).map(propName => {
    var _prop$defaultValue;

    const prop = __docgenInfo.props[propName];
    const defaultValue = (_prop$defaultValue = prop.defaultValue) === null || _prop$defaultValue === void 0 ? void 0 : _prop$defaultValue.value;
    return /*#__PURE__*/react.createElement("div", {
      key: propName,
      className: PropsTable.row
    }, /*#__PURE__*/react.createElement("div", {
      className: classnames_default()(PropsTable.propertyCell, PropsTable.bottomBorder)
    }, /*#__PURE__*/react.createElement(Typography_Typography, {
      variant: "paragraphs",
      color: "black"
    }, propName, /*#__PURE__*/react.createElement("span", {
      className: PropsTable.defaultValue
    }, defaultValue == null ? '' : ` = ${defaultValue === '' ? '""' : defaultValue}`))), /*#__PURE__*/react.createElement("div", {
      className: classnames_default()(PropsTable.typeCell, PropsTable.bottomBorder)
    }, /*#__PURE__*/react.createElement(Typography_Typography, {
      variant: "paragraphs",
      color: "black"
    }, prop.type.value != null ? getValue(prop.type.value) : prop.type.name)));
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }));
}

function getValue(value) {
  return typeof value !== 'string' ? value.map(({
    value
  }) => value).join(', ') : value;
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MDXProvider/MDXProvider.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MDXProvider_MDXProvider = ({"table":"TisaI","link":"wPKYa","linkBrowserOnly":"UiJaC","linkGamefaceOnly":"VTwG2","list":"tDsBw","browserList":"ua3bA","listItemMarker":"hSflz","inlineCode":"JsE5U","emphasize":"K8Z1_","wrapper":"_QJAg","content":"eofg8","td":"Cxgvw","th":"w_bAb"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/NarrationExample/NarrationExample.tsx


function NarrationExample({
  title
}) {
  return /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "black"
  }, "\u2022 ", title);
}
;// CONCATENATED MODULE: ./packages/react-component-playground/src/MDXProvider/MDXProvider.tsx


function MDXProvider_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function MDXProvider_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { MDXProvider_ownKeys(Object(source), true).forEach(function (key) { MDXProvider_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { MDXProvider_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function MDXProvider_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function MDXProvider_extends() { MDXProvider_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return MDXProvider_extends.apply(this, arguments); }

function MDXProvider_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = MDXProvider_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function MDXProvider_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }



















 // We import this directly from the NarrationExample file, because there is
// an issue building the docs if the NarrationTest file is imported (it has something
// to do with the use of '@mojang/react-facet-testing-library', but I can't figure out what.


/**
 * Provides custom components to render tags from MDX
 * - Has special cases for testing and fullscreen
 */

function MDXProvider_MDXProvider_MDXProvider({
  children
}) {
  const isFullscreen = useFullScreenExample();
  const components = isFullscreen != null ? fullScreenComponents : allComponents;
  return /*#__PURE__*/react.createElement(MDXProvider, {
    components: components
  }, children);
}
/**
 * Detects if we are running within Gameface by checking the existence
 * of the global engine variable.
 */

const IS_GAMEFACE = typeof window.engine !== 'undefined';

/**
 * Components that are rendered when we run snapshot tests
 */
const snapshotComponents = {
  Examples: Examples_Examples,
  ExampleMatrix: ExampleMatrix_ExampleMatrix,
  StatefulExamples: StatefulExamples,
  FacetfulExamples: FacetfulExamples
};
/**
 * Components that are rendered when we want to view the docs
 */

const docsComponents = {
  PropsTable: PropsTable_PropsTable,
  ScreenLinks: ScreenLinks,
  NarrationExample: NarrationExample,
  h1: (_ref) => {
    let {
      children
    } = _ref,
        props = MDXProvider_objectWithoutProperties(_ref, ["children"]);

    const sectionReferenceIdentifier = generateSectionReferenceIdentifier(children);
    return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
      size: 7
    }), /*#__PURE__*/react.createElement(Typography_Typography, MDXProvider_extends({
      variant: "header1",
      color: "black"
    }, props), /*#__PURE__*/react.createElement("span", {
      style: {
        display: 'block',
        position: 'relative'
      }
    }, children,  false && /*#__PURE__*/0)));
  },
  h2: (_ref2) => {
    let {
      children
    } = _ref2,
        props = MDXProvider_objectWithoutProperties(_ref2, ["children"]);

    const sectionReferenceIdentifier = generateSectionReferenceIdentifier(children);
    return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
      size: 6
    }), /*#__PURE__*/react.createElement(Typography_Typography, MDXProvider_extends({
      variant: "header2",
      color: "black"
    }, props), /*#__PURE__*/react.createElement("span", {
      style: {
        display: 'block',
        position: 'relative'
      }
    }, children,  false && /*#__PURE__*/0)));
  },
  h3: (_ref3) => {
    let {
      children
    } = _ref3,
        props = MDXProvider_objectWithoutProperties(_ref3, ["children"]);

    const sectionReferenceIdentifier = generateSectionReferenceIdentifier(children);
    return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
      size: 4
    }), /*#__PURE__*/react.createElement(Typography_Typography, MDXProvider_extends({
      variant: "header3",
      color: "black"
    }, props), /*#__PURE__*/react.createElement("span", {
      style: {
        display: 'block',
        position: 'relative'
      }
    }, children,  false && /*#__PURE__*/0)));
  },
  h4: (_ref4) => {
    let {
      children
    } = _ref4,
        props = MDXProvider_objectWithoutProperties(_ref4, ["children"]);

    const sectionReferenceIdentifier = generateSectionReferenceIdentifier(children);
    return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
      size: 2
    }), /*#__PURE__*/react.createElement(Typography_Typography, MDXProvider_extends({
      variant: "header4B",
      color: "black"
    }, props), /*#__PURE__*/react.createElement("span", {
      style: {
        display: 'block',
        position: 'relative'
      }
    }, children,  false && /*#__PURE__*/0)));
  },
  h5: (_ref5) => {
    let {
      children
    } = _ref5,
        props = MDXProvider_objectWithoutProperties(_ref5, ["children"]);

    const sectionReferenceIdentifier = generateSectionReferenceIdentifier(children);
    return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
      size: 2
    }), /*#__PURE__*/react.createElement(Typography_Typography, MDXProvider_extends({
      variant: "header5B",
      color: "black"
    }, props), /*#__PURE__*/react.createElement("span", {
      style: {
        display: 'block',
        position: 'relative'
      }
    }, children,  false && /*#__PURE__*/0)));
  },
  a: (_ref6) => {
    let {
      children
    } = _ref6,
        props = MDXProvider_objectWithoutProperties(_ref6, ["children"]);

    const href = propOr_default()('', 'href', props);

    const protocolPattern = /^((http|https):\/\/)/;
    const isExternalLink = protocolPattern.test(href);

    if (isExternalLink && "gameface" !== 'browser') {
      return /*#__PURE__*/react.createElement("span", null, children);
    }

    return /*#__PURE__*/react.createElement("a", MDXProvider_extends({
      className: classnames_default()(MDXProvider_MDXProvider.link, {
        [MDXProvider_MDXProvider.linkBrowserOnly]: "gameface" === 'browser',
        [MDXProvider_MDXProvider.linkGamefaceOnly]: "gameface" !== 'browser'
      })
    }, props, {
      target: isExternalLink ? '_blank' : '_self'
    }), children);
  },
  ul: ({
    children
  }) => /*#__PURE__*/react.createElement(react.Fragment, null,  false && /*#__PURE__*/0,  true && /*#__PURE__*/react.createElement("div", {
    className: MDXProvider_MDXProvider.list
  }, children), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  })),
  ol: ({
    children
  }) => /*#__PURE__*/react.createElement(react.Fragment, null,  false && /*#__PURE__*/0,  true && /*#__PURE__*/react.createElement("div", {
    className: MDXProvider_MDXProvider.list
  }, children), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  })),
  li: (_ref7) => {
    let {
      children
    } = _ref7,
        props = MDXProvider_objectWithoutProperties(_ref7, ["children"]);

    return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
      size: 1
    }), /*#__PURE__*/react.createElement(Typography_Typography, MDXProvider_extends({
      variant: "paragraphs",
      color: "black"
    }, props),  false && /*#__PURE__*/0,  true && /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("span", {
      className: MDXProvider_MDXProvider.listItemMarker
    }, "\u2013"), children)));
  },
  hr: () => /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(Divider_Divider, null), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  })),

  /**
   * Handles paragraphs with nested tags.
   * Currently HB behaves differently than a browser: "span elements are ordered in rows according to flex row ordering".
   *
   * So, this implementation converts any child to a plain string as a workaround.
   *
   * More info: https://coherent-labs.com/Documentation/cpp-hb/d7/dd9/html_elements.html
   */
  p: (_ref8) => {
    let {
      children
    } = _ref8,
        props = MDXProvider_objectWithoutProperties(_ref8, ["children"]);

    return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
      size: 1
    }), /*#__PURE__*/react.createElement(Typography_Typography, MDXProvider_extends({
      variant: "paragraphs",
      color: "black"
    }, props), !IS_GAMEFACE ? children : react.Children.toArray(children).map(child => {
      if (isReactElement(child)) {
        return react.Children.toArray(child.props.children).join(' ');
      }

      return child;
    }).join(' ')), /*#__PURE__*/react.createElement(Spacing_Spacing, {
      size: 4
    }));
  },
  inlineCode: ({
    children
  }) => /*#__PURE__*/react.createElement("span", {
    className: MDXProvider_MDXProvider.inlineCode
  }, children),
  em: ({
    children
  }) => /*#__PURE__*/react.createElement("span", {
    className: MDXProvider_MDXProvider.emphasize
  }, children),
  code: (_ref9) => {
    let {
      children
    } = _ref9,
        props = MDXProvider_objectWithoutProperties(_ref9, ["children"]);

    return /*#__PURE__*/react.createElement(CodeBlock_CodeBlock, {
      language: extractLanguageFromMdxClassname(props.className)
    }, children);
  },
  table: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("table", MDXProvider_extends({}, props, {
    className: MDXProvider_MDXProvider.table
  })) : /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs"
  }, "For more details, go to https://minecraft-ui.azurewebsites.net"),
  tr: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("tr", props) : null,
  td: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("td", MDXProvider_extends({
    className: MDXProvider_MDXProvider.td
  }, props)) : null,
  th: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("th", MDXProvider_extends({
    className: MDXProvider_MDXProvider.th
  }, props)) : null,
  thead: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("thead", props) : null,
  tbody: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("tbody", props) : null,
  tfoot: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("tfoot", props) : null,
  colgroup: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("colgroup", props) : null,
  col: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("col", props) : null,
  caption: props => !IS_GAMEFACE ? /*#__PURE__*/react.createElement("caption", props) : null,
  wrapper: ({
    metadata,
    children
  }) => /*#__PURE__*/react.createElement(MDXProvider_Wrapper, {
    metadata: metadata
  }, children)
};

function MDXProvider_Wrapper({
  metadata,
  children
}) {
  const theme = (0,react.useContext)(exampleThemeContext);
  const isComponentPage = metadata && metadata.library && metadata.owner;
  return /*#__PURE__*/react.createElement("div", {
    className: MDXProvider_MDXProvider.wrapper
  }, metadata && isComponentPage && /*#__PURE__*/react.createElement(MetadataHeader_MetadataHeader, {
    metadata: metadata
  }), metadata && isComponentPage && metadata.themes && "gameface" !== 'gameface' && 0 && /*#__PURE__*/0, /*#__PURE__*/react.createElement("div", {
    className: MDXProvider_MDXProvider.content
  }, children));
}
/**
 * Dummy components that render nothing. To be used on testing
 */


const dummyComponents = {
  PropsTable: () => null,
  ScreenLinks: () => null,
  p: () => null,
  h1: () => null,
  h2: () => null,
  h3: () => null,
  h4: () => null,
  h5: () => null,
  h6: () => null,
  thematicBreak: () => null,
  blockquote: () => null,
  ul: () => null,
  ol: () => null,
  li: () => null,
  table: () => null,
  tr: () => null,
  td: () => null,
  pre: () => null,
  code: () => null,
  em: () => null,
  strong: () => null,
  delete: () => null,
  inlineCode: () => null,
  hr: () => null,
  a: () => null,
  img: () => null,
  wrapper: () => null
};

const allComponents = MDXProvider_objectSpread(MDXProvider_objectSpread({}, snapshotComponents), docsComponents);

const fullScreenComponents = MDXProvider_objectSpread(MDXProvider_objectSpread({}, dummyComponents), {}, {
  Examples: Examples_Examples,
  StatefulExamples: StatefulExamples,
  NarrationExample: () => null,
  FacetfulExamples: FacetfulExamples,
  wrapper: ({
    children
  }) => {
    return /*#__PURE__*/react.createElement("div", {
      className: MDXProvider_MDXProvider.wrapper
    }, /*#__PURE__*/react.createElement("div", {
      className: MDXProvider_MDXProvider.content
    }, children));
  }
});
/**
 * When MDX generates the markup for code blocks it takes the language and sets it as a class name.
 * This functions extracts the language part from the classname (ex: `jsx`).
 * It is also possible to have a code block without a language defined (returns undefined).
 *
 * Example:
 *
 * ```jsx
 * const yay = 123
 * ```
 *
 * This will have a `language-jsx` classname.
 */


const extractLanguageFromMdxClassname = className => {
  if (!className) return;
  const match = className.match(/language-(\w+)/);
  if (!match) return;
  return match[1];
};

const isReactElement = child => {
  return typeof child !== 'string' && typeof child !== 'number' && typeof child !== 'boolean' && child != null && 'props' in child;
};
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Playground.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Playground = ({"minecraftDesignSystemLogo":"LLP5I","minecraftDesignSystemLogoFocused":"_27HLC"});
;// CONCATENATED MODULE: ./packages/react-component-playground/src/Playground.tsx



















/**
 * Renders a playground with entries.
 *
 * An example of a component entry:
 * - name: Button
 * - metadata: {
 * 			library,
 *  		category
 * }
 * - type: component
 * - element: the element to render
 *
 * An example of a documentation entry:
 * - name: home
 * - metadata: {
 * 			library: core,
 *  		category: button
 * }
 * - type: docs
 * - element: the element to render
 */

const Playground_noop = () => {};

function Playground_Playground({
  entries,
  selectedEntry,
  onClickEntry,
  onClickClose,
  onClickFullScreen,
  onClickExternalLink,
  onClickInternalLink
}) {
  const {
    theme,
    onSetTheme
  } = (0,react.useContext)(interactiveThemeContext);
  const [leftSideBarCollapsed, setLeftSideBarCollapsed] = (0,react.useState)(true);
  const [rightSideBarCollapsed, setRightSideBarCollapsed] = (0,react.useState)(true);
  const isWindowNarrow = useIsWindowNarrow();
  const toggleLeftSidebar = (0,react.useCallback)(() => {
    if (leftSideBarCollapsed) setRightSideBarCollapsed(true);
    setLeftSideBarCollapsed(previousValue => !previousValue);
  }, [leftSideBarCollapsed]);
  const toggleRightSidebar = (0,react.useCallback)(() => {
    if (rightSideBarCollapsed) setLeftSideBarCollapsed(true);
    setRightSideBarCollapsed(previousValue => !previousValue);
  }, [rightSideBarCollapsed]);
  const handleClickEntry = (0,react.useCallback)(entry => {
    toggleLeftSidebar();
    onClickEntry(entry);
  }, [toggleLeftSidebar, onClickEntry]);
  const oreUiDesignSystemTypographyElement = /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    narrationText: 'Ore UI Design System',
    className: Playground.minecraftDesignSystemLogo,
    gamepadIndex: -1,
    classNameFocused: Playground.minecraftDesignSystemLogoFocused,
    inputLegend: "Ore UI Design System",
    onClick: () => onClickInternalLink('global', 'home')
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header5A",
    shadow: true
  }, "Ore UI Design System"));
  return /*#__PURE__*/react.createElement(RouteActiveProvider, {
    active: (0,react_facet_src.useFacetWrap)(true)
  }, /*#__PURE__*/react.createElement(ThemeProvider_static_ThemeProvider, {
    theme: "docs"
  }, /*#__PURE__*/react.createElement(NavigationBarLayout_NavigationBarLayout, {
    collapsedLeftSidebar: leftSideBarCollapsed,
    onToggleCollapsedLeftSidebar: toggleLeftSidebar,
    collapsedRightSidebar: rightSideBarCollapsed,
    onToggleCollapsedRightSidebar: toggleRightSidebar,
    navigationBarRole: "neutral",
    navigationBarShowDropShadow: false,
    left: /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(NavigationBarLayout_NavigationBarLayout.BackButton, {
      onClick: onClickClose,
      showEmptySpaceWhenGamepad: !isWindowNarrow,
      role: "neutral"
    }),  false ? 0 : null),
    center:  false ? /*#__PURE__*/0 : oreUiDesignSystemTypographyElement,
    leftSidebar: /*#__PURE__*/react.createElement(Navigation, {
      onClickInternalLink: onClickInternalLink,
      selectedEntry: selectedEntry,
      onClickEntry: handleClickEntry,
      entries: entries,
      formattedName: true
    }),
    rightSidebar:  false && /*#__PURE__*/0,
    footer: /*#__PURE__*/react.createElement(InputLegend_InputLegend.Space, null)
  }, !selectedEntry ? /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(RenderTrackingEvent, {
    renderingCompleted: true,
    type: "contentful"
  }), /*#__PURE__*/react.createElement(RenderTrackingEvent, {
    renderingCompleted: true,
    type: "meaningful"
  }), /*#__PURE__*/react.createElement(Home_Home, {
    onClickExternalLink: onClickExternalLink
  })) : /*#__PURE__*/react.createElement(ComponentOverviewProvider, {
    value: {
      onEntryClick: handleClickEntry,
      groups: groupComponentsByLibrary(entries.filter(entry => (isGeneralComponent(entry) || isGameComponent(entry)) && entryHasThemes(entry)))
    }
  }, /*#__PURE__*/react.createElement(FullScreenAPIProvider, {
    value: {
      openFullScreen: onClickFullScreen,
      closeFullScreen: Playground_noop
    }
  }, /*#__PURE__*/react.createElement(CurrentEntryProvider, {
    value: selectedEntry
  }, /*#__PURE__*/react.createElement(ExampleMatrixThemeProvider, {
    value: theme
  }, /*#__PURE__*/react.createElement(ExampleThemeProvider, {
    value: theme
  }, /*#__PURE__*/react.createElement(MDXProvider_MDXProvider_MDXProvider, null, /*#__PURE__*/react.createElement(Content_Content_Content, {
    entry: selectedEntry,
    onClickExternalLink: onClickExternalLink,
    gamepadIndex: 1
  }))))))))));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/hud.tsx



const HudTestRoute = () => {
  const historyAPI = useRouteHistory();
  return /*#__PURE__*/react.createElement("div", {
    style: {
      backgroundColor: 'red',
      width: '100%'
    }
  }, /*#__PURE__*/react.createElement(Button_Button, {
    variant: "hero",
    onClick: () => historyAPI.goBack(),
    gamepadIndex: 0,
    autofocus: true,
    inputLegend: "Back"
  }, "Go Back"), /*#__PURE__*/react.createElement(Button_Button, {
    variant: "secondary",
    onClick: () => historyAPI.push('/test-hud/modal'),
    gamepadIndex: 1,
    inputLegend: "Open"
  }, "Open modal"));
};
const ModalTestRoute = () => {
  const historyAPI = useRouteHistory();
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Modal_Modal, null, /*#__PURE__*/react.createElement(Modal_Modal.Header, null, 'Modal'), /*#__PURE__*/react.createElement(Modal_Modal.Content, null, /*#__PURE__*/react.createElement(Modal_Modal.Text, {
    gamepadIndex: 0,
    narrationText: "You've changed route!"
  }, "You've changed route!"), /*#__PURE__*/react.createElement(Modal_Modal.Buttons, null, /*#__PURE__*/react.createElement(Button_Button, {
    key: "go-back",
    variant: "hero",
    onClick: () => historyAPI.goBack(),
    gamepadIndex: 0,
    autofocus: true,
    inputLegend: "Close"
  }, "Close")))));
};
;// CONCATENATED MODULE: ./packages/gameface-hacks/src/find.ts
function find_find(array, f) {
  for (let i = 0; i < array.length; i++) {
    if (f(array[i], i, array)) {
      return array[i];
    }
  }
}
;// CONCATENATED MODULE: ./games/vanilla/engine/src/achievementsFacet.ts


const ACHIEVEMENTS_FACET = 'vanilla.achievements';
/**
 * Feature flag to enable rendering of achievements rewards
 * Currently Persona work is not completed, we will enable this once that is done.
 * https://dev-mc.visualstudio.com/Minecraft/_workitems/edit/333996
 */

const REWARD_FEATURE_FLAG = 'vanilla.achievementsReward';
let AchievementFacetStatus;

(function (AchievementFacetStatus) {
  AchievementFacetStatus[AchievementFacetStatus["LOADING"] = 0] = "LOADING";
  AchievementFacetStatus[AchievementFacetStatus["LOADED"] = 1] = "LOADED";
})(AchievementFacetStatus || (AchievementFacetStatus = {}));

const achievementsFacet = (0,react_facet_src.sharedFacet)(ACHIEVEMENTS_FACET);
const groupedAchievementsSelector = (0,react_facet_src.sharedSelector)(achievementsData => {
  return groupAchievements(achievementsData.data.achievements);
}, [achievementsFacet]);
const lockedAchievementsSelector = (0,react_facet_src.sharedSelector)(achievementsData => {
  return filterLocked(achievementsData.data.achievements);
}, [achievementsFacet]);
const lockedOrInProgressAchievementsSelector = (0,react_facet_src.sharedSelector)(achievementsData => {
  return filterLockedOrInProgress(achievementsData.data.achievements);
}, [achievementsFacet]);
const completedAchievementsSelector = (0,react_facet_src.sharedSelector)(achievementsData => {
  return sortCompleted(achievementsData.data.achievements);
}, [achievementsFacet]);
const isAchievementsLoadedSelector = (0,react_facet_src.sharedSelector)(facet => {
  return facet.status === AchievementFacetStatus.LOADED;
}, [achievementsFacet]);
const achievementDetailSelector = (0,react_facet_src.sharedDynamicSelector)(id => [(facet, isLoaded) => {
  const achievement = find_find(facet.data.achievements, achievement => achievement.id === id);
  return {
    isLoaded,
    achievement
  };
}, [achievementsFacet, isAchievementsLoadedSelector]]);
const achievementsSummarySelector = (0,react_facet_src.sharedSelector)(facet => {
  const summary = {
    loaded: facet.status === AchievementFacetStatus.LOADED,
    unlocked: facet.data.achievementsUnlocked,
    total: facet.data.maxAchievements,
    inProgressCount: facet.data.achievements.filter(isAchievementInProgress).length,
    rewardsTotal: countRewards(facet.data.achievements),
    rewardsUnlocked: countUnlockedRewards(facet.data.achievements),
    gamerScore: facet.data.currentGamerScore,
    maxGamerScore: facet.data.maxGamerScore,
    hoursPlayed: facet.data.hoursPlayed
  };
  return summary;
}, [achievementsFacet], react_facet_src.shallowObjectEqualityCheck);
function isAchievementInProgress(achievement) {
  return achievement.isLocked && achievement.progress > 0;
}
function isAchievementCompleted(achievement) {
  return !achievement.isLocked;
}
function isAchievementLockedOrInProgress(achievement) {
  return achievement.isLocked;
}
function isAchievementLocked(achievement) {
  return achievement.isLocked && !achievement.progress;
}
function isAchievementRewardOwned(achievement) {
  return !!(!achievement.isLocked || achievement.isRewardOwned);
}
function countUnlockedRewards(achievements) {
  return achievements.filter(achievement => achievement.hasReward && isAchievementRewardOwned(achievement)).length;
}
function countRewards(achievements) {
  return achievements.filter(achievement => achievement.hasReward).length;
}
function sortCompleted(achievements) {
  return achievements.filter(isAchievementCompleted).sort(compareByDateUnlockedDescending);
}
function filterLocked(achievements) {
  return achievements.filter(isAchievementLocked);
}
function filterLockedOrInProgress(achievements) {
  return achievements.filter(isAchievementLockedOrInProgress).sort(compareProgressDescending);
}
function groupAchievements(achievements) {
  const inProgress = [];
  const completedUnsorted = [];
  const lockedUnsorted = [];
  achievements.forEach(achievement => {
    if (isAchievementLocked(achievement)) {
      lockedUnsorted.push(achievement);
    } else if (isAchievementCompleted(achievement)) {
      completedUnsorted.push(achievement);
    } else {
      inProgress.push(achievement);
    }
  }); // Sorts the inProgress array in-place

  inProgress.sort(compareProgressDescending);
  const locked = lockedUnsorted;
  const completed = sortCompleted(completedUnsorted);
  return {
    inProgress,
    locked,
    completed
  };
}
/**
 * Compare two achievements progress.
 * Considers achievements with rewards first than those without.
 */

function compareProgressDescending(achievementA, achievementB) {
  if (!achievementA.hasReward && achievementB.hasReward) {
    return 1;
  }

  if (achievementA.hasReward && !achievementB.hasReward) {
    return -1;
  }

  if (achievementA.progress < achievementB.progress) {
    return 1;
  }

  if (achievementA.progress > achievementB.progress) {
    return -1;
  }

  return 0;
}
/**
 * Compare two achievements by completed date. Latest first.
 */

function compareByDateUnlockedDescending(achievementA, achievementB) {
  if (achievementA.dateUnlocked < achievementB.dateUnlocked) {
    return 1;
  }

  if (achievementA.dateUnlocked > achievementB.dateUnlocked) {
    return -1;
  }

  return 0;
}
;// CONCATENATED MODULE: ./games/vanilla/engine/src/buildSettingsFacet.ts

const BUILD_SETTINGS_FACET = 'vanilla.buildSettings';
const buildSettingsFacet = (0,react_facet_src.sharedFacet)(BUILD_SETTINGS_FACET);
const isDevBuildSelector = (0,react_facet_src.sharedSelector)(facet => facet.isDevBuild, [buildSettingsFacet]);
const isEduBuildSelector = (0,react_facet_src.sharedSelector)(facet => facet.isEduBuild, [buildSettingsFacet]);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/clipboardFacet.ts

const CLIPBOARD_FACET = 'vanilla.clipboard';
const clipboardFacet = (0,react_facet_src.sharedFacet)(CLIPBOARD_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/createNewWorldFacet.ts

let DifficultyEnum;

(function (DifficultyEnum) {
  DifficultyEnum[DifficultyEnum["PEACEFUL"] = 0] = "PEACEFUL";
  DifficultyEnum[DifficultyEnum["EASY"] = 1] = "EASY";
  DifficultyEnum[DifficultyEnum["NORMAL"] = 2] = "NORMAL";
  DifficultyEnum[DifficultyEnum["HARD"] = 3] = "HARD";
})(DifficultyEnum || (DifficultyEnum = {}));

let DaylightCycleEnum;

(function (DaylightCycleEnum) {
  DaylightCycleEnum[DaylightCycleEnum["NORMAL"] = 0] = "NORMAL";
  DaylightCycleEnum[DaylightCycleEnum["ALWAYS_DAY"] = 1] = "ALWAYS_DAY";
  DaylightCycleEnum[DaylightCycleEnum["LOCK_TIME"] = 2] = "LOCK_TIME";
})(DaylightCycleEnum || (DaylightCycleEnum = {}));

let ExperimentalFeatureCategory;

(function (ExperimentalFeatureCategory) {
  ExperimentalFeatureCategory[ExperimentalFeatureCategory["GAMEPLAY"] = 0] = "GAMEPLAY";
  ExperimentalFeatureCategory[ExperimentalFeatureCategory["ADD_ON_CREATORS"] = 1] = "ADD_ON_CREATORS";
  ExperimentalFeatureCategory[ExperimentalFeatureCategory["INTERNAL_TESTS"] = 2] = "INTERNAL_TESTS";
})(ExperimentalFeatureCategory || (ExperimentalFeatureCategory = {}));

let GeneralMultiplayerWarningStateEnum;

(function (GeneralMultiplayerWarningStateEnum) {
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["NONE"] = 0] = "NONE";
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["CHECK_INTERNET_CONNECTION"] = 1] = "CHECK_INTERNET_CONNECTION";
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION"] = 2] = "DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION";
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY"] = 3] = "LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY";
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY"] = 4] = "MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY";
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["MULTIPLAYER_PRIVILEGES_BLOCKED"] = 5] = "MULTIPLAYER_PRIVILEGES_BLOCKED";
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE"] = 6] = "MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE";
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["CROSS_PLATFORM_DISABLED"] = 7] = "CROSS_PLATFORM_DISABLED";
  GeneralMultiplayerWarningStateEnum[GeneralMultiplayerWarningStateEnum["NON_MULTIPLAYER_SKIN_EQUIPPED"] = 8] = "NON_MULTIPLAYER_SKIN_EQUIPPED";
})(GeneralMultiplayerWarningStateEnum || (GeneralMultiplayerWarningStateEnum = {}));

let CreateOnRealmsError;

(function (CreateOnRealmsError) {
  CreateOnRealmsError[CreateOnRealmsError["UNASSIGNED_DEV_VERSION"] = 0] = "UNASSIGNED_DEV_VERSION";
  CreateOnRealmsError[CreateOnRealmsError["MEMBER_OF_TOO_MANY_REALMS"] = 1] = "MEMBER_OF_TOO_MANY_REALMS";
  CreateOnRealmsError[CreateOnRealmsError["CANNOT_CONNECT_TO_REALM"] = 2] = "CANNOT_CONNECT_TO_REALM";
  CreateOnRealmsError[CreateOnRealmsError["UNKNOWN"] = 3] = "UNKNOWN";
})(CreateOnRealmsError || (CreateOnRealmsError = {}));

let CreateWorldError;

(function (CreateWorldError) {
  CreateWorldError[CreateWorldError["NOT_ENOUGH_STORAGE"] = 0] = "NOT_ENOUGH_STORAGE";
})(CreateWorldError || (CreateWorldError = {}));

let PlayerAccess;

(function (PlayerAccess) {
  PlayerAccess[PlayerAccess["INVITED"] = 1] = "INVITED";
  PlayerAccess[PlayerAccess["FRIENDS"] = 2] = "FRIENDS";
  PlayerAccess[PlayerAccess["FRIENDS_OF_FRIENDS"] = 3] = "FRIENDS_OF_FRIENDS";
})(PlayerAccess || (PlayerAccess = {}));

let PlayerPermissions;

(function (PlayerPermissions) {
  PlayerPermissions[PlayerPermissions["VISITOR"] = 0] = "VISITOR";
  PlayerPermissions[PlayerPermissions["MEMBER"] = 1] = "MEMBER";
  PlayerPermissions[PlayerPermissions["OPERATOR"] = 2] = "OPERATOR";
})(PlayerPermissions || (PlayerPermissions = {}));

const CREATE_NEW_WORLD_FACET = 'vanilla.createNewWorld';
const createNewWorldFacet = (0,react_facet_src.sharedFacet)(CREATE_NEW_WORLD_FACET);
const isEditorWorldSelector = (0,react_facet_src.sharedSelector)(facet => facet.isEditorWorld, [createNewWorldFacet]);
const isUsingTemplateSelector = (0,react_facet_src.sharedSelector)(facet => facet.isUsingTemplate, [createNewWorldFacet]);
const generalSettingsSelector = (0,react_facet_src.sharedSelector)(facet => facet.worldCreationData.general, [createNewWorldFacet]);
const multiplayerSelector = (0,react_facet_src.sharedSelector)(facet => facet.worldCreationData.multiplayer, [createNewWorldFacet]);
const cheatsSettingsSelector = (0,react_facet_src.sharedSelector)(facet => facet.worldCreationData.cheats, [createNewWorldFacet]);
const advancedSettingsSelector = (0,react_facet_src.sharedSelector)(facet => facet.worldCreationData.advanced, [createNewWorldFacet]);
const betaFeaturesEnabledSelector = (0,react_facet_src.sharedSelector)(facet => facet.worldCreationData.betaFeatures.some(feature => feature.isEnabled), [createNewWorldFacet]);
const scriptingCodingSettingsSelector = (0,react_facet_src.sharedSelector)(facet => facet.worldCreationData.scriptingCoding, [createNewWorldFacet]);
const isLockedTemplateSelector = (0,react_facet_src.sharedSelector)(facet => facet.isLockedTemplate, [createNewWorldFacet]);
const applyTemplateSelector = (0,react_facet_src.sharedSelector)(facet => facet.applyTemplate.bind(facet), [createNewWorldFacet]);
const showUnlockSettingsModal = (0,react_facet_src.createFacet)({
  initialValue: false
});
const betaFeatureToggledFacet = (0,react_facet_src.createFacet)({
  initialValue: {
    userTriedToActivateToggle: false,
    doSetToggleValue: () => {},
    userHasAcceptedBetaFeatures: false
  }
});
const achievementsDisabledSelector = (0,react_facet_src.sharedSelector)(facet => facet.isAchievementsDisabled, [createNewWorldFacet]);
const ENABLE_CREATE_WORLD_GRAY_BUTTON = 'vanilla.useGrayCreateOnRealmsButton';
;// CONCATENATED MODULE: ./games/vanilla/engine/src/debugSettingsFacet.ts

const DEBUG_SETTINGS_FACET = 'vanilla.debugSettings';
const debugSettingsFacet = (0,react_facet_src.sharedFacet)(DEBUG_SETTINGS_FACET);
let BiomeDimension;

(function (BiomeDimension) {
  BiomeDimension[BiomeDimension["OVERWORLD"] = 0] = "OVERWORLD";
  BiomeDimension[BiomeDimension["NETHER"] = 1] = "NETHER";
})(BiomeDimension || (BiomeDimension = {}));
;// CONCATENATED MODULE: ./games/vanilla/engine/src/editWorldFacet.ts

let ReadWorldError;

(function (ReadWorldError) {
  ReadWorldError[ReadWorldError["IncorrectWorldId"] = 0] = "IncorrectWorldId";
  ReadWorldError[ReadWorldError["UnexpectedError"] = 1] = "UnexpectedError";
})(ReadWorldError || (ReadWorldError = {}));

let WriteWorldError;

(function (WriteWorldError) {
  WriteWorldError[WriteWorldError["IncorrectWorldId"] = 0] = "IncorrectWorldId";
  WriteWorldError[WriteWorldError["UnableToCreateWorldDirectoryPath"] = 1] = "UnableToCreateWorldDirectoryPath";
  WriteWorldError[WriteWorldError["UnableToCreateResourcePackDirectoryPath"] = 2] = "UnableToCreateResourcePackDirectoryPath";
  WriteWorldError[WriteWorldError["UnableToCreateBehaviorDirectoryPath"] = 3] = "UnableToCreateBehaviorDirectoryPath";
  WriteWorldError[WriteWorldError["InsufficientDiskSpace"] = 4] = "InsufficientDiskSpace";
})(WriteWorldError || (WriteWorldError = {}));

let PackType;

(function (PackType) {
  PackType[PackType["None"] = 0] = "None";
  PackType[PackType["World"] = 1] = "World";
  PackType[PackType["WorldTemplate"] = 2] = "WorldTemplate";
  PackType[PackType["Resource"] = 3] = "Resource";
  PackType[PackType["Behavior"] = 4] = "Behavior";
  PackType[PackType["Skin"] = 5] = "Skin";
  PackType[PackType["ItemCollection"] = 6] = "ItemCollection";
})(PackType || (PackType = {}));

let PackActionError;

(function (PackActionError) {
  PackActionError[PackActionError["InvalidWorldId"] = 0] = "InvalidWorldId";
  PackActionError[PackActionError["InvalidPackType"] = 1] = "InvalidPackType";
  PackActionError[PackActionError["InvalidPackId"] = 2] = "InvalidPackId";
  PackActionError[PackActionError["ContentTierIncompatible"] = 3] = "ContentTierIncompatible";
  PackActionError[PackActionError["ContentTierIncompatibleMemory"] = 4] = "ContentTierIncompatibleMemory";
  PackActionError[PackActionError["ContentTierIncompatibleRayTracing"] = 5] = "ContentTierIncompatibleRayTracing";
  PackActionError[PackActionError["AddDependenciesError"] = 6] = "AddDependenciesError";
  PackActionError[PackActionError["PackSelectErrorNoStore"] = 7] = "PackSelectErrorNoStore";
  PackActionError[PackActionError["PackSelectErrorRequiredDependency"] = 8] = "PackSelectErrorRequiredDependency";
  PackActionError[PackActionError["DataWarning"] = 9] = "DataWarning";
  PackActionError[PackActionError["UnownedContent"] = 10] = "UnownedContent";
  PackActionError[PackActionError["NeedToDownloadPack"] = 11] = "NeedToDownloadPack";
  PackActionError[PackActionError["UnexpectedError"] = 12] = "UnexpectedError";
})(PackActionError || (PackActionError = {}));

let PackDownloadError;

(function (PackDownloadError) {
  PackDownloadError[PackDownloadError["HasPendingOrActiveImports"] = 0] = "HasPendingOrActiveImports";
  PackDownloadError[PackDownloadError["HasUnownedPacks"] = 1] = "HasUnownedPacks";
  PackDownloadError[PackDownloadError["RealmsPlusEnded"] = 2] = "RealmsPlusEnded";
  PackDownloadError[PackDownloadError["MissingDlcDependencies"] = 3] = "MissingDlcDependencies";
  PackDownloadError[PackDownloadError["MissingDlcWorldTemplate"] = 4] = "MissingDlcWorldTemplate";
  PackDownloadError[PackDownloadError["NoInternet"] = 5] = "NoInternet";
  PackDownloadError[PackDownloadError["HasPerformanceIssues"] = 6] = "HasPerformanceIssues";
  PackDownloadError[PackDownloadError["NotEnoughDiskSpace"] = 7] = "NotEnoughDiskSpace";
  PackDownloadError[PackDownloadError["WifiRequiredYetNotAccessible"] = 8] = "WifiRequiredYetNotAccessible";
  PackDownloadError[PackDownloadError["MissingRequiredWorldTemplateRequestUserApproval"] = 9] = "MissingRequiredWorldTemplateRequestUserApproval";
  PackDownloadError[PackDownloadError["InvalidPack"] = 10] = "InvalidPack";
  PackDownloadError[PackDownloadError["InvalidWorld"] = 11] = "InvalidWorld";
  PackDownloadError[PackDownloadError["UnexpectedError"] = 12] = "UnexpectedError";
})(PackDownloadError || (PackDownloadError = {}));

let PackDownloaderStatus;

(function (PackDownloaderStatus) {
  PackDownloaderStatus[PackDownloaderStatus["Idle"] = 0] = "Idle";
  PackDownloaderStatus[PackDownloaderStatus["Downloading"] = 1] = "Downloading";
  PackDownloaderStatus[PackDownloaderStatus["Importing"] = 2] = "Importing";
})(PackDownloaderStatus || (PackDownloaderStatus = {}));

const EDIT_WORLD_FACET = 'vanilla.worldEditor';
const editWorldFacet = (0,react_facet_src.sharedFacet)(EDIT_WORLD_FACET);
const editWorldMultiplayerSelector = (0,react_facet_src.sharedSelector)(facet => facet.worldData.multiplayer, [editWorldFacet]);
const multiplayerSettingsSelectorEditWorld = (0,react_facet_src.sharedSelector)(facet => facet.worldData.multiplayer, [editWorldFacet]);
const advancedSettingsSelectorEditWorld = (0,react_facet_src.sharedSelector)(facet => facet.worldData.advanced, [editWorldFacet]);
const achievementsDisabledModalEditFacet = (0,react_facet_src.createFacet)({
  initialValue: {
    visible: false
  }
});
const achievementsDisabledSelectorEditWorld = (0,react_facet_src.sharedSelector)(facet => facet.isAchievementsEditDisabled, [editWorldFacet]);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/inboxFacet.ts

const INBOX_FACET = 'vanilla.inbox'; // One week in seconds

const ONE_WEEK = 604800;
let InvitationType;

(function (InvitationType) {
  InvitationType[InvitationType["NONE"] = 0] = "NONE";
  InvitationType[InvitationType["REALMS"] = 1] = "REALMS";
  InvitationType[InvitationType["GAME"] = 2] = "GAME";
})(InvitationType || (InvitationType = {}));

let InvitationStatus;

(function (InvitationStatus) {
  InvitationStatus[InvitationStatus["NONE"] = 0] = "NONE";
  InvitationStatus[InvitationStatus["ACCEPTED"] = 1] = "ACCEPTED";
  InvitationStatus[InvitationStatus["REJECTED"] = 2] = "REJECTED";
  InvitationStatus[InvitationStatus["EXPIRED"] = 3] = "EXPIRED";
  InvitationStatus[InvitationStatus["JOIN"] = 5] = "JOIN";
})(InvitationStatus || (InvitationStatus = {}));

let InboxMessageType;

(function (InboxMessageType) {
  InboxMessageType[InboxMessageType["NEWS"] = 0] = "NEWS";
  InboxMessageType[InboxMessageType["INVITES"] = 1] = "INVITES";
  InboxMessageType[InboxMessageType["REALMS"] = 2] = "REALMS";
})(InboxMessageType || (InboxMessageType = {}));

function categoryDataToStringValue(value) {
  switch (value) {
    case InboxMessageType.NEWS:
      return 'news';

    case InboxMessageType.INVITES:
      return 'invites';

    case InboxMessageType.REALMS:
      return 'realms';
  }
}
function stringValueCategoryToData(value) {
  switch (value) {
    case 'news':
      return InboxMessageType.NEWS;

    case 'invites':
      return InboxMessageType.INVITES;

    case 'realms':
      return InboxMessageType.REALMS;
  }
}
const inboxSharedFacet = (0,react_facet_src.sharedFacet)(INBOX_FACET);
function groupMessageData(inboxMessages) {
  const newsData = {
    recent: [],
    history: []
  };
  const invitesData = {
    recent: [],
    history: []
  };
  const realmsData = {
    recent: [],
    history: []
  };
  inboxMessages.forEach(message => {
    const today = msToDays(Date.now());
    const dateRecieved = secondsToDays(message.dateReceived);
    const isRecent = today - dateRecieved <= secondsToDays(ONE_WEEK);

    switch (message.announcementType) {
      case InboxMessageType.NEWS:
        {
          if (isRecent) {
            newsData.recent.push(message);
          } else {
            newsData.history.push(message);
          }

          break;
        }

      case InboxMessageType.INVITES:
        {
          if (isRecent) {
            invitesData.recent.push(message);
          } else {
            invitesData.history.push(message);
          }

          break;
        }

      case InboxMessageType.REALMS:
        {
          if (isRecent) {
            realmsData.recent.push(message);
          } else {
            realmsData.history.push(message);
          }

          break;
        }
    }
  });
  return {
    newsData,
    invitesData,
    realmsData
  };
}
const categorizedMessagesSelector = (0,react_facet_src.sharedSelector)(inbox => {
  return groupMessageData(inbox.inboxMessages);
}, [inboxSharedFacet]);
function secondsToDays(seconds) {
  return Math.floor(seconds / 60 / 60 / 24);
}
function msToDays(ms) {
  return secondsToDays(Math.floor(ms / 1000));
}
// EXTERNAL MODULE: ./games/vanilla/engine/src/levelDataBindings.ts
var levelDataBindings = __webpack_require__(5107);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/marketplaceSuggestionsFacet.ts
 // The way that the data driven marketplace page works is that you have to
// provide the title and page id of where you want to end up, and this
// information depends on where we're routing _from_.
//
// This GetMorePacksData interface is a way to make this state accessible to the
// JavaScript code so that these dynamic route query paramers can be accessed.
//
// The reason this can't be done from the backend is because the code that
// handles the routing doesn't know any details about the page we're currently
// on, and its the marketplace suggestions that determine which data driven
// page we should navigate to.

const MARKETPLACE_SUGGESTIONS_FACET = 'vanilla.marketplaceSuggestions';
const marketplaceSuggestionsFacet = (0,react_facet_src.sharedFacet)(MARKETPLACE_SUGGESTIONS_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/notificationOptionsFacet.ts

const NOTIFICATION_OPTIONS_FACET = 'vanilla.notificationOptions';
const notificationOptionsFacet = (0,react_facet_src.sharedFacet)(NOTIFICATION_OPTIONS_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/optionsFacet.ts
 // the order of this enum should synch with NewInteractionModel enum in minecraftpe

let TouchControlSchemeEnum;

(function (TouchControlSchemeEnum) {
  TouchControlSchemeEnum[TouchControlSchemeEnum["TOUCH"] = 0] = "TOUCH";
  TouchControlSchemeEnum[TouchControlSchemeEnum["CROSSHAIR"] = 1] = "CROSSHAIR";
  TouchControlSchemeEnum[TouchControlSchemeEnum["CLASSIC"] = 2] = "CLASSIC";
})(TouchControlSchemeEnum || (TouchControlSchemeEnum = {}));

const OPTIONS_FACET = 'vanilla.options';
const optionsFacet = (0,react_facet_src.sharedFacet)(OPTIONS_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/playerMessagingServiceFacet.ts


const PLAYER_MESSAGING_SERVICE_FACET = 'vanilla.playermessagingservice';
let PlayerMessagingServiceFacetStatus;

(function (PlayerMessagingServiceFacetStatus) {
  PlayerMessagingServiceFacetStatus[PlayerMessagingServiceFacetStatus["LOADING"] = 0] = "LOADING";
  PlayerMessagingServiceFacetStatus[PlayerMessagingServiceFacetStatus["IMAGE_RETRIEVAL"] = 1] = "IMAGE_RETRIEVAL";
  PlayerMessagingServiceFacetStatus[PlayerMessagingServiceFacetStatus["LOADED"] = 2] = "LOADED";
})(PlayerMessagingServiceFacetStatus || (PlayerMessagingServiceFacetStatus = {}));

const playerMessagingServiceFacet = (0,react_facet_src.sharedFacet)(PLAYER_MESSAGING_SERVICE_FACET);
const applyReportClick = (0,react_facet_src.sharedSelector)(facet => facet.reportClick.bind(facet), [playerMessagingServiceFacet]);
const applyReportDismiss = (0,react_facet_src.sharedSelector)(facet => facet.reportDismiss.bind(facet), [playerMessagingServiceFacet]);
const isMessagingLoadedSelector = (0,react_facet_src.sharedSelector)(facet => {
  return facet.status != PlayerMessagingServiceFacetStatus.LOADING;
}, [playerMessagingServiceFacet]);
const messageDetailSelector = (0,react_facet_src.sharedDynamicSelector)(id => [(facet, isLoaded) => {
  const message = find_find(facet.data.messages, message => message.id === id);
  return {
    isLoaded,
    message
  };
}, [playerMessagingServiceFacet, isMessagingLoadedSelector]]);
function getAdditionalProperty(props, propName) {
  const filtered = props.filter(prop => prop.key == propName);
  if (filtered.length > 0) return filtered[0];
  return undefined;
}

function filterMessagesSurface(messages, surface) {
  return messages.filter(message => message.surface == surface);
}

const messagesBySurfaceSelector = (0,react_facet_src.sharedDynamicSelector)(surface => [(facet, isLoaded) => {
  const messages = filterMessagesSurface(facet.data.messages, surface);
  return {
    isLoaded,
    messages
  };
}, [playerMessagingServiceFacet, isMessagingLoadedSelector]]);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/playerReportFacet.ts

const PLAYER_REPORT_FACET = 'vanilla.playerReport';
const playerReportFacet = (0,react_facet_src.sharedFacet)(PLAYER_REPORT_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/profanityFilterFacet.ts

const PROFANITY_FILTER_FACET = 'vanilla.profanityFilter';
const profanityFilterFacet = (0,react_facet_src.sharedFacet)(PROFANITY_FILTER_FACET);
;// CONCATENATED MODULE: ./packages/gameface-hacks/src/slice.ts
// FIXME remove this once gameface supports slice on all platforms
function slice(oldArray, start, end) {
  let length = oldArray == null ? 0 : oldArray.length;

  if (!length) {
    return [];
  }

  start = start == null ? 0 : start;
  end = end == null ? length : end;

  if (start < 0) {
    start = -start > length ? 0 : length + start;
  }

  end = end > length ? length : end;

  if (end < 0) {
    end += length;
  }

  length = start > end ? 0 : end - start >>> 0;
  start >>>= 0;
  let index = -1;
  const newArray = new Array(length);

  while (++index < length) {
    newArray[index] = oldArray[index + start];
  }

  return newArray;
}
;// CONCATENATED MODULE: ./packages/gameface-hacks/src/filter.ts
function filter_filter(array, f) {
  const result = [];

  for (let i = 0; i < array.length; i++) {
    if (f(array[i], i, array)) {
      result.push(array[i]);
    }
  }

  return result;
}
;// CONCATENATED MODULE: ./games/vanilla/engine/src/types.ts
let PromptActionVariant; // Intended to be the primary prompt interface

(function (PromptActionVariant) {
  PromptActionVariant[PromptActionVariant["Primary"] = 0] = "Primary";
  PromptActionVariant[PromptActionVariant["Secondary"] = 1] = "Secondary";
})(PromptActionVariant || (PromptActionVariant = {}));

// Argument for `/tabbed-upsell`
let TabbedUpsellScreenDefaultTab;

(function (TabbedUpsellScreenDefaultTab) {
  TabbedUpsellScreenDefaultTab["MINECRAFT"] = "minecraft";
  TabbedUpsellScreenDefaultTab["XBL"] = "xbl";
  TabbedUpsellScreenDefaultTab["ACHIEVEMENTS"] = "achievements";
  TabbedUpsellScreenDefaultTab["MULTIPLAYER"] = "multiplayer";
  TabbedUpsellScreenDefaultTab["SERVER"] = "server";
  TabbedUpsellScreenDefaultTab["STORE"] = "store";
  TabbedUpsellScreenDefaultTab["CREATIVE"] = "creative";
  TabbedUpsellScreenDefaultTab["PACKS"] = "packs";
  TabbedUpsellScreenDefaultTab["SEEDS"] = "seeds";
})(TabbedUpsellScreenDefaultTab || (TabbedUpsellScreenDefaultTab = {}));

let GameMode;

(function (GameMode) {
  GameMode[GameMode["SURVIVAL"] = 0] = "SURVIVAL";
  GameMode[GameMode["CREATIVE"] = 1] = "CREATIVE";
  GameMode[GameMode["ADVENTURE"] = 2] = "ADVENTURE";
})(GameMode || (GameMode = {}));

let types_AsyncStatefulFunctionState;
/**
 * Asynchronous functions that can have a persistent result.
 *
 * For a detailed explanation, see:
 * https://github.com/Mojang/minecraft-ui/pull/4571
 */

(function (AsyncStatefulFunctionState) {
  AsyncStatefulFunctionState[AsyncStatefulFunctionState["Idle"] = 0] = "Idle";
  AsyncStatefulFunctionState[AsyncStatefulFunctionState["InProgress"] = 1] = "InProgress";
  AsyncStatefulFunctionState[AsyncStatefulFunctionState["Completed"] = 2] = "Completed";
})(types_AsyncStatefulFunctionState || (types_AsyncStatefulFunctionState = {}));
;// CONCATENATED MODULE: ./games/vanilla/engine/src/realmsStoriesFacet.ts



let RealmsStoriesFacetStatus;

(function (RealmsStoriesFacetStatus) {
  RealmsStoriesFacetStatus[RealmsStoriesFacetStatus["UNLOADED"] = -1] = "UNLOADED";
  RealmsStoriesFacetStatus[RealmsStoriesFacetStatus["LOADING"] = 0] = "LOADING";
  RealmsStoriesFacetStatus[RealmsStoriesFacetStatus["LOADED"] = 1] = "LOADED";
})(RealmsStoriesFacetStatus || (RealmsStoriesFacetStatus = {}));

let RealmPlayerRoleEnum;

(function (RealmPlayerRoleEnum) {
  RealmPlayerRoleEnum[RealmPlayerRoleEnum["NONMEMBER"] = -1] = "NONMEMBER";
  RealmPlayerRoleEnum[RealmPlayerRoleEnum["VISITOR"] = 0] = "VISITOR";
  RealmPlayerRoleEnum[RealmPlayerRoleEnum["MEMBER"] = 1] = "MEMBER";
  RealmPlayerRoleEnum[RealmPlayerRoleEnum["OPERATOR"] = 2] = "OPERATOR";
  RealmPlayerRoleEnum[RealmPlayerRoleEnum["OWNER"] = 3] = "OWNER";
})(RealmPlayerRoleEnum || (RealmPlayerRoleEnum = {}));

let RealmMemberFilterOption;

(function (RealmMemberFilterOption) {
  RealmMemberFilterOption[RealmMemberFilterOption["All"] = 0] = "All";
  RealmMemberFilterOption[RealmMemberFilterOption["Online"] = 1] = "Online";
  RealmMemberFilterOption[RealmMemberFilterOption["Operators"] = 2] = "Operators";
  RealmMemberFilterOption[RealmMemberFilterOption["Members"] = 3] = "Members";
  RealmMemberFilterOption[RealmMemberFilterOption["Visitors"] = 4] = "Visitors";
  RealmMemberFilterOption[RealmMemberFilterOption["Friends"] = 5] = "Friends";
})(RealmMemberFilterOption || (RealmMemberFilterOption = {}));

let RealmMemberSortOption;

(function (RealmMemberSortOption) {
  RealmMemberSortOption[RealmMemberSortOption["MostRecent"] = 0] = "MostRecent";
  RealmMemberSortOption[RealmMemberSortOption["AlphabeticalAscending"] = 1] = "AlphabeticalAscending";
  RealmMemberSortOption[RealmMemberSortOption["AlphabeticalDescending"] = 2] = "AlphabeticalDescending";
  RealmMemberSortOption[RealmMemberSortOption["LeastRecent"] = 3] = "LeastRecent";
})(RealmMemberSortOption || (RealmMemberSortOption = {}));

let FetchResult;

(function (FetchResult) {
  FetchResult[FetchResult["SUCCESS"] = 0] = "SUCCESS";
  FetchResult[FetchResult["INTERNAL_ERROR"] = 1] = "INTERNAL_ERROR";
  FetchResult[FetchResult["FETCH_FAILED"] = 2] = "FETCH_FAILED";
})(FetchResult || (FetchResult = {}));

let PostResult;

(function (PostResult) {
  PostResult[PostResult["SUCCESS"] = 0] = "SUCCESS";
  PostResult[PostResult["INPUT_INVALID"] = 1] = "INPUT_INVALID";
  PostResult[PostResult["INTERNAL_ERROR"] = 2] = "INTERNAL_ERROR";
  PostResult[PostResult["UPLOAD_FAILED"] = 3] = "UPLOAD_FAILED";
})(PostResult || (PostResult = {}));

const REALMS_STORIES_FACET = 'vanilla.realmsStories';
const realmsStoriesFacet = (0,react_facet_src.sharedFacet)(REALMS_STORIES_FACET);
const REALM_PLAYER_LAST_LOGIN_MAP = new Map();
const REPLACEMENT_REALM_PLAYER_GAMER_TAG = '76b0b1a7-b594-43fc-bb8c-9e60c48669a2';
const isRealmsStoriesLoadedSelector = (0,react_facet_src.sharedSelector)(facet => {
  return facet.status === RealmsStoriesFacetStatus.LOADED;
}, [realmsStoriesFacet]);
const realmStoriesSelector = (0,react_facet_src.sharedSelector)(facet => {
  return slice(facet.data.stories, 0);
}, [realmsStoriesFacet]);
const realmNewStoriesCountSelector = (0,react_facet_src.sharedSelector)(facet => {
  return filter_filter(facet.data.stories, story => !story.hasViewed).length;
}, [realmsStoriesFacet]);
const realmStorySelector = (0,react_facet_src.sharedDynamicSelector)(id => [facet => {
  const realmStory = find_find(facet.data.stories, story => story.id === id);
  const isCommentsLoaded = realmStory ? realmStory.fetchComments.result === FetchResult.SUCCESS : false;
  return {
    isCommentsLoaded,
    realmStory
  };
}, [realmsStoriesFacet]]);
const realmStoryCommentsSelector = (0,react_facet_src.sharedDynamicSelector)(id => [facet => {
  const story = find_find(facet.data.stories, story => story.id === id);
  return story && story.fetchComments.result === FetchResult.SUCCESS ? story.comments : react_facet_src.NO_VALUE;
}, [realmsStoriesFacet, isRealmsStoriesLoadedSelector]]);
function selectMostRecentRealmPlayers(players) {
  // Build player last login map if its empty
  if (REALM_PLAYER_LAST_LOGIN_MAP.entries.length === 0) {
    players.forEach(player => {
      REALM_PLAYER_LAST_LOGIN_MAP.set(player.gamerTag, getLatestRealmPlayerSessionLogin(player));
    });
  }

  return sortRealmPlayerByMostRecent(players);
}
const groupedRealmPlayersByRoleSelector = (0,react_facet_src.sharedSelector)(facet => {
  return groupRealmPlayersByRole(facet.data.members);
}, [realmsStoriesFacet]);
function groupRealmPlayersByRole(players) {
  const allPlayers = [];
  const members = [];
  const operators = [];
  const visitors = [];
  const online = [];
  players.forEach(player => {
    REALM_PLAYER_LAST_LOGIN_MAP.set(player.gamerTag, getLatestRealmPlayerSessionLogin(player));
    allPlayers.push(player);

    if (player.isOnline) {
      online.push(player);
    }

    if (player.role === RealmPlayerRoleEnum.MEMBER) {
      members.push(player);
    } else if (player.role === RealmPlayerRoleEnum.OPERATOR || player.role === RealmPlayerRoleEnum.OWNER) {
      operators.push(player);
    } else if (player.role === RealmPlayerRoleEnum.VISITOR) {
      visitors.push(player);
    }
  });
  return {
    allPlayers,
    members,
    online,
    operators,
    visitors
  };
} // This method adds a fake realm player to the beginning of a list of players. It's used for displaying the vertical add button on the Members Tabs.

function addButtonReplacementPlayer(players) {
  const replacementPlayer = {
    gamerTag: REPLACEMENT_REALM_PLAYER_GAMER_TAG,
    role: RealmPlayerRoleEnum.NONMEMBER,
    isOnline: false,
    profileStatus: RealmsStoriesFacetStatus.LOADED,
    fetchSessions: {
      run: () => {},
      cancel: () => false,
      clear: () => {},
      result: FetchResult.SUCCESS,
      state: AsyncStatefulFunctionState.Completed
    },
    recentSessions: []
  };
  const displayPlayers = [];

  for (let i = -1; i < players.length; i++) {
    if (i == -1) {
      displayPlayers.push(replacementPlayer);
    } else if (i >= 0 && players[i].gamerTag !== REPLACEMENT_REALM_PLAYER_GAMER_TAG) {
      displayPlayers.push(players[i]);
    }
  }

  return displayPlayers;
}
function filterRealmPlayersByGamerTagSearch(players, value) {
  return players.filter(player => player.gamerTag.toLocaleLowerCase().includes(value.toLocaleLowerCase()));
}
function sortRealmPlayerGamerTagAlphabeticallyAscending(members) {
  return members.sort(compareGamerTagAlphabeticallyAscending);
}
function compareGamerTagAlphabeticallyAscending(memberA, memberB) {
  const gamerTagA = memberA.gamerTag.toLocaleLowerCase();
  const gamerTagB = memberB.gamerTag.toLocaleLowerCase();
  return localeCompare(gamerTagA, gamerTagB);
}
function sortRealmPlayerGamerTagAlphabeticallyDescending(members) {
  return members.sort(compareGamerTagAlphabeticallyDescending);
}
function compareGamerTagAlphabeticallyDescending(memberA, memberB) {
  return compareGamerTagAlphabeticallyAscending(memberB, memberA);
}
function sortRealmPlayerByMostRecent(members) {
  return members.sort(comparePlayerLastLoginDescending);
}
function comparePlayerLastLoginDescending(playerA, playerB) {
  const lastLoginB = REALM_PLAYER_LAST_LOGIN_MAP.has(playerB.gamerTag) ? REALM_PLAYER_LAST_LOGIN_MAP.get(playerB.gamerTag) : 0;
  const lastLoginA = REALM_PLAYER_LAST_LOGIN_MAP.has(playerA.gamerTag) ? REALM_PLAYER_LAST_LOGIN_MAP.get(playerA.gamerTag) : 0;
  return lastLoginB - lastLoginA;
}
function sortRealmPlayerByLeastActive(members) {
  return members.sort(comparePlayerLastLoginAscending);
}
function comparePlayerLastLoginAscending(playerA, playerB) {
  return comparePlayerLastLoginDescending(playerB, playerA);
}
function getLatestRealmPlayerSessionLogin(player) {
  player.fetchSessions.run();

  if (player.fetchSessions.result === FetchResult.SUCCESS && player.recentSessions.length > 0) {
    return player.recentSessions[0].login;
  }

  return 0;
}

function forceTwoDigits(num) {
  return (num < 10 && num >= 0 ? '0' : '') + num;
}

function convertSecondsToTime(seconds) {
  const date = new Date(seconds * 1000);
  const minutes = forceTwoDigits(date.getUTCMinutes());
  return `${date.getUTCHours()}:${minutes}`;
}
;// CONCATENATED MODULE: ./games/vanilla/engine/src/resourcePacksFacet.ts

let ResourcePacksFacetStatus; // Original prompt interface for download modal
// Intended to be deprecated when the above becomes mainstream

(function (ResourcePacksFacetStatus) {
  ResourcePacksFacetStatus[ResourcePacksFacetStatus["Idle"] = 0] = "Idle";
  ResourcePacksFacetStatus[ResourcePacksFacetStatus["CheckingResourcePacks"] = 1] = "CheckingResourcePacks";
  ResourcePacksFacetStatus[ResourcePacksFacetStatus["StartDownload"] = 2] = "StartDownload";
  ResourcePacksFacetStatus[ResourcePacksFacetStatus["DownloadingResourcePacks"] = 3] = "DownloadingResourcePacks";
  ResourcePacksFacetStatus[ResourcePacksFacetStatus["ActivateDownloadedPack"] = 4] = "ActivateDownloadedPack";
  ResourcePacksFacetStatus[ResourcePacksFacetStatus["WaitingForPrompt"] = 5] = "WaitingForPrompt";
})(ResourcePacksFacetStatus || (ResourcePacksFacetStatus = {}));

const RESOURCE_PACKS_FACET = 'vanilla.resourcePacks';
const resourcePacksFacet = (0,react_facet_src.sharedFacet)(RESOURCE_PACKS_FACET);
const resourcePackApiSelector = (0,react_facet_src.sharedSelector)(facet => {
  return {
    cancelDownload: facet.cancelDownload.bind(facet),
    confirmDownload: facet.confirmDownload.bind(facet),
    activate: facet.activate.bind(facet),
    deactivate: facet.deactivate.bind(facet)
  };
}, [resourcePacksFacet]);
const resourcePackStatusSelector = (0,react_facet_src.sharedSelector)(facet => facet.status, [resourcePacksFacet]);
const texturePackSelectors = {
  activePacks: (0,react_facet_src.sharedSelector)(facet => facet.texturePacks.active, [resourcePacksFacet]),
  activeGlobalPacks: (0,react_facet_src.sharedSelector)(facet => facet.texturePacks.activeGlobal, [resourcePacksFacet]),
  inactivePacks: (0,react_facet_src.sharedSelector)(facet => facet.texturePacks.available, [resourcePacksFacet]),
  realmsPlusPacks: (0,react_facet_src.sharedSelector)(facet => facet.texturePacks.realms, [resourcePacksFacet]),
  featuredPacks: (0,react_facet_src.sharedSelector)(facet => facet.texturePacks.unowned, [resourcePacksFacet])
};
const behaviorPacksEnabledSelector = (0,react_facet_src.sharedSelector)(facet => facet.behaviorPacks.active.length > 0, [resourcePacksFacet]);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/screenTechStackFacet.ts

let ScreenName;

(function (ScreenName) {
  ScreenName["PlayScreen"] = "/play";
  ScreenName["EditWorldScreen"] = "/edit-world";
})(ScreenName || (ScreenName = {}));

let UITechStack;

(function (UITechStack) {
  UITechStack[UITechStack["JsonUI"] = 0] = "JsonUI";
  UITechStack[UITechStack["OreUI"] = 1] = "OreUI";
})(UITechStack || (UITechStack = {}));

const SCREEN_TECH_STACK_FACET = 'vanilla.screenTechStack';
const screenTechStackFacet = (0,react_facet_src.sharedFacet)(SCREEN_TECH_STACK_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/seedTemplateFacet.ts

const SEED_TEMPLATES_FACET = 'vanilla.seedTemplates';
const seedTemplatesFacet = (0,react_facet_src.sharedFacet)(SEED_TEMPLATES_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/simulationDistanceFacet.ts

const SIMULATION_DISTANCE_FACET = 'vanilla.simulationDistanceOptions';
const simulationDistanceFacet = (0,react_facet_src.sharedFacet)(SIMULATION_DISTANCE_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/telemetryFacet.ts

const TELEMETRY_FACET = 'vanilla.telemetry';
const telemetryFacet = (0,react_facet_src.sharedFacet)(TELEMETRY_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/userAccountFacet.ts
 //The order of this enum should match the PostSignInAction enum in Minecraftpe's UserAccountFacet.h

let PostSignInAction;

(function (PostSignInAction) {
  PostSignInAction[PostSignInAction["DO_NOTHING"] = 0] = "DO_NOTHING";
  PostSignInAction[PostSignInAction["SAVE_ENTITLEMENTS"] = 1] = "SAVE_ENTITLEMENTS";
})(PostSignInAction || (PostSignInAction = {}));

const USER_ACCOUNT_FACET = 'vanilla.userAccount';
const userAccountFacet = (0,react_facet_src.sharedFacet)(USER_ACCOUNT_FACET);
const isTrialAccountSelector = (0,react_facet_src.sharedSelector)(facet => facet.isTrialAccount, [userAccountFacet]);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/webBrowserFacet.ts

let WebBrowserLink;

(function (WebBrowserLink) {
  WebBrowserLink[WebBrowserLink["NewWorldCreationFeedbackPage"] = 0] = "NewWorldCreationFeedbackPage";
  WebBrowserLink[WebBrowserLink["PlayScreenFeedbackPage"] = 1] = "PlayScreenFeedbackPage";
  WebBrowserLink[WebBrowserLink["EditWorldScreenFeedbackPage"] = 2] = "EditWorldScreenFeedbackPage";
  WebBrowserLink[WebBrowserLink["DeathScreenFeedbackPage"] = 3] = "DeathScreenFeedbackPage";
})(WebBrowserLink || (WebBrowserLink = {}));

const WEB_BROWSER_FACET = 'vanilla.webBrowserFacet';
const webBrowserFacet = (0,react_facet_src.sharedFacet)(WEB_BROWSER_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/worldListFacet.ts

const WORLD_LIST_FACET = 'vanilla.worldList';
const worldListFacet = (0,react_facet_src.sharedFacet)(WORLD_LIST_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/worldStartupFacet.ts

let StartLocalWorldResult;

(function (StartLocalWorldResult) {
  StartLocalWorldResult[StartLocalWorldResult["Ok"] = 0] = "Ok";
  StartLocalWorldResult[StartLocalWorldResult["WorldNotInLevelList"] = 1] = "WorldNotInLevelList";
  StartLocalWorldResult[StartLocalWorldResult["StartupAlreadyInProgress"] = 2] = "StartupAlreadyInProgress";
  StartLocalWorldResult[StartLocalWorldResult["GameServerStarterNotReady"] = 3] = "GameServerStarterNotReady";
})(StartLocalWorldResult || (StartLocalWorldResult = {}));

const WORLD_STARTUP_FACET = 'vanilla.worldStartup';
const worldStartupFacet = (0,react_facet_src.sharedFacet)(WORLD_STARTUP_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/worldTemplateListFacet.ts

const WORLD_TEMPLATE_LIST_FACET = 'vanilla.worldTemplateList';
const worldTemplateListFacet = (0,react_facet_src.sharedFacet)(WORLD_TEMPLATE_LIST_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/worldTransferFacet.ts

// This enum should be synced with:
// 	MinecraftPe::handheld/src-client/common/client/world/WorldTransferer.h
let WorldTransferResult;

(function (WorldTransferResult) {
  WorldTransferResult[WorldTransferResult["Success"] = 0] = "Success";
  WorldTransferResult[WorldTransferResult["FailureUnknown"] = 1] = "FailureUnknown";
  WorldTransferResult[WorldTransferResult["FailureNoFile"] = 2] = "FailureNoFile";
  WorldTransferResult[WorldTransferResult["FailureZipError"] = 3] = "FailureZipError";
  WorldTransferResult[WorldTransferResult["FailurePremiumContent"] = 4] = "FailurePremiumContent";
  WorldTransferResult[WorldTransferResult["FailureEditionMismatch"] = 5] = "FailureEditionMismatch";
  WorldTransferResult[WorldTransferResult["FailureEditorMismatch"] = 6] = "FailureEditorMismatch";
  WorldTransferResult[WorldTransferResult["UnsupportedPlatform"] = 7] = "UnsupportedPlatform";
  WorldTransferResult[WorldTransferResult["AlreadyInProgress"] = 8] = "AlreadyInProgress";
  WorldTransferResult[WorldTransferResult["InterruptedByUser"] = 9] = "InterruptedByUser";
})(WorldTransferResult || (WorldTransferResult = {}));

const WORLD_TRANSFER_FACET = 'vanilla.worldTransfer';
const worldTransferFacet = (0,react_facet_src.sharedFacet)(WORLD_TRANSFER_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine/src/index.ts































;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/statefulFunctionBindings.tsx





var DivisionError;

(function (DivisionError) {
  DivisionError[DivisionError["DivideByZero"] = 1] = "DivideByZero";
})(DivisionError || (DivisionError = {}));

var DownloadError;

(function (DownloadError) {
  DownloadError[DownloadError["NoInternet"] = 0] = "NoInternet";
  DownloadError[DownloadError["ConnectionError"] = 1] = "ConnectionError";
})(DownloadError || (DownloadError = {}));

const STATEFUL_FUNCTION_TEST_FACET = 'test.actionBinding';
const statefulFunctionTestFacet = (0,react_facet_src.sharedFacet)(STATEFUL_FUNCTION_TEST_FACET);

function ModalContainer({
  children
}) {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement("div", {
    style: {
      position: 'relative'
    }
  }, children), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }));
}

function DivisionErrorModal() {
  const statefulFunctionTest = (0,react_facet_src.useSharedFacet)(statefulFunctionTestFacet);
  const visible = (0,react_facet_src.useFacetMap)(statefulFunctionTest => statefulFunctionTest.divide.result != null, [], [statefulFunctionTest]);
  const onClose = (0,react_facet_src.useFacetCallback)(statefulFunctionTest => () => {
    statefulFunctionTest.divide.clear();
  }, [], [statefulFunctionTest]);
  const message = "Can't divide by zero!";
  return /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: visible
  }, /*#__PURE__*/react.createElement(Modal_Modal, null, /*#__PURE__*/react.createElement(Modal_Modal.Header, {
    onClose: onClose
  }, 'Something went wrong'), /*#__PURE__*/react.createElement(Modal_Modal.Content, null, /*#__PURE__*/react.createElement(Modal_Modal.Text, {
    gamepadIndex: 0,
    narrationText: message
  }, message), /*#__PURE__*/react.createElement(Modal_Modal.Buttons, null, /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: 'Close',
    variant: "secondary",
    onClick: onClose
  }, 'Close')))));
}

function NumberInputField({
  gamepadIndex,
  label,
  value,
  setValue
}) {
  const randomNumber = () => {
    return Math.floor(Math.random() * 10);
  };

  return /*#__PURE__*/react.createElement(TextField.WithButton, {
    gamepadIndex: gamepadIndex,
    label: label,
    value: value,
    onChange: setValue,
    isNumber: true,
    buttonText: 'Randomize',
    buttonInputLegend: 'Randomize',
    buttonOnClick: () => {
      setValue(String(randomNumber()));
    }
  });
}

function DivisionSection() {
  const [firstNum, setFirstNum] = (0,react.useState)('');
  const [secondNum, setSecondNum] = (0,react.useState)('');
  const argsMissing = !(firstNum.length > 0 && secondNum.length > 0);
  const statefulFunctionTest = (0,react_facet_src.useSharedFacet)(statefulFunctionTestFacet);
  const quotient = (0,react_facet_src.useFacetMap)(statefulFunctionTest => {
    return String(statefulFunctionTest.quotient);
  }, [], [statefulFunctionTest]);
  const divideNumbers = (0,react_facet_src.useFacetCallback)(statefulFunctionTest => () => {
    statefulFunctionTest.divide.run(Number(firstNum), Number(secondNum));
  }, [firstNum, secondNum], [statefulFunctionTest]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("h2", null, "StatefulFunction binding"), /*#__PURE__*/react.createElement("p", null, "Test for stateful function that can fail. Enter numbers to calculate their quotient. Try dividing with zero!"), /*#__PURE__*/react.createElement(ModalContainer, null, /*#__PURE__*/react.createElement(TextField, {
    gamepadIndex: 0,
    label: "Quotient",
    value: quotient,
    disabled: true
  }), /*#__PURE__*/react.createElement(NumberInputField, {
    gamepadIndex: 1,
    label: "First number",
    value: firstNum,
    setValue: setFirstNum
  }), /*#__PURE__*/react.createElement(NumberInputField, {
    gamepadIndex: 2,
    label: "Second number",
    value: secondNum,
    setValue: setSecondNum
  }), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 3,
    inputLegend: false,
    disabled: argsMissing,
    onClick: divideNumbers
  }, "Divide numbers"), /*#__PURE__*/react.createElement(DivisionErrorModal, null)));
}

function DataFetchingModal() {
  const statefulFunctionTest = (0,react_facet_src.useSharedFacet)(statefulFunctionTestFacet);
  const cancelFetchData = (0,react_facet_src.useFacetCallback)(statefulFunctionTest => () => {
    statefulFunctionTest.fetchData.cancel();
  }, [], [statefulFunctionTest]);
  const showModal = (0,react_facet_src.useFacetMap)(statefulFunctionTest => {
    return statefulFunctionTest.fetchData.state == types_AsyncStatefulFunctionState.InProgress;
  }, [], [statefulFunctionTest]);
  const downloadProgress = (0,react_facet_src.useFacetMap)(statefulFunctionTest => {
    var _statefulFunctionTest;

    return (_statefulFunctionTest = statefulFunctionTest.fetchData.progress) !== null && _statefulFunctionTest !== void 0 ? _statefulFunctionTest : 0;
  }, [], [statefulFunctionTest]);
  return /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: showModal
  }, /*#__PURE__*/react.createElement(Modal_Modal, null, /*#__PURE__*/react.createElement(Modal_Modal.Header, {
    onClose: cancelFetchData
  }, "Fetching data.."), /*#__PURE__*/react.createElement(Modal_Modal.Content, null, /*#__PURE__*/react.createElement(Modal_Modal.Progress, {
    percentage: downloadProgress
  }))));
}

function DownloadErrorModal() {
  const statefulFunctionTest = (0,react_facet_src.useSharedFacet)(statefulFunctionTestFacet);
  const fetchData = (0,react_facet_src.useFacetMap)(statefulFunctionTest => statefulFunctionTest.fetchData, [], [statefulFunctionTest]);
  const visible = (0,react_facet_src.useFacetMap)(fetchData => fetchData.result != null, [], [fetchData]);
  const onClose = (0,react_facet_src.useFacetCallback)(fetchData => () => {
    fetchData.clear();
  }, [], [fetchData]);
  const message = (0,react_facet_src.useFacetMap)(fetchData => {
    if (fetchData.result == DownloadError.NoInternet) return 'No internet connection';
    if (fetchData.result == DownloadError.ConnectionError) return "Couldn't connect to server";
    return '';
  }, [], [fetchData]);
  return /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: visible
  }, /*#__PURE__*/react.createElement(Modal_Modal, null, /*#__PURE__*/react.createElement(Modal_Modal.Header, {
    onClose: onClose
  }, 'Something went wrong'), /*#__PURE__*/react.createElement(Modal_Modal.Content, null, /*#__PURE__*/react.createElement(Modal_Modal.Text, {
    gamepadIndex: 0,
    narrationText: message
  }, message), /*#__PURE__*/react.createElement(Modal_Modal.Buttons, null, /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: 'Close',
    variant: "secondary",
    onClick: onClose
  }, 'Close')))));
}

function DownloadSection() {
  const statefulFunctionTest = (0,react_facet_src.useSharedFacet)(statefulFunctionTestFacet);
  const startFetchData = (0,react_facet_src.useFacetCallback)(statefulFunctionTest => () => {
    statefulFunctionTest.fetchData.run();
  }, [], [statefulFunctionTest]);
  const downloadedData = (0,react_facet_src.useFacetMap)(statefulFunctionTest => {
    return statefulFunctionTest.downloadedData;
  }, [], [statefulFunctionTest]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("h2", null, "AsyncStatefulFunction binding"), /*#__PURE__*/react.createElement(ModalContainer, null, /*#__PURE__*/react.createElement("p", null, "Test for async stateful function that can fail. The facet will cycle between the following states:"), /*#__PURE__*/react.createElement("ol", null, /*#__PURE__*/react.createElement("li", null, "1. Successfully fetching data "), /*#__PURE__*/react.createElement("li", null, "2. Failing with \"No internet\""), /*#__PURE__*/react.createElement("li", null, "3. Failing with \"Connection error\"")), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(TextField, {
    gamepadIndex: 0,
    label: "Downloaded data",
    value: downloadedData,
    disabled: true
  }), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 0,
    inputLegend: false,
    onClick: startFetchData
  }, "Fetch data"), /*#__PURE__*/react.createElement(DataFetchingModal, null), /*#__PURE__*/react.createElement(DownloadErrorModal, null)));
}

function StatefulFunctionBindingsTest() {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("p", null, "Test screen for the StatefulFunction and AsyncStatefulFunction data structures."), /*#__PURE__*/react.createElement(DivisionSection, null), /*#__PURE__*/react.createElement(DownloadSection, null));
}

const statefulFunctionBindings = [{
  element: /*#__PURE__*/react.createElement(StatefulFunctionBindingsTest, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/store-2.png
const store_2_namespaceObject = __webpack_require__.p + "assets/store-2-d257f.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/alpha.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const alpha = ({"opacityBox":"eVT1y","img":"jMHVz","opacity0":"_3IU9b","opacity03":"lIcr7","opacity07":"cuVIx","opacity1":"hljta","alphaColorsBox":"zkWbJ","alphaBox":"Od21s","alpha0":"QEX2Q","alpha03":"miB_c","alpha07":"FhIPo","alpha1":"azsUB","eighthex0":"pix0c","eighthex03":"B61FP","eighthex07":"aiGKc","eighthex1":"TPiSV"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/alpha.tsx





function Alpha() {
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("div", {
    className: alpha.opacityBox
  }, /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(alpha.img, alpha.opacity1),
    src: store_2_namespaceObject,
    alt: "image"
  }), /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(alpha.img, alpha.opacity07),
    src: store_2_namespaceObject,
    alt: "image"
  }), /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(alpha.img, alpha.opacity03),
    src: store_2_namespaceObject,
    alt: "image"
  }), /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(alpha.img, alpha.opacity0),
    src: store_2_namespaceObject,
    alt: "image"
  })), /*#__PURE__*/react.createElement("div", {
    className: alpha.alphaColorsBox
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(alpha.alphaBox, alpha.alpha1)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(alpha.alphaBox, alpha.alpha07)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(alpha.alphaBox, alpha.alpha03)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(alpha.alphaBox, alpha.alpha0)
  })), /*#__PURE__*/react.createElement("div", {
    className: alpha.alphaColorsBox
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(alpha.alphaBox, alpha.eighthex1)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(alpha.alphaBox, alpha.eighthex07)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(alpha.alphaBox, alpha.eighthex03)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(alpha.alphaBox, alpha.eighthex0)
  })));
}

const alpha_alpha = [{
  element: /*#__PURE__*/react.createElement(Alpha, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/world-anim.png
const world_anim_namespaceObject = __webpack_require__.p + "assets/world-anim-b0603.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/animations.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const css_animations = ({"animationBackgroundPosition":"egEnd","animationBackgroundPosition2":"f23GV","flyingCat":"rBNID","bounce-around":"DZ7m7","scalingCat":"Xjyy6","scale-around":"jGEa4","pngSequenceTest":"VARyH","ballbounce":"lfjae"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/animationBgPosition.tsx





function AnimationBackgroundPosition() {
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(css_animations.animationBackgroundPosition, css_animations.animationBackgroundPosition2)
  }, /*#__PURE__*/react.createElement("img", {
    src: world_anim_namespaceObject
  }), /*#__PURE__*/react.createElement("div", {
    className: css_animations.pngSequenceTest
  }));
}

const animationBgPosition = [{
  element: /*#__PURE__*/react.createElement(AnimationBackgroundPosition, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/world.png
const world_namespaceObject = __webpack_require__.p + "assets/world-cfb03.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/animationScaling.tsx




function AnimationScaling() {
  return /*#__PURE__*/react.createElement("div", {
    className: css_animations.animationBackgroundPosition
  }, /*#__PURE__*/react.createElement("img", {
    className: css_animations.scalingCat,
    src: world_namespaceObject
  }));
}

const animationScaling = [{
  wrapper: children => /*#__PURE__*/react.createElement("div", {
    style: {
      width: '100%',
      height: '100vh',
      justifyContent: 'center'
    }
  }, children),
  element: /*#__PURE__*/react.createElement(AnimationScaling, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/animationTranslation.tsx




function AnimationTranslations() {
  return /*#__PURE__*/react.createElement("div", {
    className: css_animations.animationBackgroundPosition
  }, /*#__PURE__*/react.createElement("img", {
    className: css_animations.flyingCat,
    src: world_namespaceObject
  }));
}

const animationTranslation = [{
  wrapper: children => /*#__PURE__*/react.createElement("div", {
    style: {
      width: '100%',
      height: '100vh',
      justifyContent: 'center'
    }
  }, children),
  element: /*#__PURE__*/react.createElement(AnimationTranslations, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/antiAliasing.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const antiAliasing = ({"container":"tMhZQ","testContainer":"pS9Pk","boxWrapper":"DfcMW","leftAnimation":"kCICA","translateAnimation":"v9xB7","translateXAnimation":"nhyHi","box":"MLABy","disabled":"AEhtF","textContainer":"IWfPc","enabledWithSnap":"gJnxb","enabledWithoutSnap":"r44RN","disabledWithSnap":"nsCAj","disabledWithoutSnap":"GsCgu"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/antiAliasing.tsx





const TextExample = ({
  type
}) => {
  const text = `You will not be able to earn Achievements in this world with your current settings. If you would like to earn Achievements, change this setting before creating your world:`;
  return /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.textContainer
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionLong",
    align: 'center'
  }, /*#__PURE__*/react.createElement("span", {
    className: type
  }, text)));
};

function AntiAliasing() {
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("h2", null, "Animations"), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.container
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.testContainer
  }, /*#__PURE__*/react.createElement("li", null, "Anti-aliasing"), /*#__PURE__*/react.createElement("li", null, "Pixel rounding"), /*#__PURE__*/react.createElement("hr", null), /*#__PURE__*/react.createElement("li", null, "translateX"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(antiAliasing.boxWrapper, antiAliasing.translateAnimation, antiAliasing.enabledWithSnap)
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  })), /*#__PURE__*/react.createElement("li", null, "left"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(antiAliasing.boxWrapper, antiAliasing.leftAnimation, antiAliasing.enabledWithSnap)
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }))), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.testContainer
  }, /*#__PURE__*/react.createElement("li", null, "Anti-aliasing"), /*#__PURE__*/react.createElement("li", {
    className: antiAliasing.disabled
  }, "Pixel rounding"), /*#__PURE__*/react.createElement("hr", null), /*#__PURE__*/react.createElement("li", null, "translateX"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(antiAliasing.boxWrapper, antiAliasing.translateAnimation, antiAliasing.enabledWithoutSnap)
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  })), /*#__PURE__*/react.createElement("li", null, "left"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(antiAliasing.boxWrapper, antiAliasing.leftAnimation, antiAliasing.enabledWithoutSnap)
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }))), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.testContainer
  }, /*#__PURE__*/react.createElement("li", {
    className: antiAliasing.disabled
  }, "Anti-aliasing"), /*#__PURE__*/react.createElement("li", null, "Pixel rounding"), /*#__PURE__*/react.createElement("hr", null), /*#__PURE__*/react.createElement("li", null, "translateX"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(antiAliasing.boxWrapper, antiAliasing.translateAnimation, antiAliasing.disabledWithSnap)
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  })), /*#__PURE__*/react.createElement("li", null, "left"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(antiAliasing.boxWrapper, antiAliasing.leftAnimation, antiAliasing.disabledWithSnap)
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }))), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.testContainer
  }, /*#__PURE__*/react.createElement("li", {
    className: antiAliasing.disabled
  }, "Anti-aliasing"), /*#__PURE__*/react.createElement("li", {
    className: antiAliasing.disabled
  }, "Pixel rounding"), /*#__PURE__*/react.createElement("hr", null), /*#__PURE__*/react.createElement("li", null, "translateX"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(antiAliasing.boxWrapper, antiAliasing.translateAnimation, antiAliasing.disabledWithoutSnap)
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  })), /*#__PURE__*/react.createElement("li", null, "left"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(antiAliasing.boxWrapper, antiAliasing.leftAnimation, antiAliasing.disabledWithoutSnap)
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  }), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.box
  })))), /*#__PURE__*/react.createElement("h2", null, "Font rendering"), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.container
  }, /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.testContainer
  }, /*#__PURE__*/react.createElement("li", null, "Anti-aliasing"), /*#__PURE__*/react.createElement("li", null, "Pixel rounding"), /*#__PURE__*/react.createElement("hr", null), /*#__PURE__*/react.createElement(TextExample, {
    type: antiAliasing.enabledWithSnap
  })), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.testContainer
  }, /*#__PURE__*/react.createElement("li", null, "Anti-aliasing"), /*#__PURE__*/react.createElement("li", {
    className: antiAliasing.disabled
  }, "Pixel rounding"), /*#__PURE__*/react.createElement("hr", null), /*#__PURE__*/react.createElement(TextExample, {
    type: antiAliasing.enabledWithoutSnap
  })), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.testContainer
  }, /*#__PURE__*/react.createElement("li", {
    className: antiAliasing.disabled
  }, "Anti-aliasing"), /*#__PURE__*/react.createElement("li", null, "Pixel rounding"), /*#__PURE__*/react.createElement("hr", null), /*#__PURE__*/react.createElement(TextExample, {
    type: antiAliasing.disabledWithSnap
  })), /*#__PURE__*/react.createElement("div", {
    className: antiAliasing.testContainer
  }, /*#__PURE__*/react.createElement("li", {
    className: antiAliasing.disabled
  }, "Anti-aliasing"), /*#__PURE__*/react.createElement("li", {
    className: antiAliasing.disabled
  }, "Pixel rounding"), /*#__PURE__*/react.createElement("hr", null), /*#__PURE__*/react.createElement(TextExample, {
    type: antiAliasing.disabledWithoutSnap
  }))));
}

const antiAliasing_antiAliasing = [{
  element: /*#__PURE__*/react.createElement(AntiAliasing, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/bitmapFonts.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const bitmapFonts = ({"box":"AEXaL","description":"Isdtw","bitmap8":"_tfAY","bitmap16":"beZ_e","zeropointfivex":"MykHC","onex":"NOeOK","onepointfivex":"OXnZi","twox":"DWADa","twopointfivex":"Hz5BJ","threex":"cPo7j","fourx":"eIZfu","fivex":"lsj1x","red":"HHNzx","noTextWrapping":"whGGM","textWrapping":"bh9zV"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/bitmapFonts.tsx







function BitmapFonts() {
  var _deviceInformation$gu;

  const deviceInformation = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(deviceInformationFacet));
  if (deviceInformation == null || deviceInformation === react_facet_src.NO_VALUE) return null;
  const guiScale = ((_deviceInformation$gu = deviceInformation.guiScaleBase) !== null && _deviceInformation$gu !== void 0 ? _deviceInformation$gu : 0) + deviceInformation.guiScaleModifier;
  const evenGuiScale = guiScale % 2 == 0;
  console.log('evenGuiScale', evenGuiScale);
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Please not that this page might be empty, if the bitmap fonts are not loaded by the game which is the default case."), /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: false,
    gamepadIndex: 0,
    onClick: () => {}
  }, "Exists only to allow scrolling with gamepad"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 8, Scale 1, 100% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap8, bitmapFonts.onex)
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase."), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 8, Scale 2, 200% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap8, bitmapFonts.twox)
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase."), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 8, Scale 3, 300% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap8, bitmapFonts.threex)
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase."), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 8, Scale 4, 400% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap8, bitmapFonts.fourx)
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase."), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 8, Scale 5, 500% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap8, bitmapFonts.fivex)
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase."), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 16, Scale 1, 50% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap16, bitmapFonts.zeropointfivex, bitmapFonts.red)
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase. \u6C49\u8BED \u6F22\u8A9E \u0440\u0443\u0441\u0441\u043A\u0438\u0439 \u044F\u0437\u044B\u043A \u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC \u53D6"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 16, Scale 2, 100% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap16, bitmapFonts.onex)
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase. \u6C49\u8BED \u6F22\u8A9E \u0440\u0443\u0441\u0441\u043A\u0438\u0439 \u044F\u0437\u044B\u043A \u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC \u53D6"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 16, Scale 3, 150% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap16, bitmapFonts.onepointfivex, {
      [bitmapFonts.red]: evenGuiScale
    })
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase. \u6C49\u8BED \u6F22\u8A9E \u0440\u0443\u0441\u0441\u043A\u0438\u0439 \u044F\u0437\u044B\u043A \u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC \u53D6"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 16, Scale 4, 200% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap16, bitmapFonts.twox, {
      [bitmapFonts.red]: !evenGuiScale
    })
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase. \u6C49\u8BED \u6F22\u8A9E \u0440\u0443\u0441\u0441\u043A\u0438\u0439 \u044F\u0437\u044B\u043A \u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC \u53D6"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.description)
  }, "Bitmap 16, Scale 5, 250% of original texture"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap16, bitmapFonts.twopointfivex, {
      [bitmapFonts.red]: evenGuiScale
    })
  }, "You can manage your subscription and turn off auto-renewal by accessing your iTunes Account settings after purchase. \u6C49\u8BED \u6F22\u8A9E \u0440\u0443\u0441\u0441\u043A\u0438\u0439 \u044F\u0437\u044B\u043A \u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC \u53D6"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap16, bitmapFonts.onex, bitmapFonts.noTextWrapping)
  }, "\u8D2D\u4E70\u4E4B\u540E\u60A8\u53EF\u4EE5\u8BBF\u95EE iTunes \u8D26\u6237\uFF0C\u7BA1\u7406\u60A8\u7684\u8BA2\u9605\uFF0C\u5173\u95ED\u81EA\u52A8\u66F4\u65B0\u3002\u5982\u679C\u60A8\u5728\u8BA2\u9605\u6FC0\u6D3B\u540E\u53D6\u6D88"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap16, bitmapFonts.onex, bitmapFonts.textWrapping)
  }, "\u8D2D\u4E70\u4E4B\u540E\u60A8\u53EF\u4EE5\u8BBF\u95EE iTunes \u8D26\u6237\uFF0C\u7BA1\u7406\u60A8\u7684\u8BA2\u9605\uFF0C\u5173\u95ED\u81EA\u52A8\u66F4\u65B0\u3002\u5982\u679C\u60A8\u5728\u8BA2\u9605\u6FC0\u6D3B\u540E\u53D6\u6D88"), /*#__PURE__*/react.createElement("p", {
    className: classnames_default()(bitmapFonts.box, bitmapFonts.bitmap16, bitmapFonts.onex)
  }, "0x0 @ 0x1 \u0140 0x2 \u0240 0x3 \u0340 0x4 \u0440 0x5 \u0540 0x6 \u0640 0x7 \u0740 0x9 \u0940 0xa \u0A40 0xb \u0B40 0xc \u0C40 0xd \u0D40 0xe \u0E40 0xf \u0F40 0x10 \u1040 0x11 \u1140 0x12 \u1240 0x13 \u1340 0x14 \u1440 0x15 \u1540 0x16 \u1640 0x17 \u1740 0x18 \u1840 0x19 \u1940 0x1a \u1A40 0x1b \u1B40 0x1c \u1C40 0x1d \u1D40 0x1e \u1E40 0x1f \u1F40 0x20 \u2040 0x21 \u2140 0x22 \u2240 0x23 \u2340 0x24 \u2440 0x25 \u2540 0x26 \u2640 0x27 \u2740 0x28 \u2840 0x29 \u2940 0x2a \u2A40 0x2b \u2B40 0x2c \u2C40 0x2d \u2D40 0x2e \u2E40 0x2f \u2F40 0x30 \u3040 0x31 \u3140 0x32 \u3240 0x33 \u3340 0x34 \u3440 0x35 \u3540 0x36 \u3640 0x37 \u3740 0x38 \u3840 0x39 \u3940 0x3a \u3A40 0x3b \u3B40 0x3c \u3C40 0x3d \u3D40 0x3e \u3E40 0x3f \u3F40 0x40 \u4040 0x41 \u4140 0x42 \u4240 0x43 \u4340 0x44 \u4440 0x45 \u4540 0x46 \u4640 0x47 \u4740 0x48 \u4840 0x49 \u4940 0x4a \u4A40 0x4b \u4B40 0x4c \u4C40 0x4d \u4D40 0x4e \u4E40 0x4f \u4F40 0x50 \u5040 0x51 \u5140 0x52 \u5240 0x53 \u5340 0x54 \u5440 0x55 \u5540 0x56 \u5640 0x57 \u5740 0x58 \u5840 0x59 \u5940 0x5a \u5A40 0x5b \u5B40 0x5c \u5C40 0x5d \u5D40 0x5e \u5E40 0x5f \u5F40 0x60 \u6040 0x61 \u6140 0x62 \u6240 0x63 \u6340 0x64 \u6440 0x65 \u6540 0x66 \u6640 0x67 \u6740 0x68 \u6840 0x69 \u6940 0x6a \u6A40 0x6b \u6B40 0x6c \u6C40 0x6d \u6D40 0x6e \u6E40 0x6f \u6F40 0x70 \u7040 0x71 \u7140 0x72 \u7240 0x73 \u7340 0x74 \u7440 0x75 \u7540 0x76 \u7640 0x77 \u7740 0x78 \u7840 0x79 \u7940 0x7a \u7A40 0x7b \u7B40 0x7c \u7C40 0x7d \u7D40 0x7e \u7E40 0x7f \u7F40 0x80 \u8040 0x81 \u8140 0x82 \u8240 0x83 \u8340 0x84 \u8440 0x85 \u8540 0x86 \u8640 0x87 \u8740 0x88 \u8840 0x89 \u8940 0x8a \u8A40 0x8b \u8B40 0x8c \u8C40 0x8d \u8D40 0x8e \u8E40 0x8f \u8F40 0x90 \u9040 0x91 \u9140 0x92 \u9240 0x93 \u9340 0x94 \u9440 0x95 \u9540 0x96 \u9640 0x97 \u9740 0x98 \u9840 0x99 \u9940 0x9a \u9A40 0x9b \u9B40 0x9c \u9C40 0x9d \u9D40 0x9e \u9E40 0x9f \u9F40 0xa0 \uA040 0xa1 \uA140 0xa2 \uA240 0xa3 \uA340 0xa4 \uA440 0xa5 \uA540 0xa6 \uA640 0xa7 \uA740 0xa8 \uA840 0xa9 \uA940 0xaa \uAA40 0xab \uAB40 0xac \uAC40 0xad \uAD40 0xae \uAE40 0xaf \uAF40 0xb0 \uB040 0xb1 \uB140 0xb2 \uB240 0xb3 \uB340 0xb4 \uB440 0xb5 \uB540 0xb6 \uB640 0xb7 \uB740 0xb8 \uB840 0xb9 \uB940 0xba \uBA40 0xbb \uBB40 0xbc \uBC40 0xbd \uBD40 0xbe \uBE40 0xbf \uBF40 0xc0 \uC040 0xc1 \uC140 0xc2 \uC240 0xc3 \uC340 0xc4 \uC440 0xc5 \uC540 0xc6 \uC640 0xc7 \uC740 0xc8 \uC840 0xc9 \uC940 0xca \uCA40 0xcb \uCB40 0xcc \uCC40 0xcd \uCD40 0xce \uCE40 0xcf \uCF40 0xd0 \uD040 0xd1 \uD140 0xd2 \uD240 0xd3 \uD340 0xd4 \uD440 0xd5 \uD540 0xd6 \uD640 0xd7 \uD740 0xe0 \uE040 0xe1 \uE140 0xf9 \uF940 0xfa \uFA40 0xfb \uFB40 0xfc \uFC40 0xfd \uFDE0 0xfe \uFE40 0xff \uFF40"));
}

const bitmapFonts_bitmapFonts = [{
  element: /*#__PURE__*/react.createElement(BitmapFonts, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/buttons.tsx




function ButtonScenario() {
  const data = new Array(100).fill(0).map((data, index) => `Button ${index}`);
  return /*#__PURE__*/react.createElement("div", {
    style: {
      height: '20rem'
    }
  }, /*#__PURE__*/react.createElement(ScrollView_ScrollView, {
    loading: false,
    gamepadIndex: 0
  }, data.map((text, index) => /*#__PURE__*/react.createElement(Button_Button, {
    key: index,
    onClick: () => {
      console.log(`You clicked: ${index} ${Date.now()}`);
    },
    gamepadIndex: 0,
    inputLegend: false
  }, text))));
}

const buttons = [{
  description: 'Used to test various states of clickable components',
  element: /*#__PURE__*/react.createElement(ButtonScenario, null)
}];
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingRed/images/pingRed.png
const pingRed_namespaceObject = __webpack_require__.p + "assets/pingRed-c43cb.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingRed/IconPingRed.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconPingRed = ({"iconPingRed":"DeSbe"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingRed/IconPingRed.tsx




const IconPingRed_IconPingRed = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconPingRed.iconPingRed,
  src: pingRed_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingYellow/images/pingYellow.png
const pingYellow_namespaceObject = __webpack_require__.p + "assets/pingYellow-7aa95.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingYellow/IconPingYellow.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconPingYellow = ({"iconPingYellow":"HxqCq"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingYellow/IconPingYellow.tsx




const IconPingYellow_IconPingYellow = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconPingYellow.iconPingYellow,
  src: pingYellow_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingGreen/images/pingGreen.png
const pingGreen_namespaceObject = __webpack_require__.p + "assets/pingGreen-cff4e.png";
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingGreen/IconPingGreen.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const IconPingGreen = ({"iconPingGreen":"V0B0o"});
;// CONCATENATED MODULE: ./packages/ui-icons/src/IconPingGreen/IconPingGreen.tsx




const IconPingGreen_IconPingGreen = () => /*#__PURE__*/react.createElement(Image_Image_Image, {
  className: IconPingGreen.iconPingGreen,
  src: pingGreen_namespaceObject,
  imageRendering: "pixelated"
});
;// CONCATENATED MODULE: ./packages/ui/src/ListItem/ListItem.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ListItem = ({"listItem":"YtiPa","action":"JEpL_","additionalAction":"hKrf6","fitContent":"WTHvW","main":"Czp6I","rowCell":"OkAos","alignStart":"uLBvt","alignCenter":"TCu2R","columnCell":"FX1uD","cell":"ncwRl","hovered":"ExDsu","focused":"_7LiN","pressed":"OWgmn","icon":"lmdxd","tall":"sPd5G","tallAdditionalAction":"GxN1j"});
// EXTERNAL MODULE: ./node_modules/@react-facet/deferred-mount/dist/index.js
var deferred_mount_dist = __webpack_require__(1170);
;// CONCATENATED MODULE: ./packages/ui/src/ListItem/ListItem.tsx













const TallContext = (0,react.createContext)(false);

const useTallListItem = () => (0,react.useContext)(TallContext);

function ListItemAction({
  autofocus,
  children,
  onClick,
  inputLegend,
  narrationText,
  gamepadAlias,
  soundEffectPressed,
  onFocusChanged,
  onHoverChanged,
  gamepadIndex = 0,
  role = 'neutral'
}) {
  const {
    color: {
      [role]: semanticClassNames
    },
    sound: {
      [role]: semanticSound
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: role
  }, /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    autofocus: autofocus,
    gamepadAlias: gamepadAlias,
    className: classnames_default()(ListItem.action, semanticClassNames.background.interactive, semanticClassNames.text.base),
    classNameHovered: ListItem.hovered,
    classNameFocused: classnames_default()(ListItem.focused, focusClass),
    classNamePressed: classnames_default()(ListItem.pressed),
    gamepadIndex: gamepadIndex,
    inputLegend: inputLegend,
    narrationText: narrationText,
    onClick: onClick,
    onFocusChanged: onFocusChanged,
    onHoverChanged: onHoverChanged,
    soundEffectPressed: soundEffectPressed !== null && soundEffectPressed !== void 0 ? soundEffectPressed : semanticSound.press
  }, /*#__PURE__*/react.createElement(Focus_Focus, null), /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "bevel"
  }), children));
}

function ActionShortcut({
  onClick,
  shortcut,
  inputLegend
}) {
  const inputLegendFacet = (0,react_facet_src.useFacetWrap)(inputLegend);
  return /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: (0,react_facet_src.useFacetMap)(inputLegend => ({
      button: shortcut,
      inputLegend
    }), [shortcut], [inputLegendFacet]),
    onClick: onClick
  });
}

function ListItemAdditionalAction({
  children,
  onClick,
  onGamepadClick,
  onUp,
  onDown,
  onLeft,
  onRight,
  onMouseDown,
  shortcut,
  inputLegend,
  narrationText,
  gamepadAlias,
  hidden = false,
  fitContent = false,
  gamepadIndex = 0,
  innerRef,
  touchDetectionDelay,
  soundEffectPressed,
  role = 'neutral'
}) {
  const hiddenFacet = (0,react_facet_src.useFacetWrap)(hidden);
  const tall = useTallListItem();
  const {
    color: {
      [role]: semanticClassNames
    },
    sound: {
      [role]: semanticSound
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: (0,react_facet_src.useFacetMap)(hidden => !hidden, [], [hiddenFacet])
  }, /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: role
  }, shortcut != null ? /*#__PURE__*/react.createElement(ActionShortcut, {
    onClick: onClick,
    shortcut: shortcut,
    inputLegend: inputLegend
  }) : null, /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    className: classnames_default()(ListItem.additionalAction, semanticClassNames.background.interactive, {
      [ListItem.fitContent]: fitContent,
      [ListItem.tallAdditionalAction]: tall
    }),
    touchDetectionDelay: touchDetectionDelay,
    soundEffectPressed: soundEffectPressed !== null && soundEffectPressed !== void 0 ? soundEffectPressed : semanticSound.press,
    classNameHovered: ListItem.hovered,
    classNameFocused: classnames_default()(ListItem.focused, focusClass),
    classNamePressed: ListItem.pressed,
    gamepadIndex: gamepadIndex,
    gamepadAlias: gamepadAlias,
    inputLegend: inputLegend,
    onClick: onClick,
    onGamepadClick: onGamepadClick,
    onUp: onUp,
    onDown: onDown,
    onLeft: onLeft,
    onRight: onRight,
    onMouseDown: onMouseDown,
    narrationText: narrationText,
    innerRef: innerRef
  }, /*#__PURE__*/react.createElement(Focus_Focus, null), /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "bevel"
  }), children)));
}
function ListItemCell({
  children,
  direction = 'column',
  align = 'end'
}) {
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(ListItem.cell, {
      [ListItem.rowCell]: direction === 'row',
      [ListItem.columnCell]: direction === 'column',
      [ListItem.alignStart]: align === 'start',
      [ListItem.alignCenter]: align === 'center'
    })
  }, children);
}
function ListItemMain({
  children,
  role = 'inherit'
}) {
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(ListItem.main, semanticClassNames.background.interactive)
  }, children);
}

/**
 * ListItem root component.
 * It can defer the rendering of its children when used in a SectionList, FlatList or a context with DeferredMountProvider.
 */
function ListItem_ListItem({
  tall = false,
  children,
  isFocusable = false,
  narrationText,
  gamepadAlias,
  gamepadIndex,
  innerRef,
  defaultFocusedChildBehavior,
  role = 'neutral80'
}) {
  const gamepadIndexFacet = (0,react_facet_src.useFacetWrap)(gamepadIndex);
  const defaultFocusedChildBehaviorFacet = (0,react_facet_src.useFacetWrap)(defaultFocusedChildBehavior);
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  const narrationTextFacet = (0,react_facet_src.useFacetWrap)(narrationText !== null && narrationText !== void 0 ? narrationText : false);
  return /*#__PURE__*/react.createElement(TallContext.Provider, {
    value: tall
  }, /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: role
  }, /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive.Maybe, {
    isInteractive: isFocusable,
    gamepadAlias: gamepadAlias,
    className: classnames_default()(ListItem.listItem, semanticClassNames.border.base, semanticClassNames.text.base, {
      [ListItem.tall]: tall
    }),
    innerRef: innerRef,
    classNameFocused: classnames_default()(ListItem.focused, focusClass),
    gamepadIndex: gamepadIndex,
    inputLegend: false,
    narrationText: narrationTextFacet
  }, isFocusable && /*#__PURE__*/react.createElement(Focus_Focus, null), /*#__PURE__*/react.createElement(deferred_mount_dist.DeferredMount, null, /*#__PURE__*/react.createElement(Row, {
    shouldSkipLandmarkInVisual: true,
    options: (0,react_facet_src.useFacetMap)((gamepadIndex, defaultFocusedChildBehavior) => ({
      index: gamepadIndex,
      defaultFocusedChildBehavior
    }), [], [gamepadIndexFacet, defaultFocusedChildBehaviorFacet])
  }, children)))));
}

const getIcon = type => {
  switch (type) {
    case 'green':
      return /*#__PURE__*/react.createElement(IconPingGreen_IconPingGreen, null);

    case 'red':
      return /*#__PURE__*/react.createElement(IconPingRed_IconPingRed, null);

    case 'yellow':
      return /*#__PURE__*/react.createElement(IconPingYellow_IconPingYellow, null);
  }
};

function ListItemIcon({
  type,
  variant,
  color,
  text
}) {
  const icon = getIcon(type);
  return /*#__PURE__*/react.createElement("div", {
    className: ListItem.icon
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: variant,
    color: color
  }, text), icon);
}
ListItem_ListItem.Action = ListItemAction;
ListItem_ListItem.AdditionalAction = ListItemAdditionalAction;
ListItem_ListItem.Main = ListItemMain;
ListItem_ListItem.Cell = ListItemCell;
ListItem_ListItem.Icon = ListItemIcon;
;// CONCATENATED MODULE: ./packages/ui/src/Grid/Grid.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Grid = ({"grid":"ntKoM","gridGutters":"ff9nb","gridTablet":"U7wpy","gridNarrow":"QkM5F","row":"RdcBM","rowFullHeight":"RLVUP","column":"HC8D1","size0":"QfUEI","size1":"Utxph","size2":"Dg54A","size3":"MMNOr","size4":"vkrmB","size5":"Vg8dV","size6":"prur7","size7":"PbjpE","size8":"KbazU","size9":"M3EqJ","size10":"sjbd3","size11":"Pp_FL","size12":"tylz3","sizeNarrow0":"ms6DS","sizeNarrow1":"JOyPB","sizeNarrow2":"LG4ow","sizeNarrow3":"jyNdx","sizeNarrow4":"fgAuI","sizeNarrow5":"lGz_T","sizeNarrow6":"drXOL","sizeNarrow7":"VDLgd","sizeNarrow8":"A06Gv"});
;// CONCATENATED MODULE: ./packages/ui/src/Grid/Grid.tsx






const Grid_Column = props => {
  const {
    disabled,
    defaultFocusedChildAlias,
    defaultFocusedChildBehavior,
    wideSize,
    narrowSize
  } = props;
  const sizeStyle = classnames_default()(Grid[`size${wideSize}`], Grid[`sizeNarrow${narrowSize}`]);
  const className = classnames_default()(Grid.column, sizeStyle);

  if ('gamepadIndex' in props) {
    return /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
      shouldSkipLandmarkInVisual: true,
      gamepadIndex: props.gamepadIndex,
      disabled: disabled,
      defaultFocusedChildAlias: defaultFocusedChildAlias,
      defaultFocusedChildBehavior: defaultFocusedChildBehavior
    }, /*#__PURE__*/react.createElement("div", {
      className: className
    }, props.children));
  } // Column used as a spacer


  return /*#__PURE__*/react.createElement("div", {
    className: className
  });
};

function Grid_Row({
  children,
  gamepadIndex,
  disabled,
  defaultFocusedChildAlias,
  defaultFocusedChildBehavior,
  fullHeight,
  className
}) {
  return /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
    gamepadIndex: gamepadIndex,
    shouldSkipLandmarkInVisual: true,
    disabled: disabled,
    defaultFocusedChildAlias: defaultFocusedChildAlias,
    defaultFocusedChildBehavior: defaultFocusedChildBehavior
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Grid.row, className, {
      [Grid.rowFullHeight]: fullHeight
    })
  }, children));
}

function Grid_Grid({
  children,
  noGutters = false
}) {
  const breakpoint = useWindowBreakpoint();
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Grid.grid, {
      [Grid.gridNarrow]: breakpoint === 'narrow',
      [Grid.gridTablet]: breakpoint === 'tablet',
      [Grid.gridGutters]: breakpoint === 'desktop' || !noGutters
    })
  }, children);
}
Grid_Grid.displayName = 'Grid';
Grid_Grid.Column = Grid_Column;
Grid_Grid.Row = Grid_Row;
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/collapsingContent.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const collapsingContent = ({"rectangle":"QIzn3","expandedContent":"SqFYR","bounceExpandedContent":"m98BQ","staticExpandedContent":"lMPC4","noHeight":"r92U0","noHeightNoBounce":"bfu1r","displayNone":"GU2vr","scenarioWrapper":"dnuYK"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/collapsingContent.tsx








const AnimatedExpandedContent = ({
  expanded
}) => {
  return /*#__PURE__*/react.createElement("div", {
    className: `${collapsingContent.expandedContent} ${expanded ? '' : collapsingContent.noHeight}`
  }, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), "Hello world!", /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }));
};

const StaticExpandedContent = () => /*#__PURE__*/react.createElement("div", {
  className: collapsingContent.staticExpandedContent
}, /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 4
}), "Hello world!", /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 4
}));

const ShowHideExpandedContent = ({
  expanded
}) => /*#__PURE__*/react.createElement("div", {
  className: `${collapsingContent.staticExpandedContent} ${!expanded ? collapsingContent.displayNone : ''}`
}, /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 4
}), "Hello world!", /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 4
}));

const BounceExpandedContent = ({
  expanded
}) => /*#__PURE__*/react.createElement("div", {
  className: `${collapsingContent.bounceExpandedContent} ${!expanded ? collapsingContent.noHeightNoBounce : ''}`
}, /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 4
}), "Hello world!", /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 4
}));

const AnimatedAddRemoveExpandableItem = ({
  gamepadIndex
}) => {
  const [expanded, setExpanded] = (0,react.useState)(false);
  return /*#__PURE__*/react.createElement(ExpandableItem, {
    gamepadIndex: gamepadIndex,
    onExpandToggle: () => setExpanded(!expanded)
  }, /*#__PURE__*/react.createElement(AnimatedExpandedContent, {
    expanded: expanded
  }));
};

const AddRemoveExpandableItem = ({
  gamepadIndex
}) => {
  const [expanded, setExpanded] = (0,react.useState)(false);
  return /*#__PURE__*/react.createElement(ExpandableItem, {
    gamepadIndex: gamepadIndex,
    onExpandToggle: () => setExpanded(!expanded)
  }, expanded && /*#__PURE__*/react.createElement(StaticExpandedContent, null));
};

const ShowHideExpandableItem = ({
  gamepadIndex
}) => {
  const [expanded, setExpanded] = (0,react.useState)(false);
  return /*#__PURE__*/react.createElement(ExpandableItem, {
    gamepadIndex: gamepadIndex,
    onExpandToggle: () => setExpanded(!expanded)
  }, /*#__PURE__*/react.createElement(ShowHideExpandedContent, {
    expanded: expanded
  }));
};

const BounceExpandableItem = ({
  gamepadIndex
}) => {
  const [expanded, setExpanded] = (0,react.useState)(false);
  return /*#__PURE__*/react.createElement(ExpandableItem, {
    gamepadIndex: gamepadIndex,
    onExpandToggle: () => setExpanded(!expanded)
  }, /*#__PURE__*/react.createElement(BounceExpandedContent, {
    expanded: expanded
  }));
};

const ExpandableItem = ({
  gamepadIndex,
  onExpandToggle,
  children
}) => {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ListItem_ListItem, {
    gamepadIndex: gamepadIndex,
    defaultFocusedChildBehavior: "grid"
  }, /*#__PURE__*/react.createElement(ListItem_ListItem.Action, {
    inputLegend: 'View',
    narrationText: false,
    onClick: onExpandToggle
  }, /*#__PURE__*/react.createElement(ListItem_ListItem.Cell, null, /*#__PURE__*/react.createElement(Image_Image_Image, {
    src: world_namespaceObject,
    className: collapsingContent.rectangle
  })), /*#__PURE__*/react.createElement(ListItem_ListItem.Main, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    color: "white"
  }, "Label"), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: "grey"
  }, /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, "Description")))), /*#__PURE__*/react.createElement(ListItem_ListItem.AdditionalAction, {
    shortcut: ButtonType.X,
    narrationText: "",
    inputLegend: 'Remove',
    onClick: () => {}
  }, /*#__PURE__*/react.createElement(Image_Image_Image, {
    src: world_namespaceObject,
    className: collapsingContent.rectangle
  }))), children);
};

const AddRemoveFromDOMScenario = ({
  data
}) => {
  return /*#__PURE__*/react.createElement(react.Fragment, null, data.map((text, index) => /*#__PURE__*/react.createElement(AddRemoveExpandableItem, {
    key: index,
    gamepadIndex: index
  })));
};

const AddRemoveFromDOMAnimatedScenario = ({
  data
}) => {
  return /*#__PURE__*/react.createElement(react.Fragment, null, data.map((text, index) => /*#__PURE__*/react.createElement(AnimatedAddRemoveExpandableItem, {
    key: index,
    gamepadIndex: index
  })));
};

const ShowHideScenario = ({
  data
}) => {
  return /*#__PURE__*/react.createElement(react.Fragment, null, data.map((text, index) => /*#__PURE__*/react.createElement(ShowHideExpandableItem, {
    key: index,
    gamepadIndex: index
  })));
};

const BounceScenario = ({
  data
}) => {
  return /*#__PURE__*/react.createElement(react.Fragment, null, data.map((text, index) => /*#__PURE__*/react.createElement(BounceExpandableItem, {
    key: index,
    gamepadIndex: index
  })));
};

const scenarios = [{
  title: 'Add/Remove from DOM',
  description: 'When expanding and collpasing, we add and remove the elements from the DOM with no animation.',
  element: AddRemoveFromDOMScenario
}, {
  title: 'Animated `height`',
  description: 'The `height` style is transitioned, and the element has been pre-rendered to the DOM.',
  element: AddRemoveFromDOMAnimatedScenario
}, {
  title: 'Show/Hide visibility',
  description: 'Changing the `display` style to none/block.',
  element: ShowHideScenario
}, {
  title: 'Animated height with bounce',
  description: '`height` is transitioned with a bouncing cubic-bezier',
  element: BounceScenario
}];

function clampBounds(index, array) {
  return Math.max(0, Math.min(index, array.length - 1));
}

function CollapsingItemScenario() {
  const [scenarioIndex, setScenarioIndex] = (0,react.useState)(0);
  const scenario = scenarios[scenarioIndex];
  const data = (0,react.useMemo)(() => new Array(5).fill(0).map((data, index) => `Item ${index}`), []);
  return /*#__PURE__*/react.createElement("div", {
    className: collapsingContent.scenarioWrapper
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    wideSize: 12,
    narrowSize: 8,
    gamepadIndex: 0,
    defaultFocusedChildBehavior: "grid"
  }, /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 8,
    narrowSize: 5
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header3",
    color: "white"
  }, scenario.title, " (", scenarioIndex + 1, " / ", scenarios.length, ")"), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    color: "grey"
  }, scenario.description)), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 4,
    narrowSize: 3
  }, /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: "Prev",
    onClick: () => setScenarioIndex(clampBounds(scenarioIndex - 1, scenarios))
  }, "Prev"), ' ', /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: "Next",
    onClick: () => setScenarioIndex(clampBounds(scenarioIndex + 1, scenarios))
  }, "Next")))), /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 2
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 12,
    narrowSize: 8
  }, /*#__PURE__*/react.createElement(scenario.element, {
    data: data
  })))));
}

const collapsingContent_collapsingContent = [{
  description: 'For testing the performance of collapsible/expandable elements',
  element: /*#__PURE__*/react.createElement(CollapsingItemScenario, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/commonResourcePackImage.tsx


function CommonResourcePackImages() {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("img", {
    style: {
      width: '100px',
      height: '100px',
      padding: '10px 10px',
      imageRendering: 'pixelated'
    },
    src: "pack://textures/blocks/chest_front.png",
    alt: "image"
  }), /*#__PURE__*/react.createElement("img", {
    style: {
      width: '100px',
      height: '100px',
      padding: '10px 10px',
      imageRendering: 'pixelated'
    },
    src: "pack://textures/blocks/crafting_table_top.png",
    alt: "image"
  }));
}

const commonResourcePackImage = [{
  element: /*#__PURE__*/react.createElement(CommonResourcePackImages, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/componentSize.tsx




function SizeExample() {
  const ref = (0,react.useRef)(null);
  const [widthFacet, setWidthFacet] = (0,react_facet_src.useFacetState)('unknown');
  useOnComponentResize_useOnComponentResize(ref, size => {
    setWidthFacet(`${size.width}`);
  });
  return /*#__PURE__*/react.createElement("fast-span", {
    style: {
      backgroundColor: '#cc0000'
    },
    ref: ref
  }, /*#__PURE__*/react.createElement("fast-text", {
    text: widthFacet
  }));
}

function SmallerThanExample() {
  const ref = (0,react.useRef)(null);
  const smallerThanFacet = useIsComponentSmallerThan(ref, 200);
  return /*#__PURE__*/react.createElement("fast-div", {
    ref: ref,
    style: {
      backgroundColor: (0,react_facet_src.useFacetMap)(result => {
        // The size is not yet know, so we can show a placeholder (skeleton) style
        if (result === 'unknown') {
          return 'gray';
        }

        return result === 'smaller' ? 'red' : 'green';
      }, [], [smallerThanFacet])
    }
  }, "Unknown size is gray, smaller is red and bigger is green.");
}

const componentSize = [{
  element: /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(SizeExample, null), /*#__PURE__*/react.createElement(SmallerThanExample, null)),
  description: 'It should show the size of the red rectangle in pixels'
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/cssVariables/cssVariables.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const cssVariables = ({"container":"_6KNQr","primaryNoCssVariables":"bNvDQ","secondaryNoCssVariables":"Gz9aD","primaryCssVariables":"c5GXU","secondaryCssVariables":"jAHaa"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/cssVariables/cssVariables.tsx




const getClassNames = useCssVariables => ({
  primary: useCssVariables ? cssVariables.primaryCssVariables : cssVariables.primaryNoCssVariables,
  secondary: useCssVariables ? cssVariables.secondaryCssVariables : cssVariables.secondaryNoCssVariables
});
/**
 * WARNING: This screen is flickering very fast when changing variant
 * creating a strobe like effect.
 *
 * Test performance of using css variables vs using values directly.
 */


function CssVariables() {
  const [useCssVariables, setUseCssVariables] = (0,react.useState)(false);
  const variantRef = (0,react.useRef)('primary');
  const [className, setClassName] = (0,react_facet_src.useFacetState)(getClassNames(useCssVariables)[variantRef.current]);
  (0,react.useEffect)(() => {
    let frameId;

    const update = () => {
      variantRef.current = variantRef.current === 'primary' ? 'secondary' : 'primary';
      setClassName(getClassNames(useCssVariables)[variantRef.current]);
      frameId = requestAnimationFrame(update);
    };

    update();
    return () => {
      cancelAnimationFrame(frameId);
    };
  }, [useCssVariables, setClassName]);
  return /*#__PURE__*/react.createElement("div", {
    className: cssVariables.container
  }, /*#__PURE__*/react.createElement("button", {
    onClick: () => setUseCssVariables(value => !value),
    style: {
      marginBottom: '4rem',
      height: '2.4rem',
      cursor: 'pointer'
    }
  }, useCssVariables ? "Don't use variables" : 'Use variables'), Array.from(Array(10).keys()).map(() => /*#__PURE__*/react.createElement("fast-div", {
    className: className
  }, "Hello World")));
}

const cssVariables_cssVariables = [{
  description: 'Test performance of using css variables vs using values directly. It is intended to flicker back and forth between 2 colors.',
  element: /*#__PURE__*/react.createElement(CssVariables, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/dataBindings.tsx



const testFacet = (0,react_facet_src.sharedFacet)('test.test');
const toastFacet = (0,react_facet_src.sharedFacet)('vanilla.toast');

function ComponentUsingFacet() {
  var _test$optionalString;

  const test = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(testFacet));
  const toast = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(toastFacet));
  return /*#__PURE__*/react.createElement(react.Fragment, null, test !== react_facet_src.NO_VALUE && /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'white',
      fontSize: '2rem'
    }
  }, "incrementingNumber ", test.incrementingNumber), /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'white',
      fontSize: '2rem'
    }
  }, "shallowNumber ", test.shallowNumber), /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'white',
      fontSize: '2rem'
    }
  }, "shallowString ", test.shallowString), /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'white',
      fontSize: '2rem'
    }
  }, "shallowComplexType.number ", test.shallowComplexType.number), /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'white',
      fontSize: '2rem'
    }
  }, "array[0].number ", test.array[0].number), test.hashedStrings.map((s, i) => /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'white',
      fontSize: '2rem'
    }
  }, `hashedString[${i}] ${s}`)), /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'white',
      fontSize: '2rem'
    }
  }, "optionalString ", (_test$optionalString = test.optionalString) !== null && _test$optionalString !== void 0 ? _test$optionalString : 'Empty string'), /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'white',
      fontSize: '2rem'
    }
  }, "stdArray[0] ", test.stdArray[0]), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 0,
    inputLegend: false,
    onClick: () => test.toggleIncrementNumber()
  }, "toggleIncrementNumber"), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 1,
    inputLegend: false,
    onClick: () => test.setShallowString(`Hello ${Math.random()}`)
  }, "setShallowString"), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 2,
    inputLegend: false,
    onClick: () => test.setHashedStrings([`Hello ${Math.random()}`, `Hello ${Math.random()}`, `Hello ${Math.random()}`])
  }, "setHashedStrings"), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 3,
    inputLegend: false,
    onClick: () => test.setShallowNumber(Math.random() * 100)
  }, "setShallowNumber"), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 4,
    inputLegend: false,
    onClick: () => test.setNestedArrayNumberProperty(0, Math.random() * 100)
  }, "setNestedArrayNumberProperty"), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 5,
    inputLegend: false,
    onClick: () => test.setShallowComplexTypeNumberProperty(Math.random() * 100)
  }, "setShallowComplexTypeNumberProperty"), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 6,
    inputLegend: false,
    onClick: () => {
      const str = test.optionalString != null ? null : `Hello ${Math.random()}`;
      test.setOptionalString(str);
    }
  }, "setOptionalString"), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 7,
    inputLegend: false,
    onClick: () => test.setStdArrayElement(0, `Hello ${Math.random()}`)
  }, "setStdArrayElement"), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 8,
    inputLegend: false,
    onClick: () => test.stdArray.push('It should not be possible to add an element')
  }, "Push To stdArray (WARNING: WILL ASSERT)")), toast !== react_facet_src.NO_VALUE && /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 9,
    inputLegend: false,
    onClick: () => toast.show('JavaScript triggered C++!', 'The Toast')
  }, "Click here for a facet method call"));
}

function DataBinding() {
  const [isUsing, setIsUsing] = (0,react.useState)(false);
  return /*#__PURE__*/react.createElement("div", {
    style: {
      background: '#000',
      padding: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("div", {
    style: {
      marginBottom: '2rem'
    }
  }, "lorem ipsum", /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 0,
    inputLegend: false,
    onClick: () => {
      setIsUsing(!isUsing);
    }
  }, isUsing ? 'Discard' : 'Request')), isUsing && /*#__PURE__*/react.createElement(ComponentUsingFacet, null));
}

const dataBindings = [{
  description: `Data binding examples: 'test' and 'toast'`,
  element: /*#__PURE__*/react.createElement(DataBinding, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/debugModal.tsx




function DebugModalScenario() {
  const historyAPI = useRouteHistory();
  return /*#__PURE__*/react.createElement("div", {
    style: {
      background: '#000',
      padding: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("div", {
    style: {
      marginBottom: '2rem',
      marginTop: '2rem'
    }
  }, /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: false,
    onClick: () => {
      historyAPI.push(`/debug/modal?caption=Test%20Debug%20Modal%20Caption&text=Test%20debug%20modal%20test.`);
    }
  }, "Open a debug modal")));
}

const debugModal = [{
  description: 'On the following button click a debug modal should appear while the current view remains on the background.',
  element: /*#__PURE__*/react.createElement(DebugModalScenario, null)
}];
;// CONCATENATED MODULE: ./packages/react-dnd/src/PointerBlocker.tsx
/**
 * This component is used to prevent mouse hovers on focusables when the user
 * is dragging and dropping. Triggering mouse hovers during this action will
 * trigger narration that is probably not relevant to the user.
 */



const SetDisablePointer = (0,react.createContext)(() => {});
const useSetDisablePointerHoverEvents = () => (0,react.useContext)(SetDisablePointer);
function PointerBlocker({
  children
}) {
  const [disabled, setDisabled] = useFacetState(false);
  return /*#__PURE__*/React.createElement(SetDisablePointer.Provider, {
    value: setDisabled
  }, children, /*#__PURE__*/React.createElement("fast-div", {
    className: useFacetMap(disabled => disabled ? styles.blockPointer : '', [], [disabled])
  }));
}
;// CONCATENATED MODULE: ./packages/react-dnd/src/Provider.tsx




const DRAG_Z_INDEX = 4;
const DragAndDropProviderApi = (0,react.createContext)(null);
const useDragAndDropProviderApi = () => (0,react.useContext)(DragAndDropProviderApi);
const DragAndDropIsDragging = (0,react.createContext)(null);
const DraggableStatesFacetProvider = (0,react.createContext)(null);
const useDraggableStatesFacet = () => (0,react.useContext)(DraggableStatesFacetProvider);
const DroppableStatesFacetProvider = (0,react.createContext)(null);
const useDroppableStatesFacet = () => (0,react.useContext)(DroppableStatesFacetProvider);
function DragAndDropProvider({
  children
}) {
  const isPointerMouse = useIsPointerInputMouse();
  const draggableStatesFacet = (0,react.useMemo)(() => (0,react_facet_src.createFacet)({
    initialValue: {}
  }), []);
  const droppableStatesFacet = (0,react.useMemo)(() => (0,react_facet_src.createFacet)({
    initialValue: {}
  }), []);
  const isUserDragging = (0,react_facet_src.useFacetMap)(draggableStates => findDragged(draggableStates) != null, [], [draggableStatesFacet]); // When the user drags, we want to disable mouse hover events

  const setDisablePointerHoverEvents = useSetDisablePointerHoverEvents();
  (0,react_facet_src.useFacetEffect)(setDisablePointerHoverEvents, [setDisablePointerHoverEvents], [isUserDragging]);
  const focusDragMove = (0,react_facet_src.useFacetCallback)((draggableStates, droppableStates) => direction => {
    const draggedState = findDragged(draggableStates);
    if (draggedState == null || draggedState.dragging != 'gamepad') return; // Update the dragging element's transform so it snaps to the next droppable position

    draggableStatesFacet.setWithCallback(draggableStates => {
      const dirVal = direction === 'up' ? -1 : direction === 'down' ? 1 : 0;
      const newDragIndex = draggedState.gamepadHoverIndex + dirVal;
      const draggedDroppable = findDroppableByIndex(droppableStates, draggedState.index);

      for (const id in droppableStates) {
        const dropState = droppableStates[id];

        if (dropState.index === newDragIndex) {
          var _dropState$ref$curren;

          const dropBounds = (_dropState$ref$curren = dropState.ref.current) === null || _dropState$ref$curren === void 0 ? void 0 : _dropState$ref$curren.getBoundingClientRect();

          if (draggedState.startX == null || draggedState.startY == null) {
            var _draggedDroppable$ref;

            const dragBounds = draggedDroppable === null || draggedDroppable === void 0 ? void 0 : (_draggedDroppable$ref = draggedDroppable.ref.current) === null || _draggedDroppable$ref === void 0 ? void 0 : _draggedDroppable$ref.getBoundingClientRect();

            if (dragBounds != null) {
              var _dragBounds$left, _dragBounds$top;

              draggedState.startX = (_dragBounds$left = dragBounds.left) !== null && _dragBounds$left !== void 0 ? _dragBounds$left : 0;
              draggedState.startY = (_dragBounds$top = dragBounds.top) !== null && _dragBounds$top !== void 0 ? _dragBounds$top : 0;
            }
          }

          if (dropBounds == null) break;
          const snapBackToOrigin = newDragIndex === draggedState.index;
          draggedState.gamepadHoverIndex = newDragIndex;

          if (snapBackToOrigin) {
            draggedState.transform = `translate(0, 0)`;
          } else {
            draggedState.transform = `translate(${dropBounds.left - draggedState.startX + draggedState.gamepadDragXOffsetPx}px, ${dropBounds.top - draggedState.startY + draggedState.gamepadDragYOffsetPx}px)`;
          }

          break;
        }
      }

      return draggableStates;
    });
    droppableStatesFacet.setWithCallback(droppableStates => {
      if (droppableStates != react_facet_src.NO_VALUE) {
        for (const id in droppableStates) {
          const state = droppableStates[id];
          const moveUp = draggedState.index < state.index && draggedState.gamepadHoverIndex >= state.index;
          const moveDown = draggedState.index > state.index && draggedState.gamepadHoverIndex <= state.index;
          state.displacement = moveUp ? -1 : moveDown ? 1 : 0;
          state.hovering = draggedState.gamepadHoverIndex === state.index;
        }
      }

      return droppableStates;
    });
  }, [draggableStatesFacet, droppableStatesFacet], [draggableStatesFacet, droppableStatesFacet]);
  const pointerMoveHandler = (0,react_facet_src.useFacetCallback)((draggableStates, droppableStates, isPointerMouse) => event => {
    const draggedState = findDragged(draggableStates); // Fix touch bug on browser when triggering right click

    if (!isPointerMouse && event.touches == null) {
      return;
    }

    const {
      clientX,
      clientY
    } = isPointerMouse ? event : event.touches[0];
    const closestDroppableState = findClosestDroppable(clientX, clientY, droppableStates);
    if (draggedState == null) return; // Update the dragging element's transform so it follows the pointer/finger

    draggableStatesFacet.setWithCallback(draggableStates => {
      if (draggedState.startX != null && draggedState.startY != null) {
        var _closestDroppableStat;

        const x = draggedState.pointerAxisLock === 'y' ? 0 : clientX - draggedState.startX;
        const y = draggedState.pointerAxisLock === 'x' ? 0 : clientY - draggedState.startY;
        draggedState.transform = `translate(${x}px, ${y}px)`;
        draggedState.pointerHoverIndex = (_closestDroppableStat = closestDroppableState === null || closestDroppableState === void 0 ? void 0 : closestDroppableState.index) !== null && _closestDroppableStat !== void 0 ? _closestDroppableStat : draggedState.index; // Set a flag when the user has dragged the draggable beyond the
        // initial drag start area for the first time. Can be useful for
        // triggering initial drag

        if (draggedState.pointerHoverIndex !== (draggedState === null || draggedState === void 0 ? void 0 : draggedState.index)) {
          draggedState.hasDraggedPointerBeyondStartArea = true;
        }
      }

      return draggableStates;
    }); // Update the displacement and hovering values of all droppables

    droppableStatesFacet.setWithCallback(droppableStates => {
      if (closestDroppableState != null && droppableStates != react_facet_src.NO_VALUE) {
        for (const id in droppableStates) {
          const state = droppableStates[id];
          const moveUp = draggedState.index < state.index && closestDroppableState.index >= state.index;
          const moveDown = draggedState.index > state.index && closestDroppableState.index <= state.index;
          state.displacement = moveUp ? -1 : moveDown ? 1 : 0;
          state.hovering = false;
        }

        closestDroppableState.hovering = true;
      }

      return droppableStates;
    });
  }, [draggableStatesFacet, droppableStatesFacet], [draggableStatesFacet, droppableStatesFacet, isPointerMouse]);
  /**
   * Register the mouseup and mousemove listener
   */

  (0,react.useEffect)(() => {
    const mouseUpHandler = () => {
      window.removeEventListener('mousemove', pointerMoveHandler);
      window.removeEventListener('touchmove', pointerMoveHandler);
      let dragData;
      draggableStatesFacet.setWithCallback(draggableStates => {
        if (draggableStates != react_facet_src.NO_VALUE) {
          for (const id in draggableStates) {
            const state = draggableStates[id];

            if (state.dragging != false) {
              dragData = state.data;
            }

            state.hasDraggedPointerBeyondStartArea = false;
            state.dragging = false;
            state.transform = '';
            state.zIndex = '';
            state.startX = null;
            state.startY = null;
          }
        }

        return draggableStates;
      });
      droppableStatesFacet.setWithCallback(droppableStates => {
        if (droppableStates != react_facet_src.NO_VALUE) {
          for (const id in droppableStates) {
            const state = droppableStates[id];

            if (state.hovering === true) {
              state.onDrop(dragData, state.data);
            }

            state.displacement = null;
            state.hovering = false;
          }
        }

        return droppableStates;
      });
    };

    window.addEventListener('mouseup', mouseUpHandler);
    window.addEventListener('touchend', mouseUpHandler);
    return () => {
      window.removeEventListener('mouseup', mouseUpHandler);
      window.removeEventListener('touchend', mouseUpHandler);
    };
  }, [pointerMoveHandler, draggableStatesFacet, droppableStatesFacet]);
  const vrPlatform = useVRPlatform();
  const api = (0,react.useMemo)(() => ({
    addDraggable: options => {
      if (options.id == null) return;
      draggableStatesFacet.setWithCallback(draggableStates => {
        if (draggableStates != react_facet_src.NO_VALUE) {
          var _options$gamepadDragX, _options$gamepadDragY;

          draggableStates[options.id] = {
            id: options.id,
            gamepadHoverIndex: options.index,
            pointerHoverIndex: options.index,
            hasDraggedPointerBeyondStartArea: false,
            ref: options.ref,
            data: options.data,
            index: options.index,
            dragging: false,
            transform: '',
            zIndex: '',
            startX: null,
            startY: null,
            pointerAxisLock: options.pointerAxisLock,
            gamepadDragXOffsetPx: (_options$gamepadDragX = options.gamepadDragXOffsetPx) !== null && _options$gamepadDragX !== void 0 ? _options$gamepadDragX : 0,
            gamepadDragYOffsetPx: (_options$gamepadDragY = options.gamepadDragYOffsetPx) !== null && _options$gamepadDragY !== void 0 ? _options$gamepadDragY : 0
          };
        }

        return draggableStates;
      });
    },
    removeDraggable: id => {
      if (!id) return;
      draggableStatesFacet.setWithCallback(draggableStates => {
        if (draggableStates != react_facet_src.NO_VALUE) {
          delete draggableStates[id];
        }

        return draggableStates;
      });
    },
    addDroppable: options => {
      if (options.id == null) return; // This function gets recursively called until the element
      // is rendered (and getBoundingClientRect returns a value)

      function registerDroppable(options) {
        var _options$ref$current;

        const bounds = (_options$ref$current = options.ref.current) === null || _options$ref$current === void 0 ? void 0 : _options$ref$current.getBoundingClientRect(); // If we can't get the element bounds this frame, wait and try again

        if (bounds == null || bounds.width === 0 && bounds.height === 0) {
          requestAnimationFrame(() => registerDroppable(options));
          return;
        } // Wait an extra frame - TODO: Is this raf needed?


        requestAnimationFrame(() => {
          // Now that we have the element bounds, register it as a droppable zone
          droppableStatesFacet.setWithCallback(droppableStates => {
            if (bounds == null || droppableStates == react_facet_src.NO_VALUE) {
              return droppableStates;
            }

            droppableStates[options.id] = {
              data: options.data,
              index: options.index,
              hovering: false,
              centerX: bounds.left + bounds.width / 2,
              centerY: bounds.top + bounds.height / 2,
              left: bounds.left,
              top: bounds.top,
              displacement: null,
              ref: options.ref,
              onDrop: options.onDrop
            };
            return droppableStates;
          });
        });
      }

      registerDroppable(options);
    },
    removeDroppable: id => {
      droppableStatesFacet.setWithCallback(droppableStates => {
        if (droppableStates != react_facet_src.NO_VALUE) {
          delete droppableStates[id];
        }

        return droppableStates;
      });
    },
    pointerDragStart: (id, x, y) => {
      window.addEventListener('mousemove', pointerMoveHandler);
      window.addEventListener('touchmove', pointerMoveHandler); // When pointer dragging starts, we store the
      // boundaries for all the droppable areas.

      droppableStatesFacet.setWithCallback(droppableStates => {
        if (droppableStates != react_facet_src.NO_VALUE) {
          var _droppableStates$id;

          // If the user drops the item instantly we will still narrate the position.
          if (((_droppableStates$id = droppableStates[id]) === null || _droppableStates$id === void 0 ? void 0 : _droppableStates$id.hovering) != null) {
            droppableStates[id].hovering = true;
          }

          for (const id in droppableStates) {
            var _state$ref$current;

            if (droppableStates == null) break;
            const state = droppableStates[id];
            const bounds = (_state$ref$current = state.ref.current) === null || _state$ref$current === void 0 ? void 0 : _state$ref$current.getBoundingClientRect();
            if (bounds == null) continue;
            state.centerX = bounds.left + bounds.width / 2;
            state.centerY = bounds.top + bounds.height / 2;
            state.left = bounds.left;
            state.top = bounds.top;
            state.displacement = 0;
          }
        }

        return droppableStates;
      });
      draggableStatesFacet.setWithCallback(draggableStates => {
        if (draggableStates != react_facet_src.NO_VALUE) {
          draggableStates[id].dragging = 'pointer';
          const ref = draggableStates[id].ref.current; // We calculate an initial offset to handle if the dragged element
          // is moved due to a layout change when dragging starts.

          const bounds = ref === null || ref === void 0 ? void 0 : ref.getBoundingClientRect();
          if (bounds == null) return draggableStates;
          const axisLock = draggableStates[id].pointerAxisLock;
          const xDist = axisLock === 'y' ? 0 : x - bounds.left;
          const yDist = axisLock === 'x' ? 0 : y - bounds.top; // This will be true if a layout change caused the element to from from outside the cursor

          const clickInitializedOutOfBounds = yDist > bounds.height || xDist > bounds.width;

          if (clickInitializedOutOfBounds) {
            draggableStates[id].transform = `translate(${xDist}px, ${yDist}px)`;
          } else {
            draggableStates[id].transform = `translate(0, 0)`;
          }

          draggableStates[id].zIndex = DRAG_Z_INDEX;
          draggableStates[id].startX = clickInitializedOutOfBounds ? x - xDist : x;
          draggableStates[id].startY = clickInitializedOutOfBounds ? y - yDist : y;
        }

        return draggableStates;
      });
    },
    focusDragStop: () => {
      const draggables = draggableStatesFacet.get();

      if (draggables != react_facet_src.NO_VALUE) {
        const dragged = findDragged(draggables);

        if ((dragged === null || dragged === void 0 ? void 0 : dragged.dragging) === 'gamepad') {
          api.focusDragToggle(dragged.id);
        }
      }
    },

    /**
     * Toggles the dragging state of a given focusable.
     * Used for focus interactions (eg. gamepad, keyboard)
     *
     * @param id The id of the target draggable
     */
    focusDragToggle: id => {
      draggableStatesFacet.setWithCallback(draggableStates => {
        if (draggableStates != react_facet_src.NO_VALUE) {
          const state = draggableStates[id]; // Stop dragging if we're already dragging

          if (state.dragging != false) {
            window.removeEventListener('mousemove', api.focusDragStop);
            window.removeEventListener('touchstart', api.focusDragStop);
            state.dragging = false;
            state.zIndex = '';
            state.transform = '';
            state.gamepadHoverIndex = state.index; // Loop through each droppable and reset their states.

            droppableStatesFacet.setWithCallback(droppableStates => {
              if (droppableStates != react_facet_src.NO_VALUE) {
                for (const id in droppableStates) {
                  const dropState = droppableStates[id]; // If this droppable was also currently being hovered by the
                  // dragged item, then call the onDrop handler for that droppable.

                  if (dropState.hovering === true) {
                    dropState.onDrop(state.data, dropState.data);
                  }

                  dropState.displacement = null;
                  dropState.hovering = false;
                }
              }

              return droppableStates;
            });
          } // Start dragging
          else {
              if (vrPlatform.get() === ARVRPlatform.ARVR_None) {
                window.addEventListener('mousemove', api.focusDragStop);
                window.addEventListener('touchstart', api.focusDragStop);
              }

              state.dragging = 'gamepad';
              state.zIndex = DRAG_Z_INDEX; // Set the displacement of all droppables to 0

              droppableStatesFacet.setWithCallback(droppableStates => {
                if (droppableStates != react_facet_src.NO_VALUE) {
                  var _droppableStates$id2;

                  // If the user drops the item instantly we will still narrate the position.
                  if (((_droppableStates$id2 = droppableStates[id]) === null || _droppableStates$id2 === void 0 ? void 0 : _droppableStates$id2.hovering) != null) {
                    droppableStates[id].hovering = true;
                  }

                  for (const id in droppableStates) {
                    const state = droppableStates[id];
                    state.displacement = 0;
                  }
                }

                return droppableStates;
              });
            }
        }

        return draggableStates;
      });
    },
    focusDragMove
  }), [pointerMoveHandler, focusDragMove, draggableStatesFacet, droppableStatesFacet, vrPlatform]);
  return /*#__PURE__*/react.createElement(DragAndDropProviderApi.Provider, {
    value: api
  }, /*#__PURE__*/react.createElement(DroppableStatesFacetProvider.Provider, {
    value: droppableStatesFacet
  }, /*#__PURE__*/react.createElement(DraggableStatesFacetProvider.Provider, {
    value: draggableStatesFacet
  }, /*#__PURE__*/react.createElement(DragAndDropIsDragging.Provider, {
    value: isUserDragging
  }, children))));
}
/**
 * Finds the dragged item in a DraggablesStateMap
 */

function findDragged(draggableStates) {
  for (const id in draggableStates) {
    const state = draggableStates[id];
    if (state.dragging === false) continue;
    return draggableStates[id];
  }
}
/**
 * Finds the closest droppable to an x/y position in a given DroppablesStateMap
 */

function findClosestDroppable(x, y, droppableStates) {
  if (droppableStates == null) return null;
  let closestDroppable = null;
  let closestDistance = null;

  for (const id in droppableStates) {
    const state = droppableStates[id];

    if (state.centerX == null || state.centerY == null) {
      continue;
    }

    const distance = Math.hypot(x - state.centerX, y - state.centerY);

    if (closestDistance == null || distance < closestDistance) {
      closestDistance = distance;
      closestDroppable = state;
    }
  }

  return closestDroppable;
}
function findDroppableByIndex(droppableStates, index) {
  if (droppableStates == null) return null;

  for (const id in droppableStates) {
    const state = droppableStates[id];
    if (state.index === index) return state;
  }
}
;// CONCATENATED MODULE: ./packages/react-dnd/src/useDrag.ts



function useDrag({
  id,
  data,
  index,
  ref,
  pointerAxisLock,
  onDragStart,
  disabled,
  gamepadDragXOffsetPx,
  gamepadDragYOffsetPx
}) {
  const api = useDragAndDropProviderApi();
  const draggableStatesFacet = useDraggableStatesFacet();
  const dragStateFacet = (0,react_facet_src.useFacetMap)(draggableStates => draggableStates[id], [id], [(0,react_facet_src.useFacetWrap)(draggableStatesFacet !== null && draggableStatesFacet !== void 0 ? draggableStatesFacet : {})]);
  (0,react.useEffect)(() => {
    if (api == null) return;
    if (disabled == true) return; // Register draggable and get reference to state facet.

    api.addDraggable({
      id,
      index,
      data,
      ref,
      pointerAxisLock,
      onDragStart,
      gamepadDragXOffsetPx,
      gamepadDragYOffsetPx
    });
    return () => {
      api.removeDraggable(id);
    };
  }, [id, data, api, ref, index, pointerAxisLock, onDragStart, gamepadDragXOffsetPx, gamepadDragYOffsetPx, disabled]);
  const onGamepadDirectionPress = (0,react_facet_src.useFacetCallback)(state => direction => {
    if (state.dragging == 'gamepad' && api != null) {
      if (direction === 'up' || direction == 'down') {
        api.focusDragMove(direction);
      }
    }

    return state.dragging != false ? true : false;
  }, [api], [dragStateFacet]);
  const onMouseDown = (0,react.useCallback)(event => {
    if (api == null || event == null) return; // @TODO research if it can be TouchEvent

    const {
      clientX,
      clientY
    } = event.clientX != null ? event : event.touches[0];

    if (onDragStart) {
      onDragStart(() => {
        api.pointerDragStart(id, clientX, clientY);
      });
    } else {
      api.pointerDragStart(id, clientX, clientY);
    }
  }, [api, id, onDragStart]);
  const onGamepadClick = (0,react.useCallback)(() => {
    if (api == null) return;

    if (onDragStart) {
      onDragStart(() => {
        api.focusDragToggle(id);
      });
    } else {
      api.focusDragToggle(id);
    }
  }, [api, onDragStart, id]);
  const handlers = (0,react.useMemo)(() => ({
    onMouseDown,
    onGamepadClick,
    onUp: () => onGamepadDirectionPress('up') === true,
    onDown: () => onGamepadDirectionPress('down') === true,
    onLeft: () => onGamepadDirectionPress('left') === true,
    onRight: () => onGamepadDirectionPress('right') === true
  }), [onMouseDown, onGamepadClick, onGamepadDirectionPress]);
  return {
    dragStateFacet,
    handlers
  };
}
;// CONCATENATED MODULE: ./packages/react-dnd/src/useDrop.ts



function useDrop({
  id,
  index,
  ref,
  data,
  disabled,
  onDrop
}) {
  const api = useDragAndDropProviderApi();
  const droppableStatesFacet = useDroppableStatesFacet();
  const stateFacet = (0,react_facet_src.useFacetMap)(droppableStates => droppableStates[id] != null ? droppableStates[id] : {}, [id], [(0,react_facet_src.useFacetWrap)(droppableStatesFacet !== null && droppableStatesFacet !== void 0 ? droppableStatesFacet : {})]);
  (0,react.useEffect)(() => {
    if (api == null) return;
    if (disabled == true) return;
    api.addDroppable({
      id,
      index,
      ref,
      data,
      onDrop
    });
    return () => {
      api.removeDroppable(id);
    };
  }, [id, index, ref, data, onDrop, api, disabled]);
  return stateFacet;
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/dragAndDrop.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const dragAndDrop = ({"tile":"I_bJV","tileDragging":"XmoLO","tiles":"aSwIX","validDrop":"SeNdw","invalidDrop":"LypSt"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/dragAndDrop.tsx
function dragAndDrop_extends() { dragAndDrop_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return dragAndDrop_extends.apply(this, arguments); }








function DraggableTile(props) {
  const ref = (0,react.useRef)(null);
  const {
    handlers,
    dragStateFacet
  } = useDrag({
    id: props.id,
    data: props.data,
    index: props.index,
    pointerAxisLock: 'x',
    ref
  });
  const dropStateFacet = useDrop({
    id: props.id,
    data: props.data,
    index: props.index,
    onDrop: props.onDrop,
    ref
  });
  const transform = (0,react_facet_src.useFacetMap)((dropState, dragState) => // If we're dragging, track the cursor
  // (or snap to position of hovered element on gamepad)
  dragState != null && dragState.dragging != false ? dragState.transform : // If we're not dragging, apply a displacement effect
  dropState != null && dropState.displacement != null ? `translate(${`${dropState.displacement * 100}%, 0`})` : '', [], [dropStateFacet, dragStateFacet]); // Puts the dragged item on the top of the z-index

  const zIndex = (0,react_facet_src.useFacetMap)(state => state != null ? state.zIndex : '', [], [dragStateFacet]);
  const className = (0,react_facet_src.useFacetMap)(dragState => (dragState === null || dragState === void 0 ? void 0 : dragState.dragging) != false ? classnames_default()(dragAndDrop.tile, dragAndDrop.tileDragging) : dragAndDrop.tile, [], [dragStateFacet]);
  return /*#__PURE__*/react.createElement("fast-div", dragAndDrop_extends({
    className: className
  }, handlers, {
    ref: ref,
    style: {
      zIndex,
      transform
    }
  }), props.label);
}

function GroupsExample() {
  const [fruit, setFruit] = (0,react.useState)(() => ['Apple 🍎', 'Pear 🍐', 'Orange 🍊', 'Banana 🍌', 'Avocado 🥑']);
  const [veg, setVeg] = (0,react.useState)(() => ['Chilli 🌶', 'Potato 🥔', 'Carrot 🥕', 'Sweetcorn 🌽', 'Pepper 🫑']);
  const onFruitDrop = (0,react.useCallback)((dragData, dropData) => {
    setFruit(prev => {
      const clone = [...prev];
      const removed = clone.splice(dragData, 1)[0];
      clone.splice(dropData, 0, removed);
      return clone;
    });
  }, [setFruit]);
  const onVegDrop = (0,react.useCallback)((dragData, dropData) => {
    setVeg(prev => {
      const clone = [...prev];
      const removed = clone.splice(dragData, 1)[0];
      clone.splice(dropData, 0, removed);
      return clone;
    });
  }, [setVeg]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(DragAndDropProvider, null, /*#__PURE__*/react.createElement("div", {
    className: dragAndDrop.tiles
  }, fruit.map((label, index) => /*#__PURE__*/react.createElement(DraggableTile, {
    key: label,
    label: label,
    index: index,
    data: index,
    id: label,
    onDrop: onFruitDrop
  })))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 1
  }), /*#__PURE__*/react.createElement(DragAndDropProvider, null, /*#__PURE__*/react.createElement("div", {
    className: dragAndDrop.tiles
  }, veg.map((label, index) => /*#__PURE__*/react.createElement(DraggableTile, {
    key: label,
    label: label,
    index: index,
    data: index,
    id: label,
    onDrop: onVegDrop
  })))));
}

function DragAndDrop() {
  return /*#__PURE__*/react.createElement(GroupsExample, null);
}

const dragAndDrop_dragAndDrop = [{
  element: /*#__PURE__*/react.createElement(DragAndDrop, null)
}];
;// CONCATENATED MODULE: ./packages/gameface-hacks/src/map.ts
// Temporary hack until Gameface supports `map` on ChakraCore on iOS.
//
// Differs from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map
// in that it does not accept a `thisArg` parameters, and the input and output arrays are of type T[] and
// T2[] respectively.
function map_map(array, f) {
  const result = [];

  for (let i = 0; i < array.length; i++) {
    result[i] = f(array[i], i, array);
  }

  return result;
}
;// CONCATENATED MODULE: ./games/vanilla/engine-gameplay/src/immediateRespawnSharedFacet.ts

const IMMEDIATE_RESPAWN_SHARED_FACET = 'vanilla.gameplay.immediateRespawn';
const immediateRespawnSharedFacet = (0,react_facet_src.sharedFacet)(IMMEDIATE_RESPAWN_SHARED_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine-gameplay/src/playerDeathInfoSharedFacet.ts

const PLAYER_DEATH_INFO_SHARED_FACET = 'vanilla.gameplay.playerDeathInfo';
const playerDeathInfoSharedFacet = (0,react_facet_src.sharedFacet)(PLAYER_DEATH_INFO_SHARED_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine-gameplay/src/playerPositionHudElementFacet.ts

const PLAYER_POSITION_HUD_ELEMENT_SHARED_FACET = 'vanilla.gameplay.playerPositionHudElement';
const playerPositionHudElementFacet = (0,react_facet_src.sharedFacet)(PLAYER_POSITION_HUD_ELEMENT_SHARED_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine-gameplay/src/playerRespawnSharedFacet.ts

const PLAYER_RESPAWN_SHARED_FACET = 'vanilla.gameplay.playerRespawn';
const playerRespawnSharedFacet = (0,react_facet_src.sharedFacet)(PLAYER_RESPAWN_SHARED_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine-gameplay/src/index.ts




;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/facets.tsx








function isArray(object) {
  if (Array.isArray(object)) {
    return true;
  }

  const keys = Object.keys(object);
  const missingKey = ['length', 'map', 'reduce'].some(key => !keys.includes(key));
  return !missingKey;
}

const pretty = (value, level) => {
  const indent = level => ' '.repeat(2 * level);

  if (value == null) return 'null';
  const type = typeof value;

  switch (type) {
    case 'boolean':
      return value ? 'true' : 'false';

    case 'number':
      return `${value}`;

    case 'string':
      return '"' + value + '"';

    case 'object':
      // Hack to check whether it's an array (or array-like object, since Gameface arrays are not true arrays)
      if (isArray(value)) {
        return ' [\n' + map_map(value, value => indent(level + 1) + pretty(value, level + 1) + ',\n').join('') + indent(level) + ']';
      } else {
        return ' {\n' + Object.keys(value).map(key => indent(level + 1) + key + ': ' + pretty(value[key], level + 1) + ',\n').join('') + indent(level) + '}';
      }

    default:
      return `${value}`;
  }
};

function FacetInspector(props) {
  const facet = (0,react_facet_src.useFacet)(props.definition);
  if (facet == null) return null;
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    style: {
      fontSize: '3rem',
      color: 'black'
    }
  }, props.name), /*#__PURE__*/react.createElement("div", {
    style: {
      fontFamily: 'monospace',
      fontSize: '2rem',
      whiteSpace: 'pre-wrap',
      color: 'black'
    }
  }, pretty(facet, 0)));
}

const facets = [{
  description: "This pages shows the raw data that is received from the back-end. These use useFacet directly and does not use any fallback data when the back-end doesn't expose any data.",
  element: /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: false
  }, "Focus me to be able to scroll with gamepad"), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: animationFacet,
    name: "animationFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: deviceInformationFacet,
    name: "deviceInformationFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: featureFlagsFacet,
    name: "featureFlagsFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: immediateRespawnSharedFacet,
    name: "immediateRespawnSharedFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: inputFacet,
    name: "inputFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: localeFacetSelector,
    name: "localeFacetSelector"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: routerFacet,
    name: "routerFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: safeZoneFacet,
    name: "safeZoneFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: screenReaderSharedFacet,
    name: "screenReaderFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: splitScreenFacet,
    name: "splitScreenFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: playerDeathInfoSharedFacet,
    name: "playerDeathInfoSharedFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: vrModeSharedFacet,
    name: "vrModeSharedFacet"
  }), /*#__PURE__*/react.createElement(FacetInspector, {
    definition: achievementsFacet,
    name: "achievementsFacet"
  }))
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/dynamicFacets.tsx




const DEFAULT_FACET = 'core.deviceInformation';

function dynamicFacets_FacetInspector() {
  const [facetId, setFacetId] = (0,react.useState)(DEFAULT_FACET);
  const [facetIdInput, setFacetIdInput] = (0,react.useState)(DEFAULT_FACET);
  const facetDef = (0,react.useMemo)(() => (0,react_facet_src.sharedFacet)(facetId), [facetId]);
  const facet = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(facetDef));
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(TextField, {
    gamepadIndex: 0,
    value: facetIdInput,
    onChange: setFacetIdInput,
    label: ''
  }), /*#__PURE__*/react.createElement(Button_Button, {
    onClick: () => setFacetId(facetIdInput),
    inputLegend: false
  }, "Request"), /*#__PURE__*/react.createElement("div", {
    style: {
      fontSize: '3rem',
      color: 'black'
    }
  }, 'FacetData'), /*#__PURE__*/react.createElement("div", {
    style: {
      fontFamily: 'monospace',
      fontSize: '2rem',
      whiteSpace: 'pre-wrap',
      color: 'black'
    }
  }, facet != react_facet_src.NO_VALUE ? pretty(facet, 0) : null));
}

const dynamicFacets = [{
  description: 'This pages shows the raw data that is received from the back-end. Enter the name of a facet and press the request button.',
  element: /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(dynamicFacets_FacetInspector, null))
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/ellipsis.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ellipsis = ({"wrapper":"kqpPC","complicatedWrapper":"ns9mE"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/ellipsis.tsx



function Ellipsis() {
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("div", {
    className: ellipsis.wrapper
  }, "A really long text that requires ellipsis so it doesn't overflow the box it's in"), /*#__PURE__*/react.createElement("div", {
    style: {
      height: '2rem'
    }
  }), /*#__PURE__*/react.createElement("div", {
    className: ellipsis.complicatedWrapper
  }, /*#__PURE__*/react.createElement("div", {
    className: ellipsis.wrapper
  }, "A really long text that requires ellipsis so it doesn't overflow the box it's in"), /*#__PURE__*/react.createElement("div", {
    className: ellipsis.wrapper
  }, "A really long text that requires ellipsis so it doesn't overflow the box it's in"), /*#__PURE__*/react.createElement("div", {
    className: ellipsis.wrapper
  }, "A really long text that requires ellipsis so it doesn't overflow the box it's in")), /*#__PURE__*/react.createElement("div", {
    style: {
      height: '2rem'
    }
  }), /*#__PURE__*/react.createElement("div", {
    className: ellipsis.complicatedWrapper
  }, /*#__PURE__*/react.createElement("div", {
    className: ellipsis.wrapper
  }, "A really long text that"), /*#__PURE__*/react.createElement("div", {
    className: ellipsis.wrapper
  }, "A really long text that requires ellipsis so it doesn't overflow the box it's in"), /*#__PURE__*/react.createElement("div", {
    className: ellipsis.wrapper
  }, "A really l")));
}

const ellipsis_ellipsis = [{
  element: /*#__PURE__*/react.createElement(Ellipsis, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/engineTrigger.tsx




function EngineTrigger({
  defaultEventName
}) {
  const [eventName, setEventName] = (0,react.useState)(defaultEventName);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("p", {
    style: {
      color: 'red'
    }
  }, "This is a low level API, and should only be used for testing integration with the backend."), /*#__PURE__*/react.createElement(TextField, {
    gamepadIndex: 0,
    label: "",
    value: eventName,
    onChange: setEventName
  }), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 0,
    inputLegend: "Trigger",
    onClick: () => {
      trigger(eventName, 'JavaScript triggered C++!');
      console.log(`Triggered '${eventName}'`);
    }
  }, `Click here to trigger '${eventName}'`));
}

const engineTrigger = [{
  description: `Try low level API trigger`,
  element: /*#__PURE__*/react.createElement(EngineTrigger, {
    defaultEventName: "triggerToast"
  })
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/error.tsx



function ErrorScenario() {
  const [hasError, setError] = (0,react.useState)(false);
  return hasError ? /*#__PURE__*/react.createElement(ErrorThrower, null) : /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: false,
    onClick: () => {
      setError(true);
    }
  }, "Click me to trigger error");
}

function ErrorThrower() {
  throw new Error('oh no');
  return null;
}

const error = [{
  description: 'On the following button click an error modal should appear and replace the current view. WARNING: This will cause an assert if running in game with asserts enabled.',
  element: /*#__PURE__*/react.createElement(ErrorScenario, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/facetObservableCleanup.tsx
/**
 * This is a convoluted test screen to check a very specific bug caused by a incomplete implementation
 * of listener handling in Facet's observable.
 *
 * More information can be found at the PR: https://github.com/Mojang/minecraft-ui/pull/2342
 */


const facetObservableCleanup_CREATE_NEW_WORLD_FACET = 'vanilla.createNewWorld';
const facetObservableCleanup_createNewWorldFacet = (0,react_facet_src.sharedFacet)(facetObservableCleanup_CREATE_NEW_WORLD_FACET);
const facetObservableCleanup_cheatsSettingsSelector = (0,react_facet_src.sharedSelector)(facet => {
  return facet.worldCreationData.cheats;
}, [facetObservableCleanup_createNewWorldFacet]);

const Example = () => {
  return /*#__PURE__*/react.createElement(react_facet_src.SharedFacetDriverProvider, {
    value: (_, update) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(() => {
          update({
            worldCreationData: {
              cheats: {
                cheatsEnabled: false,
                tickSpeed: 1
              }
            }
          });
        });
      });
      return () => {};
    }
  }, /*#__PURE__*/react.createElement(CheatsTab, null));
};

function ReallyTinyComponent({
  cheatsSettingsEnabled
}) {
  (0,react.useEffect)(() => {});
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("fast-div", {
    style: {
      backgroundColor: (0,react_facet_src.useFacetMap)(value => {
        return value ? 'red' : 'blue';
      }, [], [cheatsSettingsEnabled])
    }
  }, "Hello", /*#__PURE__*/react.createElement(react.Fragment, null), " world"), /*#__PURE__*/react.createElement("p", null, "This is a convoluted test screen to check a very specific bug caused by a incomplete implementation of listener handling in Facet's observable."), /*#__PURE__*/react.createElement("p", null, "More information can be found at the PR: https://github.com/Mojang/minecraft-ui/pull/2342"));
}

function CheatsTab() {
  const cheatsSettingsEnabled = (0,react_facet_src.useFacetMap)(value => {
    return value.cheatsEnabled;
  }, [], [(0,react_facet_src.useSharedFacet)(facetObservableCleanup_cheatsSettingsSelector)]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(facetObservableCleanup_TextFieldWithButton, {
    disabled: cheatsSettingsEnabled,
    value: (0,react_facet_src.useSharedFacet)(facetObservableCleanup_cheatsSettingsSelector)
  }), /*#__PURE__*/react.createElement(ReallyTinyComponent, {
    cheatsSettingsEnabled: cheatsSettingsEnabled
  }));
}

function facetObservableCleanup_TextFieldWithButton({
  value,
  disabled
}) {
  (0,react_facet_src.useFacetUnwrap)(disabled);
  const narrationTextFacet = (0,react_facet_src.useFacetMap)(() => {
    return 'asdfasdf';
  }, [], [value]);
  return /*#__PURE__*/react.createElement(facetObservableCleanup_BaseTextField, {
    narrationText: narrationTextFacet
  });
}

function facetObservableCleanup_BaseTextField({
  narrationText
}) {
  (0,react_facet_src.useFacetEffect)(() => {}, [], [narrationText]);
  return null;
}

const facetObservableCleanup = [{
  description: 'If the background is not blue, we have an issue.',
  element: /*#__PURE__*/react.createElement(Example, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/fallbackFonts.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const fallbackFonts = ({"fallbackFontsSeven":"c5Nsi","fallbackFontsTen":"F6cb7","paragraph":"a6sif"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/fallbackFonts.tsx



function FallbackFonts() {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    style: {
      width: '40rem',
      flexDirection: 'row',
      marginBottom: '4rem'
    }
  }, /*#__PURE__*/react.createElement("div", {
    className: fallbackFonts.fallbackFontsSeven
  }, /*#__PURE__*/react.createElement("div", {
    style: {
      marginBottom: '4rem'
    }
  }, "This paragraph should have all the chars"), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u30D2\u30A8\u30ED\u30B0\u30EA\u30D5"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Japanese")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u6731\u53E4\u529B"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Cantonese")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u5DE7\u514B\u529B"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Mandarin")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\uD55C\uAD6D\uC5B4"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Korean")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u03A3\u03BF\u03BA\u03BF\u03BB\u03AC\u03C4\u03B1"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Greek")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Ukrainian")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u0428\u043E\u043A\u043E\u043B\u0430\u0434"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Russian")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u2014\u30D2\u6731\u5DE7\uD55C\u03A3\u0423\u0428Mixed"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Mixed")))), /*#__PURE__*/react.createElement("div", {
    style: {
      width: '40rem',
      flexDirection: 'row',
      marginBottom: '4rem'
    }
  }, /*#__PURE__*/react.createElement("div", {
    className: fallbackFonts.fallbackFontsTen
  }, /*#__PURE__*/react.createElement("div", {
    style: {
      marginBottom: '4rem'
    }
  }, "This paragraph should have all the chars"), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u30D2\u30A8\u30ED\u30B0\u30EA\u30D5"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Japanese")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u6731\u53E4\u529B"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Cantonese")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u5DE7\u514B\u529B"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Mandarin")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\uD55C\uAD6D\uC5B4"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Korean")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u03A3\u03BF\u03BA\u03BF\u03BB\u03AC\u03C4\u03B1"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Greek")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Ukrainian")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u0428\u043E\u043A\u043E\u043B\u0430\u0434"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Russian")), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      marginBottom: '0.4rem'
    }
  }, /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "\u2014\u30D2\u6731\u5DE7\uD55C\u03A3\u0423\u0428Mixed"), " ", /*#__PURE__*/react.createElement("p", {
    className: fallbackFonts.paragraph
  }, "Mixed")))));
}

const fallbackFonts_fallbackFonts = [{
  element: /*#__PURE__*/react.createElement(FallbackFonts, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/filters.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const filters = ({"filters":"N51He","img":"YqbqR","div":"AMjCm","blur":"RWVTK","brightness":"iD3L5","contrast":"P8rik","dropShadow":"BHcaj","grayscale":"gAzwN","hueRotate":"GzrGO","invert":"YA8_r","opacity":"dj6R1","saturate":"f_Ce7","sepia":"YmKTk","combo":"jgY_n"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/filters.tsx





function Filters() {
  return /*#__PURE__*/react.createElement("div", {
    className: filters.filters
  }, /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Original", /*#__PURE__*/react.createElement("img", {
    className: filters.img,
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Blur", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.blur),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Brightness", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.brightness),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Contrast", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.contrast),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Drop Shadow", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.dropShadow),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Grayscale", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.grayscale),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Hue Rotate", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.hueRotate),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Invert", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.invert),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Opacity", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.opacity),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Saturate", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.saturate),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Sepia", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.sepia),
    src: world_namespaceObject
  })), /*#__PURE__*/react.createElement("div", {
    className: filters.div
  }, "Combo", /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(filters.img, filters.combo),
    src: world_namespaceObject
  })));
}

const filters_filters = [{
  element: /*#__PURE__*/react.createElement(Filters, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/filterScaling.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const filterScaling = ({"filterScaling":"MHIby","Animation":"lC6ir"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/newWorldEnd.png
const newWorldEnd_namespaceObject = __webpack_require__.p + "assets/newWorldEnd-89566.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/filterScaling.tsx




function App() {
  const paragraphStyle = {
    fontSize: '16px',
    color: '#000'
  };
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("p", {
    style: paragraphStyle
  }, "The purpose of this test screen is to see how Gameface handles scaling elements with filters. Before Gameface 1.4, Gameface would create a new texture for whenever an element with a filter was scaled. After Gameface 1.4, the filter is applied before the scaling, avoiding creating unnecessary textures."), /*#__PURE__*/react.createElement("p", {
    style: paragraphStyle
  }, "There was a bug in Gameface 1.14 where the element was incorrectly rendered on top of the top bar and the menu. The element is now scaled outside the width of the container to make it easier to find such bugs in the future."), /*#__PURE__*/react.createElement("img", {
    src: newWorldEnd_namespaceObject,
    className: filterScaling.filterScaling
  }));
}

const filterScaling_filterScaling = [{
  element: /*#__PURE__*/react.createElement(App, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/fontSize.tsx


function FontSizes({
  fontFamily
}) {
  return /*#__PURE__*/react.createElement(react.Fragment, null, Array.from(Array(100).keys()).map(i => {
    const size = i + 1;
    return /*#__PURE__*/react.createElement("div", {
      style: {
        fontFamily: fontFamily,
        fontSize: `${size}px`
      }
    }, `${fontFamily} at ${size}px`);
  }));
}

function FontSize() {
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement(FontSizes, {
    fontFamily: "MinecraftBitmap8"
  }), /*#__PURE__*/react.createElement(FontSizes, {
    fontFamily: "MinecraftBitmap16"
  }), /*#__PURE__*/react.createElement(FontSizes, {
    fontFamily: "Minecraft Five v2"
  }), /*#__PURE__*/react.createElement(FontSizes, {
    fontFamily: "Minecraft Seven v2"
  }), /*#__PURE__*/react.createElement(FontSizes, {
    fontFamily: "Minecraft Ten v2"
  }), /*#__PURE__*/react.createElement(FontSizes, {
    fontFamily: "Noto Sans"
  }));
}
const fontSize = [{
  description: `Test rendering of the Minecraft font at different sizes`,
  element: /*#__PURE__*/react.createElement(FontSize, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/fontOutlines.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const fontOutlines = ({"strokedText":"hZ9dx"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/fontOutlines.tsx




function FontOutlines() {
  return /*#__PURE__*/react.createElement("div", {
    className: fontOutlines.strokedText
  }, /*#__PURE__*/react.createElement(FontSize, null));
}

const fontOutlines_fontOutlines = [{
  description: `A test that renders the Minecraft fonts with outlines
						at different sizes. Outlines will only render correctly
						in Gameface-based platforms, not in the browser.`,
  element: /*#__PURE__*/react.createElement(FontOutlines, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/gamepadState.tsx






const gamepadsFacet = (0,react_facet_src.createFacet)({
  initialValue: []
});

const gamepadState_noop = () => {};

const Gamepad = ({
  gamepadFacet: gamepad,
  index
}) => {
  const isGamepadConnected = (0,react_facet_src.useFacetMap)(gamepad => gamepad != null, [], [gamepad]);
  const gamepadStatusTextFacet = (0,react_facet_src.useFacetMap)(gamepad => gamepad != null ? `index: ${gamepad.index}, id: ${gamepad.id}, connected: ${gamepad.connected ? 'true' : 'false'}` : 'Not connected', [], [gamepad]);
  const gamepadAxesTextFacet = (0,react_facet_src.useFacetMap)(gamepad => gamepad != null && gamepad.axes.length > 1 ? `[x: ${gamepad.axes[0]}, y: ${gamepad.axes[1]}]` : '', [], [gamepad]);
  const gamepadButtonsPressedTextFacet = (0,react_facet_src.useFacetMap)(gamepad => gamepad != null ? gamepad.buttons.map((button, index) => button.pressed ? `${index} (${types_BUTTON_MAP[index]})` : null).filter(button => button).join(', ') : '', [], [gamepad]);
  const gamepadButtonsReleasedTextFacet = (0,react_facet_src.useFacetMap)(gamepad => gamepad != null ? gamepad.buttons.map((button, index) => !button.pressed ? `${index} (${types_BUTTON_MAP[index]})` : null).filter(button => button).join(', ') : '', [], [gamepad]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header5B",
    color: "black"
  }, `Gamepad at index ${index}:`), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: isGamepadConnected
  }, /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "black"
  }, /*#__PURE__*/react.createElement("fast-text", {
    text: gamepadStatusTextFacet
  })), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "black"
  }, "Axes: ", /*#__PURE__*/react.createElement("fast-text", {
    text: gamepadAxesTextFacet
  })), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "black"
  }, "Pressed: ", /*#__PURE__*/react.createElement("fast-text", {
    text: gamepadButtonsPressedTextFacet
  })), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "black"
  }, "Released: ", /*#__PURE__*/react.createElement("fast-text", {
    text: gamepadButtonsReleasedTextFacet
  })))), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: isGamepadConnected,
    condition: false
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "black"
  }, "Not connected")), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }));
};

function GamepadStateTest() {
  (0,react.useEffect)(() => {
    let tickRef = -1;

    const tick = () => {
      const gamepads = getGamepads();
      gamepadsFacet.set(gamepads);
      tickRef = window.requestAnimationFrame(tick);
    };

    tick();
    return () => window.cancelAnimationFrame(tickRef);
  }, []);
  const gamepadsWrapped = (0,react_facet_src.useFacetWrap)(gamepadsFacet);
  return /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(GlobalShortcut_GlobalShortcut, {
    options: {
      button: ButtonType.B
    },
    onClick: gamepadState_noop
  }), /*#__PURE__*/react.createElement(GlobalShortcut_GlobalShortcut, {
    options: {
      button: ButtonType.START
    },
    onClick: gamepadState_noop
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    color: "black"
  }, "Test screen to check input state of gamepad buttons."), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement("div", {
    style: {
      padding: '0.5em',
      background: '#333333'
    }
  }, /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 0,
    onClick: gamepadState_noop,
    inputLegend: false
  }, "Focus me to prevent clicking on something")), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(react_facet_src.Map, {
    array: gamepadsWrapped
  }, (gamepadFacet, index) => /*#__PURE__*/react.createElement(Gamepad, {
    gamepadFacet: gamepadFacet,
    index: index
  })));
}

const gamepadState = [{
  element: /*#__PURE__*/react.createElement(GamepadStateTest, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/manyGlyphs.tsx


function ManyGlyphs() {
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("p", null, `
				\u4E00 \u4E59 \u4E8C \u5341 \u4E01 \u5382 \u4E03 \u535C \u516B \u4EBA \u5165 \u513F \u5315 \u51E0 \u4E5D \u5201
				\u4E86 \u5200 \u529B \u4E43 \u53C8 \u4E09 \u5E72 \u4E8E \u4E8F \u5DE5 \u571F \u58EB \u624D \u9B23 \u652E \u56D4
				\u9995 \u6206 \u7228 \u9F49 \u4E8D \u5C22 \u5F73 \u4E0B \u5BF8 \u5927 \u4E08 \u4E0E \u4E07 \u4E0A \u5C0F \u53E3
				\u5C71 \u5DFE \u5343 \u4E5E \u5DDD \u4EBF \u4E2A \u5915 \u4E45 \u4E48 \u52FA \u51E1 \u4E38 \u53CA \u5E7F \u4EA1
				\u95E8 \u4E2B \u4E49 \u4E4B \u5C38 \u5DF1 \u5DF2 \u5DF3 \u5F13 \u5B50 \u536B \u4E5F \u5973 \u5203 \u98DE \u4E60
				\u53C9 \u9A6C \u4E61 \u4E30 \u738B \u5F00 \u4E95 \u5929 \u592B \u5143 \u65E0 \u4E91 \u4E13 \u4E10 \u624E \u827A
				\u6728 \u4E94 \u652F \u5385 \u4E0D \u72AC \u592A \u533A \u5386 \u6B79 \u53CB \u5C24 \u5339 \u8F66 \u5DE8 \u7259
				\u5C6F \u6208 \u6BD4 \u4E92 \u5207 \u74E6 \u6B62 \u5C11 \u66F0 \u65E5 \u4E2D \u8D1D \u5188 \u5185 \u6C34 \u89C1
				\u5348 \u725B \u624B \u6C14 \u6BDB \u58EC \u5347 \u592D \u957F \u4EC1 \u4EC0 \u7247 \u4EC6 \u5316 \u4EC7 \u5E01
				\u4ECD \u4EC5 \u65A4 \u722A \u53CD \u4ECB \u7236 \u4ECE \u4ED1 \u4ECA \u51F6 \u5206 \u4E4F \u516C \u4ED3 \u6708
				\u6C0F \u52FF \u6B20 \u98CE \u4E39 \u5300 \u4E4C \u52FE \u51E4 \u516D \u6587 \u4EA2 \u65B9 \u706B \u4E3A \u6597
				\u5FC6 \u8BA1 \u8BA2 \u6237 \u8BA4 \u5197 \u8BA5 \u5FC3 \u5C3A \u5F15 \u4E11 \u5DF4 \u5B54 \u961F \u529E \u4EE5
				\u5141 \u4E88 \u9093 \u529D \u53CC \u4E66 \u5E7B \u7389 \u520A \u672A \u672B \u793A \u51FB \u6253 \u5DE7 \u6B63
				\u6251 \u5349 \u6252 \u529F \u6254 \u53BB \u7518 \u4E16 \u827E \u53E4 \u8282 \u672C \u672F \u53EF \u4E19 \u5DE6
				\u5389 \u77F3 \u53F3 \u5E03 \u592F \u620A \u9F99 \u5E73 \u706D \u8F67 \u4E1C \u5361 \u5317 \u5360 \u51F8 \u5362
				\u4E1A \u65E7 \u5E05 \u5F52 \u65E6 \u76EE \u4E14 \u53F6 \u7532 \u7533 \u53EE \u7535 \u53F7 \u7530 \u7531 \u53EA
				\u53ED \u53F2 \u592E \u5144 \u53FD \u53FC \u53EB \u53E9 \u53E8 \u53E6 \u53F9 \u5189 \u76BF \u51F9 \u56DA \u56DB
				\u751F \u77E2 \u5931 \u4E4D \u79BE \u4E18 \u4ED8 \u4ED7 \u4EE3 \u4ED9 \u4EEC \u4EEA \u767D \u4ED4 \u4ED6 \u65A5
				\u74DC \u4E4E \u4E1B \u4EE4 \u7528 \u7529 \u5370 \u5C14 \u4E50 \u53E5 \u5306 \u518C \u536F \u72AF \u5916 \u5904
				\u51AC \u9E1F \u52A1 \u5305 \u9965 \u4E3B \u5E02 \u7ACB \u51AF \u7384 \u95EA \u5170 \u534A \u6C41 \u6C47 \u5934
				\u6C49 \u5B81 \u7A74 \u5B83 \u8BA8 \u5199 \u8BA9 \u793C \u8BAD \u8BAE \u5FC5 \u8BAF \u8BB0 \u6C38 \u53F8 \u5C3C
				\u6C11 \u5F17 \u5F18 \u51FA \u8FBD \u5976 \u5974 \u53EC \u52A0 \u76AE \u8FB9 \u5B55 \u53D1 \u5723 \u5BF9 \u53F0
				\u77DB \u7EA0 \u6BCD \u5E7C \u4E1D \u90A6 \u5F0F \u8FC2 \u5211 \u620E \u52A8 \u625B \u5BFA \u5409 \u6263 \u8003
				\u6258 \u8001 \u5DE9 \u573E \u6267 \u6269 \u626B \u5730 \u573A \u626C \u8033 \u828B \u5171 \u8292 \u4E9A \u829D
				\u673D \u6734 \u673A \u6743 \u8FC7 \u81E3 \u540F \u518D \u534F \u897F \u538B \u538C \u620C \u5728 \u767E \u6709
				\u5B58 \u800C \u9875 \u5320 \u5938 \u593A \u7070 \u8FBE \u5217 \u6B7B \u6210 \u5939 \u5937 \u8F68 \u90AA \u5C27
				\u5212 \u8FC8 \u6BD5 \u81F3 \u6B64 \u8D1E \u5E08 \u5C18 \u5C16 \u52A3 \u5149 \u5F53 \u65E9 \u5401 \u5410 \u5413
				\u866B \u66F2 \u56E2 \u5415 \u540C \u540A \u5403 \u56E0 \u5438 \u5417 \u5406 \u5C7F \u5C79 \u5C81 \u5E06 \u56DE
				\u5C82 \u5219 \u521A \u7F51 \u8089 \u5E74 \u6731 \u5148 \u4E22 \u5EF7 \u820C \u7AF9 \u8FC1 \u4E54 \u8FC4 \u4F1F
				\u4F20 \u4E52 \u4E53 \u4F11 \u4F0D \u4F0F \u4F18 \u81FC \u4F10 \u5EF6 \u4EF2 \u4EF6 \u4EFB \u4F24 \u4EF7 \u4F26
				\u4EFD \u534E \u4EF0 \u4EFF \u4F19 \u4F2A \u81EA \u4F0A \u8840 \u5411 \u4F3C \u540E \u884C \u821F \u5168 \u4F1A
				\u6740 \u5408 \u5146 \u4F01 \u4F17 \u7237 \u4F1E \u521B \u808C \u808B \u6735 \u6742 \u5371 \u65EC \u65E8 \u65ED
				\u8D1F \u5308 \u540D \u5404 \u591A \u4E89 \u8272 \u58EE \u51B2 \u5986 \u51B0 \u5E84 \u5E86 \u4EA6 \u5218 \u9F50
				\u4EA4 \u8863 \u6B21 \u4EA7 \u51B3 \u4EA5 \u5145 \u5984 \u95ED \u95EE \u95EF \u7F8A \u5E76 \u5173 \u7C73 \u706F
				\u5DDE \u6C57 \u6C61 \u6C5F \u6C5B \u6C60 \u6C5D \u6C64 \u5FD9 \u5174 \u5B87 \u5B88 \u5B85 \u5B57 \u5B89 \u8BB2
				\u8BB3 \u519B \u8BB6 \u8BB8 \u8BB9 \u8BBA \u8BBC \u519C \u8BBD \u8BBE \u8BBF \u8BC0 \u5BFB \u90A3 \u8FC5 \u5C3D
				\u5BFC \u5F02 \u5F1B \u5B59 \u9635 \u9633 \u6536 \u9636 \u9634 \u9632 \u5978 \u5982 \u5987 \u5983 \u597D \u5979
				\u5988 \u620F \u7FBD \u89C2 \u6B22 \u4E70 \u7EA2 \u9A6E \u7EA4 \u9A6F \u7EA6 \u7EA7 \u7EAA \u9A70 \u7EAB \u5DE1
				\u5BFF \u5F04 \u9EA6 \u7396 \u739B \u5F62 \u8FDB \u6212 \u541E \u8FDC \u8FDD \u97E7 \u8FD0 \u6276 \u629A \u575B
				\u6280 \u574F \u62A0 \u6270 \u627C \u62D2 \u627E \u6279 \u5740 \u626F \u8D70 \u6284 \u8D21 \u6C5E \u575D \u653B
				\u8D64 \u6298 \u6293 \u6273 \u62A1 \u626E \u62A2 \u5B5D \u574E \u5747 \u6291 \u629B \u6295 \u575F \u5751 \u6297
				\u574A \u6296 \u62A4 \u58F3 \u5FD7 \u5757 \u626D \u58F0 \u628A \u62A5 \u62DF \u5374 \u6292 \u52AB \u8299 \u829C
				\u82C7 \u82BD \u82B1 \u82B9 \u82A5 \u82AC \u82CD \u82B3 \u4E25 \u82A6 \u82AF \u52B3 \u514B \u82AD \u82CF \u6746
				\u6760 \u675C \u6750 \u6751 \u6756 \u674F \u6749 \u5DEB \u6781 \u674E \u6768 \u6C42 \u752B \u5323 \u66F4 \u675F
				\u543E \u8C46 \u4E24 \u9149 \u4E3D \u533B \u8FB0 \u52B1 \u5426 \u8FD8 \u5C2C \u6B7C \u6765 \u8FDE \u8F69 \u6B65
				\u5364 \u575A \u8096 \u65F1 \u76EF \u5448 \u65F6 \u5434 \u52A9 \u53BF \u91CC \u5446 \u5431 \u5420 \u5455 \u56ED
				\u65F7 \u56F4 \u5440 \u5428 \u8DB3 \u90AE \u7537 \u56F0 \u5435 \u4E32 \u5458 \u5450 \u542C \u541F \u5429 \u545B
				\u543B \u5439 \u545C \u542D \u5427 \u9091 \u543C \u56E4 \u522B \u542E \u5C96 \u5C97 \u5E10 \u8D22 \u9488 \u9489
				\u7261 \u544A \u6211 \u4E71 \u5229 \u79C3 \u79C0 \u79C1 \u6BCF \u5175 \u4F30 \u4F53 \u4F55 \u4F50 \u4F51 \u4F46
				\u4F38 \u4F43 \u4F5C \u4F2F \u4F36 \u4F63 \u4F4E \u4F60 \u4F4F \u4F4D \u4F34 \u8EAB \u7682 \u4F3A \u4F5B \u56F1
				\u8FD1 \u5F7B \u5F79 \u8FD4 \u4F59 \u5E0C \u5750 \u8C37 \u59A5 \u542B \u90BB \u5C94 \u809D \u809B \u809A \u8098
				\u80A0 \u9F9F \u7538 \u514D \u72C2 \u72B9 \u72C8 \u89D2 \u5220 \u6761 \u5F64 \u5375 \u7078 \u5C9B \u5228 \u8FCE
				\u996D \u996E \u7CFB \u8A00 \u51BB \u72B6 \u4EA9 \u51B5 \u5E8A \u5E93 \u5E87 \u7597 \u541D \u5E94 \u8FD9 \u51B7
				\u5E90 \u5E8F \u8F9B \u5F03 \u51B6 \u5FD8 \u95F0 \u95F2 \u95F4 \u95F7 \u5224 \u5151 \u7076 \u707F \u707C \u5F1F
				\u6C6A \u6C90 \u6C9B \u6C70 \u6CA5 \u6C99 \u6C7D \u6C83 \u6CA6 \u6C79 \u6CDB \u6CA7 \u6CA1 \u6C9F \u6CAA \u6C88
				\u6C89 \u6C81 \u6000 \u5FE7 \u5FF1 \u5FEB \u5B8C \u5B8B \u5B8F \u7262 \u7A76 \u7A77 \u707E \u826F \u8BC1 \u542F
				\u8BC4 \u8865 \u521D \u793E \u7940 \u8BC6 \u8BC8 \u8BC9 \u7F55 \u8BCA \u8BCD \u8BD1 \u541B \u7075 \u5373 \u5C42
				\u5C41 \u5C3F \u5C3E \u8FDF \u5C40 \u6539 \u5F20 \u5FCC \u9645 \u9646 \u963F \u9648 \u963B \u9644 \u5760 \u5993
				\u5999 \u5996 \u59CA \u59A8 \u5992 \u52AA \u5FCD \u52B2 \u77E3 \u9E21 \u7EAC \u9A71 \u7EAF \u7EB1 \u7EB2 \u7EB3
				\u9A73 \u7EB5 \u7EB7 \u7EB8 \u7EB9 \u7EBA \u9A74 \u7EBD \u5949 \u73A9 \u73AF \u6B66 \u9752 \u8D23 \u73B0 \u73AB
				\u8868 \u89C4 \u62B9 \u5366 \u5777 \u576F \u62D3 \u62E2 \u62D4 \u576A \u62E3 \u5766 \u62C5 \u5764 \u62BC \u62BD
				\u62D0 \u62D6 \u8005 \u62CD \u9876 \u62C6 \u62CE \u62E5 \u62B5 \u62D8 \u52BF \u62B1 \u62C4 \u5783 \u62C9 \u62E6
				\u5E78 \u62CC \u62E7 \u62C2 \u62D9 \u62DB \u5761 \u62AB \u62E8 \u62E9 \u62AC \u62C7 \u62D7 \u5176 \u53D6 \u8309
				\u82E6 \u6614 \u82DB \u82E5 \u8302 \u82F9 \u82D7 \u82F1 \u82DF \u82D1 \u82DE \u8303 \u76F4 \u8301 \u8304 \u830E
				\u82D4 \u8305 \u6789 \u6797 \u679D \u676F \u67A2 \u67DC \u679A \u6790 \u677F \u677E \u67AA \u67AB \u6784 \u676D
				\u6770 \u8FF0 \u6795 \u4E27 \u6216 \u753B \u5367 \u4E8B \u523A \u67A3 \u96E8 \u5356 \u90C1 \u77FE \u77FF \u7801
				\u5395 \u5948 \u5954 \u5947 \u594B \u6001 \u6B27 \u6BB4 \u5784 \u59BB \u8F70 \u9877 \u8F6C \u65A9 \u8F6E \u8F6F
				\u5230 \u975E \u53D4 \u6B67 \u80AF \u9F7F \u4E9B \u5353 \u864E \u864F \u80BE \u8D24 \u5C1A \u65FA \u5177 \u5473
				\u679C \u6606 \u56FD \u54CE \u5495 \u660C \u5475 \u7545 \u660E \u6613 \u5499 \u6602 \u8FEA \u5178 \u56FA \u5FE0
				\u547B \u5492 \u548B \u5490 \u547C \u9E23 \u548F \u5462 \u5484 \u5496 \u5CB8 \u5CA9 \u5E16 \u7F57 \u5E1C \u5E15
				\u5CAD \u51EF \u8D25 \u8D26 \u8D29 \u8D2C \u8D2D \u8D2E \u56FE \u9493 \u5236 \u77E5 \u8FED \u6C1B \u5782 \u7267
				\u7269 \u4E56 \u522E \u79C6 \u548C \u5B63 \u59D4 \u79C9 \u4F73 \u4F8D \u5CB3 \u4F9B \u4F7F \u4F8B \u4FA0 \u4FA5
				\u7248 \u4F84 \u4FA6 \u4FA3 \u4FA7 \u51ED \u4FA8 \u4F69 \u8D27 \u4F88 \u4F9D \u5351 \u7684 \u8FEB \u8D28 \u6B23
				\u5F81 \u5F80 \u722C \u5F7C \u5F84 \u6240 \u820D \u91D1 \u5239 \u547D \u80B4 \u65A7 \u7238 \u91C7 \u89C5 \u53D7
				\u4E73 \u8D2A \u5FF5 \u8D2B \u5FFF \u80A4 \u80BA \u80A2 \u80BF \u80C0 \u670B \u80A1 \u80AE \u80AA \u80A5 \u670D
				\u80C1 \u5468 \u660F \u9C7C \u5154 \u72D0 \u5FFD \u72D7 \u72DE \u5907 \u9970 \u9971 \u9972 \u53D8 \u4EAC \u4EAB
				\u5E9E \u5E97 \u591C \u5E99 \u5E9C \u5E95 \u759F \u7599 \u759A \u5242 \u5352 \u90CA \u5E9A \u5E9F \u51C0 \u76F2
				\u653E \u523B \u80B2 \u6C13 \u95F8 \u95F9 \u90D1 \u5238 \u5377 \u5355 \u70AC \u7092 \u708A \u7095 \u708E \u7089
				\u6CAB \u6D45 \u6CD5 \u6CC4 \u6CBD \u6CB3 \u6CBE \u6CEA \u6CAE \u6CB9 \u6CCA \u6CBF \u6CE1 \u6CE8 \u6CE3 \u6CDE
				\u6CFB \u6CCC \u6CF3 \u6CE5 \u6CB8 \u6CBC \u6CE2 \u6CFC \u6CFD \u6CBB \u6014 \u602F \u6016 \u6027 \u6015 \u601C
				\u602A \u6021 \u5B66 \u5B9D \u5B97 \u5B9A \u5BA0 \u5B9C \u5BA1 \u5B99 \u5B98 \u7A7A \u5E18 \u5B9B \u5B9E \u8BD5
				\u90CE \u8BD7 \u80A9 \u623F \u8BDA \u886C \u886B \u89C6 \u7948 \u8BDD \u8BDE \u8BE1 \u8BE2 \u8BE5 \u8BE6 \u5EFA
				\u8083 \u5F55 \u96B6 \u5E1A \u5C49 \u5C45 \u5C4A \u5237 \u5C48 \u5F27 \u5F25 \u5F26 \u627F \u5B5F \u964B \u964C
				\u5B64 \u9655 \u964D \u51FD \u9650 \u59B9 \u59D1 \u59D0 \u59D3 \u59AE \u59CB \u59C6 \u8FE2 \u9A7E \u53C1 \u53C2
				\u8270 \u7EBF \u7EC3 \u7EC4 \u7EC5 \u7EC6 \u9A76 \u7EC7 \u9A79 \u7EC8 \u9A7B \u7ECA \u9A7C \u7ECD \u7ECE \u7ECF
				\u8D2F \u5951 \u8D30 \u594F \u6625 \u5E2E \u73B7 \u73CD \u73B2 \u73CA \u73BB \u6BD2 \u578B \u62ED \u6302 \u5C01
				\u6301 \u62F7 \u62F1 \u9879 \u57AE \u630E \u57CE \u631F \u6320 \u653F \u8D74 \u8D75 \u6321 \u62FD \u54C9 \u633A
				\u62EC \u57A2 \u62F4 \u62FE \u6311 \u579B \u6307 \u57AB \u6323 \u6324 \u62FC \u6316 \u6309 \u6325 \u632A \u62EF
				\u67D0 \u751A \u8346 \u8338 \u9769 \u832C \u8350 \u5DF7 \u5E26 \u8349 \u8327 \u8335 \u8336 \u8352 \u832B \u8361
				\u8363 \u8364 \u8367 \u6545 \u80E1 \u836B \u8354 \u5357 \u836F \u6807 \u6808 \u67D1 \u67AF \u67C4 \u680B \u76F8
				\u67E5 \u67CF \u6805 \u67F3 \u67F1 \u67FF \u680F \u67E0 \u6811 \u52C3 \u8981 \u67EC \u54B8 \u5A01 \u6B6A \u7814
				\u7816 \u5398 \u539A \u780C \u7802 \u6CF5 \u781A \u780D \u9762 \u8010 \u800D \u7275 \u9E25 \u6B8B \u6B83 \u8F74
				\u8F7B \u9E26 \u7686 \u97ED \u80CC \u6218 \u70B9 \u8650 \u4E34 \u89C8 \u7AD6 \u7701 \u524A \u5C1D \u6627 \u76F9
				\u662F \u76FC \u7728 \u54C7 \u54C4 \u54D1 \u663E \u5192 \u6620 \u661F \u6628 \u54A7 \u662D \u754F \u8DB4 \u80C3
				\u8D35 \u754C \u8679 \u867E \u8681 \u601D \u8682 \u867D \u54C1 \u54BD \u9A82 \u52CB \u54D7 \u54B1 \u54CD \u54C8
				\u54C6 \u54AC \u54B3 \u54AA \u54EA \u54DF \u70AD \u5CE1 \u7F5A \u8D31 \u8D34 \u8D3B \u9AA8 \u5E7D \u9499 \u949D
				\u949E \u949F \u94A2 \u94A0 \u94A5 \u94A6 \u94A7 \u94A9 \u94AE \u5378 \u7F38 \u62DC \u770B \u77E9 \u6BE1 \u6C22
				\u600E \u7272 \u9009 \u9002 \u79D2 \u9999 \u79CD \u79CB \u79D1 \u91CD \u590D \u7AFF \u6BB5 \u4FBF \u4FE9 \u8D37
				\u987A \u4FEE \u4FCF \u4FDD \u4FC3 \u4FC4 \u4FD0 \u4FAE \u4FED \u4FD7 \u4FD8 \u4FE1 \u7687 \u6CC9 \u9B3C \u4FB5
				\u79B9 \u4FAF \u8FFD \u4FCA \u76FE \u5F85 \u5F8A \u884D \u5F8B \u5F88 \u987B \u53D9 \u5251 \u9003 \u98DF \u76C6
				\u80DA \u80E7 \u80C6 \u80DC \u80DE \u80D6 \u8109 \u80CE \u52C9 \u72ED \u72EE \u72EC \u72F0 \u72E1 \u72F1 \u72E0
				\u8D38 \u6028 \u6025 \u9975 \u9976 \u8680 \u997A \u997C \u5CE6 \u5F2F \u5C06 \u5956 \u54C0 \u4EAD \u4EAE \u5EA6
				\u8FF9 \u5EAD \u75AE \u75AF \u75AB \u75A4 \u54A8 \u59FF \u4EB2 \u97F3 \u5E1D \u65BD \u95FA \u95FB \u95FD \u9600
				\u9601 \u5DEE \u517B \u7F8E \u59DC \u53DB \u9001 \u7C7B \u8FF7 \u7C7D \u5A04 \u524D \u9996 \u9006 \u5179 \u603B
				\u70BC \u70B8 \u70C1 \u70AE \u70AB \u70C2 \u5243 \u6D3C \u6D01 \u6D2A \u6D12 \u67D2 \u6D47 \u6D4A \u6D1E \u6D4B
				\u6D17 \u6D3B \u6D3E \u6D3D \u67D3 \u6D1B \u6D4F \u6D4E \u6D0B \u6D32 \u6D51 \u6D53 \u6D25 \u6043 \u6052 \u6062
				\u604D \u606C \u6064 \u6070 \u607C \u6068 \u4E3E \u89C9 \u5BA3 \u5BA6 \u5BA4 \u5BAB \u5BAA \u7A81 \u7A7F \u7A83
				\u5BA2 \u8BEB \u51A0 \u8BEC \u8BED \u6241 \u8884 \u7956 \u795E \u795D \u7960 \u8BEF \u8BF1 \u8BF2 \u8BF4 \u8BF5
				\u57A6 \u9000 \u65E2 \u5C4B \u663C \u5C4F \u5C4E \u8D39 \u9661 \u900A \u7709 \u5B69 \u9668 \u9664 \u9669 \u9662
				\u5A03 \u59E5 \u59E8 \u59FB \u5A07 \u59DA \u5A1C \u6012 \u67B6 \u8D3A \u76C8 \u52C7 \u6020 \u7678 \u86A4 \u67D4
				\u5792 \u7ED1 \u7ED2 \u7ED3 \u7ED5 \u9A84 \u7ED8 \u7ED9 \u7EDA \u9A86 \u7EDC \u7EDD \u7EDE \u9A87 \u7EDF \u8015
				\u8018 \u8017 \u8019 \u8273 \u6CF0 \u79E6 \u73E0 \u73ED \u7D20 \u533F \u8695 \u987D \u76CF \u532A \u635E \u683D
				\u6355 \u57C2 \u6342 \u632F \u8F7D \u8D76 \u8D77 \u76D0 \u634E \u634D \u634F \u57CB \u6349 \u6346 \u6350 \u635F
				\u8881 \u634C \u90FD \u54F2 \u901D \u6361 \u632B \u6362 \u633D \u631A \u70ED \u6050 \u6363 \u58F6 \u6345 \u57C3
				\u6328 \u803B \u803F \u803D \u8042 \u606D \u83BD \u83B1 \u83B2 \u83AB \u8389 \u8377 \u83B7 \u664B \u6076 \u83B9
				\u83BA \u771F \u6846 \u6886 \u6842 \u6854 \u6816 \u6863 \u6850 \u682A \u6865 \u6866 \u6813 \u6843 \u683C \u6869
				\u6821 \u6838 \u6837 \u6839 \u7D22 \u54E5 \u901F \u9017 \u6817 \u8D3E \u914C \u914D \u7FC5 \u8FB1 \u5507 \u590F
				\u7838 \u7830 \u783E \u7840 \u7834 \u539F \u5957 \u9010 \u70C8 \u6B8A \u6B89 \u987E \u8F7F \u8F83 \u987F \u6BD9
				\u81F4 \u67F4 \u684C \u8651 \u76D1 \u7D27 \u515A \u901E \u6652 \u7720 \u6653 \u54EE \u5520 \u9E2D \u6643 \u54FA
				\u664C \u5254 \u6655 \u868C \u7554 \u86A3 \u868A \u86AA \u8693 \u54E8 \u54E9 \u5703 \u54ED \u54E6 \u6069 \u9E2F
				\u5524 \u5501 \u54FC \u5527 \u554A \u5509 \u5506 \u7F62 \u5CED \u5CE8 \u5CF0 \u5706 \u5CFB \u8D3C \u8D3F \u8D42
				\u8D43 \u94B1 \u94B3 \u94BB \u94BE \u94C1 \u94C3 \u94C5 \u7F3A \u6C27 \u6C28 \u7279 \u727A \u9020 \u4E58 \u654C
				\u79E4 \u79DF \u79EF \u79E7 \u79E9 \u79F0 \u79D8 \u900F \u7B14 \u7B11 \u7B0B \u503A \u501F \u503C \u501A \u4FFA
				\u503E \u5012 \u5018 \u4FF1 \u5021 \u5019 \u8D41 \u4FEF \u500D \u5026 \u5065 \u81ED \u5C04 \u8EAC \u606F \u5014
				\u5F92 \u5F90 \u6BB7 \u8230 \u8231 \u822C \u822A \u9014 \u62FF \u8038 \u7239 \u8200 \u7231 \u8C7A \u8C79 \u9881
				\u9882 \u7FC1 \u80F0 \u8106 \u8102 \u80F8 \u80F3 \u810F \u8110 \u80F6 \u8111 \u8113 \u901B \u72F8 \u72FC \u537F
				\u9022 \u9E35 \u7559 \u9E33 \u76B1 \u997F \u9981 \u51CC \u51C4 \u604B \u6868 \u6D46 \u8870 \u8877 \u9AD8 \u90ED
				\u5E2D \u51C6 \u5EA7 \u75C7 \u75C5 \u75BE \u658B \u75B9 \u75BC \u75B2 \u810A \u6548 \u79BB \u7D0A \u5510 \u74F7
				\u8D44 \u51C9 \u7AD9 \u5256 \u7ADE \u90E8 \u65C1 \u65C5 \u755C \u9605 \u7F9E \u7F94 \u74F6 \u62F3 \u7C89 \u6599
				\u76CA \u517C \u70E4 \u70D8 \u70E6 \u70E7 \u70DB \u70DF \u70D9 \u9012 \u6D9B \u6D59 \u6D9D \u6D66 \u9152 \u6D89
				\u6D88 \u6DA1 \u6D69 \u6D77 \u6D82 \u6D74 \u6D6E \u6DA3 \u6DA4 \u6D41 \u6DA6 \u6DA7 \u6D95 \u6D6A \u6D78 \u6DA8
				\u70EB \u6DA9 \u6D8C \u6096 \u609F \u6084 \u608D \u6094 \u60AF \u60A6 \u5BB3 \u5BBD \u5BB6 \u5BB5 \u5BB4 \u5BBE
				\u7A8D \u7A84 \u5BB9 \u5BB0 \u6848 \u8BF7 \u6717 \u8BF8 \u8BFA \u8BFB \u6247 \u8BFD \u889C \u8896 \u888D \u88AB
				\u7965 \u8BFE \u51A5 \u8C01 \u8C03 \u51A4 \u8C05 \u8C06 \u8C08 \u8C0A \u5265 \u6073 \u5C55 \u5267 \u5C51 \u5F31
				\u9675 \u795F \u9676 \u9677 \u966A \u5A31 \u5A1F \u6055 \u5A25 \u5A18 \u901A \u80FD \u96BE \u9884 \u6851 \u7EE2
				\u7EE3 \u9A8C \u7EE7 \u9A8F \u7403 \u7410 \u7406 \u7409 \u7405 \u6367 \u5835 \u63AA \u63CF \u57DF \u637A \u63A9
				\u6377 \u6392 \u7109 \u6389 \u6376 \u8D66 \u5806 \u63A8 \u57E0 \u6380 \u6388 \u637B \u6559 \u638F \u6390 \u63A0
				\u6382 \u57F9 \u63A5 \u63B7 \u63A7 \u63A2 \u636E \u6398 \u63BA \u804C \u57FA \u8046 \u52D8 \u804A \u5A36 \u8457
				\u83F1 \u52D2 \u9EC4 \u83F2 \u840C \u841D \u83CC \u840E \u83DC \u8404 \u83CA \u83E9 \u840D \u83E0 \u8424 \u8425
				\u4E7E \u8427 \u8428 \u83C7 \u68B0 \u5F6C \u68A6 \u5A6A \u6897 \u68A7 \u68A2 \u6885 \u68C0 \u68B3 \u68AF \u6876
				\u68AD \u6551 \u66F9 \u526F \u7968 \u915D \u9157 \u53A2 \u621A \u7845 \u7855 \u5962 \u76D4 \u723D \u804B \u88AD
				\u76DB \u533E \u96EA \u8F85 \u8F86 \u9885 \u865A \u5F6A \u96C0 \u5802 \u5E38 \u7736 \u5319 \u6668 \u7741 \u772F
				\u773C \u60AC \u91CE \u556A \u5566 \u66FC \u6666 \u665A \u5544 \u5561 \u8DDD \u8DBE \u5543 \u8DC3 \u7565 \u86AF
				\u86C0 \u86C7 \u552C \u7D2F \u9102 \u5531 \u60A3 \u5570 \u553E \u552F \u5564 \u5565 \u5578 \u5D16 \u5D0E \u5D2D
				\u903B \u5D14 \u5E37 \u5D29 \u5D07 \u5D1B \u5A74 \u5708 \u94D0 \u94DB \u94DD \u94DC \u94ED \u94F2 \u94F6 \u77EB
				\u751C \u79F8 \u68A8 \u7281 \u79FD \u79FB \u7B28 \u7B3C \u7B1B \u7B19 \u7B26 \u7B2C \u654F \u505A \u888B \u60A0
				\u507F \u5076 \u504E \u5077 \u60A8 \u552E \u505C \u504F \u8EAF \u515C \u5047 \u8845 \u5F98 \u5F99 \u5F97 \u8854
				\u76D8 \u8236 \u8239 \u8235 \u659C \u76D2 \u9E3D \u655B \u6089 \u6B32 \u5F69 \u9886 \u811A \u8116 \u812F \u8C5A
				\u8138 \u8131 \u8C61 \u591F \u9038 \u731C \u732A \u730E \u732B \u51F0 \u7316 \u731B \u796D \u9985 \u9986 \u51D1
				\u51CF \u6BEB \u70F9 \u5EB6 \u9EBB \u5EB5 \u75CA \u75D2 \u75D5 \u5ECA \u5EB7 \u5EB8 \u9E7F \u76D7 \u7AE0 \u7ADF
				\u5546 \u65CF \u65CB \u671B \u7387 \u960E \u9610 \u7740 \u7F9A \u76D6 \u7737 \u7C98 \u7C97 \u7C92 \u65AD \u526A
				\u517D \u710A \u7115 \u6E05 \u6DFB \u9E3F \u6DCB \u6DAF \u6DF9 \u6E20 \u6E10 \u6DD1 \u6DCC \u6DF7 \u6DEE \u6DC6
				\u6E0A \u6DEB \u6E14 \u6DD8 \u6DF3 \u6DB2 \u6DE4 \u6DE1 \u6DC0 \u6DF1 \u6DAE \u6DB5 \u5A46 \u6881 \u6E17 \u60C5
				\u60DC \u60ED \u60BC \u60E7 \u60D5 \u60DF \u60CA \u60E6 \u60B4 \u60CB \u60E8 \u60EF \u5BC7 \u5BC5 \u5BC4 \u5BC2
				\u5BBF \u7A92 \u7A91 \u5BC6 \u8C0B \u8C0D \u8C0E \u8C10 \u88B1 \u7977 \u7978 \u8C13 \u8C1A \u8C1C \u902E \u6562
				\u5C09 \u5C60 \u5F39 \u968B \u5815 \u968F \u86CB \u9685 \u9686 \u9690 \u5A5A \u5A76 \u5A49 \u9887 \u9888 \u7EE9
				\u7EEA \u7EED \u9A91 \u7EF0 \u7EF3 \u7EF4 \u7EF5 \u7EF7 \u7EF8 \u7EFC \u7EFD \u7EFF \u7F00 \u5DE2 \u7434 \u7433
				\u7422 \u743C \u6591 \u66FF \u63CD \u6B3E \u582A \u5854 \u642D \u5830 \u63E9 \u8D8A \u8D81 \u8D8B \u8D85 \u63FD
				\u5824 \u63D0 \u535A \u63ED \u559C \u5F6D \u63E3 \u63D2 \u63EA \u641C \u716E \u63F4 \u6400 \u88C1 \u6401 \u6413
				\u6402 \u6405 \u58F9 \u63E1 \u6414 \u63C9 \u65AF \u671F \u6B3A \u8054 \u846B \u6563 \u60F9 \u846C \u52DF \u845B
				\u8463 \u8461 \u656C \u8471 \u848B \u8482 \u843D \u97E9 \u671D \u8F9C \u8475 \u68D2 \u68F1 \u68CB \u6930 \u690D
				\u68EE \u711A \u6905 \u6912 \u68F5 \u68CD \u690E \u68C9 \u68DA \u68D5 \u68FA \u6994 \u692D \u60E0 \u60D1 \u903C
				\u7C9F \u68D8 \u9163 \u9165 \u53A8 \u53A6 \u786C \u785D \u786E \u786B \u96C1 \u6B96 \u88C2 \u96C4 \u988A \u96F3
				\u6682 \u96C5 \u7FD8 \u8F88 \u60B2 \u7D2B \u51FF \u8F89 \u655E \u68E0 \u8D4F \u638C \u6674 \u7750 \u6691 \u6700
				\u6670 \u91CF \u9F0E \u55B7 \u55B3 \u6676 \u5587 \u9047 \u558A \u904F \u667E \u666F \u7574 \u8DF5 \u8DCB \u8DCC
				\u8DD1 \u8DDB \u9057 \u86D9 \u86DB \u8713 \u8712 \u86E4 \u559D \u9E43 \u5582 \u5598 \u5589 \u55BB \u557C \u55A7
				\u5D4C \u5E45 \u5E3D \u8D4B \u8D4C \u8D4E \u8D50 \u8D54 \u9ED1 \u94F8 \u94FA \u94FE \u9500 \u9501 \u9504 \u9505
				\u9508 \u950B \u950C \u9510 \u7525 \u63B0 \u77ED \u667A \u6C2E \u6BEF \u6C2F \u9E45 \u5269 \u7A0D \u7A0B \u7A00
				\u7A0E \u7B50 \u7B49 \u7B51 \u7B56 \u7B5B \u7B52 \u7B4F \u7B54 \u7B4B \u7B5D \u50B2 \u5085 \u724C \u5821 \u96C6
				\u7126 \u508D \u50A8 \u7693 \u7696 \u7CA4 \u5965 \u8857 \u60E9 \u5FA1 \u5FAA \u8247 \u8212 \u903E \u756A \u91CA
				\u79BD \u814A \u813E \u814B \u8154 \u8155 \u9C81 \u7329 \u732C \u733E \u7334 \u60EB \u7136 \u9988 \u998B \u88C5
				\u86EE \u5C31 \u6566 \u658C \u75D8 \u75E2 \u75EA \u75DB \u7AE5 \u7AE3 \u9614 \u5584 \u7FD4 \u7FA1 \u666E \u7CAA
				\u5C0A \u5960 \u9053 \u9042 \u66FE \u7130 \u6E2F \u6EDE \u6E56 \u6E58 \u6E23 \u6E24 \u6E3A \u6E7F \u6E29 \u6E34
				\u6E83 \u6E85 \u6ED1 \u6E43 \u6E1D \u6E7E \u6E21 \u6E38 \u6ECB \u6E32 \u6E89 \u6124 \u614C \u60F0 \u6115 \u6123
				\u60F6 \u6127 \u6109 \u6168 \u5272 \u5BD2 \u5BCC \u5BD3 \u7A9C \u7A9D \u7A96 \u7A97 \u7A98 \u904D \u96C7 \u88D5
				\u88E4 \u88D9 \u7985 \u7984 \u8C22 \u8C23 \u8C24 \u8C26 \u7280 \u5C5E \u5C61 \u5F3A \u7CA5 \u758F \u9694 \u9699
				\u9698 \u5A92 \u7D6E \u5AC2 \u5A9A \u5A7F \u767B \u7F05 \u7F06 \u7F09 \u7F0E \u7F13 \u7F14 \u7F15 \u9A97 \u7F16
				\u9A9A \u7F18 \u745F \u9E49 \u745E \u7470 \u7459 \u9B42 \u8086 \u6444 \u6478 \u586B \u640F \u584C \u9F13 \u6446
				\u643A \u642C \u6447 \u641E \u5858 \u644A \u8058 \u659F \u849C \u52E4 \u9774 \u9776 \u9E4A \u84DD \u5893 \u5E55
				\u84EC \u84C4 \u84B2 \u84C9 \u8499 \u84B8 \u732E \u693F \u7981 \u695A \u6977 \u6984 \u60F3 \u69D0 \u6986 \u697C
				\u6982 \u8D56 \u916A \u916C \u611F \u788D \u7898 \u7891 \u788E \u78B0 \u7897 \u788C \u5C34 \u96F7 \u96F6 \u96FE
				\u96F9 \u8F90 \u8F91 \u8F93 \u7763 \u9891 \u9F84 \u9274 \u775B \u7779 \u7766 \u7784 \u776B \u7761 \u776C \u55DC
				\u9119 \u55E6 \u611A \u6696 \u76DF \u6B47 \u6697 \u6687 \u7167 \u7578 \u8DE8 \u8DF7 \u8DF3 \u8DFA \u8DEA \u8DEF
				\u8DE4 \u8DDF \u9063 \u8708 \u8717 \u86FE \u8702 \u8715 \u55C5 \u55E1 \u55D3 \u7F72 \u7F6E \u7F6A \u7F69 \u8700
				\u5E4C \u9519 \u951A \u9521 \u9523 \u9524 \u9525 \u9526 \u952E \u952F \u9530 \u77EE \u8F9E \u7A1A \u7A20 \u9893
				\u6101 \u7B79 \u7B7E \u7B80 \u7B77 \u6BC1 \u8205 \u9F20 \u50AC \u50BB \u50CF \u8EB2 \u9B41 \u8859 \u5FAE \u6108
				\u9065 \u817B \u8170 \u8165 \u816E \u8179 \u817A \u9E4F \u817E \u817F \u9C8D \u733F \u9896 \u89E6 \u89E3 \u715E
				\u96CF \u998D \u998F \u9171 \u7980 \u75F9 \u5ED3 \u75F4 \u75F0 \u5EC9 \u9756 \u65B0 \u97F5 \u610F \u8A8A \u7CAE
				\u6570 \u714E \u5851 \u6148 \u7164 \u714C \u6EE1 \u6F20 \u6EC7 \u6E90 \u6EE4 \u6EE5 \u6ED4 \u6EAA \u6E9C \u6F13
				\u6EDA \u6EA2 \u6EAF \u6EE8 \u6EB6 \u6EBA \u7CB1 \u6EE9 \u614E \u8A89 \u585E \u5BDE \u7AA5 \u7A9F \u5BDD \u8C28
				\u8902 \u88F8 \u798F \u8C2C \u7FA4 \u6BBF \u8F9F \u969C \u5AB3 \u5AC9 \u5ACC \u5AC1 \u53E0 \u7F1A \u7F1D \u7F20
				\u7F24 \u527F \u9759 \u78A7 \u7483 \u8D58 \u71AC \u5899 \u589F \u5609 \u6467 \u8D6B \u622A \u8A93 \u5883 \u6458
				\u6454 \u6487 \u805A \u6155 \u66AE \u6479 \u8513 \u8511 \u8521 \u8517 \u853D \u853C \u7199 \u851A \u5162 \u6A21
				\u69DB \u69B4 \u699C \u69A8 \u6995 \u6B4C \u906D \u9175 \u9177 \u917F \u9178 \u789F \u78B1 \u78B3 \u78C1 \u613F
				\u9700 \u8F96 \u8F97 \u96CC \u88F3 \u9897 \u7785 \u5885 \u55FD \u8E0A \u873B \u8721 \u8747 \u8718 \u8749 \u561B
				\u5600 \u8D5A \u9539 \u953B \u9540 \u821E \u8214 \u7A33 \u718F \u7B95 \u7B97 \u7BA9 \u7BA1 \u7BAB \u8206 \u50DA
				\u50E7 \u9F3B \u9B44 \u9B45 \u8C8C \u819C \u818A \u8180 \u9C9C \u7591 \u5B75 \u9992 \u88F9 \u6572 \u8C6A \u818F
				\u906E \u8150 \u7629 \u761F \u7626 \u8FA3 \u5F70 \u7AED \u7AEF \u65D7 \u7CBE \u7CB9 \u6B49 \u5F0A \u7184 \u7194
				\u717D \u6F47 \u6F06 \u6F31 \u6F02 \u6F2B \u6EF4 \u6F3E \u6F14 \u6F0F \u6162 \u6177 \u5BE8 \u8D5B \u5BE1 \u5BDF
				\u871C \u5BE5 \u8C2D \u8087 \u8910 \u892A \u8C31 \u96A7 \u5AE9 \u7FE0 \u718A \u51F3 \u9AA1 \u7F29 \u6167 \u64B5
				\u6495 \u6492 \u64A9 \u8DA3 \u8D9F \u6491 \u64AE \u64AC \u64AD \u64D2 \u58A9 \u649E \u64A4 \u589E \u64B0 \u806A
				\u978B \u978D \u8549 \u854A \u852C \u8574 \u6A2A \u69FD \u6A31 \u6A61 \u6A1F \u6A44 \u6577 \u8C4C \u98D8 \u918B
				\u9187 \u9189 \u78D5 \u78CA \u78C5 \u78BE \u9707 \u9704 \u9709 \u7792 \u9898 \u66B4 \u778E \u563B \u5636 \u5632
				\u5639 \u5F71 \u8E22 \u8E0F \u8E29 \u8E2A \u8776 \u8774 \u8760 \u874E \u874C \u8757 \u8759 \u563F \u5631 \u5E62
				\u58A8 \u9547 \u9550 \u9551 \u9760 \u7A3D \u7A3B \u9ECE \u7A3F \u7A3C \u7BB1 \u7BD3 \u7BAD \u7BC7 \u50F5 \u8EBA
				\u50FB \u5FB7 \u8258 \u819D \u819B \u9CA4 \u9CAB \u719F \u6469 \u8912 \u762A \u7624 \u762B \u51DB \u989C \u6BC5
				\u7CCA \u9075 \u618B \u6F5C \u6F8E \u6F6E \u6F6D \u9CA8 \u6FB3 \u6F58 \u6F88 \u6F9C \u6F84 \u61C2 \u6194 \u61CA
				\u618E \u989D \u7FE9 \u8925 \u8C34 \u9E64 \u61A8 \u6170 \u5288 \u5C65 \u8C6B \u7F2D \u64BC \u64C2 \u64CD \u64C5
				\u71D5 \u857E \u85AF \u859B \u8587 \u64CE \u85AA \u8584 \u98A0 \u7FF0 \u5669 \u6A71 \u6A59 \u6A58 \u6574 \u878D
				\u74E2 \u9192 \u970D \u970E \u8F99 \u5180 \u9910 \u5634 \u8E31 \u8E44 \u8E42 \u87C6 \u8783 \u5668 \u566A \u9E66
				\u8D60 \u9ED8 \u9ED4 \u955C \u8D5E \u7A46 \u7BEE \u7BE1 \u7BF7 \u7BF1 \u5112 \u9080 \u8861 \u81A8 \u96D5 \u9CB8
				\u78E8 \u763E \u7638 \u51DD \u8FA8 \u8FA9 \u7CD9 \u7CD6 \u7CD5 \u71C3 \u6FD2 \u6FA1 \u6FC0 \u61D2 \u61BE \u61C8
				\u7ABF \u58C1 \u907F \u7F30 \u7F34 \u6234 \u64E6 \u85C9 \u97A0 \u85CF \u85D0 \u6AAC \u6A90 \u6A80 \u7901 \u78F7
				\u971C \u971E \u77AD \u77A7 \u77AC \u77B3 \u77A9 \u77AA \u66D9 \u8E4B \u8E48 \u87BA \u87CB \u87C0 \u568E \u8D61
				\u7A57 \u9B4F \u7C27 \u7C07 \u7E41 \u5FBD \u7235 \u6726 \u81CA \u9CC4 \u764C \u8FAB \u8D62 \u7CDF \u7CE0 \u71E5
				\u61E6 \u8C41 \u81C0 \u81C2 \u7FFC \u9AA4 \u85D5 \u97AD \u85E4 \u8986 \u77BB \u8E66 \u56A3 \u9570 \u7FFB \u9CCD
				\u9E70 \u7011 \u895F \u74A7 \u6233 \u5B7D \u8B66 \u8611 \u85FB \u6500 \u66DD \u8E72 \u8E6D \u8E6C \u5DC5 \u7C38
				\u7C3F \u87F9 \u98A4 \u9761 \u7663 \u74E3 \u7FB9 \u9CD6 \u7206 \u7586 \u9B13 \u58E4 \u99A8 \u8000 \u8E81 \u8815
				\u56BC \u56B7 \u5DCD \u7C4D \u9CDE \u9B54 \u7CEF \u704C \u8B6C \u8822 \u9738 \u9732 \u9739 \u8E8F \u9EEF \u9AD3
				\u8D63 \u56CA \u9576 \u74E4 \u7F50 \u77D7 \u4E42 \u4E5C \u5140 \u5F0B \u5B51 \u5B53 \u5E7A \u4E93 \u97E6 \u5EFF
				\u4E0F \u5345 \u4EC4 \u5384 \u4EC3 \u4EC9 \u4EC2 \u516E \u5208 \u723B \u535E \u95E9 \u8BA3 \u5C39 \u592C \u723F
				\u6BCB \u9097 \u909B \u827D \u827F \u672D \u53F5 \u531D \u4E15 \u531C \u52A2 \u535F \u53F1 \u53FB \u4EE8 \u4ED5
				\u4EDF \u4EE1 \u4EEB \u4EDE \u536E \u6C10 \u72B0 \u520D \u909D \u9099 \u6C40 \u8BA6 \u8BA7 \u8BAA \u8BAB \u5C3B
				\u9621 \u5C15 \u5F01 \u9A6D \u5321 \u8012 \u738E \u7391 \u90A2 \u5729 \u572C \u572D \u6266 \u572A \u5733 \u5739
				\u626A \u572E \u572F \u828A \u828D \u8284 \u82A8 \u8291 \u828E \u8297 \u4E98 \u538D \u593C \u620D \u5C25 \u4E69
				\u65EF \u66F3 \u5C8C \u5C7A \u51FC \u56E1 \u9487 \u7F36 \u6C18 \u6C16 \u725D \u4F0E \u4F1B \u4F22 \u4F64 \u4EF5
				\u4F25 \u4F27 \u4F09 \u4F2B \u56DF \u6C46 \u5216 \u5919 \u65EE \u520E \u72B7 \u72B8 \u821B \u51EB \u90AC \u9967
				\u6C55 \u6C54 \u6C50 \u6C72 \u6C5C \u6C4A \u5FD6 \u5FCF \u8BB4 \u8BB5 \u7941 \u8BB7 \u807F \u826E \u53BE \u9631
				\u962E \u962A \u4E1E \u5981 \u725F \u7EA1 \u7EA3 \u7EA5 \u7EA8 \u7395 \u7399 \u629F \u6294 \u573B \u5742 \u574D
				\u575E \u6283 \u6289 \u39D0 \u82AB \u90AF \u82B8 \u82BE \u82C8 \u82E3 \u82B7 \u82AE \u82CB \u82BC \u82CC \u82C1
				\u82A9 \u82AA \u82A1 \u829F \u82C4 \u82CE \u82E1 \u674C \u6753 \u675E \u6748 \u5FD1 \u5B5B \u90B4 \u90B3 \u77F6
				\u5941 \u8C55 \u5FD2 \u6B24 \u8F6B \u8FD3 \u90B6 \u5FD0 \u5363 \u90BA \u65F0 \u544B \u5452 \u5453 \u5454 \u5456
				\u5443 \u65F8 \u5421 \u753A \u866C \u5457 \u543D \u5423 \u5432 \u5E0F \u5C90 \u5C88 \u5C98 \u5C91 \u5C9A \u5155
				\u56F5 \u56EB \u948A \u948B \u948C \u8FD5 \u6C19 \u6C1A \u7264 \u4F5E \u90B1 \u6538 \u4F5A \u4F5D \u4F5F \u4F57
				\u4F3D \u5F77 \u4F58 \u4F65 \u5B5A \u8C78 \u574C \u809F \u90B8 \u5942 \u52AC \u72C4 \u72C1 \u9E20 \u90B9 \u9968
				\u9969 \u996A \u996B \u996C \u4EA8 \u5E91 \u5E8B \u7594 \u7596 \u8093 \u95F1 \u95F3 \u95F5 \u7F8C \u7080 \u6CA3
				\u6C85 \u6C94 \u6CA4 \u6C8C \u6C8F \u6C9A \u6C69 \u6C68 \u6C82 \u6C7E \u6CA8 \u6C74 \u6C76 \u6C86 \u6CA9 \u6CD0
				\u6003 \u6004 \u5FE1 \u5FE4 \u5FFE \u6005 \u5FFB \u5FEA \u6006 \u5FED \u5FF8 \u8BC2 \u8BC3 \u8BC5 \u8BCB \u8BCC
				\u8BCF \u8BD2 \u5B5C \u9647 \u9640 \u9642 \u9649 \u598D \u59A9 \u59AA \u59A3 \u598A \u5997 \u59AB \u599E \u59D2
				\u59A4 \u90B5 \u52AD \u522D \u752C \u90B0 \u7EAD \u7EB0 \u7EB4 \u7EB6 \u7EBE \u73AE \u73A1 \u73AD \u73A0 \u73A2
				\u73A5 \u73A6 \u76C2 \u5FDD \u5326 \u5769 \u62A8 \u62E4 \u576B \u62C8 \u5786 \u62BB \u52BC \u62C3 \u62CA \u577C
				\u577B \u39DF \u5768 \u576D \u62BF \u5773 \u8036 \u82F7 \u82EF \u82E4 \u830F \u82EB \u82DC \u82F4 \u82D2 \u82D8
				\u830C \u82FB \u82D3 \u831A \u8306 \u8311 \u8313 \u8314 \u8315 \u8300 \u82D5 \u67A5 \u6787 \u676A \u6773 \u67A7
				\u6775 \u67A8 \u679E \u678B \u677B \u6777 \u677C \u77F8 \u7800 \u5233 \u5944 \u74EF \u6B81 \u90CF \u8F6D \u90C5
				\u9E22 \u76F1 \u660A \u6619 \u6772 \u6603 \u5482 \u5478 \u6615 \u6600 \u65FB \u6609 \u7085 \u5494 \u7540 \u866E
				\u5480 \u5477 \u9EFE \u5471 \u5464 \u549A \u5486 \u549B \u5476 \u5463 \u5466 \u549D \u5CA2 \u5CBF \u5CAC \u5CAB
				\u5E19 \u5CA3 \u5CC1 \u523F \u8FE5 \u5CB7 \u5240 \u5E14 \u5CC4 \u6C93 \u56F9 \u7F54 \u948D \u948E \u948F \u9492
				\u9495 \u9497 \u90BE \u8FEE \u7266 \u7AFA \u8FE4 \u4F76 \u4F6C \u4F70 \u4F91 \u4F89 \u81FE \u5CB1 \u4F97 \u4F83
				\u4F8F \u4FA9 \u4F7B \u4F7E \u4FAA \u4F7C \u4F6F \u4FAC \u5E1B \u961C \u4F94 \u5F82 \u523D \u90C4 \u6002 \u7C74
				\u74EE \u6217 \u80BC \u43DD \u80BD \u80B1 \u80AB \u5241 \u8FE9 \u90C7 \u72D9 \u72CE \u72CD \u72D2 \u548E \u7099
				\u67AD \u996F \u9974 \u51BD \u51BC \u5E96 \u75A0 \u759D \u75A1 \u5156 \u59BE \u52BE \u709C \u2C27 \u7096 \u7098
				\u709D \u7094 \u6CD4 \u6CAD \u6CF7 \u6CF8 \u6CF1 \u6CC5 \u6CD7 \u6CE0 \u6CFA \u6CD6 \u6CEB \u6CEE \u6CB1 \u6CEF
				\u6CD3 \u6CFE \u6019 \u6035 \u6026 \u601B \u600F \u600D \u3918 \u6029 \u602B \u603F \u5B95 \u7A79 \u5B93 \u8BD3
				\u8BD4 \u8BD6 \u8BD8 \u623E \u8BD9 \u623D \u90D3 \u8869 \u7946 \u794E \u7949 \u7947 \u8BDB \u8BDC \u8BDF \u8BE0
				\u8BE3 \u8BE4 \u8BE7 \u8BE8 \u8BE9 \u6215 \u5B62 \u4E9F \u9654 \u59B2 \u59AF \u59D7 \u5E11 \u5F29 \u5B65 \u9A7D
				\u8671 \u8FE6 \u8FE8 \u7EC0 \u7EC1 \u7EC2 \u9A77 \u9A78 \u7EC9 \u7ECC \u9A7F \u9A80 \u753E \u73CF \u73D0 \u73C2
				\u73D1 \u73B3 \u73C0 \u9878 \u73C9 \u73C8 \u62EE \u57AD \u631D \u57A3 \u631E \u57A4 \u8D73 \u8D32 \u57B1 \u578C
				\u90DD \u57A7 \u5793 \u6326 \u57A0 \u831C \u835A \u8351 \u8D33 \u835C \u8392 \u833C \u8334 \u8331 \u839B \u835E
				\u832F \u834F \u8347 \u8343 \u835F \u8340 \u8317 \u8360 \u832D \u8328 \u57A9 \u8365 \u8366 \u8368 \u8369 \u524B
				\u836A \u8339 \u836C \u836E \u67F0 \u6809 \u67EF \u67D8 \u680A \u67E9 \u67B0 \u680C \u67D9 \u67B5 \u67DA \u67B3
				\u67DE \u67DD \u6800 \u67E2 \u680E \u67B8 \u67C8 \u67C1 \u67B7 \u67FD \u524C \u914A \u90E6 \u752D \u7817 \u7818
				\u7812 \u65AB \u782D \u781C \u594E \u8037 \u867A \u6B82 \u6B87 \u6B84 \u6B86 \u8F71 \u8F72 \u8F73 \u8F76 \u8F78
				\u867F \u6BD6 \u89C7 \u5C1C \u54D0 \u7704 \u770D \u20CD \u90E2 \u7707 \u770A \u7708 \u79BA \u54C2 \u54B4 \u66F7
				\u6634 \u6631 \u6635 \u54A6 \u54D3 \u54D4 \u754E \u6BD7 \u5472 \u80C4 \u754B \u7548 \u867C \u867B \u76C5 \u54A3
				\u54D5 \u5250 \u90E7 \u54BB \u56FF \u54BF \u54CC \u54D9 \u54DA \u54AF \u54A9 \u54A4 \u54DD \u54CF \u54DE \u5CD9
				\u5CE3 \u7F58 \u5E27 \u5CD2 \u5CE4 \u5CCB \u5CE5 \u8D36 \u949A \u949B \u94A1 \u94A3 \u94A4 \u94A8 \u94AB \u94AF
				\u6C21 \u6C1F \u726F \u90DC \u79D5 \u79ED \u7AFD \u7B08 \u7B03 \u4FE6 \u4FE8 \u4FC5 \u4FEA \u53DF \u57A1 \u726E
				\u4FE3 \u4FDA \u7688 \u4FD1 \u4FDF \u9005 \u5F87 \u5F89 \u8222 \u4FDE \u90D7 \u4FCE \u90E4 \u7230 \u90DB \u74F4
				\u80E8 \u80EA \u80DB \u80C2 \u80D9 \u80CD \u80D7 \u80DD \u6710 \u80EB \u9E28 \u530D \u72E8 \u72EF \u98D1 \u72E9
				\u72F2 \u8A07 \u9004 \u661D \u9977 \u9978 \u9979 \u80E4 \u5B6A \u5A08 \u5F08 \u5955 \u5EA5 \u75AC \u75A3 \u75A5
				\u75AD \u5EA0 \u7AD1 \u5F66 \u98D2 \u95FC \u95FE \u95FF \u9602 \u7F91 \u8FF8 \u7C7C \u914B \u70B3 \u70BB \u70BD
				\u70AF \u70C0 \u70B7 \u70C3 \u6D31 \u6D39 \u6D27 \u6D0C \u6D43 \u6D07 \u6D04 \u6D19 \u6D8E \u6D0E \u6D2B \u6D4D
				\u6D2E \u6D35 \u6D52 \u6D54 \u6D55 \u6D33 \u6078 \u6053 \u6079 \u606B \u607A \u607B \u6042 \u606A \u607D \u5BA5
				\u6243 \u8872 \u887D \u887F \u8882 \u795B \u795C \u7953 \u795A \u8BEE \u7957 \u7962 \u8BF0 \u8BF3 \u9E29 \u6636
				\u90E1 \u54AB \u5F2D \u7241 \u80E5 \u965B \u965F \u5A05 \u59EE \u5A06 \u59DD \u59E3 \u59D8 \u59F9 \u603C \u7FBF
				\u70B1 \u77DC \u7ED4 \u9A81 \u9A85 \u7ED7 \u7EDB \u9A88 \u8016 \u6308 \u73E5 \u73D9 \u987C \u73F0 \u73E9 \u73E7
				\u73E3 \u73DE \u7424 \u73F2 \u6556 \u605A \u57D4 \u57D5 \u57D8 \u57D9 \u57DA \u6339 \u8006 \u8004 \u57D2 \u634B
				\u8D3D \u57B8 \u6343 \u76CD \u8378 \u8386 \u83B3 \u83B4 \u83AA \u83A0 \u8393 \u839C \u8385 \u837C \u83A9 \u837D
				\u83B8 \u837B \u8398 \u838E \u839E \u83A8 \u9E2A \u83BC \u6832 \u6833 \u90F4 \u6853 \u6861 \u684E \u6862 \u6864
				\u6883 \u681D \u6855 \u6841 \u6867 \u6845 \u681F \u6849 \u6829 \u9011 \u900B \u5F67 \u9B32 \u8C47 \u9150 \u9026
				\u539D \u5B6C \u781D \u7839 \u783A \u7827 \u7837 \u781F \u783C \u7825 \u7823 \u525E \u783B \u8F7C \u8F7E \u8F82
				\u9E2B \u8DB8 \u9F80 \u9E2C \u8654 \u900D \u772C \u551B \u665F \u7729 \u7719 \u54E7 \u54FD \u5514 \u6641 \u664F
				\u9E2E \u8DB5 \u8DBF \u755B \u86A8 \u869C \u868D \u868B \u86AC \u869D \u86A7 \u5522 \u5704 \u5523 \u550F \u76CE
				\u5511 \u5D02 \u5D03 \u7F61 \u7F5F \u5CEA \u89CA \u8D45 \u94B0 \u94B2 \u94B4 \u94B5 \u94B9 \u94BA \u94BD \u94BC
				\u94BF \u94C0 \u94C2 \u94C4 \u94C6 \u94C8 \u94C9 \u94CA \u94CB \u94CC \u94CD \u497D \u94CE \u6C29 \u6C24 \u6C26
				\u6BEA \u8210 \u79E3 \u79EB \u76C9 \u7B04 \u7B15 \u7B0A \u7B0F \u7B06 \u4FF8 \u5029 \u4FF5 \u504C \u4FF3 \u4FF6
				\u502C \u500F \u6041 \u502D \u502A \u4FFE \u501C \u96BC \u96BD \u500C \u5025 \u81EC \u768B \u90EB \u5028 \u8844
				\u9880 \u5F95 \u822B \u91DC \u595A \u887E \u80EF \u80F1 \u80F4 \u80ED \u810D \u80FC \u6715 \u8112 \u80FA \u9E31
				\u73BA \u9E32 \u72F7 \u7301 \u72F3 \u7303 \u72FA \u9016 \u6840 \u8885 \u997D \u51C7 \u683E \u631B \u4EB3 \u75B3
				\u75B4 \u75B8 \u75BD \u75C8 \u75B1 \u75C2 \u75C9 \u886E \u51CB \u9883 \u6063 \u65C6 \u65C4 \u65C3 \u9603 \u9604
				\u8A1A \u9606 \u6059 \u7C91 \u6714 \u90F8 \u70DC \u70E8 \u70E9 \u70CA \u5261 \u90EF \u70EC \u6D91 \u6D6F \u6D9E
				\u6D9F \u5A11 \u6D85 \u6DA0 \u6D5E \u6D93 \u6D65 \u6D94 \u6D5C \u6D60 \u6D63 \u6D5A \u609A \u60AD \u609D \u6092
				\u608C \u609B \u5BB8 \u7A88 \u525C \u8BF9 \u51A2 \u8BFC \u8892 \u88A2 \u796F \u8BFF \u8C00 \u8C02 \u8C04 \u8C07
				\u5C50 \u5C59 \u966C \u52D0 \u5958 \u7242 \u86A9 \u9672 \u59EC \u5A20 \u5A0C \u5A09 \u5A32 \u5A29 \u5A34 \u5A23
				\u5A13 \u5A40 \u755A \u9021 \u7EE0 \u9A8A \u7EE1 \u9A8B \u7EE5 \u7EE6 \u7EE8 \u9A8E \u9095 \u9E36 \u5F57 \u801C
				\u7118 \u8202 \u740F \u7407 \u9EB8 \u63F6 \u57F4 \u57EF \u636F \u63B3 \u63B4 \u57F8 \u57F5 \u8D67 \u57E4 \u636D
				\u9035 \u57DD \u580B \u580D \u63AC \u9E37 \u6396 \u637D \u638A \u5809 \u63B8 \u6369 \u63AE \u60AB \u57ED \u57FD
				\u6387 \u63BC \u8043 \u83C1 \u8401 \u83D8 \u5807 \u8418 \u840B \u83FD \u83D6 \u841C \u8438 \u8411 \u68FB \u83D4
				\u83DF \u840F \u8403 \u83CF \u83F9 \u83EA \u83C5 \u83C0 \u8426 \u83F0 \u83E1 \u68B5 \u68BF \u688F \u89CB \u6874
				\u6877 \u6893 \u68C1 \u686B \u68C2 \u556C \u90FE \u532E \u6555 \u8C49 \u9104 \u915E \u915A \u621B \u784E \u786D
				\u7852 \u7856 \u7857 \u7850 \u7847 \u784C \u9E38 \u74E0 \u530F \u53A9 \u9F9A \u6B92 \u6B93 \u6B8D \u8D49 \u96E9
				\u8F84 \u5811 \u772D \u7726 \u5567 \u6661 \u6664 \u773A \u7735 \u7738 \u570A \u558F \u55B5 \u5549 \u52D6 \u665E
				\u5535 \u6657 \u5195 \u556D \u7566 \u8DBA \u556E \u8DC4 \u86B6 \u86C4 \u86CE \u86C6 \u86B0 \u86CA \u5709 \u86B1
				\u86C9 \u86CF \u86B4 \u5541 \u5555 \u553F \u5550 \u553C \u5537 \u5556 \u5575 \u5576 \u5577 \u5533 \u5530 \u555C
				\u5E3B \u5D1A \u5D26 \u5E3C \u5D2E \u5D24 \u5D06 \u8D47 \u8D48 \u8D4A \u94D1 \u94D2 \u94D7 \u94D9 \u94DF \u94E0
				\u94E1 \u94E2 \u94E3 \u94E4 \u94E7 \u94E8 \u94E9 \u94EA \u94EB \u94EC \u94EE \u94EF \u94F0 \u94F1 \u94F3 \u94F5
				\u94F7 \u6C2A \u727E \u9E39 \u79FE \u9036 \u7B3A \u7B47 \u7B38 \u7B2A \u7B2E \u7B20 \u7B25 \u7B24 \u7B33 \u7B3E
				\u7B1E \u507E \u5043 \u5055 \u5048 \u5080 \u506C \u507B \u7691 \u768E \u9E3B \u5F9C \u8238 \u823B \u8234 \u8237
				\u9F9B \u7FCE \u812C \u8118 \u8132 \u5310 \u7317 \u7321 \u731E \u731D \u659B \u7315 \u9997 \u9983 \u9984 \u9E3E
				\u5B70 \u5EB9 \u5EBE \u75D4 \u75CD \u75B5 \u7FCA \u65CC \u65CE \u88A4 \u9607 \u9608 \u9609 \u960A \u960B \u960D
				\u960F \u7F9F \u7C9D \u7C95 \u655D \u7110 \u70EF \u7113 \u70FD \u7116 \u70F7 \u7117 \u6E0D \u6E1A \u6DC7 \u6DC5
				\u6DDE \u6E0E \u6DBF \u6DD6 \u6332 \u6DE0 \u6DB8 \u6E11 \u6DE6 \u6DDD \u6DEC \u6DAA \u6DD9 \u6DAB \u6E0C \u6DC4
				\u60EC \u60BB \u60B1 \u60DD \u60D8 \u60B8 \u60C6 \u60DA \u60C7 \u60EE \u7A95 \u8C0C \u8C0F \u6248 \u76B2 \u8C11
				\u88C6 \u88B7 \u88C9 \u8C12 \u8C14 \u8C15 \u8C16 \u8C17 \u8C19 \u8C1B \u8C1D \u902F \u90FF \u9688 \u7C9C \u968D
				\u9697 \u5A67 \u5A4A \u5A55 \u5A3C \u5A62 \u5A75 \u80EC \u8888 \u7FCC \u607F \u6B38 \u7EEB \u9A90 \u7EEE \u7EEF
				\u7EF1 \u9A92 \u7EF2 \u9A93 \u7EF6 \u7EFA \u7EFB \u7EFE \u9A96 \u7F01 \u8020 \u742B \u7435 \u7436 \u742A \u745B
				\u7426 \u7425 \u7428 \u9753 \u7430 \u742E \u742F \u742C \u741B \u741A \u8F87 \u9F0B \u63F3 \u581E \u643D \u63F8
				\u63E0 \u5819 \u8D84 \u63D6 \u9889 \u5844 \u63FF \u800B \u63C4 \u86E9 \u86F0 \u5846 \u6452 \u63C6 \u63BE \u8052
				\u8451 \u845A \u9770 \u9778 \u8473 \u847A \u8478 \u843C \u8446 \u8469 \u8476 \u848C \u8431 \u621F \u846D \u696E
				\u68FC \u691F \u68F9 \u6924 \u68F0 \u8D4D \u690B \u6901 \u692A \u68E3 \u6910 \u9E41 \u8983 \u9164 \u9162 \u9161
				\u9E42 \u53A5 \u6B9A \u6B9B \u96EF \u96F1 \u8F8A \u8F8B \u6920 \u8F8D \u8F8E \u6590 \u7744 \u7751 \u7747 \u7743
				\u6222 \u558B \u55D2 \u5583 \u55B1 \u55B9 \u6677 \u5588 \u8DD6 \u8DD7 \u8DDE \u8DDA \u8DCE \u8DCF \u8DC6 \u86F1
				\u86F2 \u86ED \u86F3 \u86D0 \u86D4 \u86DE \u86F4 \u86DF \u86D8 \u5581 \u559F \u557E \u55D6 \u5591 \u55DF \u55BD
				\u55DE \u5580 \u5594 \u5599 \u5D58 \u5D56 \u5D34 \u9044 \u8A48 \u5D4E \u5D3D \u5D6C \u5D5B \u5D6F \u5D5D \u5D6B
				\u5E44 \u5D4B \u8D55 \u94FB \u94FC \u94FF \u9503 \u9502 \u9506 \u9507 \u9509 \u950F \u9511 \u9512 \u9514 \u9515
				\u63A3 \u77EC \u6C30 \u6BF3 \u6BFD \u728A \u7284 \u728B \u9E44 \u728D \u5D47 \u9ECD \u7A03 \u7A02 \u7B5A \u7B75
				\u7B4C \u50A3 \u5088 \u8204 \u724D \u50A5 \u50A7 \u9051 \u50A9 \u9041 \u5FA8 \u5AAD \u7572 \u5F11 \u988C \u7FD5
				\u91C9 \u9E46 \u821C \u8C82 \u8148 \u814C \u8153 \u8146 \u8174 \u8151 \u815A \u8171 \u9C7F \u9C80 \u9C82 \u988D
				\u7322 \u7339 \u7325 \u98D3 \u89DE \u89DA \u7331 \u988E \u98E7 \u9987 \u998A \u4EB5 \u8114 \u88D2 \u75E3 \u75E8
				\u75E6 \u75DE \u75E4 \u75EB \u75E7 \u8D53 \u7AE6 \u74FF \u557B \u988F \u9E47 \u9611 \u9612 \u9615 \u7C9E \u9052
				\u5B73 \u712F \u711C \u7119 \u7131 \u9E48 \u6E5B \u6E2B \u6E6E \u6E4E \u6E5C \u6E2D \u6E4D \u6E6B \u6EB2 \u6E5F
				\u6E86 \u6E72 \u6E54 \u6E49 \u6E25 \u6E44 \u6EC1 \u6120 \u60FA \u6126 \u60F4 \u6100 \u610E \u6114 \u55BE \u5BD0
				\u8C1F \u6249 \u88E2 \u88CE \u88E5 \u797E \u797A \u8C20 \u5E42 \u8C21 \u8C25 \u8C27 \u9050 \u5B71 \u5F3C \u5DFD
				\u9A98 \u5AAA \u5A9B \u5A77 \u5DEF \u7FDA \u76B4 \u5A7A \u9A9B \u7F02 \u7F03 \u7F04 \u5F58 \u7F07 \u7F08 \u7F0C
				\u7F11 \u7F12 \u7F17 \u98E8 \u8022 \u745A \u7441 \u745C \u7457 \u7444 \u7455 \u9068 \u9A9C \u97EB \u9AE1 \u586C
				\u9122 \u8D94 \u8D91 \u6445 \u6441 \u8707 \u640B \u642A \u6410 \u641B \u6420 \u6448 \u5F40 \u6BC2 \u6426 \u6421
				\u84C1 \u6221 \u84CD \u911E \u9773 \u84D0 \u84E6 \u9E4B \u84BD \u84D3 \u84D6 \u84CA \u84AF \u84DF \u84D1 \u84BF
				\u84BA \u84E0 \u849F \u84A1 \u84B9 \u84B4 \u8497 \u84E5 \u9890 \u6954 \u6960 \u6942 \u695D \u696B \u6978 \u6934
				\u69CC \u696F \u7699 \u6988 \u69CE \u6989 \u6966 \u6963 \u6979 \u693D \u88D8 \u527D \u7504 \u916E \u9170 \u916F
				\u9169 \u8703 \u789B \u7893 \u787C \u7889 \u789A \u7887 \u789C \u9E4C \u8F8F \u9F83 \u9F85 \u8A3E \u7CB2 \u865E
				\u775A \u55EA \u97EA \u55F7 \u55C9 \u7768 \u7762 \u96CE \u7765 \u561F \u55D1 \u55EB \u55EC \u55D4 \u55DD \u6225
				\u55C4 \u7166 \u6684 \u9062 \u668C \u8DEC \u8DF6 \u8DF8 \u8DD0 \u8DE3 \u8DF9 \u8DFB \u86F8 \u870A \u870D \u8709
				\u8723 \u7579 \u86F9 \u55E3 \u55EF \u55E5 \u55F2 \u55F3 \u55CC \u55CD \u55E8 \u55D0 \u55E4 \u55F5 \u7F68 \u5D4A
				\u5D69 \u5D74 \u9AB0 \u9517 \u951B \u951C \u951D \u951E \u951F \u9522 \u9528 \u9529 \u952D \u9531 \u96C9 \u6C32
				\u728F \u6B43 \u7A1E \u7A17 \u7A14 \u7B60 \u7B62 \u7B6E \u7B72 \u7B71 \u7252 \u7172 \u656B \u5FAD \u6106 \u8244
				\u89CE \u6BF9 \u8C8A \u8C85 \u8C89 \u9894 \u8160 \u8169 \u817C \u816D \u8167 \u584D \u5AB5 \u8A79 \u9C85 \u9C86
				\u9C87 \u9C88 \u7A23 \u9C8B \u9C90 \u8084 \u9E50 \u98D5 \u89E5 \u905B \u9990 \u9E51 \u4EB6 \u7603 \u75F1 \u75FC
				\u75FF \u7610 \u7601 \u7606 \u9E82 \u88D4 \u6B46 \u65D2 \u96CD \u9616 \u9617 \u9619 \u7FA7 \u8C62 \u7CB3 \u7337
				\u7173 \u715C \u7168 \u7145 \u714A \u7178 \u717A \u6EDF \u6EB1 \u6E98 \u6F2D \u6EE2 \u6EA5 \u6EA7 \u6EBD \u88DF
				\u6EBB \u6EB7 \u6ED7 \u6EEB \u6EB4 \u6ECF \u6EC3 \u6EE6 \u6E8F \u6EC2 \u6ED3 \u6E9F \u6EEA \u612B \u6151 \u614A
				\u9C8E \u9A9E \u7AA6 \u7AA0 \u7AA3 \u88F1 \u891A \u88E8 \u88FE \u88F0 \u798A \u8C29 \u8C2A \u5ABE \u5AEB \u5AB2
				\u5AD2 \u5AD4 \u5AB8 \u7F19 \u7F1C \u7F1B \u8F94 \u9A9D \u7F1F \u7F21 \u7F22 \u7F23 \u9A9F \u8025 \u7488 \u7476
				\u746D \u7352 \u89CF \u615D \u5AE0 \u97EC \u53C6 \u9AE6 \u647D \u5881 \u6482 \u645E \u6484 \u7FE5 \u8E05 \u646D
				\u5889 \u5892 \u6996 \u7DA6 \u852B \u8537 \u977A \u977C \u9785 \u977F \u750D \u8538 \u851F \u853A \u622C \u8556
				\u853B \u84FF \u65A1 \u9E55 \u84FC \u699B \u69A7 \u69BB \u69AB \u69AD \u69D4 \u69B1 \u69C1 \u69DF \u69E0 \u69B7
				\u50F0 \u917D \u9176 \u9179 \u53AE \u78A1 \u78B4 \u78A3 \u78B2 \u78CB \u81E7 \u8C68 \u6BA1 \u9706 \u9701 \u8F95
				\u871A \u88F4 \u7FE1 \u9F87 \u9F88 \u777F \u4056 \u777D \u561E \u5608 \u560C \u5601 \u560E \u66A7 \u669D \u8E0C
				\u8E09 \u871E \u8725 \u872E \u8748 \u8734 \u8731 \u8729 \u8737 \u873F \u8782 \u8722 \u5618 \u5621 \u9E57 \u5623
				\u5624 \u561A \u55FE \u5627 \u7F74 \u7F71 \u5E54 \u5D82 \u5E5B \u8D59 \u7F42 \u9AB7 \u9AB6 \u9E58 \u9532 \u9534
				\u9536 \u9537 \u9538 \u9535 \u9541 \u9542 \u7292 \u7B90 \u7BA6 \u7BA7 \u7B8D \u7BB8 \u7BAC \u7B85 \u7BAA \u7B94
				\u7B9C \u7BA2 \u7B93 \u6BD3 \u50D6 \u5106 \u50F3 \u50ED \u5281 \u50EE \u9B43 \u9B46 \u777E \u824B \u9131 \u8188
				\u8191 \u9C91 \u9C94 \u9C9A \u9C9B \u9C9F \u7350 \u89EB \u96D2 \u5924 \u9991 \u92AE \u587E \u9EBD \u760C \u760A
				\u7618 \u7619 \u5ED6 \u97F6 \u65D6 \u8182 \u961A \u912F \u9C9E \u7CBF \u7CBC \u7CBD \u7CC1 \u69CA \u9E5A \u7198
				\u71A5 \u6F62 \u6F15 \u6EF9 \u6F2F \u6F36 \u6F4B \u6F74 \u6F2A \u6F09 \u6F33 \u6F29 \u6F89 \u6F4D \u6175 \u6434
				\u7AA8 \u5BE4 \u7DAE \u8C2E \u8921 \u8919 \u8913 \u891B \u890A \u8C2F \u8C30 \u8C32 \u66A8 \u5C63 \u9E5B \u5AE3
				\u5AF1 \u5AD6 \u5AE6 \u5ADA \u5AD8 \u5AE1 \u9F10 \u7FDF \u7780 \u9E5C \u9AA0 \u7F25 \u7F26 \u7F27 \u7F28 \u9AA2
				\u7F2A \u7F2B \u8026 \u8027 \u747E \u749C \u7480 \u748E \u7481 \u748B \u7487 \u596D \u9AEF \u9AEB \u64B7 \u6485
				\u8D6D \u64B8 \u92C6 \u6499 \u64BA \u5880 \u8069 \u89D0 \u9791 \u8559 \u9792 \u8548 \u8568 \u8564 \u855E \u857A
				\u77A2 \u8543 \u8572 \u8D5C \u69FF \u6A2F \u69ED \u6A17 \u6A18 \u6A0A \u69F2 \u918C \u9185 \u9765 \u9B47 \u990D
				\u78D4 \u78D9 \u9708 \u8F98 \u9F89 \u9F8A \u89D1 \u778C \u778B \u7791 \u562D \u564E \u5676 \u9899 \u66B9 \u5658
				\u8E14 \u8E1D \u8E1F \u8E12 \u8E2C \u8E2E \u8E2F \u8E3A \u8E1E \u877D \u877E \u877B \u8770 \u876E \u878B \u8753
				\u8763 \u877C \u5657 \u562C \u989A \u564D \u5662 \u5659 \u565C \u564C \u5654 \u989B \u5E5E \u5E61 \u5D99 \u5D9D
				\u9ABA \u9ABC \u9AB8 \u954A \u9549 \u954C \u954D \u954F \u9552 \u9553 \u9554 \u7A37 \u7BB4 \u7BD1 \u7BC1 \u7BCC
				\u7BC6 \u7256 \u510B \u5FB5 \u78D0 \u8662 \u9E5E \u8198 \u6ED5 \u9CA0 \u9CA1 \u9CA2 \u9CA3 \u9CA5 \u9CA7 \u9CA9
				\u7357 \u7360 \u89EF \u9993 \u9994 \u9EBE \u5EDB \u761B \u763C \u7622 \u7620 \u9F51 \u7FAF \u7FB0 \u25ED \u9074
				\u7CCC \u7CCD \u7CC5 \u719C \u71B5 \u71A0 \u6F8D \u6F8C \u6F78 \u6F66 \u6F72 \u92C8 \u6F5F \u6F7C \u6F7A \u61AC
				\u61A7 \u5BEE \u7AB3 \u8C33 \u8934 \u891F \u892B \u8C35 \u71A8 \u5C66 \u5B09 \u52F0 \u622E \u8765 \u7F2C \u7F2E
				\u7F2F \u9AA3 \u757F \u8029 \u8028 \u802A \u749E \u749F \u975B \u74A0 \u7498 \u8071 \u87AF \u9AFB \u9AED \u9AF9
				\u64C0 \u71B9 \u750F \u64DE \u7E20 \u78EC \u989E \u857B \u9798 \u989F \u85A4 \u85A8 \u6AA0 \u858F \u85AE \u859C
				\u8585 \u6A3E \u6A5B \u6A47 \u6A35 \u6A8E \u6A79 \u6A3D \u6A28 \u6A7C \u58BC \u6A50 \u7FEE \u919B \u9190 \u918D
				\u919A \u78F2 \u8D5D \u98D9 \u6BAA \u9716 \u970F \u9713 \u933E \u8F9A \u81FB \u907D \u6C05 \u779F \u77A0 \u77B0
				\u5684 \u5686 \u5664 \u66BE \u8E40 \u8E39 \u8E35 \u8E3D \u8E49 \u8E41 \u87A8 \u87D2 \u8788 \u8785 \u87AD \u87A0
				\u879F \u5671 \u566C \u566B \u567B \u567C \u7F79 \u571C \u4983 \u9556 \u9557 \u9558 \u955A \u955B \u955D \u955E
				\u9560 \u6C07 \u6C06 \u61A9 \u7A51 \u7BDD \u7BE5 \u7BE6 \u7BEA \u7BD9 \u76E5 \u5293 \u7FF1 \u9B49 \u9B48 \u5FBC
				\u6B59 \u81B3 \u81A6 \u8199 \u9CAE \u9CB1 \u9CB2 \u9CB3 \u9CB4 \u9CB5 \u9CB7 \u9CBB \u7374 \u736D \u736C \u9082
				\u9E67 \u5EE8 \u8D5F \u7630 \u5EEA \u763F \u7635 \u7634 \u7643 \u7633 \u6593 \u9E87 \u9E88 \u5B34 \u58C5 \u7FB2
				\u7CD7 \u77A5 \u7511 \u71CE \u71E0 \u71D4 \u71E7 \u6FD1 \u6FC9 \u6F5E \u6FA7 \u6FB9 \u6FA5 \u6FB6 \u6FC2 \u8930
				\u5BF0 \u7AB8 \u8936 \u79A7 \u5B16 \u729F \u96B0 \u5B17 \u98A1 \u7F31 \u7F32 \u7F33 \u74A8 \u74A9 \u7490 \u74AA
				\u87AB \u64E4 \u58D5 \u89F3 \u7F44 \u64E2 \u85B9 \u97A1 \u97AC \u85B7 \u85B0 \u85D3 \u85C1 \u6A84 \u6AA9 \u61CB
				\u91A2 \u7FF3 \u7905 \u78F4 \u9E69 \u9F8B \u9F8C \u8C73 \u58D1 \u9EFB \u568F \u5685 \u8E51 \u8E52 \u8E4A \u87E5
				\u87AC \u87B5 \u7583 \u87B3 \u87D1 \u5693 \u7F81 \u7F7D \u7F7E \u5DB7 \u9EDC \u9EDD \u9AC1 \u9AC0 \u9561 \u9562
				\u9563 \u9566 \u9567 \u9569 \u956A \u956B \u7F45 \u9ECF \u7C0C \u7BFE \u7BFC \u7C16 \u7C0B \u9F22 \u9EDB \u5121
				\u9E6A \u9F3E \u76A4 \u9B4D \u9FA0 \u7E47 \u8C98 \u9088 \u8C94 \u81CC \u81BB \u81C6 \u81C3 \u9CBC \u9CBD \u9CC0
				\u9CC3 \u9CC5 \u9CC7 \u9CCA \u87BD \u71EE \u9E6B \u8944 \u7CDC \u7E3B \u81BA \u764D \u9E8B \u61D1 \u6FE1 \u6FEE
				\u6FDE \u6FE0 \u6FEF \u8E47 \u8B07 \u9083 \u8941 \u6A97 \u64D8 \u5B7A \u96B3 \u5B37 \u87CA \u9E6C \u936A \u93CA
				\u9CCC \u9B08 \u9B03 \u77BD \u97AF \u97A8 \u97AB \u97A7 \u97A3 \u85DC \u85E0 \u85E9 \u91AA \u8E59 \u7913 \u71F9
				\u992E \u77BF \u66DB \u98A2 \u66DC \u8E87 \u8E5A \u9E6D \u87DB \u87EA \u87E0 \u87EE \u9E6E \u9EE0 \u9EDF \u9AC5
				\u9AC2 \u956C \u956D \u956F \u99A5 \u7C1F \u7C2A \u9F2C \u96E0 \u825F \u9CCE \u9CCF \u9CD0 \u765E \u7654 \u765C
				\u7656 \u7CE8 \u8E69 \u938F \u61F5 \u5F5D \u908B \u9B0F \u6509 \u6512 \u97B2 \u97B4 \u85FF \u8627 \u8605 \u9E93
				\u91AE \u91AF \u9143 \u972A \u972D \u9728 \u9EFC \u56AF \u8E70 \u8E76 \u8E7D \u8E7C \u8E74 \u8E7E \u8E7F \u8816
				\u8813 \u87FE \u880A \u9EE2 \u9ACB \u9ACC \u9572 \u7C40 \u7C41 \u9F41 \u9B51 \u8268 \u9CD3 \u9CD4 \u9CD5 \u9CD7
				\u9CD9 \u9E92 \u93D6 \u7FB8 \u3E06 \u701A \u7023 \u701B \u8966 \u8C36 \u895E \u9AA5 \u7F35 \u74D2 \u6518 \u8629
				\u8616 \u91B4 \u9730 \u9146 \u77CD \u66E6 \u8E85 \u9F0D \u5DC9 \u9EE9 \u9EE5 \u9EEA \u9573 \u9574 \u9EE7 \u7E82
				\u74BA \u9F2F \u81DC \u9CDC \u9CDD \u9CDF \u737E \u5B40 \u9AA7 \u74D8 \u9F19 \u91BA \u7934 \u98A6 \u66E9 \u9CE2
				`));
}

const manyGlyphs = [{
  description: 'This pages displays a bunch of glyphs at the same time.',
  element: /*#__PURE__*/react.createElement(ManyGlyphs, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/inputLegend.tsx






function InputLegendExperiments() {
  const [count, setCount] = (0,react.useState)(5);
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement(Column, {
    shouldSkipLandmarkInVisual: true,
    options: {
      index: 1
    }
  }, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.START,
      inputLegend: `Do nothing with ${count} items`
    },
    onClick: () => {
      console.log(`Did nothing with ${count} items`);
    }
  }), Array.from(Array(count).keys()).map((item, index) => /*#__PURE__*/react.createElement(Column, {
    shouldSkipLandmarkInVisual: true,
    key: index,
    options: {
      index
    }
  }, /*#__PURE__*/react.createElement(TestItem, {
    value: item
  }))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Button_Button, {
    variant: "hero",
    gamepadIndex: 9999,
    inputLegend: "Add item",
    onClick: () => setCount(count + 1)
  }, "Add item")));
}

function TestItem({
  value
}) {
  const ref = (0,react.useRef)(null);
  const [align, setAlign] = (0,react.useState)('left');
  const [focusedColor, setFocusedColor] = (0,react.useState)('blue');
  const {
    isFocused
  } = useFocus({
    index: 0,
    inputLegend: 'View'
  }, () => {
    console.log(`Viewed ${value}`);
  }, ref);
  return /*#__PURE__*/react.createElement("fast-div", {
    ref: ref,
    style: {
      padding: '2rem',
      border: '1px solid blue',
      background: (0,react_facet_src.useFacetMap)(focused => focused ? focusedColor : 'transparent', [focusedColor], [isFocused]),
      color: (0,react_facet_src.useFacetMap)(focused => focused ? 'white' : 'black', [], [isFocused]),
      textAlign: align
    },
    onClick: () => {}
  }, `Item ${value} ${focusedColor} `, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.X,
      inputLegend: `Paint item ${value} ${focusedColor === 'blue' ? 'orange' : 'blue'}`
    },
    onClick: () => {
      setFocusedColor(focusedColor === 'blue' ? 'orange' : 'blue');
      console.log(`Color swapped for item ${value}`);
    }
  }), value === 0 ? /*#__PURE__*/react.createElement(react.Fragment, null, `${align} aligned `, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.Y,
      inputLegend: `Align item ${value} ${align === 'left' ? 'right' : 'left'}`
    },
    onClick: () => {
      setAlign(align === 'left' ? 'right' : 'left');
      console.log(`Changed alignment for item ${value}`);
    }
  })) : null);
}

const inputLegend = [{
  element: /*#__PURE__*/react.createElement(InputLegendExperiments, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/fontRendering/languageDummyStrings.ts
// This is the text for howtoplay.dyes.text.2
// English translation: Some dye materials are harder to find than others. While most Dyes can be crafted from flowers like Red Dye from a Poppy, some Dyes are found or created in more obscure ways such as.
const JAPANESE_SHORT = '染料。';
const JAPANESE_LONG = 'ポピーから赤色の染料を作れるなど大半の染料は花から作成できますが、中には入手するのが難しい染料もあります。また、以下のような方法で作れる染料もあります。';
const CHINESE_SIMPLIFIED_SHORT = '找到。';
const CHINESE_SIMPLIFIED_LONG = '有些染料的材料比其他染料更难找到。大多数染料可以用花朵合成（例如用罂粟花合成红色染料），但一些染料的发现或制作方式更隐蔽，比如。';
const CHINESE_TRADITIONAL_SHORT = '難找。';
const CHINESE_TRADITIONAL_LONG = '有的染色材料會比較難找。雖然大多數的染料都可以使用花朵合成 (例如使用罌粟製成紅色染料)，但部分染料卻只能以較為艱難的方式尋找或製造，例如。';
const KOREAN_SHORT = '니다.';
const KOREAN_LONG = '일부 염료 재료는 다른 것들보다 찾기가 힘듭니다. 양귀비에서 빨간색 염료를 만드는 것처럼 대부분의 염료는 꽃으로 만들 수 있는 반면, 일부 염료는 찾거나 다른 불분명한 방법으로 만들어야 합니다. 예를 들면.';
;// CONCATENATED MODULE: ./games/vanilla/ui/src/AchievementDetails/AchievementDetails.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const AchievementDetails = ({"achievementImage":"TKfnq","achievementImageContainer":"n2uci","achievementUnlocked":"hXgLU","achievementLocked":"sgJds","frame":"ERib5","details":"akZA4","textWrapper":"eXwnH","gamerscoreIcon":"GooYD"});
;// CONCATENATED MODULE: ./packages/ui/src/Window/Images/locked.png
const locked_namespaceObject = __webpack_require__.p + "assets/locked-b7e1e.png";
;// CONCATENATED MODULE: ./packages/ui/src/Window/Images/checkIcon.png
const checkIcon_namespaceObject = __webpack_require__.p + "assets/checkIcon-bcfbf.png";
;// CONCATENATED MODULE: ./packages/ui/src/Window/Window.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Window = ({"window":"xHU3n","transparent":"dDMcJ","header":"P3s5b","headerLocked":"Gddt6","headerCompleted":"S2bxD","lockedIcon":"kLdrM","checkIcon":"X2i3D","date":"PoM_H","spinner":"xzfzB"});
;// CONCATENATED MODULE: ./packages/ui/src/Window/Window.tsx










function Header({
  children,
  variant,
  date
}) {
  const {
    f
  } = useLocalization('Window');
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(Window.header, {
      [Window.headerCompleted]: variant === 'completed',
      [Window.headerLocked]: variant === 'locked'
    })
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "specular"
  }), /*#__PURE__*/react.createElement(Image_Image_Image, {
    imageRendering: "pixelated",
    className: classnames_default()({
      [Window.lockedIcon]: variant === 'locked',
      [Window.checkIcon]: variant === 'completed'
    }),
    src: variant === 'locked' ? locked_namespaceObject : checkIcon_namespaceObject
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: "white"
  }, children), variant === 'completed' && date != null && /*#__PURE__*/react.createElement("div", {
    className: Window.date
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: "white"
  }, f.formatDate(date))));
}

function Window_Window({
  children,
  variant = 'locked',
  title,
  date,
  loading
}) {
  return !!loading ? /*#__PURE__*/react.createElement("div", {
    className: Window.transparent
  }, /*#__PURE__*/react.createElement(WindowSpinner, null)) : /*#__PURE__*/react.createElement("div", {
    className: Window.window
  }, /*#__PURE__*/react.createElement(Header, {
    date: date,
    variant: variant
  }, title), children);
}

const WindowSpinner = () => {
  return /*#__PURE__*/react.createElement("div", {
    className: Window.spinner
  }, /*#__PURE__*/react.createElement(Spinner_Spinner, null));
};
;// CONCATENATED MODULE: ./packages/ui/src/DescriptionList/DescriptionList.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const DescriptionList = ({"descriptionList":"hy23n","description":"VTr_m","progressWrapper":"ptFWK","percentageWrapper":"I0mfv"});
;// CONCATENATED MODULE: ./packages/ui/src/DescriptionList/DescriptionList.tsx








function DescriptionList_DescriptionList({
  children,
  role = 'neutral100'
}) {
  return /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: role
  }, /*#__PURE__*/react.createElement("div", {
    className: DescriptionList.descriptionList
  }, children));
}

DescriptionList_DescriptionList.Pair = function Pair({
  label,
  value,
  icon
}) {
  const {
    color: {
      inherit: semanticClassNames
    },
    variant
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(DescriptionList.description, semanticClassNames.background.base, semanticClassNames.text.base, variant.dimmer)
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: "inherit"
  }, label), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: "inherit"
  }, icon, value));
};

DescriptionList_DescriptionList.Progress = function Progress({
  label,
  value,
  total
}) {
  const {
    t
  } = useLocalization('DescriptionList');
  const {
    color: {
      inherit: semanticClassNames
    },
    variant
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(DescriptionList.progressWrapper, semanticClassNames.background.base)
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(DescriptionList.description, semanticClassNames.text.base, variant.dimmer)
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: "inherit"
  }, label !== null && label !== void 0 ? label : t('.progressLabel')), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: "inherit"
  }, value, "/", total)), /*#__PURE__*/react.createElement("div", {
    className: DescriptionList.percentageWrapper
  }, /*#__PURE__*/react.createElement(ProgressBar_ProgressBar, {
    tall: true,
    percentage: value / total
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  })));
};

DescriptionList_DescriptionList.displayName = 'DescriptionList';
;// CONCATENATED MODULE: ./games/vanilla/ui/src/AchievementDetails/images/gamerscoreIcon.png
const gamerscoreIcon_namespaceObject = __webpack_require__.p + "assets/gamerscoreIcon-0c23f.png";
;// CONCATENATED MODULE: ./games/vanilla/ui/src/AchievementDetails/images/greyframe.png
const greyframe_namespaceObject = __webpack_require__.p + "assets/greyframe-dd39b.png";
;// CONCATENATED MODULE: ./games/vanilla/ui/src/AchievementDetails/images/unlockedBorder.png
const unlockedBorder_namespaceObject = __webpack_require__.p + "assets/unlockedBorder-2f13b.png";
;// CONCATENATED MODULE: ./games/vanilla/ui/src/AchievementDetails/images/placeholder.png
const placeholder_namespaceObject = __webpack_require__.p + "assets/placeholder-15b68.png";
;// CONCATENATED MODULE: ./games/vanilla/ui/src/AchievementDetails/AchievementDetails.tsx












function AchievementDetails_AchievementDetails({
  title,
  description = '',
  image,
  gamerscore = 0,
  progress = 0,
  autofocus = false,
  progressTarget = 0,
  isLocked,
  dateUnlocked = 0,
  loading,
  completedOnAnotherPlatform,
  gamepadIndex
}) {
  const {
    t
  } = useLocalization('AchievementDetails');
  const narrationIsEnabled = useNarrationEnabled();
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    inputLegend: false,
    className: '',
    classNameHovered: '',
    classNameFocused: focusClass,
    classNamePressed: '',
    disabled: !narrationIsEnabled,
    autofocus: narrationIsEnabled && autofocus,
    gamepadIndex: gamepadIndex,
    narrationText: false,
    onClick: () => {}
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    withoutBorders: true,
    disabled: !narrationIsEnabled
  }), /*#__PURE__*/react.createElement(Window_Window, {
    loading: loading,
    title: isLocked ? t('.locked') : t('.completed'),
    variant: isLocked ? 'locked' : 'completed',
    date: dateUnlocked
  }, /*#__PURE__*/react.createElement("div", {
    className: AchievementDetails.details
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    effect: "specular"
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 5
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(AchievementDetails.achievementImageContainer, {
      [AchievementDetails.achievementLocked]: isLocked
    })
  }, /*#__PURE__*/react.createElement(Image_Image_Image, {
    className: classnames_default()(AchievementDetails.achievementImage, AchievementDetails.frame),
    imageRendering: "pixelated",
    src: isLocked ? greyframe_namespaceObject : unlockedBorder_namespaceObject
  }), /*#__PURE__*/react.createElement(Image_Image_Image, {
    className: classnames_default()(AchievementDetails.achievementImage),
    imageRendering: "pixelated",
    src: image !== null && image !== void 0 ? image : placeholder_namespaceObject
  }), !isLocked && /*#__PURE__*/react.createElement("div", {
    className: AchievementDetails.achievementUnlocked
  })), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement("div", {
    className: AchievementDetails.textWrapper
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header5B",
    color: "white"
  }, title), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 1
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "grey"
  }, description)), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 5
  })), /*#__PURE__*/react.createElement(DescriptionList_DescriptionList, null, /*#__PURE__*/react.createElement(DescriptionList_DescriptionList.Pair, {
    label: t('.gamerscore'),
    value: `${gamerscore}`,
    icon: /*#__PURE__*/react.createElement(Image_Image_Image, {
      className: AchievementDetails.gamerscoreIcon,
      imageRendering: "pixelated",
      src: gamerscoreIcon_namespaceObject
    })
  }), completedOnAnotherPlatform && /*#__PURE__*/react.createElement(DescriptionList_DescriptionList.Pair, {
    label: t('.anotherPlatform'),
    value: t('.yes')
  }), progress && progress !== 0 && progress !== 1 ? /*#__PURE__*/react.createElement(DescriptionList_DescriptionList.Progress, {
    value: Math.round(progress * progressTarget),
    total: progressTarget
  }) : null)));
}
// EXTERNAL MODULE: ./node_modules/ramda/src/find.js
var src_find = __webpack_require__(6376);
var find_default = /*#__PURE__*/__webpack_require__.n(src_find);
;// CONCATENATED MODULE: ./packages/ui-internal/src/DropdownMenu/DropdownMenu.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const DropdownMenu = ({"wrapper":"BHtky","lastItem":"fD1Jz","inner":"YsLjj"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/DropdownMenu/DropdownMenu.tsx
function DropdownMenu_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function DropdownMenu_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { DropdownMenu_ownKeys(Object(source), true).forEach(function (key) { DropdownMenu_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { DropdownMenu_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function DropdownMenu_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








function DropdownMenu_DropdownMenu({
  children,
  gamepadIndex,
  footer,
  menuRole = 'secondary',
  itemRole = 'neutral60',
  style = {}
}) {
  const {
    color: {
      [menuRole]: semanticClassNamesMenu,
      [itemRole]: semanticClassNamesItem
    },
    variant
  } = useSemanticTokens();
  const wrappingRef = (0,react.useRef)(null);
  const columnOptions = (0,react_facet_src.useFacetMap)(gamepadIndex => {
    return {
      index: gamepadIndex,
      disabled: gamepadIndex === -1,
      bounded: true
    };
  }, [], [(0,react_facet_src.useFacetWrap)(gamepadIndex)]);
  return /*#__PURE__*/react.createElement(Column, {
    options: columnOptions,
    scrollRef: wrappingRef
  }, /*#__PURE__*/react.createElement("fast-div", {
    ref: wrappingRef,
    className: DropdownMenu.wrapper,
    style: DropdownMenu_objectSpread(DropdownMenu_objectSpread({}, style),  true ? {
      marginTop: 'var(--base1Scale)'
    } : 0)
  }, /*#__PURE__*/react.createElement(ScrollView_ScrollView, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(DropdownMenu.inner, semanticClassNamesMenu.border.base)
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(DropdownMenu.lastItem, semanticClassNamesItem.border.base, variant.dimmest)
  }, /*#__PURE__*/react.createElement(SemanticRoleProvider, {
    role: itemRole
  }, children)))), footer));
}
;// CONCATENATED MODULE: ./packages/ui-internal/src/DropdownMenu/DropdownItem.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const DropdownItem = ({"dropdownItem":"MneaI","show":"opARO","hide":"jhxB_"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/DropdownMenu/DropdownItem.tsx









function DropdownItem_DropdownItem({
  item,
  onClick,
  isSelected,
  soundEffectPressed,
  soundEffectHovered,
  role = 'inherit',
  onFocusChanged,
  disabled,
  gamepadIndex
}) {
  const {
    t
  } = useLocalization('DropdownItem');
  const itemFacet = (0,react_facet_src.useFacetWrap)(item);
  const isSelectedWrapped = (0,react_facet_src.useFacetWrap)(isSelected);
  const gamepadAliasFacet = (0,react_facet_src.useFacetMap)(item => item.gamepadAlias, [], [itemFacet]);
  const label = (0,react_facet_src.useFacetMap)(item => item.label, [], [itemFacet]);
  const {
    color: {
      [role]: {
        background,
        text,
        border
      }
    },
    modifier,
    variant
  } = useSemanticTokens();
  const narrationText = (0,react_facet_src.useFacetMap)((item, isSelected) => {
    var _item$description;

    return [item.label, t('.elementType'), item.enumeration, isSelected ? t('.selected') : t('.unselected'), (_item$description = item.description) !== null && _item$description !== void 0 ? _item$description : ''].join(' . ');
  }, [t], [itemFacet, isSelectedWrapped]);
  const interactivePrimitiveClassnames = (0,react_facet_src.useFacetMap)(isSelected => {
    return classnames_default()(DropdownItem.dropdownItem, background.interactive, border.interactive, variant.dimmest, {
      [modifier.selected]: isSelected
    });
  }, [background.interactive, border.interactive, modifier.selected, variant.dimmest], [isSelectedWrapped]);
  const iconClassName = (0,react_facet_src.useFacetMap)(isSelected => isSelected ? DropdownItem.show : DropdownItem.hide, [], [isSelectedWrapped]);
  return /*#__PURE__*/react.createElement(InteractivePrimitive_InteractivePrimitive, {
    className: interactivePrimitiveClassnames,
    classNameFocused: classnames_default()(DropdownItem.dropdownFocusedItem, focusClass),
    classNameHovered: DropdownItem.dropdownItemHover,
    gamepadIndex: gamepadIndex,
    gamepadAlias: gamepadAliasFacet,
    narrationText: narrationText,
    inputLegend: t('.select'),
    onClick: onClick,
    soundEffectPressed: soundEffectPressed,
    soundEffectHovered: soundEffectHovered,
    onFocusChanged: onFocusChanged,
    disabled: disabled
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    role: role
  }), /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, {
    className: text.interactive
  }, label), /*#__PURE__*/react.createElement("fast-div", {
    className: iconClassName
  }, /*#__PURE__*/react.createElement(IconCheckWhite_IconCheckWhite, null)));
}
const DropdownItemWrapper = ({
  item,
  onChange,
  currentValue,
  soundEffectPressed,
  soundEffectHovered,
  onFocusChanged,
  disabled,
  gamepadIndex
}) => {
  const handleClick = (0,react_facet_src.useFacetCallback)(item => () => {
    onChange(item.value);
  }, [onChange], [item]);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const gamepadIndexFacet = (0,react_facet_src.useFacetMap)(isDisabled => isDisabled ? -1 : gamepadIndex + 1, [gamepadIndex], [disabledFacet]);
  const currentValueFacet = (0,react_facet_src.useFacetWrap)(currentValue);
  return /*#__PURE__*/react.createElement(DropdownItem_DropdownItem, {
    item: item,
    isSelected: (0,react_facet_src.useFacetMap)((item, currentValue) => item.value === currentValue, [], [item, currentValueFacet]),
    gamepadIndex: gamepadIndexFacet,
    onClick: handleClick,
    soundEffectPressed: soundEffectPressed,
    soundEffectHovered: soundEffectHovered,
    onFocusChanged: onFocusChanged,
    disabled: disabledFacet
  });
};
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseDropdown/BaseDropdown.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseDropdown = ({"baseDropdownWrapperMenu":"D93jN","baseDropdown":"UKRdZ","baseDropdownOpen":"fIk9X","baseDropdownBevelOpen":"rQRSc","withMouse":"oNoil","hasScroll":"KVO62","baseToggleInnerWrapper":"NKSLw","noSelection":"hqWc9","baseArrowPosition":"boDJV","hide":"ZSOVX"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseDropdown/BaseDropdown.tsx



function BaseDropdown_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function BaseDropdown_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { BaseDropdown_ownKeys(Object(source), true).forEach(function (key) { BaseDropdown_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { BaseDropdown_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function BaseDropdown_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

















const emptyText = (0,react_facet_src.createFacet)({
  initialValue: ''
});
function BaseDropdown_BaseDropdown({
  options,
  value,
  onChange,
  isOpen: isOpenProp,
  onClick,
  onOpenClose,
  dropdownRef,
  disabled,
  onFocusChanged,
  onHoverChanged,
  placeholder,
  footer,
  gamepadAlias,
  soundEffectPressed,
  soundEffectItemHovered,
  narrationText,
  shouldOnlyHandleBackButtonPressWhenDropdownIsOpen = true,
  isElevated = true,
  hideDownArrow = false,
  menuRole = 'secondary',
  itemRole = 'neutral60',
  dropdownMenuStyle,
  onBackButtonPressProps
}) {
  const {
    color: {
      [menuRole]: semanticClassNamesMenu
    }
  } = useSemanticTokens();
  const {
    narrateText
  } = useNarrateText();
  const isOpenPropFacet = (0,react_facet_src.useFacetWrap)(isOpenProp);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const [isOpen, setIsOpen] = (0,react_facet_src.useFacetState)(false);
  const [isFocused, setIsFocused] = (0,react_facet_src.useFacetState)(false);
  const [isInnerItemFocused, setIsInnerItemFocused] = (0,react_facet_src.useFacetState)(false);
  const placeholderFacet = (0,react_facet_src.useFacetWrap)(placeholder);
  (0,react_facet_src.useFacetEffect)(isOpen => {
    if (isOpen != null) {
      setIsOpen(isOpen);
    }
  }, [setIsOpen], [isOpenPropFacet]);
  const localRef = (0,react.useRef)(null);
  const ref = dropdownRef || localRef;
  (0,react_facet_src.useFacetEffect)(isOpen => onOpenClose && onOpenClose(isOpen), [onOpenClose], [isOpen]);
  const {
    t
  } = useLocalization('BaseDropdown');
  const optionsFacet = (0,react_facet_src.useFacetWrap)(options);
  const selectedValueFacet = (0,react_facet_src.useFacetWrap)(value);
  const currentOptionFacet = (0,react_facet_src.useFacetMap)((options, selectedValue) => find_default()(propEq_default()('value', selectedValue))(options), [], [optionsFacet, selectedValueFacet]);
  useOnClickOutside(ref, () => {
    setIsOpen(false);
    setFocus(false);
    setTimeout(() => narrateText(t('.stateCollapsed')), 0);
  }, isOpen);
  const isPointerMouse = useIsPointerInputMouse();
  const itemHeightInPixels = useSizeInPixels(4.8);
  const maxHeightInPixels = useSizeInPixels(30);
  const classNameFacet = (0,react_facet_src.useFacetMap)((options, isOpen, currentOption, isMouse) => {
    const hasScroll = options.length * itemHeightInPixels > maxHeightInPixels;
    return classnames_default()({
      [BaseDropdown.baseDropdownBevelOpen]: isOpen,
      [BaseDropdown.withMouse]: isMouse,
      [BaseDropdown.hasScroll]: hasScroll,
      [BaseDropdown.noSelection]: currentOption == null
    });
  }, [itemHeightInPixels, maxHeightInPixels], [optionsFacet, isOpen, currentOptionFacet, isPointerMouse]);

  const handleFocusChange = focus => {
    setIsFocused(focus);
    onFocusChanged === null || onFocusChanged === void 0 ? void 0 : onFocusChanged(focus);
  };

  const handleHoverChange = hover => {
    onHoverChanged === null || onHoverChanged === void 0 ? void 0 : onHoverChanged(hover);
  };

  const outerClassNameFacet = (0,react_facet_src.useFacetMap)(isOpen => classnames_default()(BaseDropdown.baseDropdown, {
    [BaseDropdown.baseDropdownOpen]: isOpen
  }), [], [isOpen]);
  const uniqueIdentifier = useUniqueIdentifier();
  const pressableGamepadAlias = gamepadAlias != null ? gamepadAlias : `dd-bevel-${uniqueIdentifier}`;
  const setFocusedId = src_useSetFocusedId_useSetFocusedId();
  const setFocus = (0,react.useCallback)(isOpen => {
    if (isOpen) {
      const firstIndexAlias = gamepadAlias != null ? `${gamepadAlias}-0` : `dd-bevel-${uniqueIdentifier}-0`; // We delay this by a frame, as it runs too quickly on the
      // Gameface player and causes buggy scroll behavior (ADO:737546)

      const raf = typeof requestAnimationFrame != 'undefined' ? requestAnimationFrame : mockRequestAnimationFrame;
      raf(() => {
        setFocusedId(firstIndexAlias);
      });
    } else {
      setFocusedId(pressableGamepadAlias);
    }
  }, [gamepadAlias, uniqueIdentifier, setFocusedId, pressableGamepadAlias]);
  const handleBackButtonPress = (0,react_facet_src.useFacetCallback)(isOpen => () => {
    if (isOpen) {
      setIsOpen(false);
      setFocus(false);
      setTimeout(() => narrateText(t('.stateCollapsed')), 0);
    }

    onBackButtonPressProps && onBackButtonPressProps(isOpen);
  }, [onBackButtonPressProps, setIsOpen, setFocus, narrateText, t], [isOpen]);
  const handleClick = (0,react_facet_src.useFacetCallback)(isOpen => () => {
    const isNowOpen = !isOpen;
    setIsOpen(isNowOpen);
    onClick && onClick(isNowOpen);
    setFocus(isNowOpen);
  }, [setIsOpen, onClick, setFocus], [isOpen]);
  const handleChange = (0,react_facet_src.useFacetCallback)(options => value => {
    onChange(value);
    handleClick();

    const currentValue = find_default()(propEq_default()('value', value))(options); // As soon as the narration context supports custom narration id's we can remove this and use that instead.


    setTimeout(() => narrateText([t('.selected'), currentValue === null || currentValue === void 0 ? void 0 : currentValue.narrationSuffix].join(' . ')), 0);
  }, [onChange, handleClick, narrateText, t], [optionsFacet]);
  const shouldHandleBackButtonPress = (0,react_facet_src.useFacetMap)((isOpen, isFocused, isInnerItemFocused) => {
    return (isOpen || !shouldOnlyHandleBackButtonPressWhenDropdownIsOpen) && (isFocused || isInnerItemFocused);
  }, [shouldOnlyHandleBackButtonPressWhenDropdownIsOpen], [isOpen, isFocused, isInnerItemFocused]);
  const optionsWithEnumerationAndGamepadAlias = (0,react_facet_src.useFacetMemo)(options => {
    return options.map((option, index) => {
      return BaseDropdown_objectSpread(BaseDropdown_objectSpread({}, option), {}, {
        enumeration: t('.enumeration', [`${index + 1}`, `${options.length}`]),
        gamepadAlias: gamepadAlias != null ? `${gamepadAlias}-${index}` : `dd-bevel-${uniqueIdentifier}-${index}`
      });
    });
  }, [t, gamepadAlias, uniqueIdentifier], [optionsFacet]);
  const {
    sound: {
      neutral: semanticSound
    }
  } = useSemanticTokens();
  const baseDropdownWrapperMenuClassnames = (0,react_facet_src.useFacetMap)((isOpen, disabled) => classnames_default()(BaseDropdown.baseDropdownWrapperMenu, {
    [BaseDropdown.hide]: !isOpen || disabled === true
  }), [], [isOpen, disabledFacet]);
  const isClosedOrDisabled = (0,react_facet_src.useFacetMap)((isOpen, disabled) => !isOpen || disabled === true, [], [isOpen, disabledFacet]);
  const dropdownMenuNarrationText = (0,react_facet_src.useFacetMap)(isOpen => isOpen ? t('.stateExpanded') : '', [t], [isOpen]);
  const parentShortcutOptions = (0,react_facet_src.useFacetMap)(shouldHandleBackButtonPress => {
    return {
      button: ButtonType.B,
      disabled: !shouldHandleBackButtonPress
    };
  }, [], [shouldHandleBackButtonPress]);
  return /*#__PURE__*/react.createElement(NarrationContext, {
    text: narrationText !== null && narrationText !== void 0 ? narrationText : emptyText
  }, /*#__PURE__*/react.createElement("fast-div", {
    ref: ref,
    className: outerClassNameFacet
  }, /*#__PURE__*/react.createElement("fast-div", {
    className: classNameFacet
  }, /*#__PURE__*/react.createElement(Pressable_Pressable, {
    reflection: "specular",
    variant: menuRole,
    narrationText: "",
    onClick: handleClick,
    gamepadIndex: 0,
    inputLegend: t('.open'),
    onFocusChanged: handleFocusChange,
    onHoverChanged: handleHoverChange,
    shouldNotDepressWhenPressed: true,
    height: 4.2,
    isElevated: isElevated,
    disabled: disabledFacet,
    soundEffectPressed: soundEffectPressed !== null && soundEffectPressed !== void 0 ? soundEffectPressed : semanticSound.press,
    gamepadAlias: pressableGamepadAlias
  }, /*#__PURE__*/react.createElement("fast-div", {
    className: classnames_default()(BaseDropdown.baseToggleInnerWrapper, semanticClassNamesMenu.text.interactive)
  }, /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, (0,react_facet_src.useFacetMap)((currentOption, placeholder) => currentOption ? currentOption.label : placeholder != null ? `${placeholder}...` : '', [], [currentOptionFacet, placeholderFacet])), !hideDownArrow && /*#__PURE__*/react.createElement("div", {
    className: BaseDropdown.baseArrowPosition
  }, /*#__PURE__*/react.createElement(IconArrowDown_IconArrowDown, null))))), /*#__PURE__*/react.createElement(NarrationContext, {
    text: dropdownMenuNarrationText
  }, /*#__PURE__*/react.createElement("fast-div", {
    className: baseDropdownWrapperMenuClassnames
  }, /*#__PURE__*/react.createElement(DropdownMenu_DropdownMenu, {
    gamepadIndex: (0,react_facet_src.useFacetMap)(isClosedOrDisabled => isClosedOrDisabled ? -1 : 1, [], [isClosedOrDisabled]),
    footer: footer,
    menuRole: menuRole,
    itemRole: itemRole,
    style: dropdownMenuStyle
  }, /*#__PURE__*/react.createElement(react_facet_src.Map, {
    array: optionsWithEnumerationAndGamepadAlias
  }, (item, index) => /*#__PURE__*/react.createElement(deferred_mount_dist.DeferredMount, null, /*#__PURE__*/react.createElement(DropdownItemWrapper, {
    item: item,
    gamepadIndex: index,
    onChange: handleChange,
    key: index,
    currentValue: selectedValueFacet,
    soundEffectPressed: soundEffectPressed !== null && soundEffectPressed !== void 0 ? soundEffectPressed : semanticSound.press,
    soundEffectHovered: soundEffectItemHovered !== null && soundEffectItemHovered !== void 0 ? soundEffectItemHovered : semanticSound.hover,
    onFocusChanged: setIsInnerItemFocused,
    disabled: isClosedOrDisabled
  })))))), /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: parentShortcutOptions,
    onClick: handleBackButtonPress
  })));
} // Needed for visual regression test workaround (TODO: Find cleaner way)

const mockRequestAnimationFrame = fn => fn();
;// CONCATENATED MODULE: ./packages/ui/src/Dropdown/Dropdown.tsx








// If you change this make sure to also update the DropdownItem.css file
const DROPDOWN_ITEM_HEIGHT_REM = 4.8; // If you change this make sure to also update the DropdownMenu.css file

const DROPDOWN_MENU_MAX_HEIGHT_REM = 30;
function Dropdown({
  description,
  gamepadIndex,
  onChange,
  wrapperRef,
  onFocusChanged,
  placeholder,
  label,
  options,
  value,
  disabled,
  disabledNarrationSuffix,
  soundEffectPressed,
  gamepadAlias
}) {
  // we need a wrapper component here so that the Column context is defined
  // and the inner button to toggle the dropdown menu is inside of it.
  // If we had the column and the focusable inside the same component
  // they would become siblings, and their gamepad indexes would collide
  const valueFacet = (0,react_facet_src.useFacetWrap)(value);
  const disabledFacet = (0,react_facet_src.useFacetWrap)(disabled);
  const indexFacet = (0,react_facet_src.useFacetWrap)(gamepadIndex);
  return /*#__PURE__*/react.createElement(Column, {
    shouldSkipLandmarkInVisual: true,
    options: (0,react_facet_src.useFacetMap)(index => ({
      index
    }), [], [indexFacet])
  }, /*#__PURE__*/react.createElement(DropdownInnerComponent, {
    options: options,
    value: valueFacet,
    disabled: disabledFacet,
    disabledNarrationSuffix: disabledNarrationSuffix,
    label: label,
    description: description,
    placeholder: placeholder,
    onChange: onChange,
    wrapperRef: wrapperRef,
    onFocusChanged: onFocusChanged,
    soundEffectPressed: soundEffectPressed,
    gamepadAlias: gamepadAlias
  }));
}

function useDropdownHeight(options, dropdownRef, wrapperRef) {
  const dropdownItemHeightInPixels = useSizeInPixels(DROPDOWN_ITEM_HEIGHT_REM);
  const dropdownMenuMaxHeightInPixels = useSizeInPixels(DROPDOWN_MENU_MAX_HEIGHT_REM);
  const numberOfOptions = (0,react_facet_src.useFacetMap)(options => options.length, [], [(0,react_facet_src.useFacetWrap)(options)]);
  const [panelHeight, setPanelHeight] = (0,react_facet_src.useFacetState)('');
  const [dropdownMenuHeight, setDropdownMenuHeight] = (0,react_facet_src.useFacetState)('');
  const panelStyle = {
    height: panelHeight
  };
  const dropdownMenuStyle = {
    height: dropdownMenuHeight
  }; // We'll use this function to determine if we should apply any changes to
  // the panels height when the dropdown changes between opened and closed.

  const calculateNewHeight = isOpen => {
    var _wrapperRef$current;

    // Exit early if we don't have the values we need to perform the calculation
    const wrapper = wrapperRef === null || wrapperRef === void 0 ? void 0 : wrapperRef.current;
    const parent = wrapperRef === null || wrapperRef === void 0 ? void 0 : (_wrapperRef$current = wrapperRef.current) === null || _wrapperRef$current === void 0 ? void 0 : _wrapperRef$current.parentElement;
    const dropdown = dropdownRef.current;
    const numOfOptions = numberOfOptions.get();

    if (!dropdown || numOfOptions === react_facet_src.NO_VALUE) {
      return;
    }

    if (wrapper && parent) {
      const originalHeight = wrapper.getBoundingClientRect().height;
      const dropdownOffset = dropdown.offsetTop;
      const dropdownHeight = numOfOptions * dropdownItemHeightInPixels;
      const dropdownPaddingBottom = 12;
      const expandedHeight = Math.min(Math.max(originalHeight, dropdownOffset + dropdownHeight + dropdownPaddingBottom), dropdownMenuMaxHeightInPixels + dropdownOffset + dropdownPaddingBottom); // Check if the dropdown fits within the parents scroll height. If not we'll
      // publish a new facet value that is going to grow the height of the panel.

      const shouldPanelExpandIfDropdownOpens = parent.scrollHeight < wrapper.offsetTop + expandedHeight;
      const height = isOpen && shouldPanelExpandIfDropdownOpens ? `${expandedHeight}px` : '';
      setPanelHeight(height);
    } else {
      // If we don't have a wrapper and parent, we want to clamp the height of the menu to the available space in the viewport
      const dropdownRect = dropdown.getBoundingClientRect();

      if (dropdownRect.height === 0) {
        return;
      }

      const height = window.innerHeight - dropdownRect.top;

      if (height < dropdownMenuMaxHeightInPixels) {
        setDropdownMenuHeight(isOpen ? `${height}px` : '');
      } else {
        setDropdownMenuHeight('');
      }
    }
  };

  return [panelStyle, dropdownMenuStyle, calculateNewHeight];
}

function DropdownInnerComponent({
  options,
  label,
  description,
  placeholder,
  value,
  onChange,
  wrapperRef,
  disabled,
  disabledNarrationSuffix,
  onFocusChanged,
  soundEffectPressed,
  gamepadAlias,
  menuRole = 'secondary',
  itemRole = 'neutral60'
}) {
  const {
    t
  } = useLocalization('Dropdown');
  const isNarrationEnabled = useNarrationEnabled();
  const optionsFacet = (0,react_facet_src.useFacetWrap)(options);
  const selectedOption = (0,react_facet_src.useFacetMap)((options, selectedValue) => options.find(option => option.value === selectedValue), [], [optionsFacet, value]);
  const selectedValueLabel = (0,react_facet_src.useFacetMap)(selectedOption => {
    var _selectedOption$label;

    return (_selectedOption$label = selectedOption === null || selectedOption === void 0 ? void 0 : selectedOption.label) !== null && _selectedOption$label !== void 0 ? _selectedOption$label : '';
  }, [], [selectedOption]);
  const selectedValueDescription = (0,react_facet_src.useFacetMap)(selectedOption => {
    var _selectedOption$descr;

    return (_selectedOption$descr = selectedOption === null || selectedOption === void 0 ? void 0 : selectedOption.description) !== null && _selectedOption$descr !== void 0 ? _selectedOption$descr : '';
  }, [], [selectedOption]);
  const hasSelectedToggleDescription = (0,react_facet_src.useFacetMap)(selectedValueDescription => Boolean(selectedValueDescription), [], [selectedValueDescription]); // We are able to pass an optional wrapperRef to this component. We'll grow the height of the panel,
  // for a consistent background, if the dropdown items expands outside of the wrappers parent container.

  const dropdownRef = (0,react.useRef)(null);
  const [panelStyle, dropdownMenuStyle, calculateNewHeight] = useDropdownHeight(options, dropdownRef, wrapperRef);
  const baseDropdownNarrationText = (0,react_facet_src.useFacetMap)((selectedValueLabel, selectedValueDescription) => [selectedValueLabel, t('.toggleElementType'), t('.selected'), selectedValueDescription, disabledNarrationSuffix].join(' . '), [t, disabledNarrationSuffix], [selectedValueLabel, selectedValueDescription]);
  const isDisabled = (0,react_facet_src.useFacetWrap)(disabled !== null && disabled !== void 0 ? disabled : false);
  const isPanelFocusable = (0,react_facet_src.useFacetMap)(isDisabled => isNarrationEnabled && isDisabled === true, [isNarrationEnabled], [isDisabled]);
  const narrationText = (0,react_facet_src.useFacetMap)((baseDropdownNarrationText, isDisabled) => [label, t('.narrationComponentType'), isDisabled ? t('.narrationDisabled') : '', t('.stateCollapsed'), // If the dropdown is disabled, we need to add extra narration here to match
  // the narration that is calculated in the BaseDropdown. The reason we can't
  // add it in the BaseDropdown is because the Panel below needs to be the focusable element.
  isDisabled ? baseDropdownNarrationText : ''].join(' . '), [t, label], [baseDropdownNarrationText, isDisabled]);
  return /*#__PURE__*/react.createElement(NarrationContext, {
    text: narrationText
  }, /*#__PURE__*/react.createElement(Panel_Panel, {
    style: panelStyle,
    focusable: isPanelFocusable,
    gamepadIndex: 0,
    narrationText: ''
  }, /*#__PURE__*/react.createElement(PanelLabel_PanelLabel, {
    disabled: disabled
  }, label), description != null && /*#__PURE__*/react.createElement(PanelDescription_PanelDescription, null, description), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 1
  }), /*#__PURE__*/react.createElement(BaseDropdown_BaseDropdown, {
    narrationText: baseDropdownNarrationText,
    options: options,
    value: value,
    onChange: onChange,
    disabled: disabled,
    placeholder: placeholder,
    onFocusChanged: onFocusChanged,
    footer: /*#__PURE__*/react.createElement(InputLegend_InputLegend.Space, null),
    soundEffectPressed: soundEffectPressed,
    onOpenClose: calculateNewHeight,
    dropdownRef: dropdownRef,
    gamepadAlias: gamepadAlias,
    menuRole: menuRole,
    itemRole: itemRole,
    dropdownMenuStyle: dropdownMenuStyle
  }), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: hasSelectedToggleDescription
  }, /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 1
  }), /*#__PURE__*/react.createElement(PanelDescription_PanelDescription, {
    disabled: disabled
  }, selectedValueDescription)))));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/fontRendering/LanguageTestComponent.tsx





const LanguageTestComponent = ({
  shortText,
  longText,
  testHeader,
  testInformation,
  showManyElements
}) => {
  const typographyElements = !!showManyElements ? ALL_VARIANTS.map(variant => /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: variant,
    color: "black"
  }, longText), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }))) : /*#__PURE__*/react.createElement(react.Fragment, null);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("h1", null, testHeader), testInformation != null && /*#__PURE__*/react.createElement("h3", null, testInformation), /*#__PURE__*/react.createElement("p", null, longText), /*#__PURE__*/react.createElement("h2", null, shortText), /*#__PURE__*/react.createElement("div", null, longText), /*#__PURE__*/react.createElement("span", null, shortText), !!showManyElements && /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    color: "black"
  }, longText), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(react.Fragment, null, typographyElements), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "captionShort",
    color: "black"
  }, /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, longText)), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(AchievementDetails_AchievementDetails, {
    gamepadIndex: 0,
    title: shortText,
    description: longText
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(Dropdown, {
    label: shortText,
    placeholder: shortText,
    description: longText,
    options: [{
      label: shortText,
      value: 0
    }, {
      label: shortText,
      value: 1
    }, {
      label: longText,
      value: 2
    }, {
      label: shortText,
      value: 3
    }],
    gamepadIndex: 2,
    value: 2,
    onChange: () => {}
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(TextField, {
    gamepadIndex: 3,
    label: longText,
    value: longText,
    onChange: () => {},
    placeholder: longText,
    description: longText
  })));
};
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/renderFonts.tsx







function FontRendering() {
  const localeFacet = (0,react_facet_src.useFacetMap)(locale => locale.locale, [], [(0,react_facet_src.useSharedFacet)(localeFacetSelector)]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("h2", null, "Your locale is set to:", /*#__PURE__*/react.createElement("fast-text", {
    text: localeFacet
  })), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 8
  }), /*#__PURE__*/react.createElement(LanguageTestComponent, {
    shortText: JAPANESE_SHORT,
    longText: JAPANESE_LONG,
    testHeader: "Japanese Text Example",
    testInformation: "The comma and dot should be bottom-aligned if your locale is set to ja_JP.",
    showManyElements: true
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 8
  }), /*#__PURE__*/react.createElement(LanguageTestComponent, {
    shortText: CHINESE_SIMPLIFIED_SHORT,
    longText: CHINESE_SIMPLIFIED_LONG,
    testHeader: "Chinese Simplified Text Example",
    testInformation: "The comma and dot should be bottom-aligned if your locale is set to zh_CN.",
    showManyElements: true
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 8
  }), /*#__PURE__*/react.createElement(LanguageTestComponent, {
    shortText: CHINESE_TRADITIONAL_SHORT,
    longText: CHINESE_TRADITIONAL_LONG,
    testHeader: "Chinese Traditional Text Example",
    testInformation: "The comma and dot should be center-aligned if your locale is set to zh_TW.",
    showManyElements: true
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 8
  }), /*#__PURE__*/react.createElement(LanguageTestComponent, {
    shortText: KOREAN_SHORT,
    longText: KOREAN_LONG,
    testHeader: "Korean Text Example",
    showManyElements: true
  }));
}

const fontRendering = [{
  element: /*#__PURE__*/react.createElement(FontRendering, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/link.tsx



function LinkTest() {
  return /*#__PURE__*/react.createElement("p", null, "A text that is wrapping the", /*#__PURE__*/react.createElement(Link_Link, {
    onClick: () => {},
    gamepadIndex: 0
  }, "link"), "and expects it to be inlined.");
}

const link_link = [{
  element: /*#__PURE__*/react.createElement(LinkTest, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/locale.tsx




function Locale() {
  const localeFacet = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(localeFacetSelector));
  if (localeFacet == null || localeFacet === react_facet_src.NO_VALUE) return null;
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("div", {
    style: {
      fontSize: '20px',
      color: 'black'
    }
  }, /*#__PURE__*/react.createElement("b", null, "Locale:"), " ", localeFacet.locale), /*#__PURE__*/react.createElement("div", {
    style: {
      fontSize: '20px',
      color: 'black'
    }
  }, /*#__PURE__*/react.createElement("b", null, "formatDate(1572854462):"), " ", localeFacet.formatDate(1572854462)), /*#__PURE__*/react.createElement("div", {
    style: {
      fontSize: '20px',
      color: 'black'
    }
  }, /*#__PURE__*/react.createElement("b", null, "translate('accessibility.downloading.start'):"), " ", localeFacet.translate('accessibility.downloading.start')), /*#__PURE__*/react.createElement("div", {
    style: {
      fontSize: '20px',
      color: 'black'
    }
  }, /*#__PURE__*/react.createElement("b", null, "translateWithParameters('trade.levelPrefixAndName', [4, translate('entity.villager.mason')]):"), ' ', localeFacet.translateWithParameters('trade.levelPrefixAndName', [`${4}`, localeFacet.translate('entity.villager.mason')])));
}

const locale = [{
  element: /*#__PURE__*/react.createElement(Locale, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/mixBlendMode.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const mixBlendMode = ({"circle":"ca5wr","circle1":"AV2b4","circle2":"euS1y","circle3":"cdLEh","isolate":"X90gT"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/mixBlendMode.tsx




function MixBlendMode() {
  const modes = ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];
  return /*#__PURE__*/react.createElement("div", null, modes.map(mode => /*#__PURE__*/react.createElement("div", {
    key: mode
  }, mode, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(mixBlendMode.isolate)
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(mixBlendMode.circle, mixBlendMode.circle1),
    style: {
      mixBlendMode: mode
    }
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(mixBlendMode.circle, mixBlendMode.circle2),
    style: {
      mixBlendMode: mode
    }
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(mixBlendMode.circle, mixBlendMode.circle3),
    style: {
      mixBlendMode: mode
    }
  })))));
}

const mixBlendMode_mixBlendMode = [{
  description: `Test rendering of the mix-blend-mode CSS property`,
  element: /*#__PURE__*/react.createElement(MixBlendMode, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/modalManager.tsx






var ModalId;

(function (ModalId) {
  ModalId["FOO"] = "foo";
  ModalId["BAR"] = "bar";
  ModalId["BAZ"] = "baz";
})(ModalId || (ModalId = {}));

const modalConditions = (0,react_facet_src.createFacet)({
  initialValue: {
    [ModalId.FOO]: false,
    [ModalId.BAR]: false,
    [ModalId.BAZ]: false
  }
});

function GenericModalView(props) {
  const hideModal = useHideModal();
  return /*#__PURE__*/react.createElement(Modal_Modal, null, /*#__PURE__*/react.createElement(Modal_Modal.Header, {
    onClose: hideModal
  }, props.label), /*#__PURE__*/react.createElement(Modal_Modal.Content, null, /*#__PURE__*/react.createElement(Modal_Modal.Text, {
    gamepadIndex: 0,
    narrationText: ""
  }, props.label)));
}

const GenericModal = registerModal(GenericModalView);

function DeclarativeToggleButton({
  id,
  label,
  gamepadIndex
}) {
  const toggleModal = () => {
    modalConditions.setWithCallback(prev => {
      if (prev !== react_facet_src.NO_VALUE) {
        prev[id] = !prev[id];
      }

      return prev;
    });
  };

  const variant = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useFacetMap)(({
    [id]: visible
  }) => visible ? 'destructive' : 'primary', [id], [modalConditions]));
  return /*#__PURE__*/react.createElement(Button_Button, {
    onClick: toggleModal,
    inputLegend: "Toggle",
    variant: variant == react_facet_src.NO_VALUE ? 'secondary' : variant,
    gamepadIndex: gamepadIndex
  }, (0,react_facet_src.useFacetMap)(({
    [id]: visible
  }) => `Declarative ${visible ? 'Hide' : 'Show'} ${label}`, [label, id], [modalConditions]));
}

function ImperativeToggleButton({
  label,
  gamepadIndex
}) {
  const showModal = GenericModal.useShowModal();
  return /*#__PURE__*/react.createElement(Button_Button, {
    onClick: () => showModal({
      label
    }),
    inputLegend: "Show",
    variant: "primary",
    gamepadIndex: gamepadIndex
  }, `Imperative Show ${label}`);
}

function ModalContainerWrapper({
  children
}) {
  return /*#__PURE__*/react.createElement("div", {
    style: {
      width: '100%',
      flex: 1,
      minHeight: '400px',
      position: 'relative'
    }
  }, children);
}

function ModalManagerTestScreen() {
  return /*#__PURE__*/react.createElement("div", {
    style: {
      backgroundColor: '#333',
      padding: '20px'
    }
  }, /*#__PURE__*/react.createElement(Column, {
    options: {
      index: 0
    },
    scrollRef: (0,react.useRef)(null)
  }, /*#__PURE__*/react.createElement(ModalManager, {
    ModalContainerWrapper: ModalContainerWrapper
  }, /*#__PURE__*/react.createElement(DeclarativeToggleButton, {
    id: ModalId.FOO,
    label: "Foo",
    gamepadIndex: 0
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(DeclarativeToggleButton, {
    id: ModalId.BAR,
    label: "Bar",
    gamepadIndex: 1
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(DeclarativeToggleButton, {
    id: ModalId.BAZ,
    label: "Baz",
    gamepadIndex: 2
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(ImperativeToggleButton, {
    id: ModalId.FOO,
    label: "Foo",
    gamepadIndex: 3
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(ImperativeToggleButton, {
    id: ModalId.BAR,
    label: "Bar",
    gamepadIndex: 4
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(ImperativeToggleButton, {
    id: ModalId.BAZ,
    label: "Baz",
    gamepadIndex: 5
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: (0,react_facet_src.useFacetMap)(f => f.foo, [], [modalConditions])
  }, /*#__PURE__*/react.createElement(GenericModal.Component, {
    label: "Foo"
  })), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: (0,react_facet_src.useFacetMap)(f => f.bar, [], [modalConditions])
  }, /*#__PURE__*/react.createElement(GenericModal.Component, {
    label: "Bar"
  })), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: (0,react_facet_src.useFacetMap)(f => f.baz, [], [modalConditions])
  }, /*#__PURE__*/react.createElement(GenericModal.Component, {
    label: "Baz"
  })))));
}

const modalManager = [{
  description: `Test screen for the @mojang/react-modal-manager package`,
  element: /*#__PURE__*/react.createElement(ModalManagerTestScreen, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/zAndAlpha.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const zAndAlpha = ({"div":"Ry2EZ","one":"gfeHL","two":"RFz_q","three":"jGHQ5","four":"_vV5E","five":"OtTTV","six":"eAQhe","seven":"t_QpN"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/moreZAndAlpha.tsx




function MoreZAndAlpha() {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    key: zAndAlpha.one,
    className: classnames_default()(zAndAlpha.div, zAndAlpha.one)
  }), /*#__PURE__*/react.createElement("div", {
    key: zAndAlpha.two,
    className: classnames_default()(zAndAlpha.div, zAndAlpha.two)
  }), /*#__PURE__*/react.createElement("div", {
    key: zAndAlpha.three,
    className: classnames_default()(zAndAlpha.div, zAndAlpha.three)
  }), /*#__PURE__*/react.createElement("div", {
    key: zAndAlpha.four,
    className: classnames_default()(zAndAlpha.div, zAndAlpha.four)
  }), /*#__PURE__*/react.createElement("div", {
    key: zAndAlpha.five,
    className: classnames_default()(zAndAlpha.div, zAndAlpha.five)
  }), /*#__PURE__*/react.createElement("div", {
    key: zAndAlpha.six,
    className: classnames_default()(zAndAlpha.div, zAndAlpha.six)
  }), /*#__PURE__*/react.createElement("div", {
    key: zAndAlpha.seven,
    className: classnames_default()(zAndAlpha.div, zAndAlpha.seven)
  }));
}

const moreZAndAlpha = [{
  element: /*#__PURE__*/react.createElement(MoreZAndAlpha, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/achivements.png
const achivements_namespaceObject = __webpack_require__.p + "assets/achivements-d2306.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/apron_cake_thumbnail_0.png
const apron_cake_thumbnail_0_namespaceObject = __webpack_require__.p + "assets/apron_cake_thumbnail_0-a6add.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/arrow.png
const arrow_namespaceObject = __webpack_require__.p + "assets/arrow-c3519.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/profile.png
const profile_namespaceObject = __webpack_require__.p + "assets/profile-b84b4.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/newImageEveryFrame.tsx






const ALL_IMAGES = [achivements_namespaceObject, apron_cake_thumbnail_0_namespaceObject, arrow_namespaceObject, newWorldEnd_namespaceObject, profile_namespaceObject];

function NewImageEveryFrame() {
  const [numImages, setNumImages] = (0,react.useState)(0);
  (0,react.useEffect)(() => {
    let id;

    const tick = () => {
      setNumImages(numImages => (numImages + 1) % (ALL_IMAGES.length + 1));
      id = requestAnimationFrame(tick);
    };

    tick();
    return () => cancelAnimationFrame(id);
  }, []);
  return /*#__PURE__*/react.createElement("div", null, ALL_IMAGES.slice(0, numImages).map((image, index) => /*#__PURE__*/react.createElement("img", {
    key: image,
    src: image,
    style: {
      height: 64 * (index + 1) + 'px',
      width: 64 * (index + 1) + 'px',
      opacity: 0.5 + 0.1 * index,
      imageRendering: 'pixelated'
    }
  })));
}

const newImageEveryFrame = [{
  description: `Adds or removes an image every frame`,
  element: /*#__PURE__*/react.createElement(NewImageEveryFrame, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/parentShortcuts.tsx





const Logger = ({
  children,
  title,
  index
}) => {
  const [log, setLog] = (0,react.useState)();
  return /*#__PURE__*/react.createElement(GamepadRow_GamepadRow, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: index
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header4B",
    color: "white"
  }, title), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs",
    color: "white"
  }, "Last state: ", log), children(text => {
    setLog(text);
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 1
  }), /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: false,
    gamepadIndex: 0,
    onClick: () => {}
  }, "Focusable"));
};

const indexer = () => {
  let index = 0;
  return () => index++;
};

function ShortcutScenario() {
  const rowIndexer = indexer();
  return /*#__PURE__*/react.createElement(Panel_Panel, null, /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Logger, {
    title: "Left and right d-pad parent shortcuts",
    index: rowIndexer()
  }, log => /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.LEFT,
      inputLegend: 'Left'
    },
    onClick: () => {
      log('Shortcut: (LEFT)');
    }
  }), /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.RIGHT,
      inputLegend: 'Right'
    },
    onClick: () => {
      log('Shortcut: (RIGHT)');
    }
  }))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Divider_Divider, null), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Logger, {
    title: '"A", "B" buttons parent shortcuts',
    index: rowIndexer()
  }, log => /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.A,
      inputLegend: 'Shortcut Override (A)'
    },
    onClick: () => {
      log('Shortcut: (A)');
    }
  }), /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.B,
      inputLegend: 'Shortcut Override (B)'
    },
    onClick: () => {
      log('Shortcut: (B)');
    }
  }))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Divider_Divider, null), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Logger, {
    title: '"X", "Y" buttons parent shortcuts',
    index: rowIndexer()
  }, log => /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.X,
      inputLegend: 'Shortcut Override (X)'
    },
    onClick: () => {
      log('Shortcut: (X)');
    }
  }), /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
    options: {
      button: ButtonType.Y,
      inputLegend: 'Shortcut Override (Y)'
    },
    onClick: () => {
      log('Shortcut: (Y)');
    }
  })))));
}

const parentShortcuts = [{
  description: 'Used to test parent shortcuts',
  element: /*#__PURE__*/react.createElement(ShortcutScenario, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/promptApi.tsx









if (false) {}

const promptFacet = (0,react_facet_src.sharedFacet)('test.prompt');

function FacetDrivenPrompt() {
  const facet = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(promptFacet));
  return /*#__PURE__*/react.createElement(react.Fragment, null, facet !== react_facet_src.NO_VALUE && /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", null, "number: ", facet.number), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement("div", {
    style: {
      flexDirection: 'row'
    }
  }, /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 6,
    inputLegend: false,
    onClick: () => facet.showFirstPrompt(),
    horizontal: true,
    disabled: facet.prompt.active
  }, "Click here to show the first prompt"), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 7,
    inputLegend: false,
    onClick: () => facet.showSecondPrompt(),
    horizontal: true,
    disabled: facet.prompt.active
  }, "Click here to show the second prompt"))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement("div", {
    style: {
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center'
    }
  }, /*#__PURE__*/react.createElement(PromptView, null)));
}
/**
 * Generic prompt component that is controlled by the backend.
 */


function PromptView() {
  const promptFacetInstance = (0,react_facet_src.useSharedFacet)(promptFacet);
  const show = (0,react_facet_src.useFacetMap)(facet => facet.prompt.active, [], [promptFacetInstance]);
  const setFocusedId = src_useSetFocusedId_useSetFocusedId();
  const restoreFocusedId = (0,react.useRef)(promptApi_noop);
  (0,react_facet_src.useFacetEffect)(visible => {
    if (visible === true) {
      const restoreFocusedIdValue = setFocusedId(MODAL_DEFAULT_BUTTON_ALIAS);

      if (restoreFocusedIdValue !== react_facet_src.NO_VALUE) {
        restoreFocusedId.current = restoreFocusedIdValue;
      }
    } else {
      restoreFocusedId.current();
    }
  }, [setFocusedId], [show]); // TODO: Check/optimise the equality fn

  const title = (0,react_facet_src.useFacetMap)(facet => facet.prompt.title, [], [promptFacetInstance]);
  const body = (0,react_facet_src.useFacetMap)(facet => facet.prompt.body, [], [promptFacetInstance]);
  const buttons = (0,react_facet_src.useFacetMap)(facet => facet.prompt.actions, [], [promptFacetInstance]);
  const handleOption = (0,react_facet_src.useFacetCallback)(facet => id => {
    facet.prompt.handleAction(id);
  }, [], [promptFacetInstance]);
  return /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: show
  }, /*#__PURE__*/react.createElement(Modal_Modal, {
    overlay: false
  }, /*#__PURE__*/react.createElement(Modal_Modal.Header, null, title), /*#__PURE__*/react.createElement(Modal_Modal.Content, null, /*#__PURE__*/react.createElement(Modal_Modal.Text, {
    narrationText: body,
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement("fast-text", {
    text: body
  }))), /*#__PURE__*/react.createElement(Modal_Modal.Buttons, null, /*#__PURE__*/react.createElement(Row, {
    shouldSkipLandmarkInVisual: true,
    options: {
      index: 1
    }
  }, /*#__PURE__*/react.createElement(Column, {
    shouldSkipLandmarkInVisual: true,
    options: {
      index: 0
    }
  }, /*#__PURE__*/react.createElement(react_facet_src.Map, {
    array: buttons
  }, (button, index) => /*#__PURE__*/react.createElement(react.Fragment, null, index > 0 && /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 1
  }), /*#__PURE__*/react.createElement(ModalButton, {
    button: button,
    index: index,
    onClick: handleOption
  }))))))));
}

const MODAL_DEFAULT_BUTTON_ALIAS = 'prompt-default-btn';

function ModalButton({
  button,
  onClick,
  index
}) {
  const onClickWithId = (0,react_facet_src.useFacetCallback)(button => () => onClick(button.id), [onClick], [button]);
  const variant = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useFacetMap)(button => button.variant === PromptActionVariant.Primary ? 'primary' : 'secondary', [], [button]));
  return /*#__PURE__*/react.createElement(Button_Button, {
    onClick: onClickWithId,
    gamepadIndex: index,
    inputLegend: 'Select',
    gamepadAlias: index === 0 ? MODAL_DEFAULT_BUTTON_ALIAS : undefined,
    variant: variant === react_facet_src.NO_VALUE ? 'secondary' : variant
  }, (0,react_facet_src.useFacetMap)(button => button.label, [], [button]));
}

function promptApi_noop() {}

const promptApi_prompt = [{
  description: `Data driven prompts`,
  element: /*#__PURE__*/react.createElement(FacetDrivenPrompt, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/pseudo.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const pseudo = ({"pseudoClasses":"x8F9c","buttonWithStates":"DJdEy","linkWithStates":"utqPK"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/pseudoClasses.tsx



function PseudoClasses() {
  return /*#__PURE__*/react.createElement("div", {
    className: pseudo.pseudoClasses
  }, /*#__PURE__*/react.createElement("input", {
    type: "button",
    className: pseudo.buttonWithStates,
    value: "Purrty disabled button",
    disabled: true
  }), /*#__PURE__*/react.createElement("input", {
    type: "button",
    className: pseudo.buttonWithStates,
    value: "Purrty enabled button"
  }), /*#__PURE__*/react.createElement("a", {
    className: pseudo.linkWithStates,
    href: "index.html"
  }, "This href doesnt seem to receive any styling"));
}

const pseudoClasses = [{
  element: /*#__PURE__*/react.createElement(PseudoClasses, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/rightToLeftText.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const rightToLeftText = ({"textBox":"VmNgW"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/rightToLeftText.tsx



function RightToLeftText() {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("h2", null, "Arabic"), /*#__PURE__*/react.createElement("p", {
    className: rightToLeftText.textBox
  }, "\u0628\u064A\u0648\u0631\u0646 \u0647\u0648 \u0627\u0644\u0623\u0641\u0636\u0644"), /*#__PURE__*/react.createElement("p", {
    className: rightToLeftText.textBox
  }, "\u0627\u0644\u0639\u0627\u0628 \u0635\u064A\u0627\u0646\u0629"), /*#__PURE__*/react.createElement("h2", null, "Chinese"), /*#__PURE__*/react.createElement("p", {
    className: rightToLeftText.textBox
  }, "\u6BD4\u7D04\u6069\u662F\u6700\u68D2\u7684\uFF01"), /*#__PURE__*/react.createElement("h2", null, "Hebrew"), /*#__PURE__*/react.createElement("p", {
    className: rightToLeftText.textBox
  }, "Bj\xF6rn \u05D4\u05D5\u05D0 \u05D4\u05D8\u05D5\u05D1 \u05D1\u05D9\u05D5\u05EA\u05E8!"), /*#__PURE__*/react.createElement("h2", null, "Russian"), /*#__PURE__*/react.createElement("p", {
    className: rightToLeftText.textBox
  }, "\u0411\u044C\u043E\u0440\u043D \u043B\u0443\u0447\u0448\u0438\u0439!"));
}

const rightToLeftText_rightToLeftText = [{
  element: /*#__PURE__*/react.createElement(RightToLeftText, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/simple-rgb.png
const simple_rgb_namespaceObject = __webpack_require__.p + "assets/simple-rgb-bef7e.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/rgba.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const rgba = ({"rgbaImages":"dW5OH","invisible":"dCsHq","opaque":"NkSCs","border":"mK3Sg"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/rgba.tsx




function RGBA() {
  return /*#__PURE__*/react.createElement("div", {
    className: rgba.rgbaImages
  }, "Three images: Full visibility, 100% opacity, and 50% opacity", /*#__PURE__*/react.createElement("div", {
    className: rgba.border
  }, /*#__PURE__*/react.createElement("img", {
    src: simple_rgb_namespaceObject
  }), /*#__PURE__*/react.createElement("img", {
    className: rgba.invisible,
    src: simple_rgb_namespaceObject
  }), /*#__PURE__*/react.createElement("img", {
    className: rgba.opaque,
    src: simple_rgb_namespaceObject
  })));
}

const rgba_rgba = [{
  element: /*#__PURE__*/react.createElement(RGBA, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/settings-small.png
const settings_small_namespaceObject = __webpack_require__.p + "assets/settings-small-061ef.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/scaledImages.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const scaledImages = ({"scaledImages":"Jmyy6","img":"SRuWP","negative":"BBOT5","half":"uBVzd","double":"cHMu6","onlyX":"r5lC7","onlyY":"EJj9i"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/scaledImages.tsx





function ScaledImages() {
  return /*#__PURE__*/react.createElement("div", {
    className: scaledImages.scaledImages
  }, /*#__PURE__*/react.createElement("img", {
    className: scaledImages.img,
    src: settings_small_namespaceObject,
    alt: "original"
  }), /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(scaledImages.img, scaledImages.negative),
    src: settings_small_namespaceObject
  }), /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(scaledImages.img, scaledImages.half),
    src: settings_small_namespaceObject
  }), /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(scaledImages.img, scaledImages.double),
    src: settings_small_namespaceObject
  }), /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(scaledImages.img, scaledImages.onlyX),
    src: settings_small_namespaceObject
  }), /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(scaledImages.img, scaledImages.onlyY),
    src: settings_small_namespaceObject
  }));
}

const scaledImages_scaledImages = [{
  element: /*#__PURE__*/react.createElement(ScaledImages, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/screenPixelDensity.tsx




function ScreenPixelDensity() {
  const deviceInformation = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(deviceInformationFacet));
  if (deviceInformation === react_facet_src.NO_VALUE) return /*#__PURE__*/react.createElement("div", null);
  const pixelsInOneCentimeter = deviceInformation.pixelsPerMillimeter * 10;
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("div", {
    style: {
      width: `${pixelsInOneCentimeter}px`,
      height: `${pixelsInOneCentimeter}px`,
      background: 'black'
    }
  }));
}

const screenPixelDensity = [{
  description: `Screen pixel density test, the square should be (roughly) 10x10mm`,
  element: /*#__PURE__*/react.createElement(ScreenPixelDensity, null)
}];
;// CONCATENATED MODULE: ./packages/ui/src/Form/Form.tsx




function Form({
  gamepadIndex,
  children,
  role = 'neutral'
}) {
  const {
    color: {
      [role]: semanticClassNames
    }
  } = useSemanticTokens();
  return /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(semanticClassNames.background.base, semanticClassNames.text.base)
  }, /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: gamepadIndex
  }, children));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/screenReader.tsx






const Padding = ({
  children
}) => /*#__PURE__*/react.createElement("div", {
  style: {
    padding: '0 8rem'
  }
}, children);

function ScreenReaderExample() {
  const [outOfGame, setOutOfGame] = (0,react.useState)(false);
  const [inGame, setInGame] = (0,react.useState)(false);
  const [inGameChat, setInGameChat] = (0,react.useState)(false);
  const [inGameItem, setInGameItem] = (0,react.useState)(false);
  const [inGameName, setInGameName] = (0,react.useState)(false);
  const [interruptibleFlag, setInterruptibleFlag] = (0,react.useState)(false);
  const [requiredFlag, setRequiredFlag] = (0,react.useState)(false);
  const [playInBackgroundFlag, setPlayInBackgroundFlag] = (0,react.useState)(false);
  const [playWhenPlatformTTSEnabled, setPlayWhenPlatformTTSEnabled] = (0,react.useState)(false);
  const [textToRead, setTextToRead] = (0,react.useState)('');
  const screenReader = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(screenReaderSharedFacet));

  if (screenReader == null || screenReader === react_facet_src.NO_VALUE) {
    return /*#__PURE__*/react.createElement(Form, {
      gamepadIndex: 0
    }, /*#__PURE__*/react.createElement(Typography_Typography, {
      variant: "paragraphs"
    }, "The screen reader facet is not available."));
  }

  const read = () => {
    const profanityFilterContext = outOfGame ? ProfanityFilterContext.UI_FRONT_END :  false || inGame ? ProfanityFilterContext.UI_IN_GAME :  false || inGameChat ? ProfanityFilterContext.IN_GAME_CHAT :  false || inGameItem ? ProfanityFilterContext.IN_GAME_ITEMS :  false || inGameName ? ProfanityFilterContext.IN_GAME_NAME : 0;
    const read = screenReaderReadFactory(screenReader);
    read(textToRead, profanityFilterContext, interruptibleFlag, requiredFlag, playInBackgroundFlag, playWhenPlatformTTSEnabled);
  };

  const clear = () => {
    screenReader.clear();
  };

  let i = 0;
  return /*#__PURE__*/react.createElement(Form, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Padding, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs"
  }, "The \"Screen reader enabled for UI\" should be toggled on if this option is enabled under the legacy UI accessibility settings (this cannot be toggled here).")), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "Screen reader enabled for UI",
    onChange: () => {},
    value: screenReader.isUITextToSpeechEnabled,
    disabled: true
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 7
  }), /*#__PURE__*/react.createElement(Padding, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs"
  }, "The \"Screen reader enabled for chat\" should be toggled on if this option is enabled under the legacy UI accessibility settings (this cannot be toggled here).")), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    onChange: () => {},
    title: "Screen reader enabled for chat",
    value: screenReader.isChatTextToSpeechEnabled,
    disabled: true
  }), /*#__PURE__*/react.createElement(Padding, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs"
  }, "These toggles sets how the game should interpret the queued read. It is used to filter out certain types of reads depending on what options are enabled under the legacy UI accessibility settings.")), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "Out of game",
    value: outOfGame,
    onChange: setOutOfGame
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "In game",
    value: inGame,
    onChange: setInGame
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "In game chat",
    value: inGameChat,
    onChange: setInGameChat
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "In game item",
    value: inGameItem,
    onChange: setInGameItem
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "In game name",
    value: inGameName,
    onChange: setInGameName
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "Interruptible",
    value: interruptibleFlag,
    onChange: setInterruptibleFlag,
    description: "Queues reads which are marked as 'Interruptible' are interrupted when another read is queued."
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "Required",
    value: requiredFlag,
    onChange: setRequiredFlag,
    description: "Queued reads which are marked as 'Required' will not be stopped when the queue is cleared."
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "Play in background",
    value: playInBackgroundFlag,
    onChange: setPlayInBackgroundFlag,
    description: "Queued reads which are marked as 'Play in background' will be read even if the application is not focused."
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    gamepad: {
      index: i++
    },
    title: "Play when platform TTS enabled",
    value: playWhenPlatformTTSEnabled,
    onChange: setPlayWhenPlatformTTSEnabled,
    description: "Queued reads which are marked as 'Play When Platform TTS Enabled' will be read even if the platform TTS is enabled."
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(TextField, {
    gamepadIndex: i++,
    value: textToRead,
    onChange: setTextToRead,
    placeholder: "Type text to read...",
    label: ""
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Padding, null, /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: false,
    gamepadIndex: i++,
    onClick: read,
    variant: "hero"
  }, `Click here to queue read`), /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: false,
    gamepadIndex: i++,
    onClick: clear,
    variant: "secondary"
  }, `Click here to clear queue`))));
}

const screenReader = [{
  description: `Screen reader example`,
  element: /*#__PURE__*/react.createElement(ScreenReaderExample, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/shapeMasks.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const shapeMasks = ({"shapeMasks":"WjU0F","div":"Fp8zW","two":"ZkySl","three":"Np4Wi","four":"nGMqM","five":"jLk9X","six":"xDJT2","seven":"NXy1M","mask":"Varjp","imageToMask":"GJWQn","lightContainer":"ayI55","darkContainer":"wD3O5"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/shapeMasks.tsx




function ShapeMasks() {
  return /*#__PURE__*/react.createElement("div", {
    className: shapeMasks.shapeMasks
  }, /*#__PURE__*/react.createElement("div", {
    className: shapeMasks.div
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.div, shapeMasks.two)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.div, shapeMasks.three)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.div, shapeMasks.four)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.div, shapeMasks.five)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.div, shapeMasks.six)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.div, shapeMasks.seven)
  }), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.lightContainer)
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.mask)
  }, "Mask Light Mode", /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.imageToMask)
  }))), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.darkContainer)
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.mask)
  }, "Mask Dark Mode", /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(shapeMasks.imageToMask)
  }))));
}

const shapeMasks_shapeMasks = [{
  element: /*#__PURE__*/react.createElement(ShapeMasks, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/sierpinskiTriangle.tsx
function sierpinskiTriangle_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function sierpinskiTriangle_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { sierpinskiTriangle_ownKeys(Object(source), true).forEach(function (key) { sierpinskiTriangle_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { sierpinskiTriangle_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function sierpinskiTriangle_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



const dotStyle = {
  position: 'absolute',
  background: '#61dafb',
  font: 'normal 15px sans-serif',
  textAlign: 'center',
  cursor: 'pointer'
};
const containerStyle = {
  position: 'absolute',
  transformOrigin: '0 0',
  left: '50%',
  top: '50%',
  width: '10px',
  height: '10px',
  background: '#eee'
};
const targetSize = 25;

const SierpinskiDot = ({
  text,
  size,
  x,
  y
}) => {
  const [hover, setHover] = (0,react.useState)(false);
  const s = size * 1.3;

  const style = hover => sierpinskiTriangle_objectSpread(sierpinskiTriangle_objectSpread({}, dotStyle), {}, {
    width: s + 'px',
    height: s + 'px',
    left: x + 'px',
    top: y + 'px',
    borderRadius: s / 2 + 'px',
    lineHeight: s + 'px',
    background: hover ? '#ff0' : dotStyle.background
  });

  return /*#__PURE__*/react.createElement("div", {
    style: style(hover),
    onMouseEnter: () => setHover(true),
    onMouseLeave: () => setHover(false)
  }, hover ? '*' + text + '*' : text);
};

const SierpinskiTriangle = ({
  x,
  y,
  s,
  children
}) => {
  if (s <= targetSize) {
    return /*#__PURE__*/react.createElement(SierpinskiDot, {
      x: x - targetSize / 2,
      y: y - targetSize / 2,
      size: targetSize,
      text: children
    });
  }

  if (true) {
    const e = performance.now() + 0.8;

    while (performance.now() < e) {}
  }

  const s_ = s / 2;
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(SierpinskiTriangle, {
    x: x,
    y: y - s_ / 2,
    s: s_
  }, children), /*#__PURE__*/react.createElement(SierpinskiTriangle, {
    x: x - s_,
    y: y + s_ / 2,
    s: s_
  }, children), /*#__PURE__*/react.createElement(SierpinskiTriangle, {
    x: x + s_,
    y: y + s_ / 2,
    s: s_
  }, children));
};

const SierpinskiApplication = () => {
  const [elapsed, setElapsed] = (0,react.useState)(new Date().getTime());
  const [seconds, setSeconds] = (0,react.useState)(0);
  const [intervalId, setIntervalId] = (0,react.useState)(null);
  (0,react.useEffect)(() => {
    const frame = requestAnimationFrame(setElapsed);
    return () => cancelAnimationFrame(frame);
  }, [elapsed]);
  (0,react.useEffect)(() => {
    if (intervalId != null) return;
    setIntervalId(setInterval(() => {
      setSeconds(s => s % 10 + 1);
    }, 1000));
    return () => {
      if (intervalId == null) return;
      clearInterval(intervalId);
    };
  }, [intervalId]);
  const t = elapsed / 1000 % 10;
  const scale = 1 + (t > 5 ? 10 - t : t) / 10;
  const transform = 'scaleX(' + scale / 2.1 + ') scaleY(0.7) translateZ(0.1px)';
  return /*#__PURE__*/react.createElement("div", {
    style: sierpinskiTriangle_objectSpread(sierpinskiTriangle_objectSpread({}, containerStyle), {}, {
      transform
    })
  }, /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement(SierpinskiTriangle, {
    x: 0,
    y: 0,
    s: 1000
  }, String(seconds))));
};

const SierpinskiRendering = [{
  element: /*#__PURE__*/react.createElement(SierpinskiApplication, null),
  description: 'It render a Sierpinski triangle with animated widths and number values'
}];
// EXTERNAL MODULE: ./node_modules/ramda/src/times.js
var times = __webpack_require__(2250);
var times_default = /*#__PURE__*/__webpack_require__.n(times);
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/slowFastInteractions.tsx





function Item({
  item
}) {
  return /*#__PURE__*/react.createElement("span", null, /*#__PURE__*/react.createElement("fast-text", {
    text: (0,react_facet_src.useFacetMap)(item => `Hello number ${item}`, [], [item])
  }));
}

function slowFastInteractions_Example() {
  const [state, setState] = (0,react_facet_src.useFacetState)([1]);
  (0,react.useEffect)(() => {
    const id = setInterval(() => {
      setState(previous => previous !== react_facet_src.NO_VALUE && (previous === null || previous === void 0 ? void 0 : previous.length) === 1 ? times_default()(i => i, 100) : [1]);
    }, 2000);
    return () => {
      clearTimeout(id);
    };
  }, [setState]);
  return /*#__PURE__*/react.createElement(deferred_mount_dist.DeferredMountProvider, {
    frameTimeBudget: 0
  }, /*#__PURE__*/react.createElement(react_facet_src.Map, {
    array: state
  }, item => /*#__PURE__*/react.createElement(deferred_mount_dist.DeferredMount, null, /*#__PURE__*/react.createElement(Item, {
    item: item
  }))));
}

const slowFastInteractions = [{
  element: /*#__PURE__*/react.createElement(slowFastInteractions_Example, null),
  description: 'Uses slow.map, fast.text along with DeferredMount to see if things work well. The expected result is just a list of "Hello number"'
}];
// EXTERNAL MODULE: ./support/test-screens/main/src/soundFacet.soundDefinitions.json
var soundFacet_soundDefinitions = __webpack_require__(8156);
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/soundFacet.tsx








function SoundFacetTestScreen() {
  return /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(SoundTestPanel, {
    gamepadIndex: 0,
    title: "Two sounds randomly",
    eventName: "Test.two.click",
    fadeOutDuration: 0
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(SoundTestPanel, {
    gamepadIndex: 1,
    title: "Sound randomly pitched",
    eventName: "Test.pitched.click",
    fadeOutDuration: 0
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(SoundTestPanel, {
    gamepadIndex: 2,
    title: "Sound randomly volumed",
    eventName: "Test.volumed.click",
    fadeOutDuration: 0
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(SoundTestPanel, {
    gamepadIndex: 3,
    title: "Long sound, stop immediately",
    eventName: "Test.fadeOut.music",
    fadeOutDuration: 0,
    allowStop: true
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(SoundTestPanel, {
    gamepadIndex: 4,
    title: "Long sound, fade out on stop",
    eventName: "Test.fadeOut.music",
    fadeOutDuration: 5,
    allowStop: true
  }), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 4
  }), /*#__PURE__*/react.createElement(SoundTestPanel, {
    gamepadIndex: 5,
    title: "Long sound at lower volume, fade out on stop",
    eventName: "Test.fadeOutLowVolume.music",
    fadeOutDuration: 5,
    allowStop: true
  }));
}

function SoundTestPanel({
  eventName,
  title,
  gamepadIndex,
  fadeOutDuration,
  allowStop
}) {
  const [soundIds, setSoundIds] = (0,react.useState)([]);
  const sound = (0,react_facet_src.useFacetUnwrap)((0,react_facet_src.useSharedFacet)(soundFacet));
  if (sound === react_facet_src.NO_VALUE) return /*#__PURE__*/react.createElement("p", null, "Setting up the driver");
  return /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    shouldSkipLandmarkInVisual: true,
    gamepadIndex: gamepadIndex
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header4B",
    color: "black"
  }, title), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 0,
    inputLegend: "Play",
    soundEffectPressed: '',
    soundEffectFocused: '',
    soundEffectHovered: '',
    onClick: () => {
      const soundId = sound.play(eventName, 1, 1);
      setSoundIds(soundIds => [soundId, ...soundIds]);
      console.log(`Playing '${eventName}'`);
    }
  }, `Play`), allowStop && /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: "Stop",
    soundEffectPressed: '',
    soundEffectFocused: '',
    soundEffectHovered: '',
    disabled: soundIds.length == 0,
    gamepadIndex: 1,
    onClick: () => {
      if (soundIds.length == 0) return;
      soundIds.forEach(soundId => {
        if (sound.isPlaying(soundId)) {
          sound.fadeOut(soundId, fadeOutDuration);
        }
      });
      setSoundIds([]);
    }
  }, "Stop all")));
}

const soundFacet_soundFacet = [{
  description: `The sound facet tests based on the basic sound_definitions.json capabilites.`,
  element: /*#__PURE__*/react.createElement(SoundFacetTestScreen, null)
}];
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseSlider/BaseSlider.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BaseSlider = ({"Slider":"b55eW","track":"MsTzs","steps":"yOJq6","step":"nWUkJ","stepBorder":"MIyFu","stepEnd":"BFoNa","trackOverlay":"ljN4B","thumb":"Kg0uC","thumbTop":"VItTV","thumbBottom":"O6_zx"});
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseSlider/useDrag.ts

function useDrag_useDrag(selectedValueIndex, onChange, values) {
  const [isDragging, setIsDragging] = (0,react.useState)(false);
  const trackOverlayRef = (0,react.useRef)(null);
  const thumbRef = (0,react.useRef)(null);
  const sliderRef = (0,react.useRef)(null);
  const selectedValueIndexRef = (0,react.useRef)(selectedValueIndex);
  selectedValueIndexRef.current = selectedValueIndex;
  const onChangeRef = (0,react.useRef)(onChange);
  onChangeRef.current = onChange;
  const valuesRef = (0,react.useRef)(values);
  valuesRef.current = values;
  const sliderRectRef = (0,react.useRef)(null);
  const onSelectStart = (0,react.useCallback)(event => event.preventDefault(), []);
  const handleMove = (0,react.useCallback)((event, clientX) => {
    if (isDragging && trackOverlayRef.current && sliderRectRef.current && thumbRef.current && typeof selectedValueIndexRef.current === 'number') {
      event.stopPropagation();
      setNewValue(clientX, selectedValueIndexRef.current, sliderRectRef.current, valuesRef.current, onChangeRef.current);
      const offset = calcPercentageBasedOnXLocationInSlider(clientX, sliderRectRef.current);
      trackOverlayRef.current.style.clipPath = `inset(0 ${100 - offset}% 0 0)`;
      thumbRef.current.style.left = `${offset}%`;
    }
  }, [isDragging, onChangeRef, selectedValueIndexRef, sliderRectRef, valuesRef]);
  const onMouseMove = (0,react.useCallback)(event => {
    handleMove(event, event.clientX);
  }, [handleMove]);
  const onTouchMove = (0,react.useCallback)(event => {
    handleMove(event, event.touches[0].clientX);
  }, [handleMove]);
  const onMouseUp = (0,react.useCallback)(() => setIsDragging(false), [setIsDragging]);
  const onTouchEnd = (0,react.useCallback)(() => setIsDragging(false), [setIsDragging]);
  const onDrag = (0,react.useCallback)(() => {
    setIsDragging(true);
    if (!sliderRef.current) return;
    sliderRectRef.current = sliderRef.current.getBoundingClientRect();
  }, []);
  (0,react.useLayoutEffect)(() => {
    const cleanup = () => {
      window.removeEventListener('mousemove', onMouseMove);
      window.removeEventListener('touchmove', onTouchMove);
      window.removeEventListener('mouseup', onMouseUp);
      window.removeEventListener('touchend', onTouchEnd);

      if (false) {}
    };

    const setup = () => {
      window.addEventListener('mousemove', onMouseMove);
      window.addEventListener('touchmove', onTouchMove);
      window.addEventListener('mouseup', onMouseUp);
      window.addEventListener('touchend', onTouchEnd);

      if (false) {}
    };

    if (isDragging) {
      setup();
    } else {
      cleanup();
    }

    return cleanup;
  }, [isDragging, onMouseUp, onMouseMove, onSelectStart, onTouchMove, onTouchEnd]);
  (0,react.useLayoutEffect)(() => {
    if (!isDragging && trackOverlayRef.current && thumbRef.current) {
      const newIndex = Math.max(Math.min(selectedValueIndex, valuesRef.current.length - 1), 0);
      const offset = newIndex / (valuesRef.current.length - 1) * 100;
      trackOverlayRef.current.style.clipPath = `inset(0 ${100 - offset}% 0 0)`;
      thumbRef.current.style.left = `${offset}%`;
    }
  }, [isDragging, selectedValueIndex, valuesRef, thumbRef, trackOverlayRef]);

  const trackClick = event => {
    event.stopPropagation();
    if (sliderRef.current && typeof selectedValueIndex === 'number') setNewValue(event.clientX, selectedValueIndex, sliderRef.current.getBoundingClientRect(), values, onChange);
  };

  return {
    trackClick,
    sliderRef,
    trackOverlayRef,
    thumbRef,
    onDrag,
    isDragging
  };
}

function setNewValue(clientX, selectedValueIndex, sliderRect, values, onChange) {
  const percentage = calcPercentageBasedOnXLocationInSlider(clientX, sliderRect);
  const newSelectedIndex = Math.round(percentage / 100 * (values.length - 1));
  const newIndex = Math.max(Math.min(newSelectedIndex, values.length - 1), 0);
  if (newIndex !== selectedValueIndex) onChange(values[newIndex]);
}

function calcPercentageBasedOnXLocationInSlider(xPosition, sliderRect) {
  const percentage = (xPosition - sliderRect.left) / sliderRect.width * 100;
  return Math.min(Math.max(percentage, 0), 100);
}
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseSlider/getSetFromRange.ts

function getSetFromRange([minValue, maxValue]) {
  return times_default()(index => index + minValue, maxValue - minValue + 1);
}
;// CONCATENATED MODULE: ./packages/ui-internal/src/BaseSlider/BaseSlider.tsx
function BaseSlider_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function BaseSlider_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { BaseSlider_ownKeys(Object(source), true).forEach(function (key) { BaseSlider_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { BaseSlider_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function BaseSlider_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

















const BaseSlider_noop = () => {};

function BaseSlider_BaseSlider({
  gamepad,
  label,
  onChange,
  value,
  disabled = false,
  onFocusChanged = BaseSlider_noop,
  onHoverAudioEvent,
  onHoverExitAudioEvent,
  range = [0, 100],
  showSteps = false,
  unit = '',
  thumbRole,
  trackRole,
  trackOverlayRole
}) {
  const disabledWrapped = (0,react_facet_src.useFacetWrap)(disabled);
  const labelWrapped = (0,react_facet_src.useFacetWrap)(label);
  const rangeWrapped = (0,react_facet_src.useFacetWrap)(range);
  const showStepsWrapped = (0,react_facet_src.useFacetWrap)(showSteps);
  const unitWrapped = (0,react_facet_src.useFacetWrap)(unit);
  const valueWrapped = (0,react_facet_src.useFacetWrap)(value);
  const {
    t
  } = useLocalization('BaseSlider');
  const narrationText = (0,react_facet_src.useFacetMap)((range, unit) => [t('.minValueIs'), range[0].toString(), ...(unit != null ? [unit] : []), t('.maxValueIs'), range[1].toString(), ...(unit != null ? [unit] : [])].join(' . '), [t], [rangeWrapped, unitWrapped]);
  const valuesWrapped = (0,react_facet_src.useFacetMap)(getSetFromRange, [], [rangeWrapped]);
  const selectedValueIndex = (0,react_facet_src.useFacetMap)((values, value) => values.findIndex(value_ => value === value_), [], [valuesWrapped, valueWrapped]);
  return /*#__PURE__*/react.createElement(NarrationContext, {
    text: narrationText
  }, /*#__PURE__*/react.createElement(InnerBaseSlider, {
    label: labelWrapped,
    showSteps: showStepsWrapped,
    onFocusChanged: onFocusChanged,
    disabled: disabledWrapped,
    onHoverAudioEvent: onHoverAudioEvent,
    onHoverExitAudioEvent: onHoverExitAudioEvent,
    gamepad: gamepad,
    selectedValueIndex: selectedValueIndex,
    values: valuesWrapped,
    onChange: onChange,
    unit: unitWrapped,
    thumbRole: thumbRole,
    trackRole: trackRole,
    trackOverlayRole: trackOverlayRole
  }));
}

const InnerBaseSlider = ({
  gamepad,
  label,
  onChange,
  selectedValueIndex,
  values,
  disabled,
  onFocusChanged = BaseSlider_noop,
  onHoverAudioEvent,
  onHoverExitAudioEvent,
  showSteps,
  unit,
  thumbRole = 'secondary',
  trackRole = 'neutral50',
  trackOverlayRole = 'primary'
}) => {
  const {
    t
  } = useLocalization('BaseSlider');
  const triggerSoundEffect = useSoundEffectTrigger();
  const [thumbHoverFacet, setThumbHoverFacet] = (0,react_facet_src.useFacetState)(false);
  const narrationContextFacet = (0,react.useContext)(narrationContextContext);
  const {
    narrationPutNode
  } = useNarrationPutNode();
  const {
    narrateText,
    preventNarrateText
  } = useNarrateText();
  const {
    narrateById,
    preventNarrateById
  } = useNarrateById();
  const getNarrationText = (0,react.useCallback)((value, unit, shouldStartBySayingCurrentValueIs, label) => {
    return [shouldStartBySayingCurrentValueIs ? t('.currentValue') : '', value, unit, label !== null && label !== void 0 ? label : ''].join(' . ');
  }, [t]);
  const narrate = (0,react_facet_src.useFacetCallback)((unit, label) => value => {
    preventNarrateText();
    setTimeout(() => narrateText(getNarrationText(value, unit, false, label)), 0);
  }, [getNarrationText, narrateText, preventNarrateText], [unit, label, narrationContextFacet]);
  const selectedValueIndexUnwrappedRaw = (0,react_facet_src.useFacetUnwrap)(selectedValueIndex);
  const selectedValueIndexUnwrapped = selectedValueIndexUnwrappedRaw != react_facet_src.NO_VALUE ? selectedValueIndexUnwrappedRaw : 0;
  const valuesUnwrappedRaw = (0,react_facet_src.useFacetUnwrap)(values);
  const valuesUnwrapped = valuesUnwrappedRaw != react_facet_src.NO_VALUE ? valuesUnwrappedRaw : [];
  const handleChange = (0,react_facet_src.useFacetCallback)(disabled => newValue => {
    if (disabled) {
      return;
    }

    onChange(newValue);
    narrate(newValue);
  }, [onChange, narrate], [disabled]);
  const {
    trackClick,
    sliderRef,
    trackOverlayRef,
    thumbRef,
    onDrag,
    isDragging
  } = useDrag_useDrag(selectedValueIndexUnwrapped, handleChange, valuesUnwrapped);
  const handleRight = (0,react_facet_src.useFacetCallback)((selectedValueIndex, values, disabled) => () => {
    if (disabled || selectedValueIndex === values.length - 1) {
      return false;
    }

    const newIndex = selectedValueIndex + 1;
    setTimeout(() => narrate(values[newIndex]), 0);
    onChange(values[newIndex]);
    return true;
  }, [narrate, onChange], [selectedValueIndex, values, disabled]);
  const handleLeft = (0,react_facet_src.useFacetCallback)((selectedValueIndex, values, disabled) => () => {
    if (disabled || selectedValueIndex === 0) {
      return false;
    }

    const newIndex = selectedValueIndex - 1;
    setTimeout(() => narrate(values[newIndex]), 0);
    onChange(values[newIndex]);
    return true;
  }, [narrate, onChange], [selectedValueIndex, values, disabled]);
  const {
    isFocused,
    onFocus
  } = useFocus(BaseSlider_objectSpread(BaseSlider_objectSpread({}, gamepad), {}, {
    onFocusChanged,
    onRight: () => {
      const shouldMoveRight = handleRight();
      return shouldMoveRight != react_facet_src.NO_VALUE ? shouldMoveRight : false;
    },
    onLeft: () => {
      const shouldMoveLeft = handleLeft();
      return shouldMoveLeft != react_facet_src.NO_VALUE ? shouldMoveLeft : false;
    }
  }), BaseSlider_noop, sliderRef);
  const getNarrationId = (0,react_facet_src.useFacetCallback)((unit, selectedValueIndex, values) => () => {
    return narrationPutNode(getNarrationText(values[selectedValueIndex], unit, true));
  }, [getNarrationText, narrationPutNode], [unit, selectedValueIndex, values, narrationContextFacet]);
  (0,react_facet_src.useFacetEffect)(isFocused => {
    const narrationId = getNarrationId();

    if (isFocused) {
      if (narrationId !== react_facet_src.NO_VALUE && narrationId != null) {
        setTimeout(() => narrateById(narrationId), 0);
      }
    } else {
      preventNarrateById();
    }
  }, [narrateById, preventNarrateById, onFocusChanged, getNarrationId], [isFocused, disabled, narrationContextFacet]);
  const {
    color: {
      [trackOverlayRole]: semanticClassNamesTrackOverlay,
      [trackRole]: semanticClassNamesTrack,
      [thumbRole]: semanticClassNamesThumb
    },
    modifier,
    sound: {
      [thumbRole]: semanticSoundThumb
    }
  } = useSemanticTokens();
  const onMouseEnter = (0,react_facet_src.useFacetCallback)(disabled => () => {
    if (disabled) {
      return;
    }

    setThumbHoverFacet(true);
    const soundEventName = onHoverAudioEvent !== null && onHoverAudioEvent !== void 0 ? onHoverAudioEvent : semanticSoundThumb.hover;

    if (soundEventName != null) {
      triggerSoundEffect(soundEventName);
    }

    onFocus(FocusOrigin.PointerInput);
  }, [setThumbHoverFacet, onHoverAudioEvent, triggerSoundEffect, onFocus, semanticSoundThumb], [disabled]);
  const onMouseLeave = (0,react.useCallback)(() => {
    setThumbHoverFacet(false);
    const soundEventName = onHoverExitAudioEvent !== null && onHoverExitAudioEvent !== void 0 ? onHoverExitAudioEvent : semanticSoundThumb.hoverExit;

    if (soundEventName != null) {
      triggerSoundEffect(soundEventName);
    }
  }, [onHoverExitAudioEvent, triggerSoundEffect, setThumbHoverFacet, semanticSoundThumb]);
  const thumbTopClassnames = (0,react_facet_src.useFacetMap)(thumbHover => classnames_default()(BaseSlider.thumbTop, semanticClassNamesThumb.background.interactive, {
    [modifier.hovered]: isDragging || thumbHover
  }), [isDragging, modifier.hovered, semanticClassNamesThumb.background.interactive], [thumbHoverFacet]);
  const sliderClassnames = (0,react_facet_src.useFacetMap)(disabled => classnames_default()(BaseSlider.Slider, {
    [modifier.disabled]: disabled
  }), [modifier.disabled], [disabled]);
  const stateOverrides = useInputStateOverride();
  return /*#__PURE__*/react.createElement("fast-div", {
    className: sliderClassnames,
    ref: sliderRef
  }, /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(BaseSlider.track, semanticClassNamesTrack.border.interactive, semanticClassNamesTrack.background.interactive),
    onClick: trackClick
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    role: trackRole
  }), /*#__PURE__*/react.createElement(Steps, {
    values: valuesUnwrapped,
    show: showSteps,
    onClick: trackClick,
    stepClassName: semanticClassNamesTrack.border.interactive
  })), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(BaseSlider.trackOverlay, semanticClassNamesTrackOverlay.border.interactive, semanticClassNamesTrackOverlay.background.interactive),
    ref: trackOverlayRef,
    onClick: trackClick
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    role: trackOverlayRole
  }), /*#__PURE__*/react.createElement(Steps, {
    values: valuesUnwrapped,
    show: showSteps,
    onClick: trackClick,
    stepClassName: semanticClassNamesTrackOverlay.border.interactive
  })), /*#__PURE__*/react.createElement("fast-div", {
    ref: thumbRef,
    className: (0,react_facet_src.useFacetMap)(isFocused => classnames_default()(BaseSlider.thumb, semanticClassNamesThumb.border.interactive, {
      [focusClass]: (stateOverrides === null || stateOverrides === void 0 ? void 0 : stateOverrides.focused) || isFocused
    }), [semanticClassNamesThumb, stateOverrides === null || stateOverrides === void 0 ? void 0 : stateOverrides.focused], [isFocused]),
    onMouseEnter: onMouseEnter,
    onMouseLeave: onMouseLeave,
    onMouseDown: onDrag,
    onTouchStart: onDrag
  }, /*#__PURE__*/react.createElement(Focus_Focus, {
    role: thumbRole
  }), /*#__PURE__*/react.createElement("fast-div", {
    className: thumbTopClassnames
  }, /*#__PURE__*/react.createElement(Reflection_Reflection, {
    role: thumbRole
  })), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(BaseSlider.thumbBottom, semanticClassNamesThumb.shadow.interactive)
  })));
};

const Steps = ({
  values,
  show,
  onClick,
  stepClassName
}) => {
  return /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: show
  }, /*#__PURE__*/react.createElement("div", {
    className: BaseSlider.steps,
    onClick: onClick
  }, values.map((value, index, values) => index >= 1 && index < values.length - 1 ? /*#__PURE__*/react.createElement("div", {
    key: value,
    className: classnames_default()(BaseSlider.step, BaseSlider.stepBorder, stepClassName)
  }) : null), /*#__PURE__*/react.createElement("div", {
    className: BaseSlider.stepEnd
  })));
};
;// CONCATENATED MODULE: ./packages/ui/src/Slider/Slider.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Slider = ({"sliderTop":"yxs7_","sliderValue":"uA3Bt"});
;// CONCATENATED MODULE: ./packages/ui/src/Slider/Slider.tsx








const Slider_noop = () => {};

function Slider_Slider({
  onChange,
  value,
  disabled = false,
  gamepadIndex = 0,
  showSteps = false,
  unit = '',
  title = '',
  description = '',
  range = [0, 100],
  onFocusChanged = Slider_noop,
  wrapperRole = 'neutral',
  thumbRole,
  trackRole,
  trackOverlayRole
}) {
  const valueWrapped = (0,react_facet_src.useFacetWrap)(value);
  const showStepsWrapped = (0,react_facet_src.useFacetWrap)(showSteps);
  const unitWrapped = (0,react_facet_src.useFacetWrap)(unit);
  const titleWrapped = (0,react_facet_src.useFacetWrap)(title);
  const descriptionWrapped = (0,react_facet_src.useFacetWrap)(description);
  const disabledWrapped = (0,react_facet_src.useFacetWrap)(disabled);
  const rangeWrapped = (0,react_facet_src.useFacetWrap)(range);
  const {
    t
  } = useLocalization('Slider');
  const narrationContextText = (0,react_facet_src.useFacetMap)((title, description) => {
    return `${title} . ${description} . ${t('.narrationComponentType')}`;
  }, [t], [titleWrapped, descriptionWrapped]);
  const sliderValueText = (0,react_facet_src.useFacetMap)((value, unit) => `${value}${unit != null ? unit : ''}`, [], [valueWrapped, unitWrapped]);
  return /*#__PURE__*/react.createElement(NarrationContext, {
    text: narrationContextText
  }, /*#__PURE__*/react.createElement(Panel_Panel, {
    disabled: disabledWrapped,
    role: wrapperRole
  }, /*#__PURE__*/react.createElement("div", {
    className: Slider.sliderTop
  }, /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: (0,react_facet_src.useFacetMap)(title => Boolean(title), [], [titleWrapped])
  }, /*#__PURE__*/react.createElement(PanelLabel_PanelLabel, {
    disabled: disabledWrapped
  }, titleWrapped)), /*#__PURE__*/react.createElement(PanelLabel_PanelLabel, {
    className: Slider.sliderValue,
    disabled: disabledWrapped
  }, sliderValueText)), /*#__PURE__*/react.createElement(react_facet_src.Mount, {
    when: (0,react_facet_src.useFacetMap)(description => Boolean(description), [], [descriptionWrapped])
  }, /*#__PURE__*/react.createElement(PanelDescription_PanelDescription, null, descriptionWrapped)), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 2
  }), /*#__PURE__*/react.createElement(BaseSlider_BaseSlider, {
    value: valueWrapped,
    showSteps: showStepsWrapped,
    unit: unitWrapped,
    range: rangeWrapped,
    gamepad: {
      index: gamepadIndex
    },
    label: titleWrapped,
    onChange: onChange,
    onFocusChanged: onFocusChanged,
    disabled: disabledWrapped,
    thumbRole: thumbRole,
    trackRole: trackRole,
    trackOverlayRole: trackOverlayRole
  })));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/sliderNarration.tsx



function SliderNarration() {
  const [firstSlider, setFirstSlider] = (0,react.useState)(0);
  const [secondSlider, setSecondSlider] = (0,react.useState)(50);
  const [thirdSlider, setThirdSlider] = (0,react.useState)(25);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Slider_Slider, {
    onChange: setFirstSlider,
    title: "First",
    value: firstSlider
  }), /*#__PURE__*/react.createElement(Slider_Slider, {
    unit: "%",
    onChange: setSecondSlider,
    title: "Second",
    value: secondSlider
  }), /*#__PURE__*/react.createElement(Slider_Slider, {
    unit: "\xB0",
    onChange: setThirdSlider,
    title: "Third",
    value: thirdSlider,
    range: [-100, 100]
  }));
}

const sliderNarration = [{
  element: /*#__PURE__*/react.createElement(SliderNarration, null),
  description: `This is a test mostly for visual navigation, doesn't work as expected with legacy navigation`
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/spritesheet.png
const spritesheet_namespaceObject = __webpack_require__.p + "assets/spritesheet-6f897.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/spritesheets.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const spritesheets = ({"scenarioWrapper":"rS122","scenarioContainer":"Gl55h","spritesheet":"GfTTG","spritesheetImage":"_A9f4","spritesheetAnimation":"FZonh","spritesheetPositionImage":"SX6DD","spritesheetPositionAnimation":"Rv9L9","spritesheetBg":"jihd6","spritesheetBgAnimation":"qb4LN"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/spritesheets.tsx




const count = new Array(10).fill(0);

const ImgTransformAnimation = () => {
  return /*#__PURE__*/react.createElement("div", {
    className: spritesheets.spritesheet
  }, /*#__PURE__*/react.createElement("img", {
    src: spritesheet_namespaceObject,
    className: spritesheets.spritesheetImage
  }));
};

const MultiImgTransformAnimation = () => {
  return /*#__PURE__*/react.createElement(react.Fragment, null, count.map((_, index) => /*#__PURE__*/react.createElement(ImgTransformAnimation, {
    key: index
  })));
};

const BackgroundPositionAnimation = () => /*#__PURE__*/react.createElement("div", {
  className: spritesheets.spritesheetBg,
  style: {
    backgroundImage: `url(${spritesheet_namespaceObject})`
  }
});

const MultiBackgroundPositionAnimation = () => /*#__PURE__*/react.createElement(react.Fragment, null, count.map((_, index) => /*#__PURE__*/react.createElement(BackgroundPositionAnimation, {
  key: index
})));

const PositionLeftAnimation = () => {
  return /*#__PURE__*/react.createElement("div", {
    className: spritesheets.spritesheet
  }, /*#__PURE__*/react.createElement("img", {
    src: spritesheet_namespaceObject,
    className: spritesheets.spritesheetPositionImage
  }));
};

const MultiPositionLeftAnimation = () => /*#__PURE__*/react.createElement(react.Fragment, null, count.map((_, index) => /*#__PURE__*/react.createElement(PositionLeftAnimation, {
  key: index
})));

const Idle = () => null;

const spritesheets_scenarios = [
/**
 * Transform: translateX
 */
{
  title: '`transform` an image',
  description: 'Uses an @keyframes animation to translateX an img element.',
  element: ImgTransformAnimation
}, {
  title: 'multi `transform` images',
  description: 'Uses an @keyframes animation to translateX img elements.',
  element: MultiImgTransformAnimation
},
/**
 * Background position
 */
{
  title: 'backgroundPosition animation',
  description: 'Uses an @keyframes animation to update the background-position.',
  element: BackgroundPositionAnimation
}, {
  title: 'multi backgroundPosition animation',
  description: 'Uses an @keyframes animation to update the background-position.',
  element: MultiBackgroundPositionAnimation
},
/**
 * Position: left
 */
{
  title: 'position `left` animation',
  description: 'Uses an @keyframes animation to update the left property.',
  element: PositionLeftAnimation
}, {
  title: 'multi position `left` animation',
  description: 'Uses an @keyframes animation to update the left property.',
  element: MultiPositionLeftAnimation
}, {
  title: 'Idle',
  description: 'For testing the base timings',
  element: Idle
}];

function SpritesheetScenario() {
  const [scenarioIndex, setScenarioIndex] = (0,react.useState)(0);
  const scenario = spritesheets_scenarios[scenarioIndex];
  return /*#__PURE__*/react.createElement("div", {
    className: spritesheets.scenarioWrapper
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    wideSize: 12,
    narrowSize: 8,
    gamepadIndex: 0,
    defaultFocusedChildBehavior: "grid"
  }, /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 8,
    narrowSize: 5
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header3",
    color: "white"
  }, scenario.title, " (", scenarioIndex + 1, " / ", spritesheets_scenarios.length, ")"), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    color: "grey"
  }, scenario.description)), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 4,
    narrowSize: 3
  }, /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: "Prev",
    onClick: () => setScenarioIndex(spritesheets_clampBounds(scenarioIndex - 1, spritesheets_scenarios))
  }, "Prev"), ' ', /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: "Next",
    onClick: () => setScenarioIndex(spritesheets_clampBounds(scenarioIndex + 1, spritesheets_scenarios))
  }, "Next")))), /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 2
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 12,
    narrowSize: 8
  }, /*#__PURE__*/react.createElement("div", {
    className: spritesheets.scenarioContainer
  }, /*#__PURE__*/react.createElement(scenario.element, null))))));
}

function spritesheets_clampBounds(index, array) {
  return Math.max(0, Math.min(index, array.length - 1));
}

const spritesheets_spritesheets = [{
  description: 'For testing the performance of different approaches to animating spritesheets.',
  element: /*#__PURE__*/react.createElement(SpritesheetScenario, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/svgBuffers.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const svgBuffers = ({"check":"YDBYU"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/check2.svg
const check2_namespaceObject = __webpack_require__.p + "assets/check2-6d9a4.svg";
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/svgBuffers.tsx




function Svg() {
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("p", {
    style: {
      fontSize: '16px',
      color: '#000'
    }
  }, "The purpose of this test screen is to see how Gameface handles SVGs. Before Gameface 1.4, Gameface created a separate vertex and index buffer per instance of an SVG instead of reusing one vertex and index buffer per SVG render."), /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  }), /*#__PURE__*/react.createElement("img", {
    src: check2_namespaceObject,
    className: svgBuffers.check
  })), "2");
}

const svgBuffers_svgBuffers = [{
  element: /*#__PURE__*/react.createElement(Svg, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/swapABOrXYButtons.tsx






const ShortcutsAndInputLegend = () => /*#__PURE__*/react.createElement(Row, {
  shouldSkipLandmarkInVisual: true,
  options: (0,react_facet_src.useFacetWrap)({
    index: 0
  })
}, /*#__PURE__*/react.createElement(Column, {
  shouldSkipLandmarkInVisual: true,
  options: (0,react_facet_src.useFacetWrap)({
    index: 0
  })
}, /*#__PURE__*/react.createElement(Row, {
  shouldSkipLandmarkInVisual: true,
  options: (0,react_facet_src.useFacetWrap)({
    index: 0
  })
}, /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
  options: {
    button: ButtonType.B,
    inputLegend: 'Original B'
  },
  onClick: () => {}
}), /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
  options: {
    button: ButtonType.Y,
    inputLegend: 'Original Y'
  },
  onClick: () => {}
}), /*#__PURE__*/react.createElement(ParentShortcut_ParentShortcut, {
  options: {
    button: ButtonType.X,
    inputLegend: 'Original X'
  },
  onClick: () => {}
}), /*#__PURE__*/react.createElement(Button_Button, {
  inputLegend: "Original A"
}, "Testing that is here")), /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 6
}), /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 6
}), /*#__PURE__*/react.createElement(Row, {
  shouldSkipLandmarkInVisual: true,
  options: (0,react_facet_src.useFacetWrap)({
    index: 1
  })
}, /*#__PURE__*/react.createElement("div", {
  style: {
    position: 'relative'
  }
}, /*#__PURE__*/react.createElement(InputLegend_InputLegend, {
  shouldDisplayKeyboard: true
})))));

const swapABOrXYButtons_Example = () => /*#__PURE__*/react.createElement(Column, {
  shouldSkipLandmarkInVisual: true,
  options: (0,react_facet_src.useFacetWrap)({
    index: 0
  })
}, /*#__PURE__*/react.createElement(Row, {
  shouldSkipLandmarkInVisual: true,
  options: (0,react_facet_src.useFacetWrap)({
    index: 0
  })
}, /*#__PURE__*/react.createElement(Typography_Typography, {
  color: "black",
  variant: "header3"
}, "Swapped AB and XY"), /*#__PURE__*/react.createElement(ButtonMapProvider, {
  value: {
    swapABButtons: true,
    swapXYButtons: true
  }
}, /*#__PURE__*/react.createElement(ShortcutsAndInputLegend, null))), /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 6
}), /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 6
}), /*#__PURE__*/react.createElement(Row, {
  shouldSkipLandmarkInVisual: true,
  options: (0,react_facet_src.useFacetWrap)({
    index: 1
  })
}, /*#__PURE__*/react.createElement(Typography_Typography, {
  color: "black",
  variant: "header3"
}, "Neither is swapped"), /*#__PURE__*/react.createElement(ButtonMapProvider, {
  value: {
    swapABButtons: false,
    swapXYButtons: false
  }
}, /*#__PURE__*/react.createElement(ShortcutsAndInputLegend, null))));

const swapABOrXYButtons = [{
  description: `Swap AB or XY buttons`,
  element: /*#__PURE__*/react.createElement(swapABOrXYButtons_Example, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/testScreens.tsx


function TestingHome() {
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("h1", null, "UI testing scenarios"));
}

const testScreens_testScreens = [{
  element: /*#__PURE__*/react.createElement(TestingHome, null),
  description: `Browse test screens to check Gameface (Hummingbird) compatibility with browser and engine features.
		`
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/text.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const css_text = ({"text":"fVERI","experiments":"PKub1","divSpan":"H592S","shadow":"VeoBu","color":"FRZAF","shadowBox":"xTvim","backgroundOpaque":"DTL6d","textbackgroundOpaque":"jV66y"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/textExperiments.tsx



function TextExperiments() {
  return /*#__PURE__*/react.createElement("div", {
    className: css_text.text
  }, ['', 'MinecraftSeven', 'MinecraftFive'].map(fontFamily => /*#__PURE__*/react.createElement("div", {
    key: fontFamily,
    className: css_text.experiments,
    style: {
      fontFamily: fontFamily
    }
  }, /*#__PURE__*/react.createElement("p", {
    style: {
      color: 'black'
    }
  }, "Nice Paragraph"), /*#__PURE__*/react.createElement("div", {
    key: css_text.divSpan,
    className: css_text.divSpan
  }, "This is a div with", /*#__PURE__*/react.createElement("span", null, " a span!! "), " Purrty"), /*#__PURE__*/react.createElement("div", {
    key: css_text.shadow,
    className: css_text.shadow
  }, "This div text has a shadow"), /*#__PURE__*/react.createElement("div", {
    key: css_text.color,
    className: css_text.color
  }, "Div with a colored text and background"), /*#__PURE__*/react.createElement("div", {
    key: css_text.shadowBox,
    className: css_text.shadowBox
  }, "Div with shadow box"), /*#__PURE__*/react.createElement("div", {
    key: css_text.backgroundOpaque,
    className: css_text.backgroundOpaque
  }, "Text on opaque background"), /*#__PURE__*/react.createElement("div", {
    key: css_text.textbackgroundOpaque,
    className: css_text.textbackgroundOpaque
  }, "Opaque text on opaque background"))));
}

const textExperiments = [{
  element: /*#__PURE__*/react.createElement(TextExperiments, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/textField.tsx
function textField_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function textField_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { textField_ownKeys(Object(source), true).forEach(function (key) { textField_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { textField_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function textField_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





const StatefulTextField = props => {
  const [state, setState] = (0,react.useState)('');

  const newProps = textField_objectSpread({
    gamepadIndex: 0,
    value: state,
    onChange: setState,
    label: ''
  }, props);

  return /*#__PURE__*/react.createElement(TextField, newProps);
};

const textField_Padding = ({
  children
}) => /*#__PURE__*/react.createElement("div", {
  style: {
    padding: '4rem 4rem'
  }
}, children);

const InputChangeDisplayTextField = props => {
  const [textValue, setTextValue] = (0,react.useState)('');
  const [inputChange, setInputChange] = (0,react.useState)(createEmptyTextInputChange());
  const onChange = (0,react.useCallback)((newTextValue, inputChange) => {
    setTextValue(newTextValue);
    setInputChange(inputChange);
  }, []);

  const newProps = textField_objectSpread({
    value: textValue,
    onChange,
    gamepadIndex: 0,
    label: ''
  }, props);

  return /*#__PURE__*/react.createElement(Form, {
    gamepadIndex: 1
  }, /*#__PURE__*/react.createElement(TextField, newProps), /*#__PURE__*/react.createElement(textField_Padding, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs"
  }, "Added: '", inputChange.addedChars, "'"), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs"
  }, "Removed: '", inputChange.removedChars, "'"), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs"
  }, "Invalid: '", inputChange.invalidChars, "'"), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "paragraphs"
  }, "Index: ", inputChange.index)));
};

const textField = [{
  description: `Text field example`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, null)
}, {
  description: `With placeholder`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    placeholder: "Enter your name..."
  })
}, {
  description: `With max length (4)`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    maxLength: 4
  })
}, {
  description: `With label`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    label: "Label"
  })
}, {
  description: `With description`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    description: "Description"
  })
}, {
  description: `With both`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    label: "Label",
    description: "Description"
  })
}, {
  description: `Multiline with 4 rows`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    rows: 4
  })
}, {
  description: `Multiline with 8 rows`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    rows: 8
  })
}, {
  description: `Multiline with max length (4)`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    rows: 4,
    maxLength: 4
  })
}, {
  description: `With placeholder`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    rows: 4,
    placeholder: "Enter your name..."
  })
}, {
  description: `With label`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    rows: 4,
    label: "Label"
  })
}, {
  description: `With description`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    rows: 4,
    description: "Description"
  })
}, {
  description: `With both`,
  element: /*#__PURE__*/react.createElement(StatefulTextField, {
    rows: 4,
    label: "Label",
    description: "Description"
  })
}, {
  description: `Text Input Changes`,
  element: /*#__PURE__*/react.createElement(InputChangeDisplayTextField, null)
}, {
  description: `Text Input Changes Number Only`,
  element: /*#__PURE__*/react.createElement(InputChangeDisplayTextField, {
    isNumber: true
  })
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/newWorldStart.png
const newWorldStart_namespaceObject = __webpack_require__.p + "assets/newWorldStart-cac4b.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/textureCaching.tsx



 // This part implements the actual texture caching. We just store a reference
// to `Image`s that points to all images we might use on this screen, even if
// they are not in the DOM right now.

const texturesToCache = [newWorldStart_namespaceObject, newWorldEnd_namespaceObject];
const textureCache = [];
texturesToCache.forEach(texture => {
  const image = new Image();
  image.src = texture;
  textureCache.push(image);
});

function TextureCaching() {
  const [image, setImage] = (0,react.useState)(newWorldStart_namespaceObject);
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("p", {
    style: {
      fontSize: '16px',
      color: '#000'
    }
  }, "The prupose of this test screen is to see how Gameface handles removing and readding images to the DOM. Since we changed to handling the image loading by ourselves on the back-end, we lost the built in texture caching functionality in Gameface. Since implementing such a caching solution will be based on heuristics, it is easier and more appropriate to implement it on the front-end where knowledge of which images will be used and when is kept, locked up."), /*#__PURE__*/react.createElement("img", {
    src: image,
    style: {
      width: '100px',
      height: '100px'
    }
  }), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 1,
    inputLegend: "Swap",
    onClick: () => {
      if (image == newWorldStart_namespaceObject) {
        setImage(newWorldEnd_namespaceObject);
      } else {
        setImage(newWorldStart_namespaceObject);
      }
    }
  }, `Click here to swap image`));
}

const textureCaching = [{
  element: /*#__PURE__*/react.createElement(TextureCaching, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/textureFiltering.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const textureFiltering = ({"text":"t5GM1","imageWrapper":"ld8_C","image":"iOheM","pixelated":"jKjOW","backgroundPoint":"atvJi","backgroundLinear":"RaMy1"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/images/textureFiltering.png
const images_textureFiltering_namespaceObject = __webpack_require__.p + "assets/textureFiltering-d19ed.png";
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/textureFiltering.tsx






function TextureFiltering() {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("p", {
    className: textureFiltering.text
  }, "The images on the left should use point filtering (i.e. have sharp edges) and the images on the right should use linear filtering (i.e. be blurry)."), /*#__PURE__*/react.createElement("p", {
    className: textureFiltering.text
  }, "This test screen only works when running in the game."), /*#__PURE__*/react.createElement(Button_Button, {
    gamepadIndex: 0,
    inputLegend: false,
    onClick: () => {}
  }, "Focus me to be able to scroll"), /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("p", {
    className: textureFiltering.text
  }, "Hybrid (image src)"), /*#__PURE__*/react.createElement("div", {
    className: textureFiltering.imageWrapper
  }, /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(textureFiltering.image, textureFiltering.pixelated),
    src: images_textureFiltering_namespaceObject
  }), /*#__PURE__*/react.createElement("p", null, "CSS image-rendering: pixelated")), /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("img", {
    className: textureFiltering.image,
    src: images_textureFiltering_namespaceObject
  }), /*#__PURE__*/react.createElement("p", null, "No CSS or filtering"))), /*#__PURE__*/react.createElement("div", {
    className: textureFiltering.imageWrapper
  }, /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("img", {
    className: textureFiltering.image,
    src: `${images_textureFiltering_namespaceObject}?filtering=point`
  }), /*#__PURE__*/react.createElement("p", null, "?filtering=point")), /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("img", {
    className: textureFiltering.image,
    src: `${images_textureFiltering_namespaceObject}?filtering=linear`
  }), /*#__PURE__*/react.createElement("p", null, "?filtering=linear")))), /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("p", {
    className: textureFiltering.text
  }, "Pack"), /*#__PURE__*/react.createElement("div", {
    className: textureFiltering.imageWrapper
  }, /*#__PURE__*/react.createElement("img", {
    className: classnames_default()(textureFiltering.image, textureFiltering.pixelated),
    src: "pack://textures/entity/chest/normal.png"
  }), /*#__PURE__*/react.createElement("img", {
    className: textureFiltering.image,
    src: "pack://textures/entity/chest/normal.png"
  }))));
}

const textureFiltering_textureFiltering = [{
  element: /*#__PURE__*/react.createElement(TextureFiltering, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/wrapping.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const wrapping = ({"textureWrapping":"sPWYW","pic":"g2eqX","center":"g6nzf","repeatAll":"fBATA","repeatX":"BTxQx","repeatY":"HGXYt","repeatNone":"H5HZR"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/textureWrapping.tsx




function TextureWrapping() {
  return /*#__PURE__*/react.createElement("div", {
    className: wrapping.textureWrapping
  }, /*#__PURE__*/react.createElement("div", {
    className: wrapping.center
  }, /*#__PURE__*/react.createElement("span", null, "Repeat all"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(wrapping.pic, wrapping.repeatAll)
  })), /*#__PURE__*/react.createElement("div", {
    className: wrapping.center
  }, /*#__PURE__*/react.createElement("span", null, "Repeat X"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(wrapping.pic, wrapping.repeatX)
  })), /*#__PURE__*/react.createElement("div", {
    className: wrapping.center
  }, /*#__PURE__*/react.createElement("span", null, "Repeat Y"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(wrapping.pic, wrapping.repeatY)
  })), /*#__PURE__*/react.createElement("div", {
    className: wrapping.center
  }, /*#__PURE__*/react.createElement("span", null, "No Repeat"), /*#__PURE__*/react.createElement("div", {
    className: classnames_default()(wrapping.pic, wrapping.repeatNone)
  })));
}

const textureWrapping = [{
  element: /*#__PURE__*/react.createElement(TextureWrapping, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/textWrapping.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const textWrapping = ({"noTextWrapping":"qYGBN","textWrapping":"ajrH0"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/textWrapping.tsx




function TextWrapping() {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("p", {
    className: textWrapping.noTextWrapping
  }, "P tag without break word: \u8D2D\u4E70\u4E4B\u540E\u60A8\u53EF\u4EE5\u8BBF\u95EE iTunes \u8D26\u6237\uFF0C\u7BA1\u7406\u60A8\u7684\u8BA2\u9605\uFF0C\u5173\u95ED\u81EA\u52A8\u66F4\u65B0\u3002\u5982\u679C\u60A8\u5728\u8BA2\u9605\u6FC0\u6D3B\u540E\u53D6\u6D88"), /*#__PURE__*/react.createElement("p", {
    className: textWrapping.textWrapping
  }, "p tag with break-word: \u8D2D\u4E70\u4E4B\u540E\u60A8\u53EF\u4EE5\u8BBF\u95EE iTunes \u8D26\u6237\uFF0C\u7BA1\u7406\u60A8\u7684\u8BA2\u9605\uFF0C\u5173\u95ED\u81EA\u52A8\u66F4\u65B0\u3002\u5982\u679C\u60A8\u5728\u8BA2\u9605\u6FC0\u6D3B\u540E\u53D6\u6D88"), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    color: "black"
  }, "typography tag with variant body, with wrappable characters combinations separated by \"|\". Make sure all line wraps occur before or after \"|\": T\u3059\u3079\u3066 | \u306E | \u65E2\u77E5 | \u306E | \u6CD5\u5F8B | \u306B | \u3088\u308B | \u3068 | \u822A\u7A7A | \u306E | \u30DF\u30C4\u30D0\u30C1 | \u306F | \u4ED5\u65B9 | \u304C | \u306A\u3044 | \u98DB\u3076 | \u3053\u3068 | \u304C | \u3067\u304D\u308B | \u306F | \u305A | \u3067\u3059 | \u305D\u306E | \u7FFC | \u306F | \u5C0F\u3055\u3059\u304E\u3066 | \u624B | \u306B | \u5165\u308C\u308B | \u3053\u3068 | \u304C | \u3067\u304D | \u307E\u305B | \u3093 | \u305D\u306E | \u592A\u3063 | \u305F | \u5C0F\u3055 | \u306A | \u4F53 | \u306F | \u5730\u9762 | \u304B\u3089 | \u96E2\u308C | \u3066 | \u3044 | \u307E\u3059 | \u3082\u3061\u308D\u3093 | \u30DF\u30C4\u30D0\u30C1 | \u306F | \u3068 | \u306B\u304B\u304F | \u98DB\u3076 | \u30DF\u30C4\u30D0\u30C1 | \u306F | \u6C17 | \u306B | \u3057 | \u306A\u3044 | \u306E | \u3067 | \u4EBA\u9593 | \u304C | \u8003\u3048\u308B | \u3053\u3068 | \u306F | \u4E0D\u53EF\u80FD | \u3067\u3059 | \u9EC4\u8272 | \u9ED2\u9EC4 | \u8272\u9ED2 | \u9EC4\u8272 | \u9ED2\u9EC4 | \u8272\u9ED2 | \u3042 | \u9ED2 | \u3068 | \u9EC4\u8272 | \u5C11\u3057\u632F\u3063 | \u3066 | \u307F\u307E\u3057\u3087 | \u3046 | \u30D0\u30EA | \u671D\u98DF | \u306F | \u7528\u610F | \u3067\u304D | \u3066 | \u3044\u308B | \u8FEB\u308A\u6765\u308B | \u3061\u3087\u3063\u3068 | \u5F85\u3063 | \u3066 | \u3053\u3093 | \u306B\u3061 | \u306F | \u30D0\u30EA\u30A2\u30C0\u30E0\u30AA\u30A2\u30F3 | \u3053\u308C | \u304C | \u8D77\u3053\u3063 | \u3066 | \u3044\u308B | \u3068 | \u601D\u3044 | \u307E\u3059\u304B\u79C1 | \u306F | \u3067\u304D | \u307E\u305B | \u3093 | \u8FCE\u3048 | \u306B | \u884C\u304D | \u307E\u3059 | \u30B7\u30E3\u30D7 | \u306B | \u898B\u3048 | \u307E\u3059 | \u968E\u6BB5 | \u3092 | \u4F7F\u7528 | \u3057 | \u3066 | \u304F | \u3060\u3055\u3044 | \u3042 | \u306A\u305F | \u306E | \u304A | \u7236\u3055\u3093 | \u305D\u308C\u3089 | \u306E | \u305F\u3081 | \u306B | \u304B\u306A\u308A | \u306E | \u304A | \u91D1 | \u3092 | \u6255\u3063 | \u305F | \u3054\u3081\u3093 | \u79C1 | \u306F | \u8208\u596E | \u3057 | \u3066 | \u3044 | \u307E\u3059 | \u3053\u308C | \u304C | \u5352\u696D | \u751F | \u3067\u3059 | \u606F\u5B50 | \u3055\u3093 | \u79C1 | \u305F\u3061 | \u306F | \u3042 | \u306A\u305F | \u3092 | \u3068\u3066 | \u3082 | \u8A87\u308A | \u306B | \u601D\u3063 | \u3066 | \u3044 | \u307E\u3059"));
}

const textWrapping_textWrapping = [{
  element: /*#__PURE__*/react.createElement(TextWrapping, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/css/transitionPerformance.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const transitionPerformance = ({"scenarioWrapper":"UbzVv","container":"o4Izf","box":"s6tYv","smallBox":"_hEZ0","absolutePosition":"K_IkI","rectangle":"leKbH","animateBoxWidth":"gHZoL","widthAnimation":"wv2e7","animateBoxScaleX":"jyERc","scaleXAnimation":"mxRde","animateBoxOpacity":"qVrAY","opacityAnimation":"ZHKUD","animateBoxBackgroundOpacity":"yHdkI","backgroundOpacityAnimation":"oxIbN","animateLeft":"ZxRkK","leftAnimation":"iX9vh","animateTranslateX":"T7_rn","translateXAnimation":"pwfDW"});
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/transitionPerformance.tsx







const transitionPerformance_count = new Array(5).fill(0);

const Box = ({
  className = ''
}) => /*#__PURE__*/react.createElement("div", {
  className: `${transitionPerformance.box} ${className}`
});

const SmallBox = ({
  className = ''
}) => /*#__PURE__*/react.createElement("div", {
  className: `${transitionPerformance.smallBox} ${className}`
});

const WidthAnimation = ({
  className = ''
}) => /*#__PURE__*/react.createElement(Box, {
  className: `${transitionPerformance.animateBoxWidth} ${className}`
});

const MultiWidthAnimation = () => /*#__PURE__*/react.createElement(react.Fragment, null, transitionPerformance_count.map((_, index) => /*#__PURE__*/react.createElement(react.Fragment, {
  key: index
}, /*#__PURE__*/react.createElement(WidthAnimation, {
  key: index
}), /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 1,
  key: index + transitionPerformance_count.length
}))));

const ScaleXAnimation = () => /*#__PURE__*/react.createElement(Box, {
  className: transitionPerformance.animateBoxScaleX
});

const MultiScaleXAnimation = () => /*#__PURE__*/react.createElement(react.Fragment, null, transitionPerformance_count.map((_, index) => /*#__PURE__*/react.createElement(react.Fragment, {
  key: index
}, /*#__PURE__*/react.createElement(ScaleXAnimation, {
  key: index
}), /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 1,
  key: index + transitionPerformance_count.length
}))));

const OpacityAnimation = ({
  className = ''
}) => /*#__PURE__*/react.createElement(Box, {
  className: `${transitionPerformance.animateBoxOpacity} ${className}`
});

const MultiOpacityAnimation = () => /*#__PURE__*/react.createElement(react.Fragment, null, transitionPerformance_count.map((_, index) => /*#__PURE__*/react.createElement(react.Fragment, {
  key: index
}, /*#__PURE__*/react.createElement(OpacityAnimation, null), /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 1
}))));

const BackgroundOpacityAnimation = ({
  className = ''
}) => /*#__PURE__*/react.createElement(Box, {
  className: `${transitionPerformance.animateBoxBackgroundOpacity} ${className}`
});

const MultiBackgroundOpacityAnimation = () => /*#__PURE__*/react.createElement(react.Fragment, null, transitionPerformance_count.map((_, index) => /*#__PURE__*/react.createElement(react.Fragment, {
  key: index
}, /*#__PURE__*/react.createElement(BackgroundOpacityAnimation, null), /*#__PURE__*/react.createElement(Spacing_Spacing, {
  size: 1
}))));

const transitionPerformance_Idle = () => null;

const OpacityAnimationOverElement = () => /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ListItem_ListItem, {
  gamepadIndex: 0,
  defaultFocusedChildBehavior: "grid"
}, /*#__PURE__*/react.createElement(ListItem_ListItem.Action, {
  inputLegend: 'View',
  narrationText: false,
  onClick: () => {}
}, /*#__PURE__*/react.createElement(ListItem_ListItem.Cell, null, /*#__PURE__*/react.createElement(Image_Image_Image, {
  src: world_namespaceObject,
  className: transitionPerformance.rectangle
})), /*#__PURE__*/react.createElement(ListItem_ListItem.Main, null, /*#__PURE__*/react.createElement(Typography_Typography, {
  variant: "body",
  color: "white"
}, "Label"), /*#__PURE__*/react.createElement(Typography_Typography, {
  variant: "captionShort",
  color: "grey"
}, /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, "Description")))), /*#__PURE__*/react.createElement(ListItem_ListItem.AdditionalAction, {
  shortcut: ButtonType.X,
  narrationText: "",
  inputLegend: 'Fake Action',
  onClick: () => {}
}, /*#__PURE__*/react.createElement(Image_Image_Image, {
  src: world_namespaceObject,
  className: transitionPerformance.rectangle
}))), /*#__PURE__*/react.createElement(OpacityAnimation, {
  className: transitionPerformance.absolutePosition
}));

const BackgroundOpacityAnimationOverElement = () => /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(ListItem_ListItem, {
  gamepadIndex: 0,
  defaultFocusedChildBehavior: "grid"
}, /*#__PURE__*/react.createElement(ListItem_ListItem.Action, {
  inputLegend: 'View',
  narrationText: false,
  onClick: () => {}
}, /*#__PURE__*/react.createElement(ListItem_ListItem.Cell, null, /*#__PURE__*/react.createElement(Image_Image_Image, {
  src: world_namespaceObject,
  className: transitionPerformance.rectangle
})), /*#__PURE__*/react.createElement(ListItem_ListItem.Main, null, /*#__PURE__*/react.createElement(Typography_Typography, {
  variant: "body",
  color: "white"
}, "Label"), /*#__PURE__*/react.createElement(Typography_Typography, {
  variant: "captionShort",
  color: "grey"
}, /*#__PURE__*/react.createElement(EllipsisPrimitive_EllipsisPrimitive, null, "Description")))), /*#__PURE__*/react.createElement(ListItem_ListItem.AdditionalAction, {
  shortcut: ButtonType.X,
  narrationText: "",
  inputLegend: 'Fake Action',
  onClick: () => {}
}, /*#__PURE__*/react.createElement(Image_Image_Image, {
  src: world_namespaceObject,
  className: transitionPerformance.rectangle
}))), /*#__PURE__*/react.createElement(BackgroundOpacityAnimation, {
  className: transitionPerformance.absolutePosition
}));

const MoveLeftAnimation = () => /*#__PURE__*/react.createElement(SmallBox, {
  className: transitionPerformance.animateLeft
});

const TranslateXAnimation = () => /*#__PURE__*/react.createElement(SmallBox, {
  className: transitionPerformance.animateTranslateX
});

const transitionPerformance_scenarios = [
/**
 * width
 */
{
  title: 'width animation',
  description: 'Animates the width of an element',
  element: WidthAnimation
}, {
  title: 'multi width animation',
  description: 'Animates the width of multiple elements',
  element: MultiWidthAnimation
},
/**
 * scaleX
 */
{
  title: 'transform:scaleX animation',
  description: 'Animates the scaleX of an element',
  element: ScaleXAnimation
}, {
  title: 'transform:scaleX animation',
  description: 'Animates the scaleX of multiple elements',
  element: MultiScaleXAnimation
},
/**
 * Opacity
 */
{
  title: 'opacity animation',
  description: 'Animates the opacity of an element',
  element: OpacityAnimation
}, {
  title: 'multi opacity animation',
  description: 'Animates the opacity of multiple elements',
  element: MultiOpacityAnimation
}, {
  title: 'opacity over complex element',
  description: 'Animates the opacity of an element over another complex element',
  element: OpacityAnimationOverElement
},
/**
 * Background RGBA Opacity
 */
{
  title: 'background rgba opacity animation',
  description: 'Animates the background rgba of an element',
  element: BackgroundOpacityAnimation
}, {
  title: 'multi background rgba opacity animation',
  description: 'Animates the background rgba of multiple elements',
  element: MultiBackgroundOpacityAnimation
}, {
  title: 'background rgba opacity over complex element',
  description: 'Animates the background-color rgba opacity of an element over another complex element',
  element: BackgroundOpacityAnimationOverElement
},
/**
 * Move left
 */
{
  title: 'Move Left',
  description: 'Moves a box by its left property',
  element: MoveLeftAnimation
}, {
  title: 'translateX',
  description: 'Moves a box by transform:translateX property',
  element: TranslateXAnimation
},
/**
 * Idle
 */
{
  title: 'Idle',
  description: 'For testing the base timings',
  element: transitionPerformance_Idle
}];

function TransitionPerformanceScenario() {
  const [scenarioIndex, setScenarioIndex] = (0,react.useState)(0);
  const scenario = transitionPerformance_scenarios[scenarioIndex];
  return /*#__PURE__*/react.createElement("div", {
    className: transitionPerformance.scenarioWrapper
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    wideSize: 12,
    narrowSize: 8,
    gamepadIndex: 0,
    defaultFocusedChildBehavior: "grid"
  }, /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 8,
    narrowSize: 5
  }, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header3",
    color: "white"
  }, scenario.title, " (", scenarioIndex + 1, " / ", transitionPerformance_scenarios.length, ")"), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "body",
    color: "grey"
  }, scenario.description)), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 4,
    narrowSize: 3
  }, /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: "Prev",
    onClick: () => setScenarioIndex(transitionPerformance_clampBounds(scenarioIndex - 1, transitionPerformance_scenarios))
  }, "Prev"), ' ', /*#__PURE__*/react.createElement(Button_Button, {
    inputLegend: "Next",
    onClick: () => setScenarioIndex(transitionPerformance_clampBounds(scenarioIndex + 1, transitionPerformance_scenarios))
  }, "Next")))), /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 2
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 12,
    narrowSize: 8
  }, /*#__PURE__*/react.createElement("div", {
    className: transitionPerformance.container
  }, scenario.element({
    className: ''
  }))))));
}

const transitionPerformance_transitionPerformance = [{
  description: 'For testing the performance of various transitions',
  element: /*#__PURE__*/react.createElement(TransitionPerformanceScenario, null)
}];

function transitionPerformance_clampBounds(index, array) {
  return Math.max(0, Math.min(index, array.length - 1));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/translations.tsx



function Translations({
  translationKey,
  params
}) {
  const {
    t
  } = useLocalization('test');
  return /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'black'
    }
  }, t(translationKey, params));
}

const translations = [{
  description: 'Simple translation',
  element: /*#__PURE__*/react.createElement(Translations, {
    translationKey: ".menu.play"
  })
}, {
  description: 'Translation with parameter',
  element: /*#__PURE__*/react.createElement(Translations, {
    translationKey: ".portfolioScreen.page",
    params: ['Emelie']
  })
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/typographyLanguageDependentGlyphs.tsx



const TypographyLanguageDependentGlyphs = () => {
  return /*#__PURE__*/react.createElement("div", {
    style: {
      color: 'black'
    }
  }, /*#__PURE__*/react.createElement("p", null, "This page serves as a test page to test language dependent glyphs, in particular concerning Han unification.", ' '), /*#__PURE__*/react.createElement("p", null, "The following character (Unicode U+4ECA) should be using the correct variations for Simplified Chinese and Traditional Chinese."), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header1",
    color: "inherit"
  }, "\u4ECA"), /*#__PURE__*/react.createElement("p", null, "The following character (Unicode U+76F4) should be using the correct variations for Simplified and Traditional Chinese and Japanese."), /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header1",
    color: "inherit"
  }, "\u76F4"), /*#__PURE__*/react.createElement("p", null, "For a reference to how the characters should be rendered in each language, see https://en.wikipedia.org/wiki/Han_unification#Examples_of_language-dependent_glyphs."));
};

const typographyLanguageDependentGlyphs = [{
  description: `TypographyLanguageDependentGlyphs`,
  element: /*#__PURE__*/react.createElement(TypographyLanguageDependentGlyphs, null)
}];
// EXTERNAL MODULE: ./node_modules/ramda/src/splitEvery.js
var splitEvery = __webpack_require__(9241);
var splitEvery_default = /*#__PURE__*/__webpack_require__.n(splitEvery);
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/unicodeCharacters.tsx






const unicodeRanges = Array.from(Array(256).keys()).map(pageIndex => {
  const start = pageIndex * 256;
  const end = (pageIndex + 1) * 256 - 1;
  const range = {
    category: pageIndex,
    range: [start, end],
    hexrange: [start.toString(16), end.toString(16)]
  };
  return range;
});

const unicodeCharacters_noop = () => {};

const NOTO_WITH_FALLBACKS = 'Noto With All Fallbacks';
const availableFonts = ['Noto Sans', 'Minecraft Ten v2', 'Minecraft Seven v2', 'Minecraft Five v2', NOTO_WITH_FALLBACKS];

const Character = ({
  character,
  font,
  bold,
  italic
}) => /*#__PURE__*/react.createElement("div", {
  style: {
    color: 'gray',
    flexDirection: 'column',
    justifyContent: 'center',
    alignItems: 'center',
    width: '6rem',
    height: '6rem'
  }
}, /*#__PURE__*/react.createElement("div", {
  style: {
    fontFamily: font == NOTO_WITH_FALLBACKS ? '' : font,
    fontSize: '1.6rem',
    fontWeight: bold ? 'bold' : 'normal',
    fontStyle: italic ? 'italic' : 'normal'
  }
}, String.fromCharCode(character)), /*#__PURE__*/react.createElement("div", null, `0x${character.toString(16)}`));

const CharacterRow = ({
  gamepad,
  group,
  font,
  bold,
  italic
}) => {
  const ref = (0,react.useRef)(null);
  const {
    isFocused
  } = useFocus(gamepad, unicodeCharacters_noop, ref);
  return /*#__PURE__*/react.createElement("fast-div", {
    style: {
      flexDirection: 'row',
      border: (0,react_facet_src.useFacetMap)(focused => focused ? '1px solid green' : '1px solid transparent', [], [isFocused])
    },
    ref: ref
  }, group.map(character => /*#__PURE__*/react.createElement(Character, {
    key: `character-${character}`,
    font: font,
    bold: bold,
    italic: italic,
    character: character
  })));
};

const SelectedCharacters = ({
  range,
  font,
  bold,
  italic
}) => {
  const characters = [];

  for (let characterNumber = range.range[0]; characterNumber <= range.range[1]; characterNumber++) {
    characters.push(characterNumber);
  }

  return /*#__PURE__*/react.createElement("div", {
    style: {
      alignItems: 'flex-start'
    }
  }, splitEvery_default()(8, characters).map((group, index) => /*#__PURE__*/react.createElement(CharacterRow, {
    gamepad: {
      index: index
    },
    font: font,
    bold: bold,
    italic: italic,
    key: `group-${group[0]}`,
    group: group
  })));
};

const UnicodeContainer = () => {
  const [selectedRangeCategory, setRangeCategory] = (0,react.useState)(0);
  const [selectedFontIndex, setSelectedFontIndex] = (0,react.useState)(0);
  const [italicState, setItalicState] = (0,react.useState)(false);
  const [boldState, setBoldState] = (0,react.useState)(false);
  const selectedRange = unicodeRanges.find(range => range.category === selectedRangeCategory);
  const isNotoSans = availableFonts[selectedFontIndex] === 'Noto Sans';
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Typography_Typography, {
    variant: "header5A",
    color: "black"
  }, "Selected range: ", selectedRange.category, " [0x", selectedRange.hexrange[0], "-0x", selectedRange.hexrange[1], "]"), /*#__PURE__*/react.createElement(GamepadColumn_GamepadColumn, {
    gamepadIndex: 0,
    shouldSkipLandmarkInVisual: true
  }, /*#__PURE__*/react.createElement(SelectedCharacters, {
    key: `selected:selectedRange.category`,
    font: availableFonts[selectedFontIndex],
    range: selectedRange,
    bold: boldState,
    italic: italicState
  })), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 6
  }), /*#__PURE__*/react.createElement(Form, {
    gamepadIndex: 1
  }, /*#__PURE__*/react.createElement(Dropdown, {
    label: "Font",
    description: "Minecraft specific fonts will fallback missing glyphs to Noto Sans",
    gamepadIndex: 0,
    options: availableFonts.map((font, index) => ({
      label: font,
      value: index
    })),
    onChange: setSelectedFontIndex,
    value: selectedFontIndex
  }), /*#__PURE__*/react.createElement(Dropdown, {
    label: "Unicode character range",
    description: "For more information check http://www.unicode.org/charts/",
    gamepadIndex: 1,
    options: unicodeRanges.map(range => ({
      label: `${range.category} [0x${range.hexrange[0]}-0x${range.hexrange[1]}]`,
      value: range.category
    })),
    onChange: setRangeCategory,
    value: selectedRangeCategory
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    title: "Italic",
    description: "Only supported by Noto Sans (non-CJK)",
    disabled: !isNotoSans,
    value: isNotoSans && italicState,
    onChange: setItalicState,
    gamepad: {
      index: 2
    }
  }), /*#__PURE__*/react.createElement(Checkbox_Checkbox, {
    title: "Bold",
    description: "Only supported by Noto Sans (non-CJK)",
    disabled: !isNotoSans,
    value: isNotoSans && boldState,
    onChange: setBoldState,
    gamepad: {
      index: 3
    }
  })), /*#__PURE__*/react.createElement(Spacing_Spacing, {
    size: 7
  }));
};

const unicodeCharacters = [{
  element: /*#__PURE__*/react.createElement(UnicodeContainer, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/useMemoPropagation.tsx



const TestComponent = () => {
  const parentContainerRef = (0,react.useRef)(null);
  const childContainerRef = (0,react.useRef)(null);
  return /*#__PURE__*/react.createElement("div", {
    ref: parentContainerRef
  }, /*#__PURE__*/react.createElement(Landmark, {
    containerRef: parentContainerRef,
    alias: "parent"
  }, /*#__PURE__*/react.createElement("div", {
    ref: childContainerRef
  }, /*#__PURE__*/react.createElement(Landmark, {
    containerRef: childContainerRef,
    alias: "child"
  }))));
};

const useMemoPropagation = [{
  element: /*#__PURE__*/react.createElement(TestComponent, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/videos/block.webm
const block_namespaceObject = __webpack_require__.p + "assets/block-db6a2.webm";
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/videoPlayback.tsx



function VideoPlayback() {
  return /*#__PURE__*/react.createElement("div", null, /*#__PURE__*/react.createElement("video", {
    style: {
      border: '1px solid black'
    },
    src: block_namespaceObject,
    autoPlay: true,
    loop: true
  }), /*#__PURE__*/react.createElement("video", {
    style: {
      border: '1px solid black',
      width: '100px',
      height: '100px'
    },
    src: block_namespaceObject,
    autoPlay: true,
    loop: true
  }));
}

const videoPlayback = [{
  element: /*#__PURE__*/react.createElement(VideoPlayback, null)
}];
;// CONCATENATED MODULE: ./support/test-screens/main/src/tests/index.ts
function tests_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function tests_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { tests_ownKeys(Object(source), true).forEach(function (key) { tests_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { tests_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function tests_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


































































const testsExcludedInBrowser =  false ? 0 : {
  fontOutlines: fontOutlines_fontOutlines
};
const tests = tests_objectSpread({
  alpha: alpha_alpha,
  animationBgPosition: animationBgPosition,
  animationScaling: animationScaling,
  animationTranslation: animationTranslation,
  antiAliasing: antiAliasing_antiAliasing,
  bitmapFonts: bitmapFonts_bitmapFonts,
  buttons: buttons,
  collapsingContent: collapsingContent_collapsingContent,
  commonResourcePackImage: commonResourcePackImage,
  componentSize: componentSize,
  cssVariables: cssVariables_cssVariables,
  dataBindings: dataBindings,
  debugModal: debugModal,
  dragAndDrop: dragAndDrop_dragAndDrop,
  dynamicFacets: dynamicFacets,
  ellipsis: ellipsis_ellipsis,
  engineTrigger: engineTrigger,
  error: error,
  facetObservableCleanup: facetObservableCleanup,
  facets: facets,
  fallbackFonts: fallbackFonts_fallbackFonts,
  filters: filters_filters,
  filterScaling: filterScaling_filterScaling,
  fontRendering: fontRendering,
  fontSize: fontSize,
  gamepadState: gamepadState,
  inputLegend: inputLegend,
  link: link_link,
  locale: locale,
  manyGlyphs: manyGlyphs,
  mixBlendMode: mixBlendMode_mixBlendMode,
  modalManager: modalManager,
  moreZAndAlpha: moreZAndAlpha,
  newImageEveryFrame: newImageEveryFrame,
  parentShortcuts: parentShortcuts,
  prompt: promptApi_prompt,
  pseudoClasses: pseudoClasses,
  rgba: rgba_rgba,
  rightToLeftText: rightToLeftText_rightToLeftText,
  scaledImages: scaledImages_scaledImages,
  screenPixelDensity: screenPixelDensity,
  screenReader: screenReader,
  shapeMasks: shapeMasks_shapeMasks,
  SierpinskiRendering: SierpinskiRendering,
  sliderNarration: sliderNarration,
  slowFastInteractions: slowFastInteractions,
  soundFacet: soundFacet_soundFacet,
  spritesheets: spritesheets_spritesheets,
  statefulFunctionBindings: statefulFunctionBindings,
  svgBuffers: svgBuffers_svgBuffers,
  swapABOrXYButtons: swapABOrXYButtons,
  testScreens: testScreens_testScreens,
  textExperiments: textExperiments,
  textField: textField,
  textureCaching: textureCaching,
  textureFiltering: textureFiltering_textureFiltering,
  textureWrapping: textureWrapping,
  textWrapping: textWrapping_textWrapping,
  transitionPerformance: transitionPerformance_transitionPerformance,
  translations: translations,
  typographyLanguageDependentGlyphs: typographyLanguageDependentGlyphs,
  unicodeCharacters: unicodeCharacters,
  useMemoPropagation: useMemoPropagation,
  videoPlayback: videoPlayback
}, testsExcludedInBrowser);
;// CONCATENATED MODULE: ./support/test-screens/main/src/functional-tests/screens/clickButton.tsx


function ClickButton() {
  const [text, setText] = (0,react.useState)('No button clicked');
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-1",
    inputLegend: '',
    gamepadIndex: 0,
    onClick: () => setText('Button 1 was clicked!')
  }, "Button 1"), /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-2",
    inputLegend: '',
    gamepadIndex: 1,
    onClick: () => setText('Button 2 was clicked!')
  }, "Button 2"), /*#__PURE__*/react.createElement("div", {
    "data-testid": "text-div"
  }, text));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/functional-tests/screens/keyboardNavigation.tsx


function KeyboardNavigation() {
  return /*#__PURE__*/react.createElement(GlassPane_GlassPane, null, /*#__PURE__*/react.createElement(Grid_Grid, null, /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 0
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-1",
    inputLegend: '',
    gamepadIndex: 0,
    gamepadAlias: "first",
    autofocus: true
  }, "Button 1")), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 1,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-2",
    inputLegend: '',
    gamepadIndex: 1
  }, "Button 2")), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 2,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-3",
    inputLegend: '',
    gamepadIndex: 2
  }, "Button 3"))), /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 1
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-4",
    inputLegend: '',
    gamepadIndex: 0
  }, "Button 4")), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 1,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-5",
    inputLegend: '',
    gamepadIndex: 1
  }, "Button 5")), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 2,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-6",
    inputLegend: '',
    gamepadIndex: 2
  }, "Button 6"))), /*#__PURE__*/react.createElement(Grid_Grid.Row, {
    gamepadIndex: 2
  }, /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 0,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-7",
    inputLegend: '',
    gamepadIndex: 0
  }, "Button 7")), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 1,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-8",
    inputLegend: '',
    gamepadIndex: 1
  }, "Button 8")), /*#__PURE__*/react.createElement(Grid_Grid.Column, {
    gamepadIndex: 2,
    wideSize: 2,
    narrowSize: 2
  }, /*#__PURE__*/react.createElement(Button_Button, {
    "data-testid": "button-9",
    inputLegend: '',
    gamepadIndex: 2
  }, "Button 9")))));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/functional-tests/screens/textInput.tsx


function TextInput() {
  const [text, setText] = (0,react.useState)('Empty');
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(BaseTextField_BaseTextField, {
    "data-testid": "text-field",
    value: "",
    onChange: setText,
    narrationText: "",
    label: "",
    onBlur: () => setText('Blurred'),
    onTab: () => setText('Tabbed'),
    onFocus: () => setText('Focused')
  }), /*#__PURE__*/react.createElement("div", {
    "data-testid": "text-div"
  }, text));
}
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/EditorGlobals.ts
const DEFAULT_FONT_SIZE = 2.0;
const DEFAULT_MIN_TOP = 2.8;
const DEFAULT_PANE_LEFT = 8;
const DEFAULT_PANE_TOP = 14;
const EDITOR_TOOL_ID = {
  Selection: 'EDITOR_TOOL_TYPE_SELECTION',
  Brush: 'EDITOR_TOOL_TYPE_BRUSH',
  Stamp: 'EDITOR_TOOL_TYPE_STAMP'
};
const EDITOR_PANE_WINDOW_DATA_SAVE_KEY = 'Editor.UISettings.Window.Data';
const EDITOR_UI_ZOOM_KEY = 'Editor.UISettings.SessionScaleModifier';
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/Actions/ActionTypes.js
/**
 * The types of actions that are supported. This type corresponds to the expected arguments
 * passed by the onExecute handler of an action.
 * @beta
 */
var ActionTypes_ActionTypes;
(function (ActionTypes) {
    ActionTypes["NoArgsAction"] = "NoArgsAction";
    ActionTypes["MouseRayCastAction"] = "MouseRayCastAction";
})(ActionTypes_ActionTypes || (ActionTypes_ActionTypes = {}));
//# sourceMappingURL=ActionTypes.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/Actions/ActionPrimitives.js
/**
 * Input devices
 * @beta
 */
var InputDevice;
(function (InputDevice) {
    InputDevice[InputDevice["Keyboard"] = 1] = "Keyboard";
    InputDevice[InputDevice["Mouse"] = 2] = "Mouse";
})(InputDevice || (InputDevice = {}));
/**
 * Input modifier flags to create chorded bindings
 * @beta
 */
var ActionPrimitives_InputModifier;
(function (InputModifier) {
    InputModifier[InputModifier["Unused"] = 0] = "Unused";
    InputModifier[InputModifier["None"] = 1] = "None";
    InputModifier[InputModifier["Alt"] = 2] = "Alt";
    InputModifier[InputModifier["Control"] = 4] = "Control";
    InputModifier[InputModifier["Shift"] = 8] = "Shift";
    InputModifier[InputModifier["Any"] = 15] = "Any";
})(ActionPrimitives_InputModifier || (ActionPrimitives_InputModifier = {}));
/**
 * Keyboard Key Actions
 * @beta
 */
var KeyInputType;
(function (KeyInputType) {
    KeyInputType[KeyInputType["Press"] = 1] = "Press";
    KeyInputType[KeyInputType["Release"] = 2] = "Release";
})(KeyInputType || (KeyInputType = {}));
/**
 * Mouse device action categories
 * @beta
 */
var MouseActionCategory;
(function (MouseActionCategory) {
    MouseActionCategory[MouseActionCategory["Button"] = 1] = "Button";
    MouseActionCategory[MouseActionCategory["Wheel"] = 2] = "Wheel";
    MouseActionCategory[MouseActionCategory["Drag"] = 3] = "Drag";
})(MouseActionCategory || (MouseActionCategory = {}));
/**
 * Detailed mouse device actions
 * @beta
 */
var MouseActionType;
(function (MouseActionType) {
    MouseActionType[MouseActionType["LeftButton"] = 1] = "LeftButton";
    MouseActionType[MouseActionType["MiddleButton"] = 2] = "MiddleButton";
    MouseActionType[MouseActionType["RightButton"] = 3] = "RightButton";
    MouseActionType[MouseActionType["Wheel"] = 4] = "Wheel";
})(MouseActionType || (MouseActionType = {}));
/**
 * Input event information about mouse actions
 * @beta
 */
var MouseInputType;
(function (MouseInputType) {
    MouseInputType[MouseInputType["ButtonDown"] = 1] = "ButtonDown";
    MouseInputType[MouseInputType["ButtonUp"] = 2] = "ButtonUp";
    MouseInputType[MouseInputType["WheelIn"] = 3] = "WheelIn";
    MouseInputType[MouseInputType["WheelOut"] = 4] = "WheelOut";
    MouseInputType[MouseInputType["DragStart"] = 5] = "DragStart";
    MouseInputType[MouseInputType["Drag"] = 6] = "Drag";
    MouseInputType[MouseInputType["DragEnd"] = 7] = "DragEnd";
})(MouseInputType || (MouseInputType = {}));
/**
 * Keyboard key
 * @beta
 */
var ActionPrimitives_KeyboardKey;
(function (KeyboardKey) {
    // Reference: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode#constants_for_keycode_value
    KeyboardKey[KeyboardKey["BACKSPACE"] = 8] = "BACKSPACE";
    KeyboardKey[KeyboardKey["TAB"] = 9] = "TAB";
    KeyboardKey[KeyboardKey["ENTER"] = 13] = "ENTER";
    KeyboardKey[KeyboardKey["SHIFT"] = 16] = "SHIFT";
    KeyboardKey[KeyboardKey["CTRL"] = 17] = "CTRL";
    KeyboardKey[KeyboardKey["ALT"] = 18] = "ALT";
    KeyboardKey[KeyboardKey["CAPS_LOCK"] = 20] = "CAPS_LOCK";
    KeyboardKey[KeyboardKey["ESCAPE"] = 27] = "ESCAPE";
    KeyboardKey[KeyboardKey["SPACE"] = 32] = "SPACE";
    KeyboardKey[KeyboardKey["PAGE_UP"] = 33] = "PAGE_UP";
    KeyboardKey[KeyboardKey["PAGE_DOWN"] = 34] = "PAGE_DOWN";
    KeyboardKey[KeyboardKey["END"] = 35] = "END";
    KeyboardKey[KeyboardKey["HOME"] = 36] = "HOME";
    KeyboardKey[KeyboardKey["LEFT"] = 37] = "LEFT";
    KeyboardKey[KeyboardKey["UP"] = 38] = "UP";
    KeyboardKey[KeyboardKey["RIGHT"] = 39] = "RIGHT";
    KeyboardKey[KeyboardKey["DOWN"] = 40] = "DOWN";
    KeyboardKey[KeyboardKey["PRINT_SCREEN"] = 44] = "PRINT_SCREEN";
    KeyboardKey[KeyboardKey["INSERT"] = 45] = "INSERT";
    KeyboardKey[KeyboardKey["DELETE"] = 46] = "DELETE";
    KeyboardKey[KeyboardKey["KEY_0"] = 48] = "KEY_0";
    KeyboardKey[KeyboardKey["KEY_1"] = 49] = "KEY_1";
    KeyboardKey[KeyboardKey["KEY_2"] = 50] = "KEY_2";
    KeyboardKey[KeyboardKey["KEY_3"] = 51] = "KEY_3";
    KeyboardKey[KeyboardKey["KEY_4"] = 52] = "KEY_4";
    KeyboardKey[KeyboardKey["KEY_5"] = 53] = "KEY_5";
    KeyboardKey[KeyboardKey["KEY_6"] = 54] = "KEY_6";
    KeyboardKey[KeyboardKey["KEY_7"] = 55] = "KEY_7";
    KeyboardKey[KeyboardKey["KEY_8"] = 56] = "KEY_8";
    KeyboardKey[KeyboardKey["KEY_9"] = 57] = "KEY_9";
    KeyboardKey[KeyboardKey["KEY_A"] = 65] = "KEY_A";
    KeyboardKey[KeyboardKey["KEY_B"] = 66] = "KEY_B";
    KeyboardKey[KeyboardKey["KEY_C"] = 67] = "KEY_C";
    KeyboardKey[KeyboardKey["KEY_D"] = 68] = "KEY_D";
    KeyboardKey[KeyboardKey["KEY_E"] = 69] = "KEY_E";
    KeyboardKey[KeyboardKey["KEY_F"] = 70] = "KEY_F";
    KeyboardKey[KeyboardKey["KEY_G"] = 71] = "KEY_G";
    KeyboardKey[KeyboardKey["KEY_H"] = 72] = "KEY_H";
    KeyboardKey[KeyboardKey["KEY_I"] = 73] = "KEY_I";
    KeyboardKey[KeyboardKey["KEY_J"] = 74] = "KEY_J";
    KeyboardKey[KeyboardKey["KEY_K"] = 75] = "KEY_K";
    KeyboardKey[KeyboardKey["KEY_L"] = 76] = "KEY_L";
    KeyboardKey[KeyboardKey["KEY_M"] = 77] = "KEY_M";
    KeyboardKey[KeyboardKey["KEY_N"] = 78] = "KEY_N";
    KeyboardKey[KeyboardKey["KEY_O"] = 79] = "KEY_O";
    KeyboardKey[KeyboardKey["KEY_P"] = 80] = "KEY_P";
    KeyboardKey[KeyboardKey["KEY_Q"] = 81] = "KEY_Q";
    KeyboardKey[KeyboardKey["KEY_R"] = 82] = "KEY_R";
    KeyboardKey[KeyboardKey["KEY_S"] = 83] = "KEY_S";
    KeyboardKey[KeyboardKey["KEY_T"] = 84] = "KEY_T";
    KeyboardKey[KeyboardKey["KEY_U"] = 85] = "KEY_U";
    KeyboardKey[KeyboardKey["KEY_V"] = 86] = "KEY_V";
    KeyboardKey[KeyboardKey["KEY_W"] = 87] = "KEY_W";
    KeyboardKey[KeyboardKey["KEY_X"] = 88] = "KEY_X";
    KeyboardKey[KeyboardKey["KEY_Y"] = 89] = "KEY_Y";
    KeyboardKey[KeyboardKey["KEY_Z"] = 90] = "KEY_Z";
    KeyboardKey[KeyboardKey["NUMPAD_0"] = 96] = "NUMPAD_0";
    KeyboardKey[KeyboardKey["NUMPAD_1"] = 97] = "NUMPAD_1";
    KeyboardKey[KeyboardKey["NUMPAD_2"] = 98] = "NUMPAD_2";
    KeyboardKey[KeyboardKey["NUMPAD_3"] = 99] = "NUMPAD_3";
    KeyboardKey[KeyboardKey["NUMPAD_4"] = 100] = "NUMPAD_4";
    KeyboardKey[KeyboardKey["NUMPAD_5"] = 101] = "NUMPAD_5";
    KeyboardKey[KeyboardKey["NUMPAD_6"] = 102] = "NUMPAD_6";
    KeyboardKey[KeyboardKey["NUMPAD_7"] = 103] = "NUMPAD_7";
    KeyboardKey[KeyboardKey["NUMPAD_8"] = 104] = "NUMPAD_8";
    KeyboardKey[KeyboardKey["NUMPAD_9"] = 105] = "NUMPAD_9";
    KeyboardKey[KeyboardKey["NUMPAD_MULTIPLY"] = 106] = "NUMPAD_MULTIPLY";
    KeyboardKey[KeyboardKey["NUMPAD_ADD"] = 107] = "NUMPAD_ADD";
    KeyboardKey[KeyboardKey["NUMPAD_SEPARATOR"] = 108] = "NUMPAD_SEPARATOR";
    KeyboardKey[KeyboardKey["NUMPAD_SUBTRACT"] = 109] = "NUMPAD_SUBTRACT";
    KeyboardKey[KeyboardKey["NUMPAD_DECIMAL"] = 110] = "NUMPAD_DECIMAL";
    KeyboardKey[KeyboardKey["NUMPAD_DIVIDE"] = 111] = "NUMPAD_DIVIDE";
    KeyboardKey[KeyboardKey["F1"] = 112] = "F1";
    KeyboardKey[KeyboardKey["F2"] = 113] = "F2";
    KeyboardKey[KeyboardKey["F3"] = 114] = "F3";
    KeyboardKey[KeyboardKey["F4"] = 115] = "F4";
    KeyboardKey[KeyboardKey["F5"] = 116] = "F5";
    KeyboardKey[KeyboardKey["F6"] = 117] = "F6";
    KeyboardKey[KeyboardKey["F7"] = 118] = "F7";
    KeyboardKey[KeyboardKey["F8"] = 119] = "F8";
    KeyboardKey[KeyboardKey["F9"] = 120] = "F9";
    KeyboardKey[KeyboardKey["F10"] = 121] = "F10";
    KeyboardKey[KeyboardKey["F11"] = 122] = "F11";
    KeyboardKey[KeyboardKey["F12"] = 123] = "F12";
    KeyboardKey[KeyboardKey["COMMA"] = 188] = "COMMA";
    KeyboardKey[KeyboardKey["PERIOD"] = 190] = "PERIOD";
    KeyboardKey[KeyboardKey["SLASH"] = 191] = "SLASH";
    KeyboardKey[KeyboardKey["BACK_QUOTE"] = 192] = "BACK_QUOTE";
    KeyboardKey[KeyboardKey["BRACKET_OPEN"] = 219] = "BRACKET_OPEN";
    KeyboardKey[KeyboardKey["BACK_SLASH"] = 220] = "BACK_SLASH";
    KeyboardKey[KeyboardKey["BRACKET_CLOSE"] = 221] = "BRACKET_CLOSE";
    KeyboardKey[KeyboardKey["QUOTE"] = 222] = "QUOTE";
})(ActionPrimitives_KeyboardKey || (ActionPrimitives_KeyboardKey = {}));
//# sourceMappingURL=ActionPrimitives.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/Actions/index.js


//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ClientEvents/ClientActionEvents.js
/**
 * The set of events that may be sent by the client side UI pertaining to Actions
 * @beta
 */
var ClientActionEvents_ClientActionEventType;
(function (ClientActionEventType) {
    ClientActionEventType[ClientActionEventType["ActionExecute"] = 1] = "ActionExecute";
})(ClientActionEvents_ClientActionEventType || (ClientActionEvents_ClientActionEventType = {}));
//# sourceMappingURL=ClientActionEvents.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ClientEvents/ClientUXEvents.js
/**
 * The set of events that may be sent by the client side UX pertaining to Actions
 * @beta
 */
var ClientUXEvents_ClientUXEventPayloadTypes;
(function (ClientUXEventPayloadTypes) {
    ClientUXEventPayloadTypes[ClientUXEventPayloadTypes["UpdatePropertyPane"] = 1] = "UpdatePropertyPane";
    ClientUXEventPayloadTypes[ClientUXEventPayloadTypes["UpdateModalTool"] = 2] = "UpdateModalTool";
    ClientUXEventPayloadTypes[ClientUXEventPayloadTypes["PropertyPaneVisibilityChanged"] = 3] = "PropertyPaneVisibilityChanged";
})(ClientUXEvents_ClientUXEventPayloadTypes || (ClientUXEvents_ClientUXEventPayloadTypes = {}));
//# sourceMappingURL=ClientUXEvents.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ClientEvents/ClientLifecycleEvent.js
/**
 * The types of payloads that may be received for lifecycle events
 * @beta
 */
var EditorLifecycleEventsType;
(function (EditorLifecycleEventsType) {
    EditorLifecycleEventsType[EditorLifecycleEventsType["OnInitialize"] = 1] = "OnInitialize";
    EditorLifecycleEventsType[EditorLifecycleEventsType["OnTeardown"] = 2] = "OnTeardown";
})(EditorLifecycleEventsType || (EditorLifecycleEventsType = {}));
//# sourceMappingURL=ClientLifecycleEvent.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ClientEvents/index.js



//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ServerEvents/ServerActionEvents.js
/**
 * The set of events that may be sent by the server side UX pertaining to actions
 * @beta
 */
var ServerActionEvents_ServerActionEventType;
(function (ServerActionEventType) {
    /**
     * Sent to register a new action on the client
     */
    ServerActionEventType[ServerActionEventType["Register"] = 1] = "Register";
    /**
     * Sent to unregister an existing action on the client
     */
    ServerActionEventType[ServerActionEventType["Unregister"] = 2] = "Unregister";
    /**
     * Updates whether an action is enabled on the client. When an action is disabled,
     * the action execute event for that action will not be fired by the client.
     */
    ServerActionEventType[ServerActionEventType["UpdateEnablement"] = 3] = "UpdateEnablement";
})(ServerActionEvents_ServerActionEventType || (ServerActionEvents_ServerActionEventType = {}));
//# sourceMappingURL=ServerActionEvents.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ServerEvents/ServerInputBindingEvents.js
/**
 * The set of events that may be sent by the server side UX pertaining to actions
 * @beta
 */
var ServerInputBindingEventType;
(function (ServerInputBindingEventType) {
    /**
     * Sent to register a new keyboard binding
     */
    ServerInputBindingEventType[ServerInputBindingEventType["RegisterKeyboardBinding"] = 1] = "RegisterKeyboardBinding";
    /**
     * Sent to register a new mouse binding
     */
    ServerInputBindingEventType[ServerInputBindingEventType["RegisterMouseBinding"] = 2] = "RegisterMouseBinding";
    /**
     * Sent to unregister a new input binding
     */
    ServerInputBindingEventType[ServerInputBindingEventType["Unregister"] = 3] = "Unregister";
})(ServerInputBindingEventType || (ServerInputBindingEventType = {}));
//# sourceMappingURL=ServerInputBindingEvents.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ServerEvents/ServerUXEvents.js
/**
 * The set of events that may be sent by the server side UI pertaining to actions
 * @beta
 */
var ServerUXEvents_ServerUXEventType;
(function (ServerUXEventType) {
    /**
     * Used to update the pane on the client
     */
    ServerUXEventType[ServerUXEventType["UpdatePropertyPane"] = 1] = "UpdatePropertyPane";
    /**
     * Destroys the pane UI on the client
     */
    ServerUXEventType[ServerUXEventType["DestroyPropertyPane"] = 2] = "DestroyPropertyPane";
    /**
     * Used to update the menu on the client
     */
    ServerUXEventType[ServerUXEventType["UpdateMenu"] = 3] = "UpdateMenu";
    /**
     * Destroys the menu UX on the client
     */
    ServerUXEventType[ServerUXEventType["DestroyMenu"] = 4] = "DestroyMenu";
    /**
     * Used to update the status bar item on the client
     */
    ServerUXEventType[ServerUXEventType["UpdateStatusBarItem"] = 5] = "UpdateStatusBarItem";
    /**
     * Destroys the status bar item UX on the client
     */
    ServerUXEventType[ServerUXEventType["DestroyStatusBarItem"] = 6] = "DestroyStatusBarItem";
    /**
     * Used to update the modal tool option on the client
     */
    ServerUXEventType[ServerUXEventType["UpdateModalToolOption"] = 7] = "UpdateModalToolOption";
    /**
     * Destroys the modal tool option UX on the client
     */
    ServerUXEventType[ServerUXEventType["DestroyModalToolOption"] = 8] = "DestroyModalToolOption";
    /**
     * Used to update the modal tool container on the client
     */
    ServerUXEventType[ServerUXEventType["UpdateModalToolContainer"] = 9] = "UpdateModalToolContainer";
    /**
     * Destroys the modal tool container UX on the client
     */
    ServerUXEventType[ServerUXEventType["DestroyModalToolContainer"] = 10] = "DestroyModalToolContainer";
    /**
     * Event for binding a registered action to an existing UI element via it's ID
     */
    ServerUXEventType[ServerUXEventType["BindActionToControl"] = 11] = "BindActionToControl";
    /**
     * Remove the action binding from a given control
     */
    ServerUXEventType[ServerUXEventType["RemoveActionBindingFromControl"] = 12] = "RemoveActionBindingFromControl";
    /**
     * Used to update the property pane item on the client
     */
    ServerUXEventType[ServerUXEventType["UpdatePropertyItem"] = 13] = "UpdatePropertyItem";
    /**
     * Destroys the property pane item UI on the client
     */
    ServerUXEventType[ServerUXEventType["DestroyPropertyItem"] = 14] = "DestroyPropertyItem";
    /**
     * Navigates to a webpage or screen outside of the editor
     */
    ServerUXEventType[ServerUXEventType["OnNavigateFromEditor"] = 15] = "OnNavigateFromEditor";
    /**
     * Updates the visibility of a Control - deprecated - replaced by update client panel visibility
     */
    ServerUXEventType[ServerUXEventType["UpdateControlDemoVisibility_deprecated"] = 16] = "UpdateControlDemoVisibility_deprecated";
    /**
     * Updates the visibility of the Welcome Panel - deprecated - replaced by update client panel visibility
     */
    ServerUXEventType[ServerUXEventType["UpdateWelcomePanelVisibility_deprecated"] = 17] = "UpdateWelcomePanelVisibility_deprecated";
    /**
     * Updates the visibility of a Control
     */
    ServerUXEventType[ServerUXEventType["UpdateClientPanelVisibility"] = 18] = "UpdateClientPanelVisibility";
})(ServerUXEvents_ServerUXEventType || (ServerUXEvents_ServerUXEventType = {}));
//# sourceMappingURL=ServerUXEvents.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ServerEvents/ServerUXEventTypes.js
/**
 * Position for items on the status bar
 * @beta
 */
var EditorStatusBarAlignment;
(function (EditorStatusBarAlignment) {
    EditorStatusBarAlignment[EditorStatusBarAlignment["Right"] = 0] = "Right";
    EditorStatusBarAlignment[EditorStatusBarAlignment["Left"] = 1] = "Left";
})(EditorStatusBarAlignment || (EditorStatusBarAlignment = {}));
/**
 * Type of item that can be added to the property pane
 * @beta
 */
var EDITOR_PANE_PROPERTY_ITEM_TYPE;
(function (EDITOR_PANE_PROPERTY_ITEM_TYPE) {
    EDITOR_PANE_PROPERTY_ITEM_TYPE["Number"] = "editorUI:Number";
    EDITOR_PANE_PROPERTY_ITEM_TYPE["String"] = "editorUI:String";
    EDITOR_PANE_PROPERTY_ITEM_TYPE["Boolean"] = "editorUI:Boolean";
    EDITOR_PANE_PROPERTY_ITEM_TYPE["BlockPicker"] = "editorUI:BlockPicker";
    EDITOR_PANE_PROPERTY_ITEM_TYPE["Dropdown"] = "editorUI:Dropdown";
    EDITOR_PANE_PROPERTY_ITEM_TYPE["Divider"] = "editorUI:Divider";
    EDITOR_PANE_PROPERTY_ITEM_TYPE["SubPane"] = "editorUI:SubPane";
    EDITOR_PANE_PROPERTY_ITEM_TYPE["Action"] = "editorUI:Action";
    EDITOR_PANE_PROPERTY_ITEM_TYPE["Vec3"] = "editorUI:Vec3";
})(EDITOR_PANE_PROPERTY_ITEM_TYPE || (EDITOR_PANE_PROPERTY_ITEM_TYPE = {}));
/**
 * Screen and webpages navigated to from the editor
 * @beta
 */
var ServerUXEventTypes_OutOfEditorDestination;
(function (OutOfEditorDestination) {
    OutOfEditorDestination[OutOfEditorDestination["Documentation"] = 1] = "Documentation";
    OutOfEditorDestination[OutOfEditorDestination["Feedback"] = 2] = "Feedback";
    OutOfEditorDestination[OutOfEditorDestination["PauseScreen"] = 3] = "PauseScreen";
})(ServerUXEventTypes_OutOfEditorDestination || (ServerUXEventTypes_OutOfEditorDestination = {}));
/**
 * Client-controlled panels
 * @beta
 */
var ServerUXEventTypes_ClientPanel;
(function (ClientPanel) {
    ClientPanel[ClientPanel["ControlPanel"] = 1] = "ControlPanel";
    ClientPanel[ClientPanel["WelcomePanel"] = 2] = "WelcomePanel";
})(ServerUXEventTypes_ClientPanel || (ServerUXEventTypes_ClientPanel = {}));
//# sourceMappingURL=ServerUXEventTypes.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/ServerEvents/index.js




//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/EditorEventType.js
/**
 * Types of events that may be sent by the server to the client side UX. These events each have their own
 * independent set of payloads in the message that may have a wide set of types of operations. This allows messages to
 * be sent with an EventType and Payload, but with easy type safe deduction of the payload type leveraging
 * discriminated unions and type fields.
 * @beta
 */
var EditorEventType_EditorServerEventType;
(function (EditorServerEventType) {
    EditorServerEventType["ServerActionEvents"] = "Editor::ServerActionEvents";
    EditorServerEventType["ServerInputBindingEvents"] = "Editor::ServerInputBindingEvents";
    EditorServerEventType["ServerUXEvents"] = "Editor::ServerUXEvents";
})(EditorEventType_EditorServerEventType || (EditorEventType_EditorServerEventType = {}));
/**
 * Types of events that may be sent by the client to the server side extension. These events each have their own
 * independent set of payloads in the message that may have a wide set of types of operations. This allows messages to
 * be sent with an EventType and Payload, but with easy type safe deduction of the payload type leveraging
 * discriminated unions and type fields.
 * @beta
 */
var EditorEventType_EditorClientEventType;
(function (EditorClientEventType) {
    EditorClientEventType["ClientActionEvents"] = "Editor::ClientActionEvents";
    EditorClientEventType["ClientUXEvents"] = "Editor::ClientUXEvents";
    EditorClientEventType["ClientLifecycleEvents"] = "Editor::ClientLifecycle";
})(EditorEventType_EditorClientEventType || (EditorEventType_EditorClientEventType = {}));
//# sourceMappingURL=EditorEventType.js.map
;// CONCATENATED MODULE: ./node_modules/@minecraft/editor-events/lib/index.js




//# sourceMappingURL=index.js.map
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/EditorInputTypes.ts
// These are editor events that will be used for input mapping abstraction

let EDITOR_EVENT_ID;

(function (EDITOR_EVENT_ID) {
  EDITOR_EVENT_ID["TOGGLE_MODE"] = "event.toggleMode";
  EDITOR_EVENT_ID["FREE_LOOK_BEGIN"] = "event.freeLook.begin";
  EDITOR_EVENT_ID["FREE_LOOK_END"] = "event.freeLook.end";
  EDITOR_EVENT_ID["OPEN_CONSOLE"] = "event.openConsole";
})(EDITOR_EVENT_ID || (EDITOR_EVENT_ID = {}));

function getEditorInputModifierFromKeyStates(shift, ctrl, alt) {
  const modifier = (shift ? ActionPrimitives_InputModifier.Shift : 0) | (ctrl ? ActionPrimitives_InputModifier.Control : 0) | (alt ? ActionPrimitives_InputModifier.Alt : 0);
  return modifier == 0 ? ActionPrimitives_InputModifier.None : modifier;
}
function getEditorInputModifierNameList(modifier) {
  const bindingNameArray = [];

  if ((modifier & InputModifier.Control) == InputModifier.Control) {
    bindingNameArray.push(KeyboardKey[KeyboardKey.CTRL]);
  }

  if ((modifier & InputModifier.Shift) == InputModifier.Shift) {
    bindingNameArray.push(KeyboardKey[KeyboardKey.SHIFT]);
  }

  if ((modifier & InputModifier.Alt) == InputModifier.Alt) {
    bindingNameArray.push(KeyboardKey[KeyboardKey.ALT]);
  }

  return bindingNameArray;
}
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/EditorMessaging.ts

function EditorMessaging_onEditorEvent(eventId, callback) {
  return onEvent(eventId, payload => {
    const objectValue = JSON.parse(payload);
    callback(objectValue);
  });
}
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/EditorServerDrivenUIGlobals.ts
// TODO: This contract should be shared between client and server scripting layers.
// We also define these in EditorInputGlobals.h
let EDITOR_INPUT_CONTEXT_ID;

(function (EDITOR_INPUT_CONTEXT_ID) {
  EDITOR_INPUT_CONTEXT_ID["GLOBAL_EDITOR"] = "global.editor";
  EDITOR_INPUT_CONTEXT_ID["GLOBAL_TOOLMODE"] = "global.toolMode";
  EDITOR_INPUT_CONTEXT_ID["LOCAL_TOOLMODE_VIEWPORT"] = "local.toolMode.viewport";
})(EDITOR_INPUT_CONTEXT_ID || (EDITOR_INPUT_CONTEXT_ID = {}));

let EDITOR_PANE_DEFAULTS;

(function (EDITOR_PANE_DEFAULTS) {
  EDITOR_PANE_DEFAULTS[EDITOR_PANE_DEFAULTS["Width"] = 30] = "Width";
})(EDITOR_PANE_DEFAULTS || (EDITOR_PANE_DEFAULTS = {}));
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/EditorTypes.ts
let EditorMode;

(function (EditorMode) {
  EditorMode[EditorMode["Disabled"] = 0] = "Disabled";
  EditorMode[EditorMode["Tool"] = 1] = "Tool";
  EditorMode[EditorMode["Crosshair"] = 2] = "Crosshair";
})(EditorMode || (EditorMode = {}));

let EditorSelectionShape;

(function (EditorSelectionShape) {
  EditorSelectionShape[EditorSelectionShape["None"] = 0] = "None";
  EditorSelectionShape[EditorSelectionShape["Rectangle"] = 1] = "Rectangle";
  EditorSelectionShape[EditorSelectionShape["Square"] = 2] = "Square";
})(EditorSelectionShape || (EditorSelectionShape = {}));

let EditorOperatorType;

(function (EditorOperatorType) {
  EditorOperatorType[EditorOperatorType["None"] = 0] = "None";
  EditorOperatorType[EditorOperatorType["Create"] = 1] = "Create";
  EditorOperatorType[EditorOperatorType["Move"] = 2] = "Move";
  EditorOperatorType[EditorOperatorType["Resize"] = 3] = "Resize";
  EditorOperatorType[EditorOperatorType["Rotate"] = 4] = "Rotate";
  EditorOperatorType[EditorOperatorType["Stroke"] = 5] = "Stroke";
  EditorOperatorType[EditorOperatorType["Count"] = 6] = "Count";
})(EditorOperatorType || (EditorOperatorType = {}));

let EditorTheme;

(function (EditorTheme) {
  EditorTheme[EditorTheme["Dark"] = 0] = "Dark";
  EditorTheme[EditorTheme["Light"] = 1] = "Light";
  EditorTheme[EditorTheme["Redstone"] = 2] = "Redstone";
  EditorTheme[EditorTheme["HighContrast"] = 3] = "HighContrast";
})(EditorTheme || (EditorTheme = {}));

let EditorTooltipPosition;

(function (EditorTooltipPosition) {
  EditorTooltipPosition[EditorTooltipPosition["Top"] = 0] = "Top";
  EditorTooltipPosition[EditorTooltipPosition["TopStart"] = 1] = "TopStart";
  EditorTooltipPosition[EditorTooltipPosition["TopEnd"] = 2] = "TopEnd";
  EditorTooltipPosition[EditorTooltipPosition["Right"] = 3] = "Right";
  EditorTooltipPosition[EditorTooltipPosition["Bottom"] = 4] = "Bottom";
  EditorTooltipPosition[EditorTooltipPosition["BottomStart"] = 5] = "BottomStart";
  EditorTooltipPosition[EditorTooltipPosition["BottomEnd"] = 6] = "BottomEnd";
  EditorTooltipPosition[EditorTooltipPosition["Left"] = 7] = "Left";
})(EditorTooltipPosition || (EditorTooltipPosition = {}));
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/facets/editorFacet.ts


const EDITOR_FACET = 'vanilla.editor';
let ActionBarFlags;

(function (ActionBarFlags) {
  ActionBarFlags[ActionBarFlags["None"] = 0] = "None";
  ActionBarFlags[ActionBarFlags["Undo"] = 1] = "Undo";
  ActionBarFlags[ActionBarFlags["Redo"] = 2] = "Redo";
  ActionBarFlags[ActionBarFlags["Cut"] = 4] = "Cut";
  ActionBarFlags[ActionBarFlags["Copy"] = 8] = "Copy";
  ActionBarFlags[ActionBarFlags["Paste"] = 16] = "Paste";
  ActionBarFlags[ActionBarFlags["Players"] = 32] = "Players";
  ActionBarFlags[ActionBarFlags["Sessions"] = 64] = "Sessions";
})(ActionBarFlags || (ActionBarFlags = {}));

const editorFacet_editorFacet = (0,react_facet_src.sharedFacet)(EDITOR_FACET);
const actionBarFlags = (0,react_facet_src.sharedSelector)(facet => facet.actionFlags, [editorFacet_editorFacet]);
const currentEditorModeSelector = (0,react_facet_src.sharedSelector)(facet => facet.editorMode, [editorFacet_editorFacet]);
const isEditorToolboxModeSelector = (0,react_facet_src.sharedSelector)(facet => facet.editorMode == EditorMode.Tool, [editorFacet_editorFacet]);
const editorCanShowModeShortcutToastSelector = (0,react_facet_src.sharedSelector)(facet => facet.canShowModeShortcutToast, [editorFacet_editorFacet]);
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/facets/editorInputFacet.ts

const EDITOR_INPUT_FACET = 'vanilla.editorInput';
const editorInputFacet = (0,react_facet_src.sharedFacet)(EDITOR_INPUT_FACET);
const editorKeyBindingsSelector = (0,react_facet_src.sharedSelector)(facet => {
  const inputContextMap = {};
  facet.keyBindings.forEach(data => {
    !(data.contextId in inputContextMap) && (inputContextMap[data.contextId] = {});
    const keyMap = inputContextMap[data.contextId];
    !(data.key in keyMap) && (keyMap[data.key] = []);
    keyMap[data.key].push({
      event: data.eventId,
      modifier: data.modifier,
      inputType: data.inputType
    });
  });
  return inputContextMap;
}, [editorInputFacet]);
const editorMouseBindingsSelector = (0,react_facet_src.sharedSelector)(facet => {
  const inputContextMap = {};
  facet.mouseBindings.forEach(data => {
    !(data.contextId in inputContextMap) && (inputContextMap[data.contextId] = {});
    const mouseActionMap = inputContextMap[data.contextId];
    !(data.actionType in mouseActionMap) && (mouseActionMap[data.actionType] = []);
    mouseActionMap[data.actionType].push(data.eventId);
  });
  return inputContextMap;
}, [editorInputFacet]);
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/facets/editorScriptingFacet.ts

const EDITOR_SCRIPTING_FACET = 'vanilla.editorScripting';
const editorScriptingFacet_editorScriptingFacet = (0,react_facet_src.sharedFacet)(EDITOR_SCRIPTING_FACET);
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/facets/editorSelectionFacet.ts

const EDITOR_SELECTION_FACET = 'vanilla.editorSelectionFacet';
const editorSelectionFacet = (0,react_facet_src.sharedFacet)(EDITOR_SELECTION_FACET);
const selectionOrigin = (0,react_facet_src.sharedSelector)(facet => facet.origin, [editorSelectionFacet]);
const selectionSize = (0,react_facet_src.sharedSelector)(facet => facet.size, [editorSelectionFacet]);
const validSelection = (0,react_facet_src.sharedSelector)(facet => facet.isSelectionValid, [editorSelectionFacet]);
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/facets/editorSettingsFacet.ts


const EDITOR_SETTINGS_FACET = 'vanilla.editorSettings';
function editorSettingFacetDefaultData() {
  return {
    fontZoom: 125,
    theme: EditorTheme.Dark,
    isEditorMode: false,
    selectedTool: '',
    selectedOperator: EditorOperatorType.Create,
    getKey: () => {
      return '';
    },
    setKey: () => {},
    setKeys: () => {},
    hasKey: () => {
      return false;
    }
  };
}
const editorSettingsFacet_editorSettingsFacet = (0,react_facet_src.sharedFacet)(EDITOR_SETTINGS_FACET, editorSettingFacetDefaultData());
const editorIsEditorMode = (0,react_facet_src.sharedSelector)(facet => facet.isEditorMode, [editorSettingsFacet_editorSettingsFacet]);
const editorSelectedToolSelector = (0,react_facet_src.sharedSelector)(facet => facet.selectedTool, [editorSettingsFacet_editorSettingsFacet]);
const editorFontZoomSelector = (0,react_facet_src.sharedSelector)(facet => facet.fontZoom, [editorSettingsFacet_editorSettingsFacet]);
;// CONCATENATED MODULE: ./games/vanilla/engine-editor/src/index.ts











;// CONCATENATED MODULE: ./games/vanilla/ui-editor/src/components/EditorEventHandler/EditorEventHandler.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const EditorEventHandler = ({"eventHandler":"h4XKX"});
// EXTERNAL MODULE: ./node_modules/lodash.merge/index.js
var lodash_merge = __webpack_require__(2378);
;// CONCATENATED MODULE: ./games/vanilla/ui-editor/src/providers/EditorScriptDataStoreProvider/EditorScriptDataStoreProvider.tsx











const DOCUMENTATION_URL = 'https://aka.ms/LearnEditor';
const FEEDBACK_URL = 'https://aka.ms/GitHubEditor';
function initDefaultStoreData() {
  return {
    actionExecutionInfoMap: new Map(),
    controlToActionId: new Map(),
    menusState: [],
    statusBarState: [],
    toggleContainerState: {
      enabled: true,
      visible: true
    },
    toggleItemsState: [],
    propertyPanesMap: new Map()
  };
}
const editorScriptedActionExecutionInfoContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: new Map()
}));
const editorScriptedControlToActionIdContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: new Map()
}));
const editorScriptedMenuContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: []
}));
const editorScriptedStatusBarContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: []
}));
const editorScriptedToolContainerContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: {
    enabled: false,
    visible: false
  }
}));
const editorScriptedToolStatesContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: []
}));
const editorScriptedPropertyPanesContext = (0,react.createContext)((0,react_facet_src.createFacet)({
  initialValue: new Map()
}));
const useEditorScriptedActionExecutionInfo = () => (0,react.useContext)(editorScriptedActionExecutionInfoContext);
const useEditorScriptedControlToActionId = () => useContext(editorScriptedControlToActionIdContext);
const useEditorScriptedMenu = () => useContext(editorScriptedMenuContext);
const useEditorScriptedStatusBar = () => useContext(editorScriptedStatusBarContext);
const useEditorScriptedToolContainer = () => useContext(editorScriptedToolContainerContext);
const useEditorScriptedToolStates = () => useContext(editorScriptedToolStatesContext);
const useEditorScriptedPropertyPanes = () => useContext(editorScriptedPropertyPanesContext);

function addSubPanes(pane, propertyPanesMap) {
  if (pane.propertyItems != null) {
    for (const item of pane.propertyItems) {
      var _item$propertyItemOpt;

      if (((_item$propertyItemOpt = item.propertyItemOptions) === null || _item$propertyItemOpt === void 0 ? void 0 : _item$propertyItemOpt.pane) != null) {
        const subPane = item.propertyItemOptions.pane;

        if (propertyPanesMap.get(subPane.id) == null) {
          propertyPanesMap.set(subPane.id, subPane);
        }

        addSubPanes(subPane, propertyPanesMap);
      }
    }
  }
}

function removeDeletedItems(dest, source, propertyPanesMap) {
  for (let i = 0; i < dest.propertyItems.length; i++) {
    const destItem = dest.propertyItems[i];
    const sourceIndex = source.propertyItems.findIndex(sourceItem => sourceItem.id === destItem.id);

    if (sourceIndex === -1) {
      var _destItem$propertyIte;

      dest.propertyItems.splice(i--, 1);

      if ((_destItem$propertyIte = destItem.propertyItemOptions) !== null && _destItem$propertyIte !== void 0 && _destItem$propertyIte.pane) {
        propertyPanesMap.delete(destItem.propertyItemOptions.pane.id);
      }
    } else {
      var _destItem$propertyIte2, _source$propertyItems;

      const destSubPane = (_destItem$propertyIte2 = destItem.propertyItemOptions) === null || _destItem$propertyIte2 === void 0 ? void 0 : _destItem$propertyIte2.pane;
      const sourceSubPane = (_source$propertyItems = source.propertyItems[sourceIndex].propertyItemOptions) === null || _source$propertyItems === void 0 ? void 0 : _source$propertyItems.pane;

      if (destSubPane && sourceSubPane) {
        removeDeletedItems(destSubPane, sourceSubPane, propertyPanesMap);
      }
    }
  }
}

function EditorScriptDataStoreProvider({
  children,
  initialData = initDefaultStoreData()
}) {
  const {
    t: et
  } = useEditorLocalization();
  const selectedToolSetter = useSharedFacetPropSetter(editorSettingsFacet, 'selectedTool');
  const [actionExecutionInfoFacet, setActionExecutionInfoFacet] = useFacetState(initialData.actionExecutionInfoMap);
  const [controlToActionIdFacet, setControlToActionIdFacet] = useFacetState(initialData.controlToActionId);
  const [menuDataFacet, setMenuDataFacet] = useFacetState(initialData.menusState);
  const [statusBarDataFacet, setStatusBarDataFacet] = useFacetState(initialData.statusBarState);
  const [toolContainerFacet, setToolContainerFacet] = useFacetState(initialData.toggleContainerState);
  const [toolStatesFacet, setToolStatesFacet] = useFacetState(initialData.toggleItemsState);
  const [propertyPanesFacet, setPropertyPanesFacet] = useFacetState(initialData.propertyPanesMap); //#region Action Handling

  const handleRegisterPayload = useCallback(payload => {
    setActionExecutionInfoFacet(current => {
      if (current !== NO_VALUE) {
        current.set(payload.id, {
          actionType: payload.actionType
        });
      }

      return current;
    });
  }, [setActionExecutionInfoFacet]);
  const handleUnregisterPayload = useCallback(payload => {
    setActionExecutionInfoFacet(current => {
      if (current !== NO_VALUE) {
        current.delete(payload.id);
      }

      return current;
    });
  }, [setActionExecutionInfoFacet]);
  useEffect(() => {
    return onEditorEvent(EditorServerEventType.ServerActionEvents, payload => {
      switch (payload.type) {
        case ServerActionEventType.Register:
          {
            handleRegisterPayload(payload);
            break;
          }

        case ServerActionEventType.Unregister:
          {
            handleUnregisterPayload(payload);
            break;
          }

        case ServerActionEventType.UpdateEnablement:
          {
            break;
          }
      }
    });
  }, [handleRegisterPayload, handleUnregisterPayload]); //#endregion
  //#region UX Event Handling

  const onBindActionToControl = useCallback(payload => {
    setControlToActionIdFacet(current => {
      if (current != NO_VALUE) {
        let existing = current.get(payload.controlId);

        if (!existing) {
          existing = [];
          current.set(payload.controlId, existing);
        }

        existing.push(payload.actionId);
      }

      return current;
    });
  }, [setControlToActionIdFacet]);
  const destroyRemoteItem = useCallback((itemToDelete, predicate) => {
    if (itemToDelete == null) {
      return;
    }

    setPropertyPanesFacet(current => {
      if (current != NO_VALUE) {
        switch (itemToDelete.type) {
          case ServerUXEventType.DestroyPropertyPane:
            {
              current.delete(itemToDelete.id);
              break;
            }

          case ServerUXEventType.DestroyPropertyItem:
            {
              if (itemToDelete.type === ServerUXEventType.DestroyPropertyItem) {
                const pane = current.get(itemToDelete.paneId);

                if (pane != null) {
                  var _current$get;

                  const items = (_current$get = current.get(itemToDelete.paneId)) === null || _current$get === void 0 ? void 0 : _current$get.propertyItems;

                  if (items != null) {
                    pane.propertyItems = deleteRemoteItem(items, itemToDelete.id, predicate);
                    current.set(itemToDelete.paneId, pane);
                  }
                }
              }

              break;
            }
        }
      }

      return current;
    });
  }, [setPropertyPanesFacet]);
  const setActiveWindow = useFacetPropSetter(editorActiveWindowFacet, 'activeWindowId');
  const addOrUpdateStatusBar = useCallback((itemUpdate, filterPredicate) => {
    if (itemUpdate != null) {
      setStatusBarDataFacet(current => {
        if (current != NO_VALUE) {
          const updatedItems = [...current];
          const statusBarItem = {
            id: itemUpdate.id,
            alignment: itemUpdate.alignment,
            size: itemUpdate.size,
            enabled: itemUpdate.enabled,
            visible: itemUpdate.visible,
            text: itemUpdate.text
          };
          addOrUpdateItem(updatedItems, statusBarItem, filterPredicate);
          current = updatedItems;
        }

        return current;
      });
    }
  }, [setStatusBarDataFacet]);
  const destroyStatusBar = useCallback((itemToDelete, predicate) => {
    if (itemToDelete != null) {
      setStatusBarDataFacet(current => {
        if (current != NO_VALUE) {
          const items = current;
          current = deleteRemoteItem(items, itemToDelete.id, predicate);
        }

        return current;
      });
    }
  }, [setStatusBarDataFacet]);
  const addOrUpdateRemoteItem = useCallback((itemUpdate, filterPredicate) => {
    if (itemUpdate == null) {
      return;
    }

    setPropertyPanesFacet(current => {
      if (current != NO_VALUE) {
        switch (itemUpdate.type) {
          case ServerUXEventType.UpdatePropertyPane:
            {
              if (itemUpdate.type === ServerUXEventType.UpdatePropertyPane) {
                const propertyPanesMap = current;
                const updatedPaneData = {
                  id: itemUpdate.id,
                  parentPaneId: itemUpdate.parentPaneId,
                  visible: itemUpdate.visible,
                  titleStringId: itemUpdate.titleStringId,
                  titleAltText: itemUpdate.titleAltText,
                  propertyItems: itemUpdate.propertyItems,
                  width: itemUpdate.width
                };
                let pane = propertyPanesMap.get(updatedPaneData.id);

                if (pane != null) {
                  const previousVisibility = pane.visible;
                  merge(pane, updatedPaneData);
                  removeDeletedItems(pane, updatedPaneData, propertyPanesMap);

                  if (pane.parentPaneId == null && !previousVisibility && pane.visible) {
                    setActiveWindow(pane.id);
                  }
                } else {
                  propertyPanesMap.set(updatedPaneData.id, updatedPaneData);
                  pane = updatedPaneData;

                  if (pane.parentPaneId == null && pane.visible === true) {
                    setActiveWindow(pane.id);
                  }
                }

                addSubPanes(pane, propertyPanesMap);
              }

              break;
            }

          case ServerUXEventType.UpdatePropertyItem:
            {
              if (itemUpdate.type === ServerUXEventType.UpdatePropertyItem) {
                const updatedPropertyItem = {
                  paneId: itemUpdate.paneId,
                  id: itemUpdate.id,
                  property: itemUpdate.property,
                  typeName: itemUpdate.typeName,
                  propertyItemOptions: itemUpdate.propertyItemOptions,
                  enable: itemUpdate.enable,
                  visible: itemUpdate.visible,
                  value: itemUpdate.value
                };
                const pane = current.get(updatedPropertyItem.paneId);

                if (pane != null) {
                  const propertyItems = [...pane.propertyItems];
                  addOrUpdateItem(propertyItems, updatedPropertyItem, filterPredicate);
                  pane.propertyItems = propertyItems;
                }
              }

              break;
            }
        }
      }

      return current;
    });
  }, [setActiveWindow, setPropertyPanesFacet]);
  const onRemoveActionBinding = useCallback(payload => {
    setControlToActionIdFacet(current => {
      if (current != NO_VALUE) {
        const existing = current.get(payload.controlId);

        if (existing) {
          const toDeleteIndex = existing.findIndex(value => payload.actionId == value);

          if (toDeleteIndex) {
            existing.splice(toDeleteIndex, 1);
          }
        }
      }

      return current;
    });
  }, [setControlToActionIdFacet]);
  const handleDestroyMenuCallback = useCallback(menuUpdate => {
    setMenuDataFacet(current => {
      if (current != NO_VALUE) {
        const menus = current;
        let updatedMenu = [...menus];
        updatedMenu = deleteItem(updatedMenu, menuUpdate);
        current = updatedMenu;
      }

      return current;
    });
  }, [setMenuDataFacet]);
  const handleUpdateMenuCallback = React.useCallback(menuUpdate => {
    setMenuDataFacet(current => {
      if (current != NO_VALUE) {
        const menus = current;
        const updatedMenu = [...menus];
        const found = updateMenuItem(updatedMenu, menuUpdate);

        if (found === false) {
          const newItem = {
            id: menuUpdate.id,
            enabled: menuUpdate.enabled,
            name: menuUpdate.name,
            shortcut: menuUpdate.shortcut,
            visible: menuUpdate.visible,
            displayStringLocId: menuUpdate.displayStringLocId
          };
          updatedMenu.push(newItem);
        }

        current = updatedMenu;
      }

      return current;
    });
  }, [setMenuDataFacet]);
  const sendSelectedTool = useSendSelectedTool();
  const handleUpdateToggleContainerCallback = React.useCallback(itemUpdate => {
    setToolContainerFacet(current => {
      if (current != NO_VALUE) {
        const updatedState = {
          visible: itemUpdate.visible,
          enabled: itemUpdate.enabled,
          selectedOptionId: itemUpdate.selectedOptionId
        };
        current = updatedState;
      }

      return current;
    });

    if (itemUpdate.selectedOptionId != null) {
      sendSelectedTool(itemUpdate.selectedOptionId);
      selectedToolSetter(itemUpdate.selectedOptionId);
    }
  }, [setToolContainerFacet, selectedToolSetter, sendSelectedTool]);
  const handleUpdateToggleOptionCallback = React.useCallback(itemUpdate => {
    setToolStatesFacet(current => {
      if (current != NO_VALUE) {
        const updatedItems = [...current];
        addOrUpdateToggleOptionItem(updatedItems, itemUpdate, et);
        current = [...updatedItems];
      }

      return current;
    });
  }, [et, setToolStatesFacet]);
  const handleDestroyToggleOptionCallback = React.useCallback(itemToDelete => {
    setToolStatesFacet(current => {
      if (current != NO_VALUE) {
        const updatedItems = [...current];
        current = deleteToggleOptionItem(updatedItems, itemToDelete);
      }

      return current;
    });
  }, [setToolStatesFacet]);
  const handleOpenPauseMenu = useFacetCallback(facet => () => {
    facet.openPauseMenu();
  }, [], [useSharedFacet(editorFacet)]);
  const handleNavigateToDocumentation = useFacetCallback(facet => () => {
    facet.navigateUri(DOCUMENTATION_URL);
  }, [], [useSharedFacet(editorFacet)]);
  const handleNavigateToFeedback = useFacetCallback(facet => () => {
    facet.navigateUri(FEEDBACK_URL);
  }, [], [useSharedFacet(editorFacet)]);
  const {
    setEditorPersistance
  } = useEditorPersistanceContext();
  const controlDemoId = 'EditorUI.ControlDemo';
  const welcomePanelId = 'EditorUI.WelcomePanel'; // This file should more likely just track all state and expose as a facet rather than just action specific stuff

  useEffect(() => {
    return onEditorEvent(EditorServerEventType.ServerUXEvents, serverEvent => {
      switch (serverEvent.type) {
        case ServerUXEventType.BindActionToControl:
          {
            onBindActionToControl(serverEvent);
            break;
          }

        case ServerUXEventType.RemoveActionBindingFromControl:
          {
            onRemoveActionBinding(serverEvent);
            break;
          }

        case ServerUXEventType.UpdateMenu:
          {
            handleUpdateMenuCallback(serverEvent);
            break;
          }

        case ServerUXEventType.DestroyMenu:
          {
            handleDestroyMenuCallback(serverEvent);
            break;
          }

        case ServerUXEventType.UpdateStatusBarItem:
          {
            addOrUpdateStatusBar(serverEvent, (currentItem, updatedItem) => currentItem.id === updatedItem.id);
            break;
          }

        case ServerUXEventType.DestroyStatusBarItem:
          {
            destroyStatusBar(serverEvent, (currentItem, idToRemove) => currentItem.id !== idToRemove);
            break;
          }

        case ServerUXEventType.UpdateModalToolOption:
          {
            handleUpdateToggleOptionCallback(serverEvent);
            break;
          }

        case ServerUXEventType.DestroyModalToolOption:
          {
            handleDestroyToggleOptionCallback(serverEvent);
            break;
          }

        case ServerUXEventType.UpdateModalToolContainer:
          {
            handleUpdateToggleContainerCallback(serverEvent);
            break;
          }

        case ServerUXEventType.DestroyModalToolContainer:
          {
            break;
          }

        case ServerUXEventType.UpdatePropertyPane:
          {
            addOrUpdateRemoteItem(serverEvent, (currentItem, updatedItem) => currentItem.id === updatedItem.id);
            break;
          }

        case ServerUXEventType.DestroyPropertyPane:
          {
            destroyRemoteItem(serverEvent, (currentItem, idToRemove) => currentItem.id === idToRemove);
            break;
          }

        case ServerUXEventType.UpdatePropertyItem:
          {
            addOrUpdateRemoteItem(serverEvent, (currentItem, updatedItem) => currentItem.id === updatedItem.id);
            break;
          }

        case ServerUXEventType.DestroyPropertyItem:
          {
            destroyRemoteItem(serverEvent, (currentItem, idToRemove) => currentItem.id !== idToRemove);
            break;
          }

        case ServerUXEventType.OnNavigateFromEditor:
          {
            switch (serverEvent.destination) {
              case OutOfEditorDestination.PauseScreen:
                {
                  handleOpenPauseMenu();
                  break;
                }

              case OutOfEditorDestination.Documentation:
                {
                  handleNavigateToDocumentation();
                  break;
                }

              case OutOfEditorDestination.Feedback:
                {
                  handleNavigateToFeedback();
                  break;
                }
            }

            break;
          }

        case ServerUXEventType.UpdateClientPanelVisibility:
          {
            switch (serverEvent.panel) {
              case ClientPanel.ControlPanel:
                {
                  setWindowVisibility(setEditorPersistance, controlDemoId, serverEvent.visible);
                  break;
                }

              case ClientPanel.WelcomePanel:
                {
                  setWindowVisibility(setEditorPersistance, welcomePanelId, serverEvent.visible);
                  break;
                }
            }
          }
      }
    });
  }, [addOrUpdateRemoteItem, addOrUpdateStatusBar, destroyRemoteItem, destroyStatusBar, handleDestroyMenuCallback, handleDestroyToggleOptionCallback, handleNavigateToDocumentation, handleNavigateToFeedback, handleOpenPauseMenu, handleUpdateMenuCallback, handleUpdateToggleContainerCallback, handleUpdateToggleOptionCallback, onBindActionToControl, onRemoveActionBinding, setEditorPersistance]); //#endregion

  return /*#__PURE__*/React.createElement(editorScriptedActionExecutionInfoContext.Provider, {
    value: actionExecutionInfoFacet
  }, /*#__PURE__*/React.createElement(editorScriptedControlToActionIdContext.Provider, {
    value: controlToActionIdFacet
  }, /*#__PURE__*/React.createElement(editorScriptedStatusBarContext.Provider, {
    value: statusBarDataFacet
  }, /*#__PURE__*/React.createElement(editorScriptedMenuContext.Provider, {
    value: menuDataFacet
  }, /*#__PURE__*/React.createElement(editorScriptedToolContainerContext.Provider, {
    value: toolContainerFacet
  }, /*#__PURE__*/React.createElement(editorScriptedToolStatesContext.Provider, {
    value: toolStatesFacet
  }, /*#__PURE__*/React.createElement(editorScriptedPropertyPanesContext.Provider, {
    value: propertyPanesFacet
  }, children)))))));
}
;// CONCATENATED MODULE: ./games/vanilla/ui-editor/src/hooks/EditorScriptServerMessageHooks.tsx




// Hook used to tell the server about switching the current selected tool such as clicking on the tool rail (parameter to the callback is the id of the tool)
function EditorScriptServerMessageHooks_useSendSelectedTool() {
  return useFacetCallback(editorScriptingFacet => newValue => {
    const message = {
      type: ClientUXEventPayloadTypes.UpdateModalTool,
      id: newValue
    };
    editorScriptingFacet.sendMessage(EditorClientEventType.ClientUXEvents, JSON.stringify(message));
  }, [], [useSharedFacet(editorScriptingFacet)]);
} // Hook used to tell the server about a panel visibility changing such as clicking close on the panel (parameter to the callback is the new visibility)

function useSendPropertyPaneVisibilityChanged(pane) {
  return useFacetCallback((editorScriptingFacet, pane) => newValue => {
    const message = {
      id: pane.id,
      type: ClientUXEventPayloadTypes.PropertyPaneVisibilityChanged,
      visibility: newValue
    };
    editorScriptingFacet.sendMessage(EditorClientEventType.ClientUXEvents, JSON.stringify(message));
  }, [], [useSharedFacet(editorScriptingFacet), pane]);
} // Hook used to tell the server about a property changing on a pane
// Parameter to the hook is the new value of the property which depends on the data the property holds

function useSendUpdatePropertyPane() {
  return useFacetCallback(editorScriptingFacet => (item, newValue) => {
    const message = {
      type: ClientUXEventPayloadTypes.UpdatePropertyPane,
      paneId: item.paneId,
      property: item.property,
      newValue: newValue
    };
    editorScriptingFacet.sendMessage(EditorClientEventType.ClientUXEvents, JSON.stringify(message));
  }, [], [useSharedFacet(editorScriptingFacet)]);
} // Hook used to tell the server about a generic action such as a keypress
// Parameters to the callback are the action id such as the key and the optional execution info

function useSendNoArgsAction() {
  return useFacetCallback(editorScriptingFacet => (actionId, actionInfo) => {
    if ((actionInfo === null || actionInfo === void 0 ? void 0 : actionInfo.actionType) !== ActionTypes.NoArgsAction) {
      return;
    }

    const message = {
      type: ClientActionEventType.ActionExecute,
      id: actionId,
      payload: {
        type: ActionTypes.NoArgsAction
      }
    };
    editorScriptingFacet.sendMessage(EditorClientEventType.ClientActionEvents, JSON.stringify(message));
  }, [], [useSharedFacet(editorScriptingFacet)]);
}
function useSendActionMouseRayCast() {
  return useFacetCallback(editorScriptingFacet => (actionId, mouseProps, actionInfo) => {
    if ((actionInfo === null || actionInfo === void 0 ? void 0 : actionInfo.actionType) !== ActionTypes.MouseRayCastAction) {
      return;
    }

    const message = {
      type: ClientActionEventType.ActionExecute,
      id: actionId,
      payload: {
        type: ActionTypes.MouseRayCastAction,
        mouseRay: editorScriptingFacet.getMouseRayCastActionPayload(),
        mouseProps
      }
    };
    editorScriptingFacet.sendMessage(EditorClientEventType.ClientActionEvents, JSON.stringify(message));
  }, [], [useSharedFacet(editorScriptingFacet)]);
} // Hooks used to tell the server about actions returned in an object grouped together
// NoArgsAction is used for simple actions with no extra data, MouseRayCastAction contains extra info for the mouse ray and mouse properties.

const useExecuteScriptActionCallbacks = () => {
  const noArgsCallback = (0,react_facet_src.useFacetCallback)(editorScriptingFacet => (actionId, actionInfo) => {
    if (actionInfo.actionType !== ActionTypes_ActionTypes.NoArgsAction) {
      return;
    }

    const message = {
      type: ClientActionEvents_ClientActionEventType.ActionExecute,
      id: actionId,
      payload: {
        type: ActionTypes_ActionTypes.NoArgsAction
      }
    };
    editorScriptingFacet.sendMessage(EditorEventType_EditorClientEventType.ClientActionEvents, JSON.stringify(message));
  }, [], [(0,react_facet_src.useSharedFacet)(editorScriptingFacet_editorScriptingFacet)]);
  const mouseRayCastCallback = (0,react_facet_src.useFacetCallback)(editorScriptingFacet => (actionId, actionInfo, mouseProps) => {
    if (actionInfo.actionType !== ActionTypes_ActionTypes.MouseRayCastAction) {
      return;
    }

    const message = {
      type: ClientActionEvents_ClientActionEventType.ActionExecute,
      id: actionId,
      payload: {
        type: ActionTypes_ActionTypes.MouseRayCastAction,
        mouseRay: editorScriptingFacet.getMouseRayCastActionPayload(),
        mouseProps
      }
    };
    editorScriptingFacet.sendMessage(EditorEventType_EditorClientEventType.ClientActionEvents, JSON.stringify(message));
  }, [], [(0,react_facet_src.useSharedFacet)(editorScriptingFacet_editorScriptingFacet)]);
  const callbackList = (0,react.useMemo)(() => {
    return {
      noArgsCallback,
      mouseRayCastCallback
    };
  }, [mouseRayCastCallback, noArgsCallback]);
  return callbackList;
};
;// CONCATENATED MODULE: ./games/vanilla/ui-editor/src/hooks/useEditorKeyboardInput.tsx






function compareInputModifierMask(maskToCheck, activeMask) {
  return (// Only accept non-zero masks for comparison
    maskToCheck !== ActionPrimitives_InputModifier.Unused && ( // If we accept any modifier to be valid, we don't have to check the active modifiers
    maskToCheck === ActionPrimitives_InputModifier.Any || // Since we support "No modifiers or some modifiers" as a valid case, we have to handle that explicitly
    (maskToCheck & ActionPrimitives_InputModifier.None) === ActionPrimitives_InputModifier.None && ( // If there are no active modifiers, comparison should be valid
    activeMask === ActionPrimitives_InputModifier.None || // Otherwise we need to have the exact mask as active modifiers after removing "NONE" flag
    (maskToCheck & ~ActionPrimitives_InputModifier.None) === activeMask) || // Check if all modifiers match between both masks
    maskToCheck === activeMask)
  );
} // Find action callback from input binding

function useEditorKeyInputCallback(actionCallbacks) {
  const inputFacet = (0,react_facet_src.useSharedFacet)(editorInputFacet);
  const actionCallbacksFacet = (0,react_facet_src.useFacetWrap)(actionCallbacks); // First we check if we have a registered binding in engine
  // If not, we try the event registered on Ore UI side

  const invokeActionCallback = (0,react_facet_src.useFacetCallback)((input, callbacks) => chordedEvent => {
    if (input.invokeActionCallback(chordedEvent.event) === true) {
      return true;
    } else {
      const actionCallback = callbacks === null || callbacks === void 0 ? void 0 : callbacks.get(chordedEvent.event);

      if (actionCallback != null) {
        actionCallback();
        return true;
      }
    }

    return false;
  }, [], [inputFacet, actionCallbacksFacet]);
  const handleInputCallback = (0,react.useCallback)((events, modifierMask, inputType) => {
    let isHandled = false;
    events.forEach(chordedEvent => {
      if (chordedEvent.inputType === inputType && compareInputModifierMask(chordedEvent.modifier, modifierMask)) {
        isHandled = invokeActionCallback(chordedEvent) === true;
      }
    });
    return isHandled;
  }, [invokeActionCallback]);
  return handleInputCallback;
}

function useEditorKeyboardInput(contextId, hasKeyboardFocus, // These actions can be passed to the element to be fired when input bindings is handled for the specific EditorEvent
localActionCallbacks, // Keyboard focus object, if not provided key listeners will be added to window
ref, // Local input mapping for this input context
localMappingId) {
  const localMappingIdFacet = (0,react_facet_src.useFacetWrap)(localMappingId !== null && localMappingId !== void 0 ? localMappingId : ''); // These callback map will be updated from server events

  const scriptedActionMapFacet = useEditorScriptedActionExecutionInfo();
  const editorKeyBindingsFacet = (0,react_facet_src.useSharedFacet)(editorKeyBindingsSelector);
  const scriptCallbacks = useExecuteScriptActionCallbacks();
  const actionCallbacksFacet = (0,react_facet_src.useFacetMemo)((localCallbacks, scriptedActionMap) => {
    const actionExecutionInfoMap = localCallbacks !== null && localCallbacks !== void 0 ? localCallbacks : new Map();
    scriptedActionMap.forEach((value, key) => {
      if (value.actionType == ActionTypes_ActionTypes.NoArgsAction) {
        actionExecutionInfoMap.set(key, () => {
          var _scriptCallbacks$noAr;

          (_scriptCallbacks$noAr = scriptCallbacks.noArgsCallback) === null || _scriptCallbacks$noAr === void 0 ? void 0 : _scriptCallbacks$noAr.call(scriptCallbacks, key, value);
        });
      }
    });
    return actionExecutionInfoMap;
  }, [scriptCallbacks], [(0,react_facet_src.useFacetWrap)(localActionCallbacks), scriptedActionMapFacet]);
  const handleInputCallback = useEditorKeyInputCallback(actionCallbacksFacet);
  const hasKeyboardFocusFacet = (0,react_facet_src.useFacetWrap)(hasKeyboardFocus); // Key bindings directly bound to the keyboard focus context

  const contextKeyMapper = (0,react_facet_src.useFacetMap)(mapper => {
    const contextBindings = mapper[contextId];
    return contextBindings !== null && contextBindings !== void 0 ? contextBindings : {};
  }, [contextId], [editorKeyBindingsFacet]); // Key bindings for the context input mapping

  const localKeyMapper = (0,react_facet_src.useFacetMap)((id, mapper) => {
    const localBindings = mapper[id];
    return localBindings !== null && localBindings !== void 0 ? localBindings : {};
  }, [], [localMappingIdFacet, editorKeyBindingsFacet]);
  const handleKeyMappingCallback = (0,react_facet_src.useFacetCallback)((contextMapper, localMapper) => (key, modifierMask, inputType) => {
    let isHandled = false; // Handle local input bindings first if there is a valid local input mapping

    const localChordList = localMapper[key];

    if (localChordList != null) {
      isHandled = handleInputCallback(localChordList, modifierMask, inputType);
    } // If the input is not handled by local input mapping


    if (!isHandled) {
      const contextChordList = contextMapper[key];

      if (contextChordList != null) {
        isHandled = handleInputCallback(contextChordList, modifierMask, inputType);
      }
    }

    return isHandled;
  }, [handleInputCallback], [contextKeyMapper, localKeyMapper]);
  const handleKeyDown = (0,react.useCallback)(event => {
    if (!event.repeat) {
      if (event.keyCode == ActionPrimitives_KeyboardKey.ESCAPE) {
        var _ref$current;

        ref != null && ((_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.blur());
        return;
      }

      const modifierMask = getEditorInputModifierFromKeyStates(event.shiftKey, event.ctrlKey, event.altKey);
      const isHandled = handleKeyMappingCallback(event.keyCode, modifierMask, KeyInputType.Press);

      if (isHandled === true) {
        event.stopPropagation();
      }
    }
  }, [handleKeyMappingCallback, ref]);
  const handleKeyUp = (0,react.useCallback)(event => {
    const modifierMask = getEditorInputModifierFromKeyStates(event.shiftKey, event.ctrlKey, event.altKey);
    const isHandled = handleKeyMappingCallback(event.keyCode, modifierMask, KeyInputType.Release);

    if (isHandled === true) {
      event.stopPropagation();
    }
  }, [handleKeyMappingCallback]);
  const handleEscapeKey = (0,react.useCallback)((inputType, shiftDown, ctrlDown, altDown) => {
    const modifierMask = getEditorInputModifierFromKeyStates(shiftDown, ctrlDown, altDown);
    const isHandled = handleKeyMappingCallback(ActionPrimitives_KeyboardKey.ESCAPE, modifierMask, inputType);
    return isHandled;
  }, [handleKeyMappingCallback]);
  (0,react_facet_src.useFacetEffect)(hasKeyboardFocus => {
    const setup = () => {
      // We want to attach key events to the window if no element reference was provided
      if (ref == null) {
        addEventListener('keydown', handleKeyDown);
        addEventListener('keyup', handleKeyUp);
      } else {
        if (ref.current != null) {
          ref.current.addEventListener('keydown', handleKeyDown);
          ref.current.addEventListener('keyup', handleKeyUp);
        }
      }
    };

    const cleanup = () => {
      if (ref == null) {
        removeEventListener('keydown', handleKeyDown);
        removeEventListener('keyup', handleKeyUp);
      } else {
        if (ref.current != null) {
          ref.current.removeEventListener('keydown', handleKeyDown);
          ref.current.removeEventListener('keyup', handleKeyUp);
        }
      }
    };

    if (hasKeyboardFocus) {
      setup();
    } else {
      cleanup();
    }

    return () => {
      cleanup();
    };
  }, [handleKeyDown, handleKeyUp, ref], [hasKeyboardFocusFacet]);
  return handleEscapeKey;
}
;// CONCATENATED MODULE: ./games/vanilla/ui-editor/src/components/EditorEventHandler/EditorEventHandler.tsx











function getMouseActionFromMouseButton(button) {
  switch (button) {
    case types_MouseButton.Left:
      return MouseActionType.LeftButton;

    case types_MouseButton.Middle:
      return MouseActionType.MiddleButton;

    case types_MouseButton.Right:
      return MouseActionType.RightButton;
  }

  return null;
}

function isDraggableMouseButton(button) {
  return button === types_MouseButton.Left;
} // Interface for external actions to be executed on EditorEventHandler

function EditorEventHandler_EditorEventHandler({
  children,
  contextId,
  localMappingId = '',
  isInputEnabled = true,
  localActionCallbacks,
  onKeyboardFocusChanged,
  onHoverChanged,
  onMouseButtonAction,
  onMouseWheelAction,
  onMouseDrag,
  onMouseDelta,
  controlRef
}) {
  const ref = (0,react.useRef)(null);
  const actionCallbacksFacet = (0,react_facet_src.useFacetWrap)(localActionCallbacks);
  const isInputEnabledFacet = (0,react_facet_src.useFacetWrap)(isInputEnabled);
  const [hasKeyboardFocusFacet, setHasKeyboardFocusFacet] = (0,react_facet_src.useFacetState)(false);
  const mouseRef = (0,react.useRef)(new Set());
  const shouldSuppressDragEvents = (0,react.useRef)(false);
  const isDraggingRef = (0,react.useRef)(false);
  const localInputMappingIdFacet = (0,react_facet_src.useFacetWrap)(localMappingId);
  const scriptCallbacks = useExecuteScriptActionCallbacks();
  const scriptedActionMapFacet = useEditorScriptedActionExecutionInfo(); // Handle keyboard input based on keyboard focus

  const setFocusEnabled = (0,react_facet_src.useFacetCallback)(isInputEnabled => isFocusEnabled => {
    if (ref.current) {
      // Keyboard focus should only work when input is enabled
      if (isFocusEnabled && isInputEnabled) {
        // We have to set 'tabIndex' in order to enable keyboard focus
        ref.current.setAttribute('tabIndex', '0');
        ref.current.focus();
      } else {
        ref.current.blur();
      }
    }
  }, [], [isInputEnabledFacet]);
  const keyInputEnabledFacet = (0,react_facet_src.useFacetMap)((hasFocus, inputEnabled) => hasFocus && inputEnabled, [], [hasKeyboardFocusFacet, isInputEnabledFacet]);
  const handleEscapeKey = useEditorKeyboardInput(contextId, keyInputEnabledFacet, actionCallbacksFacet, ref, localInputMappingIdFacet);
  const mouseMapperFacet = (0,react_facet_src.useFacetMap)((mapper, mappingId) => {
    if (mappingId !== '') {
      // We use input mapping bindings if we have an input mapping defined
      const localBindings = mapper[mappingId];
      return localBindings !== null && localBindings !== void 0 ? localBindings : {};
    }

    const contextBindings = mapper[contextId];
    return contextBindings !== null && contextBindings !== void 0 ? contextBindings : {};
  }, [contextId], [(0,react_facet_src.useSharedFacet)(editorMouseBindingsSelector), localInputMappingIdFacet]); // Send scripted mouse message for registered events

  const handleMouseInputCallback = (0,react_facet_src.useFacetCallback)(actionExecutionInfoMap => (events, mouseAction, modifiers, inputType) => {
    const props = {
      mouseAction,
      modifiers,
      inputType
    };
    events.forEach(eventId => {
      const actionInfo = actionExecutionInfoMap.get(eventId);

      if (actionInfo) {
        var _scriptCallbacks$mous;

        (_scriptCallbacks$mous = scriptCallbacks.mouseRayCastCallback) === null || _scriptCallbacks$mous === void 0 ? void 0 : _scriptCallbacks$mous.call(scriptCallbacks, eventId, actionInfo, props);
      }
    });
  }, [scriptCallbacks], [scriptedActionMapFacet]); // Process mouse button event

  const handleMouseButtonAction = (0,react_facet_src.useFacetCallback)(mapper => (button, modifiers, inputType) => {
    const isHandled = onMouseButtonAction === null || onMouseButtonAction === void 0 ? void 0 : onMouseButtonAction(button, modifiers, inputType);

    if (isHandled === true) {
      if (isDraggableMouseButton(button)) {
        shouldSuppressDragEvents.current = true;
      }

      return;
    }

    const chordList = mapper[MouseActionCategory.Button];

    if (chordList != null) {
      const mouseAction = getMouseActionFromMouseButton(button);

      if (mouseAction != null) {
        handleMouseInputCallback(chordList, mouseAction, modifiers, inputType);
      }
    }
  }, [handleMouseInputCallback, onMouseButtonAction, shouldSuppressDragEvents], [mouseMapperFacet]);
  const handleMouseDragAction = (0,react_facet_src.useFacetCallback)(mapper => (modifiers, inputType) => {
    if (shouldSuppressDragEvents.current) {
      return;
    }

    onMouseDrag === null || onMouseDrag === void 0 ? void 0 : onMouseDrag(modifiers, inputType);
    const chordList = mapper[MouseActionCategory.Drag];

    if (chordList != null) {
      handleMouseInputCallback(chordList, MouseActionType.LeftButton, modifiers, inputType);
    }
  }, [handleMouseInputCallback, onMouseDrag, shouldSuppressDragEvents], [mouseMapperFacet]);
  const handleMouseDown = (0,react_facet_src.useFacetCallback)(hasFocus => event => {
    mouseRef.current.add(event.button);

    if (event.button === types_MouseButton.Back) {
      // Ore UI uses mouse back button as escape key so we have to handle that event here
      const isHandled = handleEscapeKey(KeyInputType.Press, event.shiftKey, event.ctrlKey, event.altKey);

      if (isHandled === true) {
        event.stopImmediatePropagation();
        return;
      }
    } else {
      if (!hasFocus) {
        setFocusEnabled(true);
      }
    }

    handleMouseButtonAction(event.button, {
      alt: event.altKey,
      ctrl: event.ctrlKey,
      shift: event.shiftKey
    }, MouseInputType.ButtonDown);
  }, [handleMouseButtonAction, handleEscapeKey, setFocusEnabled], [hasKeyboardFocusFacet]);
  const handleMouseUp = (0,react_facet_src.useFacetCallback)(hasFocus => event => {
    // Check if we handled press event for the button since we track release globally
    if (mouseRef.current.has(event.button) === true) {
      mouseRef.current.delete(event.button);

      if (event.button === types_MouseButton.Back) {
        const isHandled = handleEscapeKey(KeyInputType.Release, event.shiftKey, event.ctrlKey, event.altKey);

        if (isHandled === true) {
          event.stopImmediatePropagation();
          return;
        }

        if (hasFocus) {
          // We send escape key as back button, so we should stop propagation if we used it to disable focus
          setFocusEnabled(false);
          event.stopImmediatePropagation();
          return;
        }
      }

      const mouseModifiers = {
        alt: event.altKey,
        ctrl: event.ctrlKey,
        shift: event.shiftKey
      };

      if (isDraggableMouseButton(event.button)) {
        if (isDraggingRef.current) {
          isDraggingRef.current = false;

          if (shouldSuppressDragEvents.current) {
            shouldSuppressDragEvents.current = false;
          } else {
            handleMouseDragAction(mouseModifiers, MouseInputType.DragEnd);
          }
        }
      }

      handleMouseButtonAction(event.button, mouseModifiers, MouseInputType.ButtonUp);
    }
  }, [handleMouseButtonAction, handleEscapeKey, setFocusEnabled, handleMouseDragAction, shouldSuppressDragEvents], [hasKeyboardFocusFacet]);
  const handleMouseDelta = (0,react.useCallback)((dx, dy) => {
    onMouseDelta === null || onMouseDelta === void 0 ? void 0 : onMouseDelta(dx, dy);
  }, [onMouseDelta]);
  const handleMouseWheel = (0,react_facet_src.useFacetCallback)(mapper => event => {
    if (event.deltaY != 0) {
      const mouseModifiers = {
        alt: event.altKey,
        ctrl: event.ctrlKey,
        shift: event.shiftKey
      };
      const action = event.deltaY > 0 ? MouseInputType.WheelIn : MouseInputType.WheelOut;
      onMouseWheelAction === null || onMouseWheelAction === void 0 ? void 0 : onMouseWheelAction(mouseModifiers, action);
      const chordList = mapper[MouseActionCategory.Wheel];

      if (chordList != null) {
        handleMouseInputCallback(chordList, MouseActionType.Wheel, mouseModifiers, action);
      }
    }
  }, [handleMouseInputCallback, onMouseWheelAction], [mouseMapperFacet]);
  const handleMouseMove = (0,react.useCallback)(event => {
    // Mouse Drag on Left Click
    if (mouseRef.current.has(types_MouseButton.Left) === true) {
      const mouseModifiers = {
        alt: event.altKey,
        ctrl: event.ctrlKey,
        shift: event.shiftKey
      };

      if (isDraggingRef.current === false) {
        isDraggingRef.current = true;
        handleMouseDragAction(mouseModifiers, MouseInputType.DragStart);
      }

      handleMouseDragAction(mouseModifiers, MouseInputType.Drag);
    }
  }, [handleMouseDragAction]);
  (0,react_facet_src.useFacetEffect)(inputEnabled => {
    const setup = () => {
      if (!ref.current) return;
      engineWrapper_engine.on('core:mouse:delta', handleMouseDelta);
      ref.current.addEventListener('mousemove', handleMouseMove);
    };

    const cleanup = () => {
      if (!ref.current) return;
      engineWrapper_engine.off('core:mouse:delta', handleMouseDelta);
      ref.current.removeEventListener('mousemove', handleMouseMove);
    };

    if (inputEnabled) {
      setup();
    } else {
      cleanup();
    }

    return () => {
      cleanup();
    };
  }, [handleMouseWheel, handleMouseDelta, handleMouseMove], [keyInputEnabledFacet]);
  const handleFocus = (0,react.useCallback)(() => {
    onKeyboardFocusChanged === null || onKeyboardFocusChanged === void 0 ? void 0 : onKeyboardFocusChanged(true);
    setHasKeyboardFocusFacet(true);
  }, [onKeyboardFocusChanged, setHasKeyboardFocusFacet]);
  const handleBlur = (0,react.useCallback)(() => {
    if (ref.current) {
      ref.current.removeAttribute('tabIndex');
    }

    onKeyboardFocusChanged === null || onKeyboardFocusChanged === void 0 ? void 0 : onKeyboardFocusChanged(false);
    setHasKeyboardFocusFacet(false);
  }, [onKeyboardFocusChanged, setHasKeyboardFocusFacet]);
  (0,react.useEffect)(() => {
    if (controlRef != null && controlRef.current != null) {
      controlRef.current.setEnabled = setFocusEnabled;
    }
  }, [controlRef, setFocusEnabled]);
  (0,react_facet_src.useFacetEffect)(inputEnabled => {
    const handlerRef = ref.current;

    const setup = () => {
      if (handlerRef == null) return;
      handlerRef.addEventListener('mousedown', handleMouseDown); // We want to track release events even if the element is not hovered

      window.addEventListener('mouseup', handleMouseUp);
      handlerRef.addEventListener('wheel', handleMouseWheel);
    };

    const cleanup = () => {
      if (handlerRef == null) return;
      handlerRef.removeEventListener('mousedown', handleMouseDown);
      window.removeEventListener('mouseup', handleMouseUp);
      handlerRef.removeEventListener('wheel', handleMouseWheel);
    };

    if (inputEnabled) {
      setup();
    } else {
      cleanup();
    }

    return () => {
      cleanup();
    };
  }, [handleMouseDown, handleMouseUp, handleMouseWheel], [isInputEnabledFacet]);
  const handleMouseEnter = (0,react.useCallback)(() => {
    if (onHoverChanged != null) {
      onHoverChanged(true);
    }
  }, [onHoverChanged]);
  const handleMouseLeave = (0,react.useCallback)(() => {
    if (onHoverChanged != null) {
      onHoverChanged(false);
    }
  }, [onHoverChanged]);
  return /*#__PURE__*/react.createElement("fast-div", {
    ref: ref,
    className: EditorEventHandler.eventHandler,
    onFocus: handleFocus,
    onBlur: handleBlur,
    onMouseEnter: handleMouseEnter,
    onMouseLeave: handleMouseLeave
  }, children);
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/functional-tests/screens/editor/editorInput.tsx




const GLOBAL_INPUT_CONTEXT = 'global';
const LOCAL_INPUT_CONTEXT = 'local';
const TEST_ENABLE_FOCUS = 'testEvent.enableFocus';
const TEST_DISABLE_FOCUS = 'testEvent.disableFocus';
const TEST_ACTION_1 = 'testEvent.action1';
const TEST_ACTION_2 = 'testEvent.action2';
const TEST_ACTION_3 = 'testEvent.action3';
const TEST_STATE_DOWN = 'testEvent.stateDown';
const TEST_STATE_UP = 'testEvent.stateUp';
function EditorInput() {
  const [text, setText] = (0,react.useState)('');
  const globalActionMapping = new Map([[TEST_ACTION_1, () => setText('global:a1')], [TEST_ACTION_2, () => setText('global:a2')], [TEST_ACTION_3, () => setText('global:a3')], [TEST_ENABLE_FOCUS, () => eventHandlerControlRef.current.setEnabled(true)], [TEST_DISABLE_FOCUS, () => eventHandlerControlRef.current.setEnabled(false)]]);
  useEditorKeyboardInput(GLOBAL_INPUT_CONTEXT, (0,react_facet_src.useFacetWrap)(true), globalActionMapping);
  const eventHandlerControlRef = (0,react.useRef)({
    setEnabled: () => {}
  });
  const localActionMapping = new Map([[TEST_ACTION_1, () => setText('local:a1')], [TEST_ACTION_2, () => setText('local:a2')], [TEST_STATE_DOWN, () => setText('local:stateDown')], [TEST_STATE_UP, () => setText('local:stateUp')]]);

  const handleMouseDelta = () => {
    setText('local:delta');
  };

  const handleKeyboardFocusChange = isFocused => {
    if (isFocused) {
      setText('focus:gained');
    } else {
      setText('focus:lost');
    }
  };

  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(EditorEventHandler_EditorEventHandler, {
    contextId: LOCAL_INPUT_CONTEXT,
    localActionCallbacks: localActionMapping,
    onMouseDelta: handleMouseDelta,
    onKeyboardFocusChanged: handleKeyboardFocusChange,
    controlRef: eventHandlerControlRef
  }), /*#__PURE__*/react.createElement("div", {
    "data-testid": "text-div"
  }, text));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/functional-tests/index.ts




const functionalTests = {
  clickButton: ClickButton,
  keyboardNavigation: KeyboardNavigation,
  textInput: TextInput,
  editorInput: EditorInput
};
;// CONCATENATED MODULE: ./support/test-screens/main/src/functional-tests/useFunctionalTestApi.tsx





var InputMode;

(function (InputMode) {
  InputMode[InputMode["Undefined"] = 0] = "Undefined";
  InputMode[InputMode["Mouse"] = 1] = "Mouse";
  InputMode[InputMode["Touch"] = 2] = "Touch";
  InputMode[InputMode["GamePad"] = 3] = "GamePad";
  InputMode[InputMode["MotionController"] = 4] = "MotionController";
  InputMode[InputMode["Count"] = 5] = "Count";
})(InputMode || (InputMode = {}));

const inputModeInputMethodMap = new Map([[InputMode.Mouse, types_InputMethod.MOUSE], [InputMode.Touch, types_InputMethod.TOUCH], [InputMode.GamePad, types_InputMethod.GAMEPAD], [InputMode.MotionController, types_InputMethod.MOTION]]);

const getBoundingBox = element => {
  const bounds = element.getBoundingClientRect();
  return {
    x: bounds.x,
    y: bounds.y,
    width: bounds.width,
    height: bounds.height,
    __Type: 'core.BoundingBox'
  };
};

const getDomElement = testId => {
  var _element$textContent;

  const element = document.querySelector(`[data-testid="${testId}"]`);
  return element == null ? null : {
    testId,
    textContent: (_element$textContent = element.textContent) !== null && _element$textContent !== void 0 ? _element$textContent : '',
    bounds: getBoundingBox(element),
    __Type: 'core.DomElement'
  };
}; // Used to initialize the functional test API used on the backend side to
// be able to query the DOM for information to make test assertions on.
// Returns a ready status once the infrastructure is initialized.


function useFunctionalTestApi() {
  const api = (0,react.useContext)(GamepadAPIContext);
  const inputFacetRef = (0,react_facet_src.useFacetRef)((0,react_facet_src.useSharedFacet)(inputFacet));
  const [ready, setReady] = (0,react.useState)(false);
  const getFocusedElement = (0,react.useCallback)(() => {
    var _api$getCurrentFocusa, _api$getCurrentFocusa2, _api$getCurrentFocusa3;

    const testId = (_api$getCurrentFocusa = api.getCurrentFocusable()) === null || _api$getCurrentFocusa === void 0 ? void 0 : (_api$getCurrentFocusa2 = _api$getCurrentFocusa.ref) === null || _api$getCurrentFocusa2 === void 0 ? void 0 : (_api$getCurrentFocusa3 = _api$getCurrentFocusa2.current) === null || _api$getCurrentFocusa3 === void 0 ? void 0 : _api$getCurrentFocusa3.getAttribute('data-testid');
    return testId == null ? null : getDomElement(testId);
  }, [api]);
  (0,react.useEffect)(() => {
    const cleanupCallbacks = [onReturnValueEvent('core:test:getFocusedElement', getFocusedElement), onReturnValueEvent('core:test:getElement', getDomElement),
    /**
     * THIS IS NOT A PATTERN WE WANT TO REPLICATE IN THE FUTURE
     *
     * This was a custom event introduced to allow overriding the value of a shared facet.
     *
     * The pattern we want to promote in the future is to instead just have the shared
     * facet contain the "fake value" instead. The shared facet values are already controlled by
     * the engine.
     */
    onEvent_onEvent('core:test:setInputMode', inputMode => {
      const inputFacet = inputFacetRef.current;
      if (inputFacet == react_facet_src.NO_VALUE) return;
      const currentInputType = inputModeInputMethodMap.get(inputMode);

      if (currentInputType == null) {
        console.warn(`Unable to map input method: ${inputMode}`);
        return;
      }

      const overriddenInputFacet = {
        acceptInputFromAllControllers: inputFacet.acceptInputFromAllControllers,
        gameControllerId: inputFacet.gameControllerId,
        swapABButtons: inputFacet.swapABButtons,
        swapXYButtons: inputFacet.swapXYButtons,
        currentInputType: currentInputType
      }; // Trigger another engine event to simulate as if the InputFacet have changed
      // to the desired overwritten value.

      trigger(`facet:updated:${INPUT_FACET}`, overriddenInputFacet);
    })];
    setReady(true);
    return () => cleanupCallbacks.forEach(cb => cb());
  }, [api, getFocusedElement, inputFacetRef]);
  return ready;
}
;// CONCATENATED MODULE: ./packages/ui/src/Modal/ErrorModal.tsx





/**
 * This is a generic error modal that be passed as the errorComponent in the root <Application />
 */
function ErrorModal({
  errorMessage,
  onDismiss
}) {
  const {
    t
  } = useLocalization('ErrorModal');
  const title = t('.title');
  const goBack = t('.goBack');
  const goingBack = t('.goingBack');
  const content = errorMessage != null && errorMessage !== '' ? errorMessage : goingBack;
  const narration = `${title} . ${content}`;
  const showButtons = content !== goingBack;
  return /*#__PURE__*/react.createElement(Modal_Modal, null, /*#__PURE__*/react.createElement(Modal_Modal.Header, null, title), /*#__PURE__*/react.createElement(Modal_Modal.Content, null, /*#__PURE__*/react.createElement(Modal_Modal.Text, {
    gamepadIndex: 0,
    narrationText: narration
  }, content)), showButtons && /*#__PURE__*/react.createElement(Modal_Modal.Buttons, null, /*#__PURE__*/react.createElement(Button_Button, {
    variant: "primary",
    onClick: onDismiss,
    gamepadIndex: 0,
    autofocus: true,
    inputLegend: goBack
  }, goBack)));
}
;// CONCATENATED MODULE: ./support/test-screens/main/src/index.screen.tsx












const isUpperCase = character => {
  return character >= 'A' && character <= 'Z';
};

const toHumanFromCamel = camelCase => {
  const words = [];

  for (let i = 0; i < camelCase.length; i++) {
    if (i === 0) {
      words.push(camelCase[i].toUpperCase());
    } else {
      if (isUpperCase(camelCase[i])) {
        words.push(camelCase[i]);
      } else {
        words[words.length - 1] += camelCase[i];
      }
    }
  }

  return words.join(' ');
};

function loadAllScenariosFiles() {
  const result = [];

  for (const fileName in tests) {
    result.push({
      name: toHumanFromCamel(fileName),
      fileName,
      metadata: {
        library: 'testScreen',
        category: 'other'
      },
      scenarios: tests[fileName]
    });
  }

  return result;
}

const entries = loadAllScenariosFiles();

const getSelectedEntry = name => {
  const entry = entries.find(entry => entry.metadata != null && entry.metadata.library === 'testScreen' && entry.fileName === name);
  return entry || entries[0];
};

const PlaygroundRoute = () => {
  const {
    name
  } = useRouteParams();
  const historyAPI = useRouteHistory();
  const selectedEntry = getSelectedEntry(name);
  const goTo =  true ? historyAPI.replace : 0;
  return /*#__PURE__*/react.createElement(Playground_Playground, {
    entries: entries,
    selectedEntry: selectedEntry,
    onClickEntry: entry => goTo(`/tests/${entry.fileName}`),
    onClickClose: () => historyAPI.goBack(),
    onClickExternalLink: () => {},
    onClickFullScreen: () => {},
    onClickInternalLink: () => {}
  });
};

const FunctionalTestRoute = () => {
  const ready = useFunctionalTestApi();
  const {
    name
  } = useRouteParams();
  const Test = functionalTests[name]; // wait for the testing infrastructure to be ready before mounting the test

  return !ready ? null : /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(RenderTrackingEvent, {
    type: "contentful",
    renderingCompleted: true
  }), /*#__PURE__*/react.createElement(RenderTrackingEvent, {
    type: "meaningful",
    renderingCompleted: true
  }), /*#__PURE__*/react.createElement(Test, null));
};

const keyNames = object => Object.keys(object).map(key => ({
  name: key
})); // eslint-disable-next-line import/no-default-export


function index_screen_App() {
  return /*#__PURE__*/react.createElement(Application, {
    defaultRoute: "/tests",
    scope: ['in-game', 'out-of-game'],
    errorComponent: ErrorModal,
    semanticTokens: vanillaTokens
  }, /*#__PURE__*/react.createElement(Route_Route, {
    route: "/tests/:name?",
    component: PlaygroundRoute,
    knownEntries: keyNames(tests)
  }), /*#__PURE__*/react.createElement(Route_Route, {
    route: "/functional-tests/:name",
    component: FunctionalTestRoute,
    knownEntries: keyNames(functionalTests)
  }), /*#__PURE__*/react.createElement(Route_Route, {
    route: "/test-hud/modal",
    component: ModalTestRoute
  }), /*#__PURE__*/react.createElement(Route_Route, {
    route: "/test-hud",
    component: HudTestRoute,
    modes: ['hud']
  }), /*#__PURE__*/react.createElement(RedirectWrapper, {
    from: "/vanilla/test-hud/:modal",
    to: "/test-hud/:modal"
  }), /*#__PURE__*/react.createElement(RedirectWrapper, {
    from: "/vanilla/tests/:name",
    to: "/tests/:name"
  }), /*#__PURE__*/react.createElement(InputLegend_InputLegend, null));
}
render( /*#__PURE__*/react.createElement(index_screen_App, null), document.getElementById('root'));
})();

/******/ })()
;